# $schema: ./schemas/config.schema.json
# Server Configuration
SERVER_HOST="0.0.0.0"
SERVER_PORT="9642"
SERVER_WORKERS=4
SERVER_DEBUG=false
HTTPS_ENABLED=false
SSL_CERTFILE=""
SSL_KEYFILE=""

# App Settings
# For user-specific discussion files and SafeStore DBs
APP_DATA_DIR="data"
# Central SQLite DB for users and app settings. If you change this after the first run, you'll need to manually move your database.
DATABASE_URL="sqlite:///./data/app_main.db"
# For session/token use - CHANGE THIS to a long, random string for production
SECRET_KEY="a_very_secret_key_for_flask_sessions_or_jwt"
# How many minutes the access token stays alive (44640 = 1 month)
ACCESS_TOKEN_EXPIRES_MINUTES=44640
# Allow new users to register. Set to false to disable public registration.
ALLOW_NEW_REGISTRATIONS=true
# Registration mode: 'direct' for instant access, 'admin_approval' for manual activation.
REGISTRATION_MODE="admin_approval"
# Public domain or IP for generating accessible links. Auto-detects if empty.
PUBLIC_DOMAIN_NAME=""
# Cache directory for Hugging Face models, relative to APP_DATA_DIR
HUGGINGFACE_CACHE_DIR="huggingface_cache"
# IMPORTANT FOR WINDOWS USERS: Disable symlinks to prevent permission errors when not running as admin.
HF_HUB_ENABLE_SYMLINKS_EXPERIMENTAL="0"


# Initial Admin User (only used if no admin exists on first startup)
INITIAL_ADMIN_USERNAME="admin"
INITIAL_ADMIN_PASSWORD="admin"

# LoLLMs Client Defaults (used for bootstrapping the first LLM binding in the DB)
DEFAULT_BINDING_NAME="llamacpp"
DEFAULT_MODEL_NAME="llava-v1.6-mistral-7b.Q3_K_XS.gguf"

# SafeStore Defaults
CACHE_FOLDER="data/cache/safestore"
CHUNK_SIZE=2096
CHUNK_OVERLAP=150
# Default vectorizer for new users. Example: "st:all-MiniLM-L6-v2"
GLOBAL_DEFAULT_VECTORIZER="st:all-MiniLM-L6-v2"
# Global encryption key for user SafeStores. CHANGE THIS for production.
ENCRYPTION_KEY="my_super_secret_safe_store_key_CHANGE_ME"