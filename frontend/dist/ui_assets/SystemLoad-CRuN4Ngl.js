import{useAdminStore as f}from"./admin-DrWr55jq.js";import{c as v,r as h,o as k,I as w,g as a,d as o,f as s,A as p,k as g,p as y,J as S,ah as B,t as l,P as x,F as I,B as A,h as b}from"./index-Dja0BxAz.js";import{I as F}from"./AdminView-DzfhIjXN.js";import"./PageViewLayout-DdEMxUU6.js";import"./IconSquares2x2-DpNPvTbR.js";import"./IconGlobeAlt--Z3SaOv7.js";const j={class:"space-y-6"},L={class:"flex items-center justify-between"},N=["disabled"],P={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},R={class:"bg-white dark:bg-gray-800 p-5 rounded-xl shadow-sm border dark:border-gray-700"},T={class:"flex items-center mb-4 text-blue-600"},U={class:"space-y-4"},V={class:"flex justify-between text-sm mb-1"},C={class:"font-bold"},D={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5"},$={class:"grid grid-cols-2 gap-4 text-sm text-gray-600 dark:text-gray-400"},z={class:"font-mono"},G={class:"font-mono"},M={class:"flex items-center justify-between mb-4"},E={class:"flex items-center text-gray-700 dark:text-gray-200 min-w-0"},H=["title"],J={class:"flex gap-1 flex-shrink-0 ml-2"},q={key:0,class:"px-2 py-0.5 rounded bg-green-100 text-green-800 text-xs font-bold"},K={key:1,class:"px-2 py-0.5 rounded bg-purple-100 text-purple-800 text-xs font-bold"},O={class:"space-y-4"},Q={class:"flex justify-between text-sm mb-1"},W={class:"font-bold"},X={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5"},Y={class:"grid grid-cols-2 gap-4 text-sm text-gray-600 dark:text-gray-400"},Z={class:"font-mono"},ss={class:"font-mono"},ts={key:1,class:"text-center py-10 text-gray-500"},is={__name:"SystemLoad",setup(es){const _=f(),n=v(()=>_.systemStatus),d=h(!1);let c=null;async function u(){d.value=!0;try{await _.fetchSystemStatus()}finally{d.value=!1}}k(()=>{u(),c=setInterval(u,5e3)}),w(()=>{c&&clearInterval(c)});const i=r=>r?`${r.toFixed(1)} GB`:"0 GB",m=r=>r?`${r.toFixed(1)}%`:"0%";return(r,t)=>(o(),a("div",j,[s("div",L,[t[1]||(t[1]=s("h3",{class:"text-xl font-bold text-gray-900 dark:text-white"},"System Resources",-1)),s("button",{onClick:u,class:"btn btn-secondary btn-sm",disabled:d.value},[p(S,{class:y(["w-4 h-4 mr-2",{"animate-spin":d.value}])},null,8,["class"]),t[0]||(t[0]=g(" Refresh "))],8,N)]),n.value?(o(),a("div",P,[s("div",R,[s("div",T,[p(B,{class:"w-6 h-6 mr-2"}),t[2]||(t[2]=g()),t[3]||(t[3]=s("span",{class:"font-semibold"},"System RAM",-1))]),s("div",U,[s("div",null,[s("div",V,[t[4]||(t[4]=s("span",null,"Usage",-1)),s("span",C,l(m(n.value.cpu_ram_usage_percent)),1)]),s("div",D,[s("div",{class:"bg-blue-600 h-2.5 rounded-full transition-all duration-500",style:x({width:n.value.cpu_ram_usage_percent+"%"})},null,4)])]),s("div",$,[s("div",null,[t[5]||(t[5]=s("span",{class:"block text-xs uppercase text-gray-500"},"Used",-1)),s("span",z,l(i(n.value.cpu_ram_used_gb)),1)]),s("div",null,[t[6]||(t[6]=s("span",{class:"block text-xs uppercase text-gray-500"},"Total",-1)),s("span",G,l(i(n.value.cpu_ram_total_gb)),1)])])])]),(o(!0),a(I,null,A(n.value.disks,e=>(o(),a("div",{key:e.mount_point,class:y(["bg-white dark:bg-gray-800 p-5 rounded-xl shadow-sm border-l-4",{"border-green-500":e.is_app_disk,"border-purple-500":e.is_data_disk,"border-gray-300 dark:border-gray-600":!e.is_app_disk&&!e.is_data_disk}])},[s("div",M,[s("div",E,[p(F,{class:"w-6 h-6 mr-2 flex-shrink-0"}),s("span",{class:"font-semibold truncate",title:e.mount_point},l(e.mount_point),9,H)]),s("div",J,[e.is_app_disk?(o(),a("span",q,"APP")):b("",!0),e.is_data_disk?(o(),a("span",K,"DATA")):b("",!0)])]),s("div",O,[s("div",null,[s("div",Q,[t[7]||(t[7]=s("span",null,"Used",-1)),s("span",W,l(m(e.usage_percent)),1)]),s("div",X,[s("div",{class:"bg-gray-600 dark:bg-gray-400 h-2.5 rounded-full transition-all duration-500",style:x({width:e.usage_percent+"%"})},null,4)])]),s("div",Y,[s("div",null,[t[8]||(t[8]=s("span",{class:"block text-xs uppercase text-gray-500"},"Free",-1)),s("span",Z,l(i(e.available_gb)),1)]),s("div",null,[t[9]||(t[9]=s("span",{class:"block text-xs uppercase text-gray-500"},"Total",-1)),s("span",ss,l(i(e.total_gb)),1)])])])],2))),128))])):(o(),a("div",ts," Loading system status... "))]))}};export{is as default};
