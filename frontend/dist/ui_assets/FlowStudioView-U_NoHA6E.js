const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["ui_assets/FlowEditor-iRGUK_xi.js","ui_assets/index-BzYhVBtc.js","ui_assets/index-Bg19xpIq.css","ui_assets/NodeCreatorModal-BHt-v7NY.js","ui_assets/index-bKEl5d9f.js","ui_assets/FlowEditor-0hx1pU12.css"])))=>i.map(i=>d[i]);
import{b1 as N,u as A,Y as D,r as w,b as I,d as R,ac as V,aA as b,c as r,f as n,a as o,h as u,g as l,G as i,H as E,z as m,A as s,aI as T,y as P,t as g,w as y,aj as j,ab as _,F as B,ai as p,o as a}from"./index-BzYhVBtc.js";/* empty css                                                                       */const L={class:"flex items-center gap-2"},$={class:"h-full flex flex-col relative bg-gray-50 dark:bg-gray-900"},M={class:"h-12 border-b dark:border-gray-700 flex items-center px-4 gap-2 bg-white dark:bg-gray-800 flex-shrink-0 justify-between"},O={class:"flex items-center gap-2"},z=["disabled"],G=["disabled"],H={key:0,class:"text-xs text-gray-500 font-mono"},U={class:"font-bold hidden sm:inline mr-2"},Y={class:"flex-grow relative bg-gray-100 dark:bg-gray-900 overflow-hidden"},q={key:1,class:"flex flex-col items-center justify-center h-full text-gray-400"},X={__name:"FlowStudioView",setup(J){const v=_(()=>p(()=>import("./FlowEditor-iRGUK_xi.js"),__vite__mapDeps([0,1,2,3,4,5]))),x=_(()=>p(()=>import("./NodeCreatorModal-BHt-v7NY.js"),__vite__mapDeps([3,1,2,4]))),t=N(),F=A(),k=D(),d=w(!1),c=w(null),h=I(()=>k.isAdmin);R(()=>{t.fetchNodeDefinitions(),F.setPageTitle({title:"Flow Studio",icon:V(b)})});async function f(){t.currentFlow&&await t.saveFlow(t.currentFlow.id,t.currentFlow.data)}async function S(){t.currentFlow&&(await f(),c.value&&c.value.openRunner())}return(K,e)=>(a(),r(B,null,[(a(),n(m,{to:"#global-header-actions-target"},[o("div",L,[h.value?(a(),r("button",{key:0,onClick:e[0]||(e[0]=C=>d.value=!0),class:"btn btn-secondary btn-sm gap-2",title:"Define New Node Type"},[l(E,{class:"w-4 h-4"}),e[2]||(e[2]=i(" Define Node "))])):u("",!0)])])),o("div",$,[o("div",M,[o("div",O,[o("button",{onClick:f,class:"btn btn-secondary btn-sm gap-2",disabled:!s(t).currentFlow},[l(T,{class:"w-4 h-4"}),e[3]||(e[3]=i(" Save"))],8,z),o("button",{onClick:S,class:"btn btn-primary btn-sm gap-2",disabled:!s(t).currentFlow},[l(P,{class:"w-4 h-4"}),e[4]||(e[4]=i(" Run Flow"))],8,G)]),s(t).currentFlow?(a(),r("div",H,[o("span",U,g(s(t).currentFlow.name),1),i(" ID: "+g(s(t).currentFlow.id),1)])):u("",!0)]),o("div",Y,[(a(),n(j,null,{default:y(()=>[s(t).currentFlow?(a(),n(s(v),{key:0,ref_key:"editorRef",ref:c,flow:s(t).currentFlow},null,8,["flow"])):(a(),r("div",q,[l(b,{class:"w-16 h-16 mb-4 opacity-50"}),e[5]||(e[5]=o("p",{class:"text-lg font-medium"},"Select or create a flow from the sidebar.",-1))]))]),fallback:y(()=>e[6]||(e[6]=[o("div",{class:"flex items-center justify-center h-full text-gray-500"},"Loading...",-1)])),_:1}))])]),(a(),n(m,{to:"body"},[d.value?(a(),n(s(x),{key:0,onClose:e[1]||(e[1]=C=>d.value=!1)})):u("",!0)]))],64))}};export{X as default};
