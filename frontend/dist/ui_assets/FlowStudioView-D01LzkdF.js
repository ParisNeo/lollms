const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["ui_assets/FlowEditor-C-7lCx4r.js","ui_assets/index-IMwO7oGA.js","ui_assets/index-Df1oM2mJ.css","ui_assets/NodeCreatorModal-63rAZUsY.js","ui_assets/index-BhY_U96p.js","ui_assets/NodeCreatorModal-CGdKE0gi.css","ui_assets/FlowEditor-C_sq_Wif.css"])))=>i.map(i=>d[i]);
import{a2 as N,u as R,g as D,L as w,c as V,j as A,s as E,a3 as m,e as r,a as n,b as o,l as u,f as l,m as i,R as I,a4 as b,d as s,a5 as T,a6 as P,t as g,w as _,q as y,S as j,F as B,H as p,o as a}from"./index-IMwO7oGA.js";/* empty css                                                                       */const L={class:"flex items-center gap-2"},$={class:"h-full flex flex-col relative bg-gray-50 dark:bg-gray-900"},M={class:"h-12 border-b dark:border-gray-700 flex items-center px-4 gap-2 bg-white dark:bg-gray-800 flex-shrink-0 justify-between"},O={class:"flex items-center gap-2"},q=["disabled"],H=["disabled"],U={key:0,class:"text-xs text-gray-500 font-mono"},z={class:"font-bold hidden sm:inline mr-2"},G={class:"flex-grow relative bg-gray-100 dark:bg-gray-900 overflow-hidden"},J={key:1,class:"flex flex-col items-center justify-center h-full text-gray-400"},Y={__name:"FlowStudioView",setup(K){const v=y(()=>p(()=>import("./FlowEditor-C-7lCx4r.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),x=y(()=>p(()=>import("./NodeCreatorModal-63rAZUsY.js"),__vite__mapDeps([3,1,2,4,5]))),t=N(),F=R(),k=D(),d=w(!1),c=w(null),h=V(()=>k.isAdmin);A(()=>{t.fetchNodeDefinitions(),F.setPageTitle({title:"Flow Studio",icon:E(m)})});async function f(){t.currentFlow&&await t.saveFlow(t.currentFlow.id,t.currentFlow.data)}async function S(){t.currentFlow&&(await f(),c.value&&c.value.openRunner())}return(Q,e)=>(a(),r(B,null,[(a(),n(b,{to:"#global-header-actions-target"},[o("div",L,[h.value?(a(),r("button",{key:0,onClick:e[0]||(e[0]=C=>d.value=!0),class:"btn btn-secondary btn-sm gap-2",title:"Define New Node Type"},[l(I,{class:"w-4 h-4"}),e[2]||(e[2]=i(" Define Node "))])):u("",!0)])])),o("div",$,[o("div",M,[o("div",O,[o("button",{onClick:f,class:"btn btn-secondary btn-sm gap-2",disabled:!s(t).currentFlow},[l(T,{class:"w-4 h-4"}),e[3]||(e[3]=i(" Save"))],8,q),o("button",{onClick:S,class:"btn btn-primary btn-sm gap-2",disabled:!s(t).currentFlow},[l(P,{class:"w-4 h-4"}),e[4]||(e[4]=i(" Run Flow"))],8,H)]),s(t).currentFlow?(a(),r("div",U,[o("span",z,g(s(t).currentFlow.name),1),i(" ID: "+g(s(t).currentFlow.id),1)])):u("",!0)]),o("div",G,[(a(),n(j,null,{default:_(()=>[s(t).currentFlow?(a(),n(s(v),{key:0,ref_key:"editorRef",ref:c,flow:s(t).currentFlow},null,8,["flow"])):(a(),r("div",J,[l(m,{class:"w-16 h-16 mb-4 opacity-50"}),e[5]||(e[5]=o("p",{class:"text-lg font-medium"},"Select or create a flow from the sidebar.",-1))]))]),fallback:_(()=>e[6]||(e[6]=[o("div",{class:"flex items-center justify-center h-full text-gray-500"},"Loading...",-1)])),_:1}))])]),(a(),n(b,{to:"body"},[d.value?(a(),n(s(x),{key:0,onClose:e[1]||(e[1]=C=>d.value=!1)})):u("",!0)]))],64))}};export{Y as default};
