import{K as b,s as i,c as m,n as x,l as k,g as p,e as a,f as F,m as w,ar as S,p as T,t as M,H as h,z as f,Q as v}from"./index-DfxtQ8tA.js";import{u as C}from"./admin-4S-7YKFv.js";import{_ as G}from"./GenericModal-DVtH5-xu.js";const _=["disabled"],B={__name:"GenerateFunFactsModal",setup(V){const n=b(),y=C(),o=i(""),l=i(""),s=i(!1),g=m(()=>n.modalData("generateFunFacts")),u=m(()=>{var t;return(t=g.value)==null?void 0:t.onTaskSubmitted});async function d(){if(!(!o.value.trim()||s.value)){s.value=!0;try{const t=await y.generateFunFacts(o.value,l.value);t&&(u.value&&u.value(t.id),n.openModal("tasksManager",{initialTaskId:t.id})),c()}catch{}finally{s.value=!1}}}function c(){o.value="",l.value="",n.closeModal("generateFunFacts")}return(t,e)=>(k(),x(G,{modalName:"generateFunFacts",title:"Generate Fun Facts with AI"},{body:p(()=>[e[4]||(e[4]=a("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4"}," Provide a topic, idea, or a detailed prompt. The AI will generate fun facts based on your input. You can also specify a category to add them to. ",-1)),a("form",{onSubmit:h(d,["prevent"]),class:"space-y-4"},[a("div",null,[e[2]||(e[2]=a("label",{for:"ff-prompt",class:"block text-sm font-medium"},"Topic or Prompt",-1)),f(a("textarea",{id:"ff-prompt","onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r),rows:"4",class:"input-field w-full mt-1",placeholder:"e.g., 'The history of coffee' or 'Generate 10 surprising facts about space exploration'"},null,512),[[v,o.value]])]),a("div",null,[e[3]||(e[3]=a("label",{for:"ff-category",class:"block text-sm font-medium"},"Category (optional)",-1)),f(a("input",{id:"ff-category","onUpdate:modelValue":e[1]||(e[1]=r=>l.value=r),type:"text",class:"input-field w-full mt-1",placeholder:"e.g., Space, History. If empty, uses the topic."},null,512),[[v,l.value]])])],32)]),footer:p(()=>[a("button",{onClick:c,class:"btn btn-secondary"},"Cancel"),a("button",{onClick:d,class:"btn btn-primary",disabled:!o.value.trim()||s.value},[F(S,{class:T(["w-4 h-4 mr-2",{"animate-pulse":s.value}])},null,8,["class"]),w(" "+M(s.value?"Generating...":"Generate"),1)],8,_)]),_:1}))}};export{B as default};
