import{_ as de,c as r,o,a as e,Q as Pe,u as Ve,B as je,R as Ue,r as c,b as C,S as ne,f as S,w as Ae,g as v,M as H,t as n,U as O,h as m,F as p,j as f,n as y,G as W,x as $e,V as ue,C as Le,W as Be,D as Fe,v as Me,J as b,i as I,K as h,N as ze,O as Ge,X as T,H as R,L as We}from"./index-BzYhVBtc.js";import{_ as Re}from"./GenericModal-CJPUG58e.js";import{I as qe}from"./IconVideoCamera-B-ykw7JK.js";const He={},Oe={width:"50px",height:"50px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Ke(ce,L){return o(),r("svg",Oe,L[0]||(L[0]=[e("path",{d:"M17 17H17.01M15.6 14H18C18.9319 14 19.3978 14 19.7654 14.1522C20.2554 14.3552 20.6448 14.7446 20.8478 15.2346C21 15.6022 21 16.0681 21 17C21 17.9319 21 18.3978 20.8478 18.7654C20.6448 19.2554 20.2554 19.6448 19.7654 19.8478C19.3978 20 18.9319 20 18 20H6C5.06812 20 4.60218 20 4.23463 19.8478C3.74458 19.6448 3.35523 19.2554 3.15224 18.7654C3 18.3978 3 17.9319 3 17C3 16.0681 3 15.6022 3.15224 15.2346C3.35523 14.7446 3.74458 14.3552 4.23463 14.1522C4.60218 14 5.06812 14 6 14H8.4M12 15V4M12 4L15 7M12 4L9 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))}const Ee=de(He,[["render",Ke]]),Qe={class:"flex flex-col h-full max-h-[85vh]"},Ye={key:0,class:"flex flex-col h-full p-4"},Je={class:"flex items-center justify-between mb-6 p-4 bg-gradient-to-r from-blue-600 to-indigo-700 rounded-xl text-white shadow-lg"},Xe={class:"flex items-center gap-4"},Ze={class:"p-3 bg-white/20 rounded-xl"},et={class:"text-xl font-black uppercase tracking-tight"},tt={class:"text-right"},lt={class:"text-4xl font-black font-mono"},st={class:"w-full bg-gray-200 dark:bg-gray-800 h-4 rounded-full overflow-hidden mb-6 shadow-inner"},at={class:"flex-grow bg-black rounded-2xl overflow-hidden flex flex-col shadow-2xl border border-gray-800"},ot={class:"flex-grow overflow-y-auto p-4 font-mono text-xs space-y-1 custom-scrollbar"},rt={class:"text-gray-600 shrink-0"},it={key:0,class:"text-gray-600 italic"},nt={class:"flex justify-center mt-6"},ut={class:"flex items-center justify-center mb-8 flex-shrink-0"},dt={class:"flex items-center"},ct={class:"relative"},gt={key:1},vt={class:"w-20 h-1 bg-gray-200 mx-2"},pt={class:"relative"},bt={key:1},xt={class:"w-20 h-1 bg-gray-200 mx-2"},ft={class:"relative"},yt={key:0,class:"flex-grow overflow-y-auto custom-scrollbar px-2 mt-4"},_t={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8"},mt=["onClick"],ht={class:"font-bold text-base text-gray-900 dark:text-white mb-1"},kt={class:"text-xs text-gray-500"},wt={class:"space-y-3 max-w-2xl mx-auto"},Ct={key:1,class:"flex-grow overflow-y-auto custom-scrollbar px-2"},St={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Nt={class:"space-y-5"},It={class:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg flex flex-col gap-3"},Tt={class:"flex gap-2"},Dt=["disabled"],Pt={key:0,class:"max-h-60 overflow-y-auto custom-scrollbar space-y-2 border-t dark:border-gray-700 pt-2"},Vt={class:"flex justify-between items-start gap-2"},jt={class:"flex items-start gap-2 flex-grow"},Ut=["checked","onChange"],At={class:"font-bold text-gray-900 dark:text-white leading-tight"},$t={class:"text-[10px] text-gray-500 mt-0.5"},Lt={class:"mt-2 pl-6 flex items-center justify-between"},Bt={class:"flex items-center gap-2 cursor-pointer select-none"},Ft={class:"relative inline-block w-8 h-4 align-middle select-none transition duration-200 ease-in"},Mt=["onUpdate:modelValue"],zt=["href"],Gt={key:1,class:"border-t dark:border-gray-700 pt-2"},Wt={class:"text-[10px] uppercase font-bold text-gray-500 mb-1"},Rt={class:"space-y-1 max-h-32 overflow-y-auto custom-scrollbar"},qt={class:"truncate pr-2 font-medium"},Ht={key:0,class:"text-[9px] bg-blue-200 text-blue-800 px-1 rounded ml-1"},Ot={key:1,class:"text-[9px] bg-gray-200 text-gray-600 px-1 rounded ml-1"},Kt=["onClick"],Et={class:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg"},Qt={class:"flex gap-2 my-2"},Yt={class:"space-y-2 max-h-32 overflow-y-auto custom-scrollbar"},Jt={class:"truncate pr-2"},Xt=["onClick"],Zt={class:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg border dark:border-gray-700"},el={class:"space-y-5"},tl={class:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg"},ll={class:"flex gap-2 my-2"},sl={class:"space-y-2 max-h-32 overflow-y-auto custom-scrollbar"},al={class:"truncate pr-2"},ol=["onClick"],rl={class:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg"},il={class:"flex gap-2 my-2"},nl={class:"space-y-2 max-h-32 overflow-y-auto custom-scrollbar"},ul={class:"truncate pr-2"},dl=["onClick"],cl={class:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg"},gl={class:"flex gap-2 my-2"},vl={class:"space-y-2 max-h-32 overflow-y-auto custom-scrollbar"},pl={class:"truncate pr-2"},bl=["onClick"],xl={class:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg"},fl={class:"mt-3 space-y-2 max-h-32 overflow-y-auto custom-scrollbar"},yl={class:"truncate pr-2"},_l=["onClick"],ml={key:2,class:"flex-grow flex flex-col px-2 overflow-y-auto custom-scrollbar"},hl={key:0,class:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-6 bg-white dark:bg-gray-800 p-6 rounded-xl border dark:border-gray-700"},kl={class:"flex items-center gap-2"},wl={class:"text-sm text-gray-500"},Cl=["value"],Sl={class:"md:col-span-2"},Nl={class:"grid grid-cols-2 lg:grid-cols-4 gap-3"},Il=["onClick"],Tl={class:"font-bold text-sm mb-1"},Dl={class:"text-[10px] text-gray-500 leading-tight"},Pl={class:"flex-grow flex flex-col bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4"},Vl={class:"p-4 border-t dark:border-gray-800 flex justify-between gap-3 bg-gray-50 dark:bg-gray-900/50"},jl={key:1},Ul={class:"flex items-center gap-3"},Al={key:0,class:"text-xs text-red-500 italic"},$l=["disabled"],Ll=["disabled"],Bl={__name:"NotebookWizardModal",setup(ce){const L=Pe(),w=Ve(),x=je(),q=Ue(),u=c(1),D=c(!1),K=c(null),B=c(!1),k=c(null),_=c(null),E=c(null),l=c({title:"",type:"generic",initialPrompt:"",urls:[],youtube_urls:[],wikipedia_urls:[],google_search_queries:[],arxiv_selected:[],files:[],raw_text:"",num_slides:10,slide_format:"TitleImageBody",style_preset:"Corporate Vector",custom_style:"",delay_processing:!1}),P=c(""),V=c(""),j=c(""),U=c(""),F=c(""),A=c([]),M=c(!1),ge=[{id:"generic",label:"General Research",icon:Le,desc:"A standard notebook for organizing research and notes."},{id:"slides_making",label:"Presentation Deck",icon:Be,desc:"Generate slides, visuals, and speaker notes."},{id:"youtube_video",label:"Video Production",icon:qe,desc:"Create scripts, storyboards, and asset lists for video."},{id:"book_building",label:"Book / Long-form",icon:Fe,desc:"Plan and write structured long-form content."}],ve=[{id:"ImageOnly",label:"Full Image Slides",desc:"Cinematic full-screen visuals with voiceover."},{id:"TitleImageBody",label:"Standard Hybrid",desc:"Balanced mix of text, bullets, and images."},{id:"TextOnly",label:"Text Heavy",desc:"Information dense slides with titles and bullets."},{id:"HTML_Graph",label:"Data & Graphs",desc:"Includes instructions for HTML-based data visualization."}],pe=["Photorealistic","Corporate Vector","Hand Drawn Illustration","Minimalist Flat","Cyberpunk / Neon","Watercolor","Abstract 3D","Custom"],Q=C(()=>l.value.title.trim().length>0),be=C(()=>{var t;return l.value.urls.length>0||l.value.youtube_urls.length>0||l.value.wikipedia_urls.length>0||l.value.google_search_queries.length>0||l.value.arxiv_selected.length>0||l.value.files.length>0||((t=l.value.raw_text)==null?void 0:t.trim())}),Y=C(()=>{var t;return l.value.urls.length>0||l.value.youtube_urls.length>0||l.value.wikipedia_urls.length>0||l.value.google_search_queries.length>0||l.value.arxiv_selected.length>0||l.value.files.length>0||((t=l.value.raw_text)==null?void 0:t.trim())?null:"Please add at least one source before creating the notebook."}),z=C(()=>k.value?q.tasks.find(a=>a.id===k.value):null),J=C(()=>{const a=z.value;return a&&(a.status==="running"||a.status==="pending")}),X=C(()=>{var a;return((a=z.value)==null?void 0:a.progress)||0}),Z=C(()=>{var a;return((a=z.value)==null?void 0:a.logs)||[]});function N(){w.closeModal("notebookWizard"),xe()}function xe(){setTimeout(()=>{u.value=1,l.value={title:"",type:"generic",initialPrompt:"",urls:[],youtube_urls:[],wikipedia_urls:[],google_search_queries:[],arxiv_selected:[],files:[],raw_text:"",num_slides:10,slide_format:"TitleImageBody",style_preset:"Corporate Vector",custom_style:"",delay_processing:!1},D.value=!1,k.value=null,_.value=null,E.value=null,P.value="",V.value="",j.value="",U.value="",F.value="",A.value=[]},300)}function fe(a){try{const t=new URL(a);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}}function ee(){const a=P.value.trim();if(a){if(!fe(a)){w.addNotification("Invalid URL","error");return}l.value.urls||(l.value.urls=[]),!l.value.urls.includes(a)&&(l.value.urls.push(a),P.value="")}}function te(){const a=U.value.trim();a&&(l.value.google_search_queries||(l.value.google_search_queries=[]),l.value.google_search_queries.push(a),U.value="")}async function le(){const a=F.value.trim();if(a){M.value=!0,A.value=[];try{const t=await x.searchArxiv(a);A.value=t.map(d=>({...d,selected:!1,ingest_full:!0}))}catch(t){console.error(t)}finally{M.value=!1}}}function ye(a){l.value.arxiv_selected.some(t=>t.entry_id===a.entry_id)||l.value.arxiv_selected.push({entry_id:a.entry_id,title:a.title,authors:a.authors,summary:a.summary,pdf_url:a.pdf_url,ingest_full:a.ingest_full})}function se(a){l.value.arxiv_selected=l.value.arxiv_selected.filter(t=>t.entry_id!==a)}const ae=a=>l.value.arxiv_selected.some(t=>t.entry_id===a);function _e(a){ae(a.entry_id)?se(a.entry_id):ye(a)}function oe(){const a=V.value.trim();if(a){if(!a.includes("youtube.com")&&!a.includes("youtu.be")){w.addNotification("Invalid YouTube URL","error");return}l.value.youtube_urls||(l.value.youtube_urls=[]),l.value.youtube_urls.push(a),V.value=""}}function re(){const a=j.value.trim();a&&(l.value.wikipedia_urls||(l.value.wikipedia_urls=[]),l.value.wikipedia_urls.push(a),j.value="")}function G(a,t){l.value[a].splice(t,1)}function me(){var a;(a=K.value)==null||a.click()}function he(a){ie(Array.from(a.target.files||[])),a.target.value=""}function ie(a){l.value.files||(l.value.files=[]);const t=new Set(l.value.files.map(s=>s.name)),d=a.filter(s=>!t.has(s.name));l.value.files.push(...d)}function ke(a){l.value.files.splice(a,1)}function we(a){a.preventDefault(),B.value=!0}function Ce(a){a.preventDefault(),B.value=!1}function Se(a){a.preventDefault(),B.value=!1,ie(Array.from(a.dataTransfer.files||[]))}function Ne(){let d={generic:"Create a comprehensive research summary with key findings.",slides_making:`Create a ${l.value.num_slides}-slide deck about the topic.`,youtube_video:"Develop a video script with timestamps and B-roll.",book_building:"Generate a detailed chapter outline."}[l.value.type]||"Analyze the sources and generate content.";["slides_making","youtube_video"].includes(l.value.type)&&(d+=` Use the '${l.value.style_preset==="Custom"?l.value.custom_style:l.value.style_preset}' visual style.`,l.value.slide_format==="HTML_Graph"&&(d+=" Include data visualizations where appropriate.")),l.value.initialPrompt=d}async function Ie(){var a,t;D.value=!0;try{const d={title:l.value.title,type:l.value.type,initialPrompt:"",urls:l.value.urls||[],youtube_configs:(l.value.youtube_urls||[]).map(g=>({url:g,lang:"en"})),wikipedia_urls:l.value.wikipedia_urls||[],google_search_queries:l.value.google_search_queries||[],arxiv_selected:l.value.arxiv_selected||[],raw_text:l.value.raw_text,metadata:{num_slides:l.value.num_slides,slide_format:l.value.slide_format,style_preset:l.value.style_preset==="Custom"?l.value.custom_style:l.value.style_preset},delay_processing:!0},s=await x.createStructuredNotebook(d);if(_.value=s.id,x.setActiveNotebook(s),((a=l.value.files)==null?void 0:a.length)>0)for(const g of l.value.files){const $=[".pdf",".docx",".pptx"].some(De=>g.name.toLowerCase().endsWith(De));await x.uploadSource(g,$)}const i=(t=l.value.initialPrompt)==null?void 0:t.trim();if(i&&!l.value.delay_processing){const g=await x.addTab("markdown");g.title="Generating...",g.content=`<!-- GENERATING_PLACEHOLDER_${Date.now()} -->`,E.value=g.id,await x.saveActive();const $=await x.importSources(s.id,{...d,initialPrompt:i,target_tab_id:g.id});$&&$.id&&(k.value=$.id)}w.addNotification(`"${l.value.title}" created!`,"success"),await L.push(`/notebooks/${s.id}`),k.value||N()}catch(d){console.error(d),w.addNotification("Failed to start project.","error")}finally{D.value=!1}}async function Te(){if(k.value){try{await q.cancelTask(k.value),w.addNotification("Building stopped. Showing partial results.","info")}catch(a){console.error("Failed to stop task:",a)}_.value&&await x.selectNotebook(_.value),N()}}return ne(z,async(a,t)=>{a&&(console.log(`[NotebookWizard] Task status changed: ${a.status}`),a.status==="completed"&&(w.addNotification("Notebook building complete!","success"),_.value&&await x.selectNotebook(_.value),setTimeout(()=>{N()},500)),(a.status==="failed"||a.status==="cancelled")&&(_.value&&await x.selectNotebook(_.value),setTimeout(()=>{N()},500)))},{immediate:!0,deep:!0}),ne(()=>q.tasks,a=>{if(!k.value)return;const t=a.find(d=>d.id===k.value);t&&["completed","failed","cancelled"].includes(t.status)&&(console.log(`[NotebookWizard] Detected task completion via tasks array: ${t.status}`),_.value&&x.selectNotebook(_.value))},{deep:!0}),(a,t)=>(o(),S(Re,{modalName:"notebookWizard",title:"New Production Wizard",maxWidthClass:"max-w-6xl",showCloseButton:!J.value,onClose:N},{default:Ae(()=>{var d;return[e("div",Qe,[J.value?(o(),r("div",Ye,[e("div",Je,[e("div",Xe,[e("div",Ze,[v(H,{class:"w-8 h-8 animate-spin"})]),e("div",null,[e("h2",et,n(l.value.title),1),t[14]||(t[14]=e("p",{class:"text-sm font-medium opacity-80"},"Generating in new tab...",-1))])]),e("div",tt,[e("div",lt,n(X.value)+"%",1)])]),e("div",st,[e("div",{class:"h-full bg-gradient-to-r from-blue-500 to-indigo-600 transition-all duration-500 progress-bar-animated",style:O({width:X.value+"%"})},null,4)]),e("div",at,[t[15]||(t[15]=e("div",{class:"px-4 py-3 bg-gray-900 border-b border-gray-800 flex items-center justify-between"},[e("span",{class:"text-[10px] font-black uppercase text-gray-500 tracking-widest"},"Build Log"),e("div",{class:"flex gap-1.5"},[e("div",{class:"w-2 h-2 rounded-full bg-red-500/50"}),e("div",{class:"w-2 h-2 rounded-full bg-yellow-500/50"}),e("div",{class:"w-2 h-2 rounded-full bg-green-500/50"})])],-1)),e("div",ot,[(o(!0),r(p,null,f(Z.value,(s,i)=>(o(),r("div",{key:i,class:"flex gap-3"},[e("span",rt,"["+n(new Date(s.timestamp).toLocaleTimeString())+"]",1),e("span",{class:y({"text-red-400 font-bold":s.level==="ERROR","text-yellow-400":s.level==="WARNING","text-blue-400":s.level==="INFO","text-green-400":s.level==="SUCCESS"})},n(s.message),3)]))),128)),Z.value.length===0?(o(),r("div",it,"Initializing...")):m("",!0)])]),e("div",nt,[e("button",{onClick:Te,class:"btn btn-danger px-8 py-3 flex items-center gap-3 text-base font-bold shadow-xl"},[v($e,{class:"w-5 h-5"}),t[16]||(t[16]=W(" Stop Generation "))])])])):(o(),r(p,{key:1},[e("div",ut,[e("div",dt,[e("div",ct,[e("div",{class:y(["w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300",u.value>=1?"bg-blue-600 text-white shadow-lg":"bg-gray-200 text-gray-500"])},[u.value>1?(o(),S(ue,{key:0,class:"w-5 h-5"})):(o(),r("span",gt,"1"))],2)]),e("div",vt,[e("div",{class:"h-full bg-blue-600 transition-all duration-500",style:O({width:u.value>1?"100%":"0%"})},null,4)]),e("div",pt,[e("div",{class:y(["w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300",u.value>=2?"bg-blue-600 text-white shadow-lg":"bg-gray-200 text-gray-500"])},[u.value>2?(o(),S(ue,{key:0,class:"w-5 h-5"})):(o(),r("span",bt,"2"))],2)]),e("div",xt,[e("div",{class:"h-full bg-blue-600 transition-all duration-500",style:O({width:u.value>2?"100%":"0%"})},null,4)]),e("div",ft,[e("div",{class:y(["w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300",u.value>=3?"bg-blue-600 text-white shadow-lg":"bg-gray-200 text-gray-500"])},"3",2)])])]),u.value===1?(o(),r("div",yt,[t[18]||(t[18]=e("div",{class:"text-center mb-8"},[e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},"Choose Project Type")],-1)),e("div",_t,[(o(),r(p,null,f(ge,s=>e("div",{key:s.id,onClick:i=>l.value.type=s.id,class:y(["group p-6 rounded-xl border-2 cursor-pointer transition-all hover:shadow-lg flex flex-col items-center text-center gap-3",l.value.type===s.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 shadow-md":"border-gray-200 dark:border-gray-700 hover:border-blue-300"])},[(o(),S(Me(s.icon),{class:y(["w-12 h-12 transition-transform group-hover:scale-110",l.value.type===s.id?"text-blue-600":"text-gray-400"])},null,8,["class"])),e("div",null,[e("h3",ht,n(s.label),1),e("p",kt,n(s.desc),1)])],10,mt)),64))]),e("div",wt,[t[17]||(t[17]=e("label",{class:"block text-sm font-bold text-gray-700 dark:text-gray-300"},[W("Project Title "),e("span",{class:"text-red-500"},"*")],-1)),b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value.title=s),class:"input-field w-full text-lg px-4 py-3 border-2 transition-colors focus:border-blue-500",placeholder:"e.g. 'Project Mars'",onKeyup:t[1]||(t[1]=I(s=>Q.value&&u.value++,["enter"]))},null,544),[[h,l.value.title]])])])):m("",!0),u.value===2?(o(),r("div",Ct,[t[27]||(t[27]=e("div",{class:"text-center mb-6"},[e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Knowledge Sources"),e("p",{class:"text-sm text-gray-500"},"Optional context for the AI")],-1)),e("div",St,[e("div",Nt,[e("div",It,[t[19]||(t[19]=e("label",{class:"text-xs font-black text-gray-600 dark:text-gray-400 uppercase"},"ðŸ“„ Arxiv Papers",-1)),e("div",Tt,[b(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>F.value=s),onKeyup:I(le,["enter"]),class:"input-field flex-grow text-sm",placeholder:"Search topic (e.g. 'transformer attention')..."},null,544),[[h,F.value]]),e("button",{onClick:le,class:"btn btn-primary px-3",disabled:M.value},[M.value?(o(),S(H,{key:0,class:"w-4 h-4 animate-spin"})):(o(),S(ze,{key:1,class:"w-4 h-4"}))],8,Dt)]),A.value.length>0?(o(),r("div",Pt,[(o(!0),r(p,null,f(A.value,s=>(o(),r("div",{key:s.entry_id,class:"p-3 bg-white dark:bg-gray-700 rounded-lg text-xs shadow-sm border border-transparent hover:border-blue-300 transition-colors"},[e("div",Vt,[e("div",jt,[e("input",{type:"checkbox",checked:ae(s.entry_id),onChange:i=>_e(s),class:"mt-1 rounded text-blue-600 focus:ring-blue-500"},null,40,Ut),e("div",null,[e("p",At,n(s.title),1),e("p",$t,n(s.authors.slice(0,2).join(", "))+n(s.authors.length>2?" et al.":"")+" â€¢ "+n(s.published),1)])])]),e("div",Lt,[e("label",Bt,[e("div",Ft,[b(e("input",{type:"checkbox","onUpdate:modelValue":i=>s.ingest_full=i,class:y(["toggle-checkbox absolute block w-4 h-4 rounded-full bg-white border-4 appearance-none cursor-pointer",s.ingest_full?"right-0 border-blue-600":"left-0 border-gray-300"])},null,10,Mt),[[Ge,s.ingest_full]]),e("div",{class:y(["toggle-label block overflow-hidden h-4 rounded-full cursor-pointer bg-gray-300",s.ingest_full?"bg-blue-600":""])},null,2)]),e("span",{class:y(["text-[10px] font-bold uppercase",s.ingest_full?"text-blue-600":"text-gray-400"])},n(s.ingest_full?"Full PDF":"Abstract Only"),3)]),e("a",{href:s.pdf_url,target:"_blank",class:"text-blue-500 hover:underline text-[10px]"},"View PDF â†—",8,zt)])]))),128))])):m("",!0),l.value.arxiv_selected.length>0?(o(),r("div",Gt,[e("p",Wt,"Selected Papers ("+n(l.value.arxiv_selected.length)+")",1),e("ul",Rt,[(o(!0),r(p,null,f(l.value.arxiv_selected,s=>(o(),r("li",{key:s.entry_id,class:"flex justify-between items-center text-xs bg-blue-50 dark:bg-blue-900/20 px-2 py-1.5 rounded"},[e("span",qt,[W(n(s.title)+" ",1),s.ingest_full?(o(),r("span",Ht,"PDF")):(o(),r("span",Ot,"Abstract"))]),e("button",{onClick:i=>se(s.entry_id),class:"text-red-500 hover:text-red-700"},[v(T,{class:"w-3 h-3"})],8,Kt)]))),128))])])):m("",!0)]),e("div",Et,[t[20]||(t[20]=e("label",{class:"text-xs font-black text-gray-600 dark:text-gray-400 uppercase"},"ðŸŒ Web Links",-1)),e("div",Qt,[b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>P.value=s),onKeyup:I(ee,["enter"]),class:"input-field flex-grow text-sm",placeholder:"https://..."},null,544),[[h,P.value]]),e("button",{onClick:ee,class:"btn btn-primary px-3"},[v(R,{class:"w-4 h-4"})])]),e("ul",Yt,[(o(!0),r(p,null,f(l.value.urls,(s,i)=>(o(),r("li",{key:i,class:"flex justify-between items-center text-xs bg-white dark:bg-gray-700 px-3 py-2 rounded-lg"},[e("span",Jt,n(s),1),e("button",{onClick:g=>G("urls",i),class:"text-red-500"},[v(T,{class:"w-4 h-4"})],8,Xt)]))),128))])]),e("div",Zt,[t[21]||(t[21]=e("label",{class:"text-xs font-black text-gray-600 dark:text-gray-400 uppercase"},"ðŸ“ Raw Text / Notes",-1)),b(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.value.raw_text=s),class:"input-field w-full h-32 mt-2 p-3 text-xs resize-none",placeholder:"Paste or type additional context here..."},null,512),[[h,l.value.raw_text]])])]),e("div",el,[e("div",tl,[t[22]||(t[22]=e("label",{class:"text-xs font-black text-gray-600 dark:text-gray-400 uppercase"},"ðŸ” Google Search",-1)),e("div",ll,[b(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>U.value=s),onKeyup:I(te,["enter"]),class:"input-field flex-grow text-sm",placeholder:"Query..."},null,544),[[h,U.value]]),e("button",{onClick:te,class:"btn btn-primary px-3"},[v(R,{class:"w-4 h-4"})])]),e("ul",sl,[(o(!0),r(p,null,f(l.value.google_search_queries,(s,i)=>(o(),r("li",{key:i,class:"flex justify-between items-center text-xs bg-white dark:bg-gray-700 px-3 py-2 rounded-lg"},[e("span",al,n(s),1),e("button",{onClick:g=>G("google_search_queries",i),class:"text-red-500"},[v(T,{class:"w-4 h-4"})],8,ol)]))),128))])]),e("div",rl,[t[23]||(t[23]=e("label",{class:"text-xs font-black text-gray-600 dark:text-gray-400 uppercase"},"ðŸŽ¥ YouTube Videos",-1)),e("div",il,[b(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>V.value=s),onKeyup:I(oe,["enter"]),class:"input-field flex-grow text-sm",placeholder:"URL..."},null,544),[[h,V.value]]),e("button",{onClick:oe,class:"btn btn-primary px-3"},[v(R,{class:"w-4 h-4"})])]),e("ul",nl,[(o(!0),r(p,null,f(l.value.youtube_urls,(s,i)=>(o(),r("li",{key:i,class:"flex justify-between items-center text-xs bg-white dark:bg-gray-700 px-3 py-2 rounded-lg"},[e("span",ul,n(s),1),e("button",{onClick:g=>G("youtube_urls",i),class:"text-red-500"},[v(T,{class:"w-4 h-4"})],8,dl)]))),128))])]),e("div",cl,[t[24]||(t[24]=e("label",{class:"text-xs font-black text-gray-600 dark:text-gray-400 uppercase"},"ðŸ“š Wikipedia",-1)),e("div",gl,[b(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>j.value=s),onKeyup:I(re,["enter"]),class:"input-field flex-grow text-sm",placeholder:"Article Title..."},null,544),[[h,j.value]]),e("button",{onClick:re,class:"btn btn-primary px-3"},[v(R,{class:"w-4 h-4"})])]),e("ul",vl,[(o(!0),r(p,null,f(l.value.wikipedia_urls,(s,i)=>(o(),r("li",{key:i,class:"flex justify-between items-center text-xs bg-white dark:bg-gray-700 px-3 py-2 rounded-lg"},[e("span",pl,n(s),1),e("button",{onClick:g=>G("wikipedia_urls",i),class:"text-red-500"},[v(T,{class:"w-4 h-4"})],8,bl)]))),128))])]),e("div",xl,[t[26]||(t[26]=e("label",{class:"text-xs font-black text-gray-600 dark:text-gray-400 uppercase"},"ðŸ“Ž Local Files",-1)),e("div",{onClick:me,onDragover:we,onDragleave:Ce,onDrop:Se,class:y(["border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center text-gray-400 cursor-pointer transition-all h-24 mt-2",B.value?"border-blue-500 bg-blue-50":"border-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"])},[v(Ee,{class:"w-6 h-6 mb-1"}),t[25]||(t[25]=e("span",{class:"text-xs"},"Drag & Drop",-1))],34),e("input",{type:"file",ref_key:"fileInput",ref:K,onChange:he,multiple:"",class:"hidden"},null,544),e("ul",fl,[(o(!0),r(p,null,f(l.value.files,(s,i)=>(o(),r("li",{key:i,class:"flex justify-between items-center text-xs bg-white dark:bg-gray-700 px-3 py-2 rounded-lg"},[e("span",yl,n(s.name),1),e("button",{onClick:g=>ke(i),class:"text-red-500"},[v(T,{class:"w-4 h-4"})],8,_l)]))),128))])])])])])):m("",!0),u.value===3?(o(),r("div",ml,[t[33]||(t[33]=e("div",{class:"text-center mb-6"},[e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Configuration")],-1)),["slides_making","youtube_video"].includes(l.value.type)?(o(),r("div",hl,[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-xs font-bold uppercase text-gray-500 mb-2"},"Target Quantity",-1)),e("div",kl,[b(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=s=>l.value.num_slides=s),min:"1",max:"50",class:"input-field w-24 text-center font-bold"},null,512),[[h,l.value.num_slides]]),e("span",wl,n(l.value.type==="youtube_video"?"Scenes":"Slides"),1)])]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-xs font-bold uppercase text-gray-500 mb-2"},"Visual Style",-1)),b(e("select",{"onUpdate:modelValue":t[9]||(t[9]=s=>l.value.style_preset=s),class:"input-field w-full"},[(o(),r(p,null,f(pe,s=>e("option",{key:s,value:s},n(s),9,Cl)),64))],512),[[We,l.value.style_preset]]),l.value.style_preset==="Custom"?b((o(),r("input",{key:0,"onUpdate:modelValue":t[10]||(t[10]=s=>l.value.custom_style=s),class:"input-field w-full mt-2",placeholder:"Describe style (e.g. '8-bit pixel art')"},null,512)),[[h,l.value.custom_style]]):m("",!0)]),e("div",Sl,[t[30]||(t[30]=e("label",{class:"block text-xs font-bold uppercase text-gray-500 mb-2"},"Structure Format",-1)),e("div",Nl,[(o(),r(p,null,f(ve,s=>e("div",{key:s.id,onClick:i=>l.value.slide_format=s.id,class:y(["p-3 border rounded-lg cursor-pointer transition-all hover:bg-gray-50 dark:hover:bg-gray-700",l.value.slide_format===s.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700"])},[e("div",Tl,n(s.label),1),e("div",Dl,n(s.desc),1)],10,Il)),64))])])])):m("",!0),e("div",Pl,[e("div",{class:"flex justify-between items-center mb-2"},[t[31]||(t[31]=e("label",{class:"text-xs font-bold uppercase text-gray-500"},"Instructions for AI (Optional)",-1)),e("button",{onClick:Ne,class:"text-xs text-blue-600 font-bold hover:underline"},"âœ¨ Auto-Fill")]),b(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=s=>l.value.initialPrompt=s),class:"input-field w-full min-h-[120px] p-4 text-base resize-none leading-relaxed",placeholder:"Detailed instructions..."},null,512),[[h,l.value.initialPrompt]]),t[32]||(t[32]=e("p",{class:"text-[10px] text-gray-400 mt-2 italic"},"Leave empty to just create a notebook with the selected materials.",-1))])])):m("",!0),e("div",Vl,[u.value>1?(o(),r("button",{key:0,onClick:t[12]||(t[12]=s=>u.value--),class:"btn btn-secondary"},"Back")):(o(),r("div",jl)),e("div",Ul,[Y.value&&u.value===3?(o(),r("p",Al,n(Y.value),1)):m("",!0),e("button",{onClick:N,class:"btn btn-secondary"},"Cancel"),u.value<3?(o(),r("button",{key:1,onClick:t[13]||(t[13]=s=>u.value++),class:"btn btn-primary",disabled:u.value===1&&!Q.value}," Next ",8,$l)):(o(),r("button",{key:2,onClick:Ie,class:"btn btn-primary",disabled:!be.value||D.value},[D.value?(o(),S(H,{key:0,class:"w-4 h-4 mr-2 animate-spin"})):m("",!0),W(" "+n((d=l.value.initialPrompt)!=null&&d.trim()?"Create & Generate":"Create Empty Notebook"),1)],8,Ll))])])],64))])]}),_:1},8,["showCloseButton"]))}},Gl=de(Bl,[["__scopeId","data-v-48e39a9b"]]);export{Gl as default};
