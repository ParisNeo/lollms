import{Z as u2,u as l2,L as zo,k as Bb,j as d2,$ as c2,e as Ts,o as pi,b as Oe,l as Wo,am as jb,t as Ps,f as Lb,cp as h2,a as zb,cG as f2,a6 as v2,aB as p2,a9 as g2}from"./index-CYIRZvEj.js";/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var Wb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ee(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ho={exports:{}},Hb={},_n,Ub;function qe(){if(Ub)return _n;Ub=1;var n=function(e){return e&&e.Math===Math&&e};return _n=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof Wb=="object"&&Wb)||n(typeof _n=="object"&&_n)||(function(){return this})()||Function("return this")(),_n}var Uo,Vb;function se(){return Vb||(Vb=1,Uo=function(n){try{return!!n()}catch{return!0}}),Uo}var Vo,Gb;function Un(){if(Gb)return Vo;Gb=1;var n=se();return Vo=!n(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Vo}var Go,Kb;function to(){if(Kb)return Go;Kb=1;var n=Un(),e=Function.prototype,t=e.apply,r=e.call;return Go=typeof Reflect=="object"&&Reflect.apply||(n?r.bind(t):function(){return r.apply(t,arguments)}),Go}var Ko,Yb;function de(){if(Yb)return Ko;Yb=1;var n=Un(),e=Function.prototype,t=e.call,r=n&&e.bind.bind(t,t);return Ko=n?r:function(i){return function(){return t.apply(i,arguments)}},Ko}var Yo,Xb;function Jt(){if(Xb)return Yo;Xb=1;var n=de(),e=n({}.toString),t=n("".slice);return Yo=function(r){return t(e(r),8,-1)},Yo}var Xo,Jb;function dF(){if(Jb)return Xo;Jb=1;var n=Jt(),e=de();return Xo=function(t){if(n(t)==="Function")return e(t)},Xo}var Jo,Zb;function Ne(){if(Zb)return Jo;Zb=1;var n=typeof document=="object"&&document.all;return Jo=typeof n>"u"&&n!==void 0?function(e){return typeof e=="function"||e===n}:function(e){return typeof e=="function"},Jo}var Zo={},Qo,Qb;function Ce(){if(Qb)return Qo;Qb=1;var n=se();return Qo=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Qo}var ea,e1;function st(){if(e1)return ea;e1=1;var n=Un(),e=Function.prototype.call;return ea=n?e.bind(e):function(){return e.apply(e,arguments)},ea}var ta={},t1;function Dm(){if(t1)return ta;t1=1;var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!n.call({1:2},1);return ta.f=t?function(i){var s=e(this,i);return!!s&&s.enumerable}:n,ta}var ra,r1;function Vn(){return r1||(r1=1,ra=function(n,e){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:e}}),ra}var ia,i1;function ro(){if(i1)return ia;i1=1;var n=de(),e=se(),t=Jt(),r=Object,i=n("".split);return ia=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?i(s,""):r(s)}:r,ia}var na,n1;function Gn(){return n1||(n1=1,na=function(n){return n==null}),na}var sa,s1;function Xr(){if(s1)return sa;s1=1;var n=Gn(),e=TypeError;return sa=function(t){if(n(t))throw new e("Can't call method on "+t);return t},sa}var oa,o1;function Nt(){if(o1)return oa;o1=1;var n=ro(),e=Xr();return oa=function(t){return n(e(t))},oa}var aa,a1;function et(){if(a1)return aa;a1=1;var n=Ne();return aa=function(e){return typeof e=="object"?e!==null:n(e)},aa}var ua,u1;function Me(){return u1||(u1=1,ua={}),ua}var la,l1;function ut(){if(l1)return la;l1=1;var n=Me(),e=qe(),t=Ne(),r=function(i){return t(i)?i:void 0};return la=function(i,s){return arguments.length<2?r(n[i])||r(e[i]):n[i]&&n[i][s]||e[i]&&e[i][s]},la}var da,d1;function ke(){if(d1)return da;d1=1;var n=de();return da=n({}.isPrototypeOf),da}var ca,c1;function Ni(){if(c1)return ca;c1=1;var n=qe(),e=n.navigator,t=e&&e.userAgent;return ca=t?String(t):"",ca}var ha,h1;function Kn(){if(h1)return ha;h1=1;var n=qe(),e=Ni(),t=n.process,r=n.Deno,i=t&&t.versions||r&&r.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),ha=a,ha}var fa,f1;function ki(){if(f1)return fa;f1=1;var n=Kn(),e=se(),t=qe(),r=t.String;return fa=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!r(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&n&&n<41}),fa}var va,v1;function cF(){if(v1)return va;v1=1;var n=ki();return va=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol",va}var pa,p1;function Yn(){if(p1)return pa;p1=1;var n=ut(),e=Ne(),t=ke(),r=cF(),i=Object;return pa=r?function(s){return typeof s=="symbol"}:function(s){var o=n("Symbol");return e(o)&&t(o.prototype,i(s))},pa}var ga,g1;function Bi(){if(g1)return ga;g1=1;var n=String;return ga=function(e){try{return n(e)}catch{return"Object"}},ga}var ya,y1;function Zt(){if(y1)return ya;y1=1;var n=Ne(),e=Bi(),t=TypeError;return ya=function(r){if(n(r))return r;throw new t(e(r)+" is not a function")},ya}var ma,m1;function Am(){if(m1)return ma;m1=1;var n=Zt(),e=Gn();return ma=function(t,r){var i=t[r];return e(i)?void 0:n(i)},ma}var ba,b1;function y2(){if(b1)return ba;b1=1;var n=st(),e=Ne(),t=et(),r=TypeError;return ba=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!t(a=n(o,i))||e(o=i.valueOf)&&!t(a=n(o,i))||s!=="string"&&e(o=i.toString)&&!t(a=n(o,i)))return a;throw new r("Can't convert object to primitive value")},ba}var _a={exports:{}},wa,_1;function ji(){return _1||(_1=1,wa=!0),wa}var Ea,w1;function m2(){if(w1)return Ea;w1=1;var n=qe(),e=Object.defineProperty;return Ea=function(t,r){try{e(n,t,{value:r,configurable:!0,writable:!0})}catch{n[t]=r}return r},Ea}var E1;function Mm(){if(E1)return _a.exports;E1=1;var n=ji(),e=qe(),t=m2(),r="__core-js_shared__",i=_a.exports=e[r]||t(r,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:n?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),_a.exports}var Sa,S1;function Li(){if(S1)return Sa;S1=1;var n=Mm();return Sa=function(e,t){return n[e]||(n[e]=t||{})},Sa}var Oa,O1;function Pt(){if(O1)return Oa;O1=1;var n=Xr(),e=Object;return Oa=function(t){return e(n(t))},Oa}var Ia,I1;function Be(){if(I1)return Ia;I1=1;var n=de(),e=Pt(),t=n({}.hasOwnProperty);return Ia=Object.hasOwn||function(i,s){return t(e(i),s)},Ia}var $a,$1;function io(){if($1)return $a;$1=1;var n=de(),e=0,t=Math.random(),r=n(1.1.toString);return $a=function(i){return"Symbol("+(i===void 0?"":i)+")_"+r(++e+t,36)},$a}var Ta,T1;function je(){if(T1)return Ta;T1=1;var n=qe(),e=Li(),t=Be(),r=io(),i=ki(),s=cF(),o=n.Symbol,a=e("wks"),u=s?o.for||o:o&&o.withoutSetter||r;return Ta=function(l){return t(a,l)||(a[l]=i&&t(o,l)?o[l]:u("Symbol."+l)),a[l]},Ta}var Pa,P1;function hF(){if(P1)return Pa;P1=1;var n=st(),e=et(),t=Yn(),r=Am(),i=y2(),s=je(),o=TypeError,a=s("toPrimitive");return Pa=function(u,l){if(!e(u)||t(u))return u;var d=r(u,a),c;if(d){if(l===void 0&&(l="default"),c=n(d,u,l),!e(c)||t(c))return c;throw new o("Can't convert object to primitive value")}return l===void 0&&(l="number"),i(u,l)},Pa}var Ra,R1;function Fm(){if(R1)return Ra;R1=1;var n=hF(),e=Yn();return Ra=function(t){var r=n(t,"string");return e(r)?r:r+""},Ra}var qa,q1;function fF(){if(q1)return qa;q1=1;var n=qe(),e=et(),t=n.document,r=e(t)&&e(t.createElement);return qa=function(i){return r?t.createElement(i):{}},qa}var Ca,C1;function vF(){if(C1)return Ca;C1=1;var n=Ce(),e=se(),t=fF();return Ca=!n&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),Ca}var x1;function no(){if(x1)return Zo;x1=1;var n=Ce(),e=st(),t=Dm(),r=Vn(),i=Nt(),s=Fm(),o=Be(),a=vF(),u=Object.getOwnPropertyDescriptor;return Zo.f=n?u:function(d,c){if(d=i(d),c=s(c),a)try{return u(d,c)}catch{}if(o(d,c))return r(!e(t.f,d,c),d[c])},Zo}var xa,D1;function b2(){if(D1)return xa;D1=1;var n=se(),e=Ne(),t=/#|\.prototype\./,r=function(u,l){var d=s[i(u)];return d===a?!0:d===o?!1:e(l)?n(l):!!l},i=r.normalize=function(u){return String(u).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return xa=r,xa}var Da,A1;function so(){if(A1)return Da;A1=1;var n=dF(),e=Zt(),t=Un(),r=n(n.bind);return Da=function(i,s){return e(i),s===void 0?i:t?r(i,s):function(){return i.apply(s,arguments)}},Da}var Aa={},Ma,M1;function pF(){if(M1)return Ma;M1=1;var n=Ce(),e=se();return Ma=n&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Ma}var Fa,F1;function Qt(){if(F1)return Fa;F1=1;var n=et(),e=String,t=TypeError;return Fa=function(r){if(n(r))return r;throw new t(e(r)+" is not an object")},Fa}var N1;function pt(){if(N1)return Aa;N1=1;var n=Ce(),e=vF(),t=pF(),r=Qt(),i=Fm(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u="enumerable",l="configurable",d="writable";return Aa.f=n?t?function(h,f,v){if(r(h),f=i(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&d in v&&!v[d]){var g=a(h,f);g&&g[d]&&(h[f]=v.value,v={configurable:l in v?v[l]:g[l],enumerable:u in v?v[u]:g[u],writable:!1})}return o(h,f,v)}:o:function(h,f,v){if(r(h),f=i(f),r(v),e)try{return o(h,f,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(h[f]=v.value),h},Aa}var Na,k1;function zi(){if(k1)return Na;k1=1;var n=Ce(),e=pt(),t=Vn();return Na=n?function(r,i,s){return e.f(r,i,t(1,s))}:function(r,i,s){return r[i]=s,r},Na}var ka,B1;function Y(){if(B1)return ka;B1=1;var n=qe(),e=to(),t=dF(),r=Ne(),i=no().f,s=b2(),o=Me(),a=so(),u=zi(),l=Be(),d=function(c){var h=function(f,v,g){if(this instanceof h){switch(arguments.length){case 0:return new c;case 1:return new c(f);case 2:return new c(f,v)}return new c(f,v,g)}return e(c,this,arguments)};return h.prototype=c.prototype,h};return ka=function(c,h){var f=c.target,v=c.global,g=c.stat,b=c.proto,y=v?n:g?n[f]:n[f]&&n[f].prototype,p=v?o:o[f]||u(o,f,{})[f],S=p.prototype,m,w,O,I,_,E,$,T,P;for(I in h)m=s(v?I:f+(g?".":"#")+I,c.forced),w=!m&&y&&l(y,I),E=p[I],w&&(c.dontCallGetSet?(P=i(y,I),$=P&&P.value):$=y[I]),_=w&&$?$:h[I],!(!m&&!b&&typeof E==typeof _)&&(c.bind&&w?T=a(_,n):c.wrap&&w?T=d(_):b&&r(_)?T=t(_):T=_,(c.sham||_&&_.sham||E&&E.sham)&&u(T,"sham",!0),u(p,I,T),b&&(O=f+"Prototype",l(o,O)||u(o,O,{}),u(o[O],I,_),c.real&&S&&(m||!S[I])&&u(S,I,_)))},ka}var j1;function _2(){if(j1)return Hb;j1=1;var n=Y(),e=Ce(),t=pt().f;return n({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),Hb}var L1;function w2(){if(L1)return Ho.exports;L1=1,_2();var n=Me(),e=n.Object,t=Ho.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(t.sham=!0),Ho.exports}var Ba,z1;function gF(){if(z1)return Ba;z1=1;var n=w2();return Ba=n,Ba}var ja,W1;function E2(){if(W1)return ja;W1=1;var n=gF();return ja=n,ja}var La,H1;function S2(){if(H1)return La;H1=1;var n=E2();return La=n,La}var za,U1;function O2(){return U1||(U1=1,za=S2()),za}var I2=O2(),$2=ee(I2),V1={},Wa,G1;function Jr(){if(G1)return Wa;G1=1;var n=Jt();return Wa=Array.isArray||function(t){return n(t)==="Array"},Wa}var Ha,K1;function T2(){if(K1)return Ha;K1=1;var n=Math.ceil,e=Math.floor;return Ha=Math.trunc||function(r){var i=+r;return(i>0?e:n)(i)},Ha}var Ua,Y1;function Wi(){if(Y1)return Ua;Y1=1;var n=T2();return Ua=function(e){var t=+e;return t!==t||t===0?0:n(t)},Ua}var Va,X1;function yF(){if(X1)return Va;X1=1;var n=Wi(),e=Math.min;return Va=function(t){var r=n(t);return r>0?e(r,9007199254740991):0},Va}var Ga,J1;function gr(){if(J1)return Ga;J1=1;var n=yF();return Ga=function(e){return n(e.length)},Ga}var Ka,Z1;function mF(){if(Z1)return Ka;Z1=1;var n=TypeError,e=9007199254740991;return Ka=function(t){if(t>e)throw n("Maximum allowed index exceeded");return t},Ka}var Ya,Q1;function oo(){if(Q1)return Ya;Q1=1;var n=Ce(),e=pt(),t=Vn();return Ya=function(r,i,s){n?e.f(r,i,t(0,s)):r[i]=s},Ya}var Xa,e_;function Nm(){if(e_)return Xa;e_=1;var n=je(),e=n("toStringTag"),t={};return t[e]="z",Xa=String(t)==="[object z]",Xa}var Ja,t_;function yr(){if(t_)return Ja;t_=1;var n=Nm(),e=Ne(),t=Jt(),r=je(),i=r("toStringTag"),s=Object,o=t((function(){return arguments})())==="Arguments",a=function(u,l){try{return u[l]}catch{}};return Ja=n?t:function(u){var l,d,c;return u===void 0?"Undefined":u===null?"Null":typeof(d=a(l=s(u),i))=="string"?d:o?t(l):(c=t(l))==="Object"&&e(l.callee)?"Arguments":c},Ja}var Za,r_;function P2(){if(r_)return Za;r_=1;var n=de(),e=Ne(),t=Mm(),r=n(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(i){return r(i)}),Za=t.inspectSource,Za}var Qa,i_;function bF(){if(i_)return Qa;i_=1;var n=de(),e=se(),t=Ne(),r=yr(),i=ut(),s=P2(),o=function(){},a=i("Reflect","construct"),u=/^\s*(?:class|function)\b/,l=n(u.exec),d=!u.test(o),c=function(v){if(!t(v))return!1;try{return a(o,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!l(u,s(v))}catch{return!0}};return h.sham=!0,Qa=!a||e(function(){var f;return c(c.call)||!c(Object)||!c(function(){f=!0})||f})?h:c,Qa}var eu,n_;function R2(){if(n_)return eu;n_=1;var n=Jr(),e=bF(),t=et(),r=je(),i=r("species"),s=Array;return eu=function(o){var a;return n(o)&&(a=o.constructor,e(a)&&(a===s||n(a.prototype))?a=void 0:t(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},eu}var tu,s_;function km(){if(s_)return tu;s_=1;var n=R2();return tu=function(e,t){return new(n(e))(t===0?0:t)},tu}var ru,o_;function Xn(){if(o_)return ru;o_=1;var n=se(),e=je(),t=Kn(),r=e("species");return ru=function(i){return t>=51||!n(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[i](Boolean).foo!==1})},ru}var a_;function _F(){if(a_)return V1;a_=1;var n=Y(),e=se(),t=Jr(),r=et(),i=Pt(),s=gr(),o=mF(),a=oo(),u=km(),l=Xn(),d=je(),c=Kn(),h=d("isConcatSpreadable"),f=c>=51||!e(function(){var b=[];return b[h]=!1,b.concat()[0]!==b}),v=function(b){if(!r(b))return!1;var y=b[h];return y!==void 0?!!y:t(b)},g=!f||!l("concat");return n({target:"Array",proto:!0,arity:1,forced:g},{concat:function(y){var p=i(this),S=u(p,0),m=0,w,O,I,_,E;for(w=-1,I=arguments.length;w<I;w++)if(E=w===-1?p:arguments[w],v(E))for(_=s(E),o(m+_),O=0;O<_;O++,m++)O in E&&a(S,m,E[O]);else o(m+1),a(S,m++,E);return S.length=m,S}}),V1}var u_={},l_={},iu,d_;function mr(){if(d_)return iu;d_=1;var n=yr(),e=String;return iu=function(t){if(n(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},iu}var nu={},su,c_;function Bm(){if(c_)return su;c_=1;var n=Wi(),e=Math.max,t=Math.min;return su=function(r,i){var s=n(r);return s<0?e(s+i,0):t(s,i)},su}var ou,h_;function q2(){if(h_)return ou;h_=1;var n=Nt(),e=Bm(),t=gr(),r=function(i){return function(s,o,a){var u=n(s),l=t(u);if(l===0)return!i&&-1;var d=e(a,l),c;if(i&&o!==o){for(;l>d;)if(c=u[d++],c!==c)return!0}else for(;l>d;d++)if((i||d in u)&&u[d]===o)return i||d||0;return!i&&-1}};return ou={includes:r(!0),indexOf:r(!1)},ou}var au,f_;function Jn(){return f_||(f_=1,au={}),au}var uu,v_;function wF(){if(v_)return uu;v_=1;var n=de(),e=Be(),t=Nt(),r=q2().indexOf,i=Jn(),s=n([].push);return uu=function(o,a){var u=t(o),l=0,d=[],c;for(c in u)!e(i,c)&&e(u,c)&&s(d,c);for(;a.length>l;)e(u,c=a[l++])&&(~r(d,c)||s(d,c));return d},uu}var lu,p_;function jm(){return p_||(p_=1,lu=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),lu}var du,g_;function ao(){if(g_)return du;g_=1;var n=wF(),e=jm();return du=Object.keys||function(r){return n(r,e)},du}var y_;function Lm(){if(y_)return nu;y_=1;var n=Ce(),e=pF(),t=pt(),r=Qt(),i=Nt(),s=ao();return nu.f=n&&!e?Object.defineProperties:function(a,u){r(a);for(var l=i(u),d=s(u),c=d.length,h=0,f;c>h;)t.f(a,f=d[h++],l[f]);return a},nu}var cu,m_;function C2(){if(m_)return cu;m_=1;var n=ut();return cu=n("document","documentElement"),cu}var hu,b_;function uo(){if(b_)return hu;b_=1;var n=Li(),e=io(),t=n("keys");return hu=function(r){return t[r]||(t[r]=e(r))},hu}var fu,__;function Zn(){if(__)return fu;__=1;var n=Qt(),e=Lm(),t=jm(),r=Jn(),i=C2(),s=fF(),o=uo(),a=">",u="<",l="prototype",d="script",c=o("IE_PROTO"),h=function(){},f=function(p){return u+d+a+p+u+"/"+d+a},v=function(p){p.write(f("")),p.close();var S=p.parentWindow.Object;return p=null,S},g=function(){var p=s("iframe"),S="java"+d+":",m;return p.style.display="none",i.appendChild(p),p.src=String(S),m=p.contentWindow.document,m.open(),m.write(f("document.F=Object")),m.close(),m.F},b,y=function(){try{b=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&b?v(b):g():v(b);for(var p=t.length;p--;)delete y[l][t[p]];return y()};return r[c]=!0,fu=Object.create||function(S,m){var w;return S!==null?(h[l]=n(S),w=new h,h[l]=null,w[c]=S):w=y(),m===void 0?w:e.f(w,m)},fu}var vu={},w_;function lo(){if(w_)return vu;w_=1;var n=wF(),e=jm(),t=e.concat("length","prototype");return vu.f=Object.getOwnPropertyNames||function(i){return n(i,t)},vu}var pu={},gu,E_;function Hi(){if(E_)return gu;E_=1;var n=de();return gu=n([].slice),gu}var S_;function EF(){if(S_)return pu;S_=1;var n=Jt(),e=Nt(),t=lo().f,r=Hi(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(i)}};return pu.f=function(a){return i&&n(a)==="Window"?s(a):t(e(a))},pu}var yu={},O_;function co(){return O_||(O_=1,yu.f=Object.getOwnPropertySymbols),yu}var mu,I_;function Qn(){if(I_)return mu;I_=1;var n=zi();return mu=function(e,t,r,i){return i&&i.enumerable?e[t]=r:n(e,t,r),e},mu}var bu,$_;function zm(){if($_)return bu;$_=1;var n=pt();return bu=function(e,t,r){return n.f(e,t,r)},bu}var _u={},T_;function ho(){if(T_)return _u;T_=1;var n=je();return _u.f=n,_u}var wu,P_;function be(){if(P_)return wu;P_=1;var n=Me(),e=Be(),t=ho(),r=pt().f;return wu=function(i){var s=n.Symbol||(n.Symbol={});e(s,i)||r(s,i,{value:t.f(i)})},wu}var Eu,R_;function SF(){if(R_)return Eu;R_=1;var n=st(),e=ut(),t=je(),r=Qn();return Eu=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(u){return n(o,this)},{arity:1})},Eu}var Su,q_;function x2(){if(q_)return Su;q_=1;var n=Nm(),e=yr();return Su=n?{}.toString:function(){return"[object "+e(this)+"]"},Su}var Ou,C_;function Zr(){if(C_)return Ou;C_=1;var n=Nm(),e=pt().f,t=zi(),r=Be(),i=x2(),s=je(),o=s("toStringTag");return Ou=function(a,u,l,d){var c=l?a:a&&a.prototype;c&&(r(c,o)||e(c,o,{configurable:!0,value:u}),d&&!n&&t(c,"toString",i))},Ou}var Iu,x_;function D2(){if(x_)return Iu;x_=1;var n=qe(),e=Ne(),t=n.WeakMap;return Iu=e(t)&&/native code/.test(String(t)),Iu}var $u,D_;function es(){if(D_)return $u;D_=1;var n=D2(),e=qe(),t=et(),r=zi(),i=Be(),s=Mm(),o=uo(),a=Jn(),u="Object already initialized",l=e.TypeError,d=e.WeakMap,c,h,f,v=function(p){return f(p)?h(p):c(p,{})},g=function(p){return function(S){var m;if(!t(S)||(m=h(S)).type!==p)throw new l("Incompatible receiver, "+p+" required");return m}};if(n||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,c=function(p,S){if(b.has(p))throw new l(u);return S.facade=p,b.set(p,S),S},h=function(p){return b.get(p)||{}},f=function(p){return b.has(p)}}else{var y=o("state");a[y]=!0,c=function(p,S){if(i(p,y))throw new l(u);return S.facade=p,r(p,y,S),S},h=function(p){return i(p,y)?p[y]:{}},f=function(p){return i(p,y)}}return $u={set:c,get:h,has:f,enforce:v,getterFor:g},$u}var Tu,A_;function Ui(){if(A_)return Tu;A_=1;var n=so(),e=de(),t=ro(),r=Pt(),i=gr(),s=km(),o=e([].push),a=function(u){var l=u===1,d=u===2,c=u===3,h=u===4,f=u===6,v=u===7,g=u===5||f;return function(b,y,p,S){for(var m=r(b),w=t(m),O=i(w),I=n(y,p),_=0,E=S||s,$=l?E(b,O):d||v?E(b,0):void 0,T,P;O>_;_++)if((g||_ in w)&&(T=w[_],P=I(T,_,m),u))if(l)$[_]=P;else if(P)switch(u){case 3:return!0;case 5:return T;case 6:return _;case 2:o($,T)}else switch(u){case 4:return!1;case 7:o($,T)}return f?-1:c||h?h:$}};return Tu={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},Tu}var M_;function A2(){if(M_)return l_;M_=1;var n=Y(),e=qe(),t=st(),r=de(),i=ji(),s=Ce(),o=ki(),a=se(),u=Be(),l=ke(),d=Qt(),c=Nt(),h=Fm(),f=mr(),v=Vn(),g=Zn(),b=ao(),y=lo(),p=EF(),S=co(),m=no(),w=pt(),O=Lm(),I=Dm(),_=Qn(),E=zm(),$=Li(),T=uo(),P=Jn(),R=io(),C=je(),M=ho(),K=be(),L=SF(),J=Zr(),Q=es(),ae=Ui().forEach,W=T("hidden"),ue="Symbol",ye="prototype",me=Q.set,_t=Q.getterFor(ue),ve=Object[ye],Ge=e.Symbol,wt=Ge&&Ge[ye],No=e.RangeError,ko=e.TypeError,Or=e.QObject,cn=m.f,Ke=w.f,hn=p.f,Bo=I.f,fn=r([].push),Ae=$("symbols"),Et=$("op-symbols"),jo=$("wks"),Ir=!Or||!Or[ye]||!Or[ye].findChild,vn=function(H,F,N){var k=cn(ve,F);k&&delete ve[F],Ke(H,F,N),k&&H!==ve&&Ke(ve,F,k)},$r=s&&a(function(){return g(Ke({},"a",{get:function(){return Ke(this,"a",{value:7}).a}})).a!==7})?vn:Ke,Tr=function(H,F){var N=Ae[H]=g(wt);return me(N,{type:ue,tag:H,description:F}),s||(N.description=F),N},jt=function(F,N,k){F===ve&&jt(Et,N,k),d(F);var U=h(N);return d(k),u(Ae,U)?(k.enumerable?(u(F,W)&&F[W][U]&&(F[W][U]=!1),k=g(k,{enumerable:v(0,!1)})):(u(F,W)||Ke(F,W,v(1,g(null))),F[W][U]=!0),$r(F,U,k)):Ke(F,U,k)},Pr=function(F,N){d(F);var k=c(N),U=b(k).concat(yn(k));return ae(U,function(ie){(!s||t(Rr,k,ie))&&jt(F,ie,k[ie])}),F},Lo=function(F,N){return N===void 0?g(F):Pr(g(F),N)},Rr=function(F){var N=h(F),k=t(Bo,this,N);return this===ve&&u(Ae,N)&&!u(Et,N)?!1:k||!u(this,N)||!u(Ae,N)||u(this,W)&&this[W][N]?k:!0},pn=function(F,N){var k=c(F),U=h(N);if(!(k===ve&&u(Ae,U)&&!u(Et,U))){var ie=cn(k,U);return ie&&u(Ae,U)&&!(u(k,W)&&k[W][U])&&(ie.enumerable=!0),ie}},gn=function(F){var N=hn(c(F)),k=[];return ae(N,function(U){!u(Ae,U)&&!u(P,U)&&fn(k,U)}),k},yn=function(H){var F=H===ve,N=hn(F?Et:c(H)),k=[];return ae(N,function(U){u(Ae,U)&&(!F||u(ve,U))&&fn(k,Ae[U])}),k};return o||(Ge=function(){if(l(wt,this))throw new ko("Symbol is not a constructor");var F=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),N=R(F),k=function(U){var ie=this===void 0?e:this;ie===ve&&t(k,Et,U),u(ie,W)&&u(ie[W],N)&&(ie[W][N]=!1);var mn=v(1,U);try{$r(ie,N,mn)}catch(bn){if(!(bn instanceof No))throw bn;vn(ie,N,mn)}};return s&&Ir&&$r(ve,N,{configurable:!0,set:k}),Tr(N,F)},wt=Ge[ye],_(wt,"toString",function(){return _t(this).tag}),_(Ge,"withoutSetter",function(H){return Tr(R(H),H)}),I.f=Rr,w.f=jt,O.f=Pr,m.f=pn,y.f=p.f=gn,S.f=yn,M.f=function(H){return Tr(C(H),H)},s&&(E(wt,"description",{configurable:!0,get:function(){return _t(this).description}}),i||_(ve,"propertyIsEnumerable",Rr,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:Ge}),ae(b(jo),function(H){K(H)}),n({target:ue,stat:!0,forced:!o},{useSetter:function(){Ir=!0},useSimple:function(){Ir=!1}}),n({target:"Object",stat:!0,forced:!o,sham:!s},{create:Lo,defineProperty:jt,defineProperties:Pr,getOwnPropertyDescriptor:pn}),n({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:gn}),L(),J(Ge,ue),P[W]=!0,l_}var F_={},Pu,N_;function OF(){if(N_)return Pu;N_=1;var n=ki();return Pu=n&&!!Symbol.for&&!!Symbol.keyFor,Pu}var k_;function M2(){if(k_)return F_;k_=1;var n=Y(),e=ut(),t=Be(),r=mr(),i=Li(),s=OF(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{for:function(u){var l=r(u);if(t(o,l))return o[l];var d=e("Symbol")(l);return o[l]=d,a[d]=l,d}}),F_}var B_={},j_;function F2(){if(j_)return B_;j_=1;var n=Y(),e=Be(),t=Yn(),r=Bi(),i=Li(),s=OF(),o=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!t(u))throw new TypeError(r(u)+" is not a symbol");if(e(o,u))return o[u]}}),B_}var L_={},Ru,z_;function N2(){if(z_)return Ru;z_=1;var n=de(),e=Jr(),t=Ne(),r=Jt(),i=mr(),s=n([].push);return Ru=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,u=[],l=0;l<a;l++){var d=o[l];typeof d=="string"?s(u,d):(typeof d=="number"||r(d)==="Number"||r(d)==="String")&&s(u,i(d))}var c=u.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var g=0;g<c;g++)if(u[g]===f)return v}}},Ru}var W_;function IF(){if(W_)return L_;W_=1;var n=Y(),e=ut(),t=to(),r=st(),i=de(),s=se(),o=Ne(),a=Yn(),u=Hi(),l=N2(),d=ki(),c=String,h=e("JSON","stringify"),f=i(/./.exec),v=i("".charAt),g=i("".charCodeAt),b=i("".replace),y=i(1.1.toString),p=/[\uD800-\uDFFF]/g,S=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,w=!d||s(function(){var E=e("Symbol")("stringify detection");return h([E])!=="[null]"||h({a:E})!=="{}"||h(Object(E))!=="{}"}),O=s(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),I=function(E,$){var T=u(arguments),P=l($);if(!(!o(P)&&(E===void 0||a(E))))return T[1]=function(R,C){if(o(P)&&(C=r(P,this,c(R),C)),!a(C))return C},t(h,null,T)},_=function(E,$,T){var P=v(T,$-1),R=v(T,$+1);return f(S,E)&&!f(m,R)||f(m,E)&&!f(S,P)?"\\u"+y(g(E,0),16):E};return h&&n({target:"JSON",stat:!0,arity:3,forced:w||O},{stringify:function($,T,P){var R=u(arguments),C=t(w?I:h,null,R);return O&&typeof C=="string"?b(C,p,_):C}}),L_}var H_={},U_;function k2(){if(U_)return H_;U_=1;var n=Y(),e=ki(),t=se(),r=co(),i=Pt(),s=!e||t(function(){r.f(1)});return n({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var u=r.f;return u?u(i(a)):[]}}),H_}var V_;function $F(){return V_||(V_=1,A2(),M2(),F2(),IF(),k2()),u_}var G_={},K_;function TF(){if(K_)return G_;K_=1;var n=be();return n("asyncDispose"),G_}var Y_={},X_;function B2(){if(X_)return Y_;X_=1;var n=be();return n("asyncIterator"),Y_}var J_={},Z_;function PF(){if(Z_)return J_;Z_=1;var n=be();return n("dispose"),J_}var Q_={},ew;function j2(){if(ew)return Q_;ew=1;var n=be();return n("hasInstance"),Q_}var tw={},rw;function L2(){if(rw)return tw;rw=1;var n=be();return n("isConcatSpreadable"),tw}var iw={},nw;function RF(){if(nw)return iw;nw=1;var n=be();return n("iterator"),iw}var sw={},ow;function z2(){if(ow)return sw;ow=1;var n=be();return n("match"),sw}var aw={},uw;function W2(){if(uw)return aw;uw=1;var n=be();return n("matchAll"),aw}var lw={},dw;function H2(){if(dw)return lw;dw=1;var n=be();return n("replace"),lw}var cw={},hw;function U2(){if(hw)return cw;hw=1;var n=be();return n("search"),cw}var fw={},vw;function V2(){if(vw)return fw;vw=1;var n=be();return n("species"),fw}var pw={},gw;function G2(){if(gw)return pw;gw=1;var n=be();return n("split"),pw}var yw={},mw;function qF(){if(mw)return yw;mw=1;var n=be(),e=SF();return n("toPrimitive"),e(),yw}var bw={},_w;function K2(){if(_w)return bw;_w=1;var n=ut(),e=be(),t=Zr();return e("toStringTag"),t(n("Symbol"),"Symbol"),bw}var ww={},Ew;function Y2(){if(Ew)return ww;Ew=1;var n=be();return n("unscopables"),ww}var Sw={},Ow;function X2(){if(Ow)return Sw;Ow=1;var n=qe(),e=Zr();return e(n.JSON,"JSON",!0),Sw}var qu,Iw;function J2(){if(Iw)return qu;Iw=1,_F(),$F(),TF(),B2(),PF(),j2(),L2(),RF(),z2(),W2(),H2(),U2(),V2(),G2(),qF(),K2(),Y2(),X2();var n=Me();return qu=n.Symbol,qu}var $w={},Cu,Tw;function Z2(){return Tw||(Tw=1,Cu=function(){}),Cu}var xu,Pw;function Vi(){return Pw||(Pw=1,xu={}),xu}var Du,Rw;function Q2(){if(Rw)return Du;Rw=1;var n=Ce(),e=Be(),t=Function.prototype,r=n&&Object.getOwnPropertyDescriptor,i=e(t,"name"),s=i&&(function(){}).name==="something",o=i&&(!n||n&&r(t,"name").configurable);return Du={EXISTS:i,PROPER:s,CONFIGURABLE:o},Du}var Au,qw;function eB(){if(qw)return Au;qw=1;var n=se();return Au=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Au}var Mu,Cw;function CF(){if(Cw)return Mu;Cw=1;var n=Be(),e=Ne(),t=Pt(),r=uo(),i=eB(),s=r("IE_PROTO"),o=Object,a=o.prototype;return Mu=i?o.getPrototypeOf:function(u){var l=t(u);if(n(l,s))return l[s];var d=l.constructor;return e(d)&&l instanceof d?d.prototype:l instanceof o?a:null},Mu}var Fu,xw;function xF(){if(xw)return Fu;xw=1;var n=se(),e=Ne(),t=et(),r=Zn(),i=CF(),s=Qn(),o=je(),a=ji(),u=o("iterator"),l=!1,d,c,h;[].keys&&(h=[].keys(),"next"in h?(c=i(i(h)),c!==Object.prototype&&(d=c)):l=!0);var f=!t(d)||n(function(){var v={};return d[u].call(v)!==v});return f?d={}:a&&(d=r(d)),e(d[u])||s(d,u,function(){return this}),Fu={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:l},Fu}var Nu,Dw;function tB(){if(Dw)return Nu;Dw=1;var n=xF().IteratorPrototype,e=Zn(),t=Vn(),r=Zr(),i=Vi(),s=function(){return this};return Nu=function(o,a,u,l){var d=a+" Iterator";return o.prototype=e(n,{next:t(+!l,u)}),r(o,d,!1,!0),i[d]=s,o},Nu}var ku,Aw;function rB(){if(Aw)return ku;Aw=1;var n=de(),e=Zt();return ku=function(t,r,i){try{return n(e(Object.getOwnPropertyDescriptor(t,r)[i]))}catch{}},ku}var Bu,Mw;function iB(){if(Mw)return Bu;Mw=1;var n=et();return Bu=function(e){return n(e)||e===null},Bu}var ju,Fw;function nB(){if(Fw)return ju;Fw=1;var n=iB(),e=String,t=TypeError;return ju=function(r){if(n(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},ju}var Lu,Nw;function sB(){if(Nw)return Lu;Nw=1;var n=rB(),e=et(),t=Xr(),r=nB();return Lu=Object.setPrototypeOf||("__proto__"in{}?(function(){var i=!1,s={},o;try{o=n(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(u,l){return t(u),r(l),e(u)&&(i?o(u,l):u.__proto__=l),u}})():void 0),Lu}var zu,kw;function Wm(){if(kw)return zu;kw=1;var n=Y(),e=st(),t=ji(),r=Q2(),i=Ne(),s=tB(),o=CF(),a=sB(),u=Zr(),l=zi(),d=Qn(),c=je(),h=Vi(),f=xF(),v=r.PROPER,g=r.CONFIGURABLE,b=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,p=c("iterator"),S="keys",m="values",w="entries",O=function(){return this};return zu=function(I,_,E,$,T,P,R){s(E,_,$);var C=function(me){if(me===T&&Q)return Q;if(!y&&me&&me in L)return L[me];switch(me){case S:return function(){return new E(this,me)};case m:return function(){return new E(this,me)};case w:return function(){return new E(this,me)}}return function(){return new E(this)}},M=_+" Iterator",K=!1,L=I.prototype,J=L[p]||L["@@iterator"]||T&&L[T],Q=!y&&J||C(T),ae=_==="Array"&&L.entries||J,W,ue,ye;if(ae&&(W=o(ae.call(new I)),W!==Object.prototype&&W.next&&(!t&&o(W)!==b&&(a?a(W,b):i(W[p])||d(W,p,O)),u(W,M,!0,!0),t&&(h[M]=O))),v&&T===m&&J&&J.name!==m&&(!t&&g?l(L,"name",m):(K=!0,Q=function(){return e(J,this)})),T)if(ue={values:C(m),keys:P?Q:C(S),entries:C(w)},R)for(ye in ue)(y||K||!(ye in L))&&d(L,ye,ue[ye]);else n({target:_,proto:!0,forced:y||K},ue);return(!t||R)&&L[p]!==Q&&d(L,p,Q,{name:T}),h[_]=Q,ue},zu}var Wu,Bw;function Hm(){return Bw||(Bw=1,Wu=function(n,e){return{value:n,done:e}}),Wu}var Hu,jw;function br(){if(jw)return Hu;jw=1;var n=Nt(),e=Z2(),t=Vi(),r=es(),i=pt().f,s=Wm(),o=Hm(),a=ji(),u=Ce(),l="Array Iterator",d=r.set,c=r.getterFor(l);Hu=s(Array,"Array",function(f,v){d(this,{type:l,target:n(f),index:0,kind:v})},function(){var f=c(this),v=f.target,g=f.index++;if(!v||g>=v.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(g,!1);case"values":return o(v[g],!1)}return o([g,v[g]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&u&&h.name!=="values")try{i(h,"name",{value:"values"})}catch{}return Hu}var Uu,Lw;function oB(){return Lw||(Lw=1,Uu={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Uu}var zw;function _r(){if(zw)return $w;zw=1,br();var n=oB(),e=qe(),t=Zr(),r=Vi();for(var i in n)t(e[i],i),r[i]=r.Array;return $w}var Vu,Ww;function DF(){if(Ww)return Vu;Ww=1;var n=J2();return _r(),Vu=n,Vu}var Hw={},Uw;function aB(){if(Uw)return Hw;Uw=1;var n=je(),e=pt().f,t=n("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),Hw}var Vw={},Gw;function uB(){return Gw||(Gw=1,TF()),Vw}var Kw={},Yw;function lB(){return Yw||(Yw=1,PF()),Kw}var Xw={},Jw;function dB(){if(Jw)return Xw;Jw=1;var n=be();return n("metadata"),Xw}var Gu,Zw;function cB(){if(Zw)return Gu;Zw=1;var n=DF();return aB(),uB(),lB(),dB(),Gu=n,Gu}var Qw={},Ku,e0;function AF(){if(e0)return Ku;e0=1;var n=ut(),e=de(),t=n("Symbol"),r=t.keyFor,i=e(t.prototype.valueOf);return Ku=t.isRegisteredSymbol||function(o){try{return r(i(o))!==void 0}catch{return!1}},Ku}var t0;function hB(){if(t0)return Qw;t0=1;var n=Y(),e=AF();return n({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Qw}var r0={},Yu,i0;function MF(){if(i0)return Yu;i0=1;for(var n=Li(),e=ut(),t=de(),r=Yn(),i=je(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),u=t(s.prototype.valueOf),l=n("wks"),d=0,c=a(s),h=c.length;d<h;d++)try{var f=c[d];r(s[f])&&i(f)}catch{}return Yu=function(g){if(o&&o(g))return!0;try{for(var b=u(g),y=0,p=a(l),S=p.length;y<S;y++)if(l[p[y]]==b)return!0}catch{}return!1},Yu}var n0;function fB(){if(n0)return r0;n0=1;var n=Y(),e=MF();return n({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),r0}var s0={},o0;function vB(){if(o0)return s0;o0=1;var n=be();return n("customMatcher"),s0}var a0={},u0;function pB(){if(u0)return a0;u0=1;var n=be();return n("observable"),a0}var l0={},d0;function gB(){if(d0)return l0;d0=1;var n=Y(),e=AF();return n({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),l0}var c0={},h0;function yB(){if(h0)return c0;h0=1;var n=Y(),e=MF();return n({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),c0}var f0={},v0;function mB(){if(v0)return f0;v0=1;var n=be();return n("matcher"),f0}var p0={},g0;function bB(){if(g0)return p0;g0=1;var n=be();return n("metadataKey"),p0}var y0={},m0;function _B(){if(m0)return y0;m0=1;var n=be();return n("patternMatch"),y0}var b0={},_0;function wB(){if(_0)return b0;_0=1;var n=be();return n("replaceAll"),b0}var Xu,w0;function EB(){if(w0)return Xu;w0=1;var n=cB();return hB(),fB(),vB(),pB(),gB(),yB(),mB(),bB(),_B(),wB(),Xu=n,Xu}var Ju,E0;function SB(){return E0||(E0=1,Ju=EB()),Ju}var OB=SB(),Rs=ee(OB),S0={},Zu,O0;function IB(){if(O0)return Zu;O0=1;var n=de(),e=Wi(),t=mr(),r=Xr(),i=n("".charAt),s=n("".charCodeAt),o=n("".slice),a=function(u){return function(l,d){var c=t(r(l)),h=e(d),f=c.length,v,g;return h<0||h>=f?u?"":void 0:(v=s(c,h),v<55296||v>56319||h+1===f||(g=s(c,h+1))<56320||g>57343?u?i(c,h):v:u?o(c,h,h+2):(v-55296<<10)+(g-56320)+65536)}};return Zu={codeAt:a(!1),charAt:a(!0)},Zu}var I0;function fo(){if(I0)return S0;I0=1;var n=IB().charAt,e=mr(),t=es(),r=Wm(),i=Hm(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(u){o(this,{type:s,string:e(u),index:0})},function(){var l=a(this),d=l.string,c=l.index,h;return c>=d.length?i(void 0,!0):(h=n(d,c),l.index+=h.length,i(h,!1))}),S0}var Qu,$0;function $B(){if($0)return Qu;$0=1,br(),fo(),RF();var n=ho();return Qu=n.f("iterator"),Qu}var el,T0;function FF(){if(T0)return el;T0=1;var n=$B();return _r(),el=n,el}var tl,P0;function TB(){if(P0)return tl;P0=1;var n=FF();return tl=n,tl}var rl,R0;function PB(){if(R0)return rl;R0=1;var n=TB();return rl=n,rl}var il,q0;function RB(){return q0||(q0=1,il=PB()),il}var qB=RB(),CB=ee(qB);function Dn(n){"@babel/helpers - typeof";return Dn=typeof Rs=="function"&&typeof CB=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Rs=="function"&&e.constructor===Rs&&e!==Rs.prototype?"symbol":typeof e},Dn(n)}var nl,C0;function xB(){if(C0)return nl;C0=1,qF();var n=ho();return nl=n.f("toPrimitive"),nl}var sl,x0;function DB(){if(x0)return sl;x0=1;var n=xB();return sl=n,sl}var ol,D0;function AB(){if(D0)return ol;D0=1;var n=DB();return ol=n,ol}var al,A0;function MB(){if(A0)return al;A0=1;var n=AB();return al=n,al}var ul,M0;function FB(){return M0||(M0=1,ul=MB()),ul}var NB=FB(),kB=ee(NB);function BB(n,e){if(Dn(n)!="object"||!n)return n;var t=n[kB];if(t!==void 0){var r=t.call(n,e);if(Dn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jB(n){var e=BB(n,"string");return Dn(e)=="symbol"?e:e+""}function ar(n,e,t){return(e=jB(e))in n?$2(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var F0={},ll,N0;function LB(){if(N0)return ll;N0=1;var n=de(),e=Zt(),t=et(),r=Be(),i=Hi(),s=Un(),o=Function,a=n([].concat),u=n([].join),l={},d=function(c,h,f){if(!r(l,h)){for(var v=[],g=0;g<h;g++)v[g]="a["+g+"]";l[h]=o("C,a","return new C("+u(v,",")+")")}return l[h](c,f)};return ll=s?o.bind:function(h){var f=e(this),v=f.prototype,g=i(arguments,1),b=function(){var p=a(g,i(arguments));return this instanceof b?d(f,p.length,p):f.apply(h,p)};return t(v)&&(b.prototype=v),b},ll}var k0;function zB(){if(k0)return F0;k0=1;var n=Y(),e=LB();return n({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),F0}var dl,B0;function ot(){if(B0)return dl;B0=1;var n=qe(),e=Me();return dl=function(t,r){var i=e[t+"Prototype"],s=i&&i[r];if(s)return s;var o=n[t],a=o&&o.prototype;return a&&a[r]},dl}var cl,j0;function WB(){if(j0)return cl;j0=1,zB();var n=ot();return cl=n("Function","bind"),cl}var hl,L0;function HB(){if(L0)return hl;L0=1;var n=ke(),e=WB(),t=Function.prototype;return hl=function(r){var i=r.bind;return r===t||n(t,r)&&i===t.bind?e:i},hl}var fl,z0;function UB(){if(z0)return fl;z0=1;var n=HB();return fl=n,fl}var vl,W0;function VB(){return W0||(W0=1,vl=UB()),vl}var GB=VB(),NF=ee(GB),H0={},pl,U0;function KB(){if(U0)return pl;U0=1;var n=Zt(),e=Pt(),t=ro(),r=gr(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(u,l,d,c){var h=e(u),f=t(h),v=r(h);if(n(l),v===0&&d<2)throw new i(s);var g=a?v-1:0,b=a?-1:1;if(d<2)for(;;){if(g in f){c=f[g],g+=b;break}if(g+=b,a?g<0:v<=g)throw new i(s)}for(;a?g>=0:v>g;g+=b)g in f&&(c=l(c,f[g],g,h));return c}};return pl={left:o(!1),right:o(!0)},pl}var gl,V0;function vo(){if(V0)return gl;V0=1;var n=se();return gl=function(e,t){var r=[][e];return!!r&&n(function(){r.call(null,t||function(){return 1},1)})},gl}var yl,G0;function kF(){if(G0)return yl;G0=1;var n=qe(),e=Ni(),t=Jt(),r=function(i){return e.slice(0,i.length)===i};return yl=(function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":n.Bun&&typeof Bun.version=="string"?"BUN":n.Deno&&typeof Deno.version=="object"?"DENO":t(n.process)==="process"?"NODE":n.window&&n.document?"BROWSER":"REST"})(),yl}var ml,K0;function YB(){if(K0)return ml;K0=1;var n=kF();return ml=n==="NODE",ml}var Y0;function XB(){if(Y0)return H0;Y0=1;var n=Y(),e=KB().left,t=vo(),r=Kn(),i=YB(),s=!i&&r>79&&r<83,o=s||!t("reduce");return n({target:"Array",proto:!0,forced:o},{reduce:function(u){var l=arguments.length;return e(this,u,l,l>1?arguments[1]:void 0)}}),H0}var bl,X0;function JB(){if(X0)return bl;X0=1,XB();var n=ot();return bl=n("Array","reduce"),bl}var _l,J0;function ZB(){if(J0)return _l;J0=1;var n=ke(),e=JB(),t=Array.prototype;return _l=function(r){var i=r.reduce;return r===t||n(t,r)&&i===t.reduce?e:i},_l}var wl,Z0;function QB(){if(Z0)return wl;Z0=1;var n=ZB();return wl=n,wl}var El,Q0;function ej(){return Q0||(Q0=1,El=QB()),El}var tj=ej(),rj=ee(tj),eE={},tE;function ij(){if(tE)return eE;tE=1;var n=Y(),e=Ui().filter,t=Xn(),r=t("filter");return n({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),eE}var Sl,rE;function nj(){if(rE)return Sl;rE=1,ij();var n=ot();return Sl=n("Array","filter"),Sl}var Ol,iE;function sj(){if(iE)return Ol;iE=1;var n=ke(),e=nj(),t=Array.prototype;return Ol=function(r){var i=r.filter;return r===t||n(t,r)&&i===t.filter?e:i},Ol}var Il,nE;function oj(){if(nE)return Il;nE=1;var n=sj();return Il=n,Il}var $l,sE;function aj(){return sE||(sE=1,$l=oj()),$l}var uj=aj(),bi=ee(uj),oE={},aE;function lj(){if(aE)return oE;aE=1;var n=Y(),e=Ui().map,t=Xn(),r=t("map");return n({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),oE}var Tl,uE;function dj(){if(uE)return Tl;uE=1,lj();var n=ot();return Tl=n("Array","map"),Tl}var Pl,lE;function cj(){if(lE)return Pl;lE=1;var n=ke(),e=dj(),t=Array.prototype;return Pl=function(r){var i=r.map;return r===t||n(t,r)&&i===t.map?e:i},Pl}var Rl,dE;function hj(){if(dE)return Rl;dE=1;var n=cj();return Rl=n,Rl}var ql,cE;function fj(){return cE||(cE=1,ql=hj()),ql}var vj=fj(),Ot=ee(vj),Cl,hE;function pj(){return hE||(hE=1,Cl=DF()),Cl}var gj=pj(),yj=ee(gj),fE={},vE;function mj(){if(vE)return fE;vE=1;var n=Y(),e=Jr(),t=bF(),r=et(),i=Bm(),s=gr(),o=Nt(),a=oo(),u=je(),l=Xn(),d=Hi(),c=l("slice"),h=u("species"),f=Array,v=Math.max;return n({target:"Array",proto:!0,forced:!c},{slice:function(b,y){var p=o(this),S=s(p),m=i(b,S),w=i(y===void 0?S:y,S),O,I,_;if(e(p)&&(O=p.constructor,t(O)&&(O===f||e(O.prototype))?O=void 0:r(O)&&(O=O[h],O===null&&(O=void 0)),O===f||O===void 0))return d(p,m,w);for(I=new(O===void 0?f:O)(v(w-m,0)),_=0;m<w;m++,_++)m in p&&a(I,_,p[m]);return I.length=_,I}}),fE}var xl,pE;function bj(){if(pE)return xl;pE=1,mj();var n=ot();return xl=n("Array","slice"),xl}var Dl,gE;function _j(){if(gE)return Dl;gE=1;var n=ke(),e=bj(),t=Array.prototype;return Dl=function(r){var i=r.slice;return r===t||n(t,r)&&i===t.slice?e:i},Dl}var Al,yE;function wj(){if(yE)return Al;yE=1;var n=_j();return Al=n,Al}var Ml,mE;function Ej(){return mE||(mE=1,Ml=wj()),Ml}var Sj=Ej(),Oj=ee(Sj),bE={},Fl,_E;function BF(){if(_E)return Fl;_E=1;var n=ut(),e=de(),t=lo(),r=co(),i=Qt(),s=e([].concat);return Fl=n("Reflect","ownKeys")||function(a){var u=t.f(i(a)),l=r.f;return l?s(u,l(a)):u},Fl}var wE;function Ij(){if(wE)return bE;wE=1;var n=Y(),e=BF();return n({target:"Reflect",stat:!0},{ownKeys:e}),bE}var Nl,EE;function $j(){if(EE)return Nl;EE=1,Ij();var n=Me();return Nl=n.Reflect.ownKeys,Nl}var kl,SE;function Tj(){if(SE)return kl;SE=1;var n=$j();return kl=n,kl}var Bl,OE;function Pj(){return OE||(OE=1,Bl=Tj()),Bl}var Rj=Pj(),qj=ee(Rj),IE={},$E;function Cj(){if($E)return IE;$E=1;var n=Y(),e=Jr();return n({target:"Array",stat:!0},{isArray:e}),IE}var jl,TE;function xj(){if(TE)return jl;TE=1,Cj();var n=Me();return jl=n.Array.isArray,jl}var Ll,PE;function Dj(){if(PE)return Ll;PE=1;var n=xj();return Ll=n,Ll}var zl,RE;function Aj(){return RE||(RE=1,zl=Dj()),zl}var Mj=Aj(),qt=ee(Mj),qE={},CE;function Fj(){if(CE)return qE;CE=1;var n=Y(),e=Pt(),t=ao(),r=se(),i=r(function(){t(1)});return n({target:"Object",stat:!0,forced:i},{keys:function(o){return t(e(o))}}),qE}var Wl,xE;function Nj(){if(xE)return Wl;xE=1,Fj();var n=Me();return Wl=n.Object.keys,Wl}var Hl,DE;function kj(){if(DE)return Hl;DE=1;var n=Nj();return Hl=n,Hl}var Ul,AE;function Bj(){return AE||(AE=1,Ul=kj()),Ul}var jj=Bj(),Um=ee(jj),ME={},Vl,FE;function Lj(){if(FE)return Vl;FE=1;var n=Ui().forEach,e=vo(),t=e("forEach");return Vl=t?[].forEach:function(i){return n(this,i,arguments.length>1?arguments[1]:void 0)},Vl}var NE;function zj(){if(NE)return ME;NE=1;var n=Y(),e=Lj();return n({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),ME}var Gl,kE;function Wj(){if(kE)return Gl;kE=1,zj();var n=ot();return Gl=n("Array","forEach"),Gl}var Kl,BE;function Hj(){if(BE)return Kl;BE=1;var n=Wj();return Kl=n,Kl}var Yl,jE;function Uj(){if(jE)return Yl;jE=1;var n=yr(),e=Be(),t=ke(),r=Hj(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Yl=function(o){var a=o.forEach;return o===i||t(i,o)&&a===i.forEach||e(s,n(o))?r:a},Yl}var Xl,LE;function Vj(){return LE||(LE=1,Xl=Uj()),Xl}var Gj=Vj(),zr=ee(Gj),zE={},WE;function Kj(){if(WE)return zE;WE=1;var n=Y(),e=de(),t=Jr(),r=e([].reverse),i=[1,2];return n({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),zE}var Jl,HE;function Yj(){if(HE)return Jl;HE=1,Kj();var n=ot();return Jl=n("Array","reverse"),Jl}var Zl,UE;function Xj(){if(UE)return Zl;UE=1;var n=ke(),e=Yj(),t=Array.prototype;return Zl=function(r){var i=r.reverse;return r===t||n(t,r)&&i===t.reverse?e:i},Zl}var Ql,VE;function Jj(){if(VE)return Ql;VE=1;var n=Xj();return Ql=n,Ql}var ed,GE;function Zj(){return GE||(GE=1,ed=Jj()),ed}var Qj=Zj(),eL=ee(Qj),KE={},td,YE;function tL(){if(YE)return td;YE=1;var n=Ce(),e=Jr(),t=TypeError,r=Object.getOwnPropertyDescriptor,i=n&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}})();return td=i?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},td}var rd,XE;function jF(){if(XE)return rd;XE=1;var n=Bi(),e=TypeError;return rd=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+n(r)+" of "+n(t))},rd}var JE;function rL(){if(JE)return KE;JE=1;var n=Y(),e=Pt(),t=Bm(),r=Wi(),i=gr(),s=tL(),o=mF(),a=km(),u=oo(),l=jF(),d=Xn(),c=d("splice"),h=Math.max,f=Math.min;return n({target:"Array",proto:!0,forced:!c},{splice:function(g,b){var y=e(this),p=i(y),S=t(g,p),m=arguments.length,w,O,I,_,E,$;for(m===0?w=O=0:m===1?(w=0,O=p-S):(w=m-2,O=f(h(r(b),0),p-S)),o(p+w-O),I=a(y,O),_=0;_<O;_++)E=S+_,E in y&&u(I,_,y[E]);if(I.length=O,w<O){for(_=S;_<p-O;_++)E=_+O,$=_+w,E in y?y[$]=y[E]:l(y,$);for(_=p;_>p-O+w;_--)l(y,_-1)}else if(w>O)for(_=p-O;_>S;_--)E=_+O-1,$=_+w-1,E in y?y[$]=y[E]:l(y,$);for(_=0;_<w;_++)y[_+S]=arguments[_+2];return s(y,p-O+w),I}}),KE}var id,ZE;function iL(){if(ZE)return id;ZE=1,rL();var n=ot();return id=n("Array","splice"),id}var nd,QE;function nL(){if(QE)return nd;QE=1;var n=ke(),e=iL(),t=Array.prototype;return nd=function(r){var i=r.splice;return r===t||n(t,r)&&i===t.splice?e:i},nd}var sd,eS;function sL(){if(eS)return sd;eS=1;var n=nL();return sd=n,sd}var od,tS;function oL(){return tS||(tS=1,od=sL()),od}var aL=oL(),LF=ee(aL),rS={},ad,iS;function uL(){if(iS)return ad;iS=1;var n=Ce(),e=de(),t=st(),r=se(),i=ao(),s=co(),o=Dm(),a=Pt(),u=ro(),l=Object.assign,d=Object.defineProperty,c=e([].concat);return ad=!l||r(function(){if(n&&l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),g="abcdefghijklmnopqrst";return h[v]=7,g.split("").forEach(function(b){f[b]=b}),l({},h)[v]!==7||i(l({},f)).join("")!==g})?function(f,v){for(var g=a(f),b=arguments.length,y=1,p=s.f,S=o.f;b>y;)for(var m=u(arguments[y++]),w=p?c(i(m),p(m)):i(m),O=w.length,I=0,_;O>I;)_=w[I++],(!n||t(S,m,_))&&(g[_]=m[_]);return g}:l,ad}var nS;function lL(){if(nS)return rS;nS=1;var n=Y(),e=uL();return n({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),rS}var ud,sS;function dL(){if(sS)return ud;sS=1,lL();var n=Me();return ud=n.Object.assign,ud}var ld,oS;function cL(){if(oS)return ld;oS=1;var n=dL();return ld=n,ld}var dd,aS;function hL(){return aS||(aS=1,dd=cL()),dd}var fL=hL(),vL=ee(fL),cd,uS;function pL(){if(uS)return cd;uS=1,_F();var n=ot();return cd=n("Array","concat"),cd}var hd,lS;function gL(){if(lS)return hd;lS=1;var n=ke(),e=pL(),t=Array.prototype;return hd=function(r){var i=r.concat;return r===t||n(t,r)&&i===t.concat?e:i},hd}var fd,dS;function yL(){if(dS)return fd;dS=1;var n=gL();return fd=n,fd}var vd,cS;function mL(){return cS||(cS=1,vd=yL()),vd}var bL=mL(),_L=ee(bL),hS={},fS;function wL(){if(fS)return hS;fS=1;var n=Y(),e=Ce(),t=Zn();return n({target:"Object",stat:!0,sham:!e},{create:t}),hS}var pd,vS;function EL(){if(vS)return pd;vS=1,wL();var n=Me(),e=n.Object;return pd=function(r,i){return e.create(r,i)},pd}var gd,pS;function SL(){if(pS)return gd;pS=1;var n=EL();return gd=n,gd}var yd,gS;function OL(){return gS||(gS=1,yd=SL()),yd}var IL=OL(),$L=ee(IL),yS={},md,mS;function TL(){if(mS)return md;mS=1;var n=Wi(),e=mr(),t=Xr(),r=RangeError;return md=function(s){var o=e(t(this)),a="",u=n(s);if(u<0||u===1/0)throw new r("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(o+=o))u&1&&(a+=o);return a},md}var bd,bS;function PL(){if(bS)return bd;bS=1;var n=de(),e=yF(),t=mr(),r=TL(),i=Xr(),s=n(r),o=n("".slice),a=Math.ceil,u=function(l){return function(d,c,h){var f=t(i(d)),v=e(c),g=f.length,b=h===void 0?" ":t(h),y,p;return v<=g||b===""?f:(y=v-g,p=s(b,a(y/b.length)),p.length>y&&(p=o(p,0,y)),l?f+p:p+f)}};return bd={start:u(!1),end:u(!0)},bd}var _d,_S;function RL(){if(_S)return _d;_S=1;var n=de(),e=se(),t=PL().start,r=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,u=n(o.getTime),l=n(o.getUTCDate),d=n(o.getUTCFullYear),c=n(o.getUTCHours),h=n(o.getUTCMilliseconds),f=n(o.getUTCMinutes),v=n(o.getUTCMonth),g=n(o.getUTCSeconds);return _d=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(u(this)))throw new r("Invalid time value");var y=this,p=d(y),S=h(y),m=p<0?"-":p>9999?"+":"";return m+t(s(p),m?6:4,0)+"-"+t(v(y)+1,2,0)+"-"+t(l(y),2,0)+"T"+t(c(y),2,0)+":"+t(f(y),2,0)+":"+t(g(y),2,0)+"."+t(S,3,0)+"Z"}:a,_d}var wS;function qL(){if(wS)return yS;wS=1;var n=Y(),e=st(),t=Pt(),r=hF(),i=RL(),s=Jt(),o=se(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return n({target:"Date",proto:!0,forced:a},{toJSON:function(l){var d=t(this),c=r(d,"number");return typeof c=="number"&&!isFinite(c)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),yS}var wd,ES;function CL(){if(ES)return wd;ES=1,qL(),IF();var n=Me(),e=to();return n.JSON||(n.JSON={stringify:JSON.stringify}),wd=function(r,i,s){return e(n.JSON.stringify,null,arguments)},wd}var Ed,SS;function xL(){if(SS)return Ed;SS=1;var n=CL();return Ed=n,Ed}var Sd,OS;function DL(){return OS||(OS=1,Sd=xL()),Sd}var AL=DL(),ML=ee(AL),IS={},$S={},Od,TS;function FL(){if(TS)return Od;TS=1;var n=TypeError;return Od=function(e,t){if(e<t)throw new n("Not enough arguments");return e},Od}var Id,PS;function zF(){if(PS)return Id;PS=1;var n=qe(),e=to(),t=Ne(),r=kF(),i=Ni(),s=Hi(),o=FL(),a=n.Function,u=/MSIE .\./.test(i)||r==="BUN"&&(function(){var l=n.Bun.version.split(".");return l.length<3||l[0]==="0"&&(l[1]<3||l[1]==="3"&&l[2]==="0")})();return Id=function(l,d){var c=d?2:1;return u?function(h,f){var v=o(arguments.length,1)>c,g=t(h)?h:a(h),b=v?s(arguments,c):[],y=v?function(){e(g,this,b)}:g;return d?l(y,f):l(y)}:l},Id}var RS;function NL(){if(RS)return $S;RS=1;var n=Y(),e=qe(),t=zF(),r=t(e.setInterval,!0);return n({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),$S}var qS={},CS;function kL(){if(CS)return qS;CS=1;var n=Y(),e=qe(),t=zF(),r=t(e.setTimeout,!0);return n({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),qS}var xS;function BL(){return xS||(xS=1,NL(),kL()),IS}var $d,DS;function jL(){if(DS)return $d;DS=1,BL();var n=Me();return $d=n.setTimeout,$d}var Td,AS;function LL(){return AS||(AS=1,Td=jL()),Td}var zL=LL(),WL=ee(zL),Pd={exports:{}},MS;function HL(){return MS||(MS=1,(function(n){function e(r){if(r)return t(r);this._callbacks=new Map}function t(r){return Object.assign(r,e.prototype),r._callbacks=new Map,r}e.prototype.on=function(r,i){const s=this._callbacks.get(r)??[];return s.push(i),this._callbacks.set(r,s),this},e.prototype.once=function(r,i){const s=(...o)=>{this.off(r,s),i.apply(this,o)};return s.fn=i,this.on(r,s),this},e.prototype.off=function(r,i){if(r===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(r),this;const s=this._callbacks.get(r);if(s){for(const[o,a]of s.entries())if(a===i||a.fn===i){s.splice(o,1);break}s.length===0?this._callbacks.delete(r):this._callbacks.set(r,s)}return this},e.prototype.emit=function(r,...i){const s=this._callbacks.get(r);if(s){const o=[...s];for(const a of o)a.apply(this,i)}return this},e.prototype.listeners=function(r){return this._callbacks.get(r)??[]},e.prototype.listenerCount=function(r){if(r)return this.listeners(r).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(r){return this.listenerCount(r)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,n.exports=e})(Pd)),Pd.exports}var UL=HL(),VL=ee(UL);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function $t(){return $t=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$t.apply(this,arguments)}function gt(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function qs(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var gm;typeof Object.assign!="function"?gm=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t}:gm=Object.assign;var Wr=gm,FS=["","webkit","Moz","MS","ms","o"],GL=typeof document>"u"?{style:{}}:document.createElement("div"),KL="function",_i=Math.round,Hr=Math.abs,Vm=Date.now;function po(n,e){for(var t,r,i=e[0].toUpperCase()+e.slice(1),s=0;s<FS.length;){if(t=FS[s],r=t?t+i:e,r in n)return r;s++}}var Wt;typeof window>"u"?Wt={}:Wt=window;var WF=po(GL.style,"touchAction"),HF=WF!==void 0;function YL(){if(!HF)return!1;var n={},e=Wt.CSS&&Wt.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return n[t]=e?Wt.CSS.supports("touch-action",t):!0}),n}var UF="compute",VF="auto",ym="manipulation",Fr="none",An="pan-x",Mn="pan-y",Cs=YL(),XL=/mobile|tablet|ip(ad|hone|od)|android/i,GF="ontouchstart"in Wt,JL=po(Wt,"PointerEvent")!==void 0,ZL=GF&&XL.test(navigator.userAgent),ts="touch",QL="pen",Gm="mouse",ez="kinect",tz=25,Ze=1,Qr=2,Te=4,it=8,Ls=1,rs=2,is=4,ns=8,Ri=16,Mt=rs|is,Nr=ns|Ri,KF=Mt|Nr,YF=["x","y"],zs=["clientX","clientY"];function Ht(n,e,t){var r;if(n)if(n.forEach)n.forEach(e,t);else if(n.length!==void 0)for(r=0;r<n.length;)e.call(t,n[r],r,n),r++;else for(r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r,n)}function go(n,e){return typeof n===KL?n.apply(e&&e[0]||void 0,e):n}function xr(n,e){return n.indexOf(e)>-1}function rz(n){if(xr(n,Fr))return Fr;var e=xr(n,An),t=xr(n,Mn);return e&&t?Fr:e||t?e?An:Mn:xr(n,ym)?ym:VF}var XF=(function(){function n(t,r){this.manager=t,this.set(r)}var e=n.prototype;return e.set=function(r){r===UF&&(r=this.compute()),HF&&this.manager.element.style&&Cs[r]&&(this.manager.element.style[WF]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return Ht(this.manager.recognizers,function(i){go(i.options.enable,[i])&&(r=r.concat(i.getTouchAction()))}),rz(r.join(" "))},e.preventDefaults=function(r){var i=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=xr(o,Fr)&&!Cs[Fr],u=xr(o,Mn)&&!Cs[Mn],l=xr(o,An)&&!Cs[An];if(a){var d=r.pointers.length===1,c=r.distance<2,h=r.deltaTime<250;if(d&&c&&h)return}if(!(l&&u)&&(a||u&&s&Mt||l&&s&Nr))return this.preventSrc(i)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},n})();function Km(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function JF(n){var e=n.length;if(e===1)return{x:_i(n[0].clientX),y:_i(n[0].clientY)};for(var t=0,r=0,i=0;i<e;)t+=n[i].clientX,r+=n[i].clientY,i++;return{x:_i(t/e),y:_i(r/e)}}function NS(n){for(var e=[],t=0;t<n.pointers.length;)e[t]={clientX:_i(n.pointers[t].clientX),clientY:_i(n.pointers[t].clientY)},t++;return{timeStamp:Vm(),pointers:e,center:JF(e),deltaX:n.deltaX,deltaY:n.deltaY}}function Ws(n,e,t){t||(t=YF);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.sqrt(r*r+i*i)}function mm(n,e,t){t||(t=YF);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.atan2(i,r)*180/Math.PI}function ZF(n,e){return n===e?Ls:Hr(n)>=Hr(e)?n<0?rs:is:e<0?ns:Ri}function iz(n,e){var t=e.center,r=n.offsetDelta||{},i=n.prevDelta||{},s=n.prevInput||{};(e.eventType===Ze||s.eventType===Te)&&(i=n.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=n.offsetDelta={x:t.x,y:t.y}),e.deltaX=i.x+(t.x-r.x),e.deltaY=i.y+(t.y-r.y)}function QF(n,e,t){return{x:e/n||0,y:t/n||0}}function nz(n,e){return Ws(e[0],e[1],zs)/Ws(n[0],n[1],zs)}function sz(n,e){return mm(e[1],e[0],zs)+mm(n[1],n[0],zs)}function oz(n,e){var t=n.lastInterval||e,r=e.timeStamp-t.timeStamp,i,s,o,a;if(e.eventType!==it&&(r>tz||t.velocity===void 0)){var u=e.deltaX-t.deltaX,l=e.deltaY-t.deltaY,d=QF(r,u,l);s=d.x,o=d.y,i=Hr(d.x)>Hr(d.y)?d.x:d.y,a=ZF(u,l),n.lastInterval=e}else i=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function az(n,e){var t=n.session,r=e.pointers,i=r.length;t.firstInput||(t.firstInput=NS(e)),i>1&&!t.firstMultiple?t.firstMultiple=NS(e):i===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,u=e.center=JF(r);e.timeStamp=Vm(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=mm(a,u),e.distance=Ws(a,u),iz(t,e),e.offsetDirection=ZF(e.deltaX,e.deltaY);var l=QF(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=Hr(l.x)>Hr(l.y)?l.x:l.y,e.scale=o?nz(o.pointers,r):1,e.rotation=o?sz(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,oz(t,e);var d=n.element,c=e.srcEvent,h;c.composedPath?h=c.composedPath()[0]:c.path?h=c.path[0]:h=c.target,Km(h,d)&&(d=h),e.target=d}function uz(n,e,t){var r=t.pointers.length,i=t.changedPointers.length,s=e&Ze&&r-i===0,o=e&(Te|it)&&r-i===0;t.isFirst=!!s,t.isFinal=!!o,s&&(n.session={}),t.eventType=e,az(n,t),n.emit("hammer.input",t),n.recognize(t),n.session.prevInput=t}function Fn(n){return n.trim().split(/\s+/g)}function $n(n,e,t){Ht(Fn(e),function(r){n.addEventListener(r,t,!1)})}function Tn(n,e,t){Ht(Fn(e),function(r){n.removeEventListener(r,t,!1)})}function kS(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var Gi=(function(){function n(t,r){var i=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){go(t.options.enable,[t])&&i.handler(s)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&$n(this.element,this.evEl,this.domHandler),this.evTarget&&$n(this.target,this.evTarget,this.domHandler),this.evWin&&$n(kS(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Tn(this.element,this.evEl,this.domHandler),this.evTarget&&Tn(this.target,this.evTarget,this.domHandler),this.evWin&&Tn(kS(this.element),this.evWin,this.domHandler)},n})();function Ur(n,e,t){if(n.indexOf&&!t)return n.indexOf(e);for(var r=0;r<n.length;){if(t&&n[r][t]==e||!t&&n[r]===e)return r;r++}return-1}var lz={pointerdown:Ze,pointermove:Qr,pointerup:Te,pointercancel:it,pointerout:it},dz={2:ts,3:QL,4:Gm,5:ez},eN="pointerdown",tN="pointermove pointerup pointercancel";Wt.MSPointerEvent&&!Wt.PointerEvent&&(eN="MSPointerDown",tN="MSPointerMove MSPointerUp MSPointerCancel");var rN=(function(n){gt(e,n);function e(){var r,i=e.prototype;return i.evEl=eN,i.evWin=tN,r=n.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),u=lz[a],l=dz[i.pointerType]||i.pointerType,d=l===ts,c=Ur(s,i.pointerId,"pointerId");u&Ze&&(i.button===0||d)?c<0&&(s.push(i),c=s.length-1):u&(Te|it)&&(o=!0),!(c<0)&&(s[c]=i,this.callback(this.manager,u,{pointers:s,changedPointers:[i],pointerType:l,srcEvent:i}),o&&s.splice(c,1))},e})(Gi);function Nn(n){return Array.prototype.slice.call(n,0)}function Ym(n,e,t){for(var r=[],i=[],s=0;s<n.length;){var o=e?n[s][e]:n[s];Ur(i,o)<0&&r.push(n[s]),i[s]=o,s++}return t&&(e?r=r.sort(function(a,u){return a[e]>u[e]}):r=r.sort()),r}var cz={touchstart:Ze,touchmove:Qr,touchend:Te,touchcancel:it},hz="touchstart touchmove touchend touchcancel",Xm=(function(n){gt(e,n);function e(){var r;return e.prototype.evTarget=hz,r=n.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(i){var s=cz[i.type],o=fz.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:ts,srcEvent:i})},e})(Gi);function fz(n,e){var t=Nn(n.touches),r=this.targetIds;if(e&(Ze|Qr)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var i,s,o=Nn(n.changedTouches),a=[],u=this.target;if(s=t.filter(function(l){return Km(l.target,u)}),e===Ze)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&a.push(o[i]),e&(Te|it)&&delete r[o[i].identifier],i++;if(a.length)return[Ym(s.concat(a),"identifier",!0),a]}var vz={mousedown:Ze,mousemove:Qr,mouseup:Te},pz="mousedown",gz="mousemove mouseup",Jm=(function(n){gt(e,n);function e(){var r,i=e.prototype;return i.evEl=pz,i.evWin=gz,r=n.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(i){var s=vz[i.type];s&Ze&&i.button===0&&(this.pressed=!0),s&Qr&&i.which!==1&&(s=Te),this.pressed&&(s&Te&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:Gm,srcEvent:i}))},e})(Gi),yz=2500,BS=25;function jS(n){var e=n.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},i=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=i.indexOf(r);a>-1&&i.splice(a,1)};setTimeout(s,yz)}}function mz(n,e){n&Ze?(this.primaryTouch=e.changedPointers[0].identifier,jS.call(this,e)):n&(Te|it)&&jS.call(this,e)}function bz(n){for(var e=n.srcEvent.clientX,t=n.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(e-i.x),o=Math.abs(t-i.y);if(s<=BS&&o<=BS)return!0}return!1}var iN=(function(){var n=(function(e){gt(t,e);function t(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,u,l){var d=l.pointerType===ts,c=l.pointerType===Gm;if(!(c&&l.sourceCapabilities&&l.sourceCapabilities.firesTouchEvents)){if(d)mz.call(qs(qs(o)),u,l);else if(c&&bz.call(qs(qs(o)),l))return;o.callback(a,u,l)}},o.touch=new Xm(o.manager,o.handler),o.mouse=new Jm(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t})(Gi);return n})();function _z(n){var e,t=n.options.inputClass;return t?e=t:JL?e=rN:ZL?e=Xm:GF?e=iN:e=Jm,new e(n,uz)}function wi(n,e,t){return Array.isArray(n)?(Ht(n,t[e],t),!0):!1}var Ns=1,ft=2,qi=4,ur=8,Ut=ur,kn=16,xt=32,wz=1;function Ez(){return wz++}function xs(n,e){var t=e.manager;return t?t.get(n):n}function LS(n){return n&kn?"cancel":n&ur?"end":n&qi?"move":n&ft?"start":""}var ss=(function(){function n(t){t===void 0&&(t={}),this.options=$t({enable:!0},t),this.id=Ez(),this.manager=null,this.state=Ns,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(r){return Wr(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(wi(r,"recognizeWith",this))return this;var i=this.simultaneous;return r=xs(r,this),i[r.id]||(i[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return wi(r,"dropRecognizeWith",this)?this:(r=xs(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(wi(r,"requireFailure",this))return this;var i=this.requireFail;return r=xs(r,this),Ur(i,r)===-1&&(i.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(wi(r,"dropRequireFailure",this))return this;r=xs(r,this);var i=Ur(this.requireFail,r);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var i=this,s=this.state;function o(a){i.manager.emit(a,r)}s<ur&&o(i.options.event+LS(s)),o(i.options.event),r.additionalEvent&&o(r.additionalEvent),s>=ur&&o(i.options.event+LS(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=xt},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(xt|Ns)))return!1;r++}return!0},e.recognize=function(r){var i=Wr({},r);if(!go(this.options.enable,[this,i])){this.reset(),this.state=xt;return}this.state&(Ut|kn|xt)&&(this.state=Ns),this.state=this.process(i),this.state&(ft|qi|ur|kn)&&this.tryEmit(i)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},n})(),bm=(function(n){gt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,$t({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var t=e.prototype;return t.getTouchAction=function(){return[ym]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,u=i.distance<o.threshold,l=i.deltaTime<o.time;if(this.reset(),i.eventType&Ze&&this.count===0)return this.failTimeout();if(u&&l&&a){if(i.eventType!==Te)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<o.interval:!0,c=!this.pCenter||Ws(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!c||!d?this.count=1:this.count+=1,this._input=i;var h=this.count%o.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Ut,s.tryEmit()},o.interval),ft):Ut}return xt},t.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=xt},this.options.interval),xt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===Ut&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e})(ss),Ci=(function(n){gt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,$t({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},t.process=function(i){var s=this.state,o=i.eventType,a=s&(ft|qi),u=this.attrTest(i);return a&&(o&it||!u)?s|kn:a||u?o&Te?s|ur:s&ft?s|qi:ft:xt},e})(ss);function nN(n){return n===Ri?"down":n===ns?"up":n===rs?"left":n===is?"right":""}var Zm=(function(n){gt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,$t({event:"pan",threshold:10,pointers:1,direction:KF},r))||this,i.pX=null,i.pY=null,i}var t=e.prototype;return t.getTouchAction=function(){var i=this.options.direction,s=[];return i&Mt&&s.push(Mn),i&Nr&&s.push(An),s},t.directionTest=function(i){var s=this.options,o=!0,a=i.distance,u=i.direction,l=i.deltaX,d=i.deltaY;return u&s.direction||(s.direction&Mt?(u=l===0?Ls:l<0?rs:is,o=l!==this.pX,a=Math.abs(i.deltaX)):(u=d===0?Ls:d<0?ns:Ri,o=d!==this.pY,a=Math.abs(i.deltaY))),i.direction=u,o&&a>s.threshold&&u&s.direction},t.attrTest=function(i){return Ci.prototype.attrTest.call(this,i)&&(this.state&ft||!(this.state&ft)&&this.directionTest(i))},t.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=nN(i.direction);s&&(i.additionalEvent=this.options.event+s),n.prototype.emit.call(this,i)},e})(Ci),sN=(function(n){gt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,$t({event:"swipe",threshold:10,velocity:.3,direction:Mt|Nr,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return Zm.prototype.getTouchAction.call(this)},t.attrTest=function(i){var s=this.options.direction,o;return s&(Mt|Nr)?o=i.overallVelocity:s&Mt?o=i.overallVelocityX:s&Nr&&(o=i.overallVelocityY),n.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Hr(o)>this.options.velocity&&i.eventType&Te},t.emit=function(i){var s=nN(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e})(Ci),oN=(function(n){gt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,$t({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Fr]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&ft)},t.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}n.prototype.emit.call(this,i)},e})(Ci),aN=(function(n){gt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,$t({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Fr]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&ft)},e})(Ci),uN=(function(n){gt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,$t({event:"press",pointers:1,time:251,threshold:9},r))||this,i._timer=null,i._input=null,i}var t=e.prototype;return t.getTouchAction=function(){return[VF]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,u=i.distance<o.threshold,l=i.deltaTime>o.time;if(this._input=i,!u||!a||i.eventType&(Te|it)&&!l)this.reset();else if(i.eventType&Ze)this.reset(),this._timer=setTimeout(function(){s.state=Ut,s.tryEmit()},o.time);else if(i.eventType&Te)return Ut;return xt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(i){this.state===Ut&&(i&&i.eventType&Te?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=Vm(),this.manager.emit(this.options.event,this._input)))},e})(ss),lN={domEvents:!1,touchAction:UF,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},zS=[[aN,{enable:!1}],[oN,{enable:!1},["rotate"]],[sN,{direction:Mt}],[Zm,{direction:Mt},["swipe"]],[bm],[bm,{event:"doubletap",taps:2},["tap"]],[uN]],Sz=1,WS=2;function HS(n,e){var t=n.element;if(t.style){var r;Ht(n.options.cssProps,function(i,s){r=po(t.style,s),e?(n.oldCssProps[r]=t.style[r],t.style[r]=i):t.style[r]=n.oldCssProps[r]||""}),e||(n.oldCssProps={})}}function Oz(n,e){var t=document.createEvent("Event");t.initEvent(n,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var US=(function(){function n(t,r){var i=this;this.options=Wr({},lN,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=_z(this),this.touchAction=new XF(this,this.options.touchAction),HS(this,!0),Ht(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=n.prototype;return e.set=function(r){return Wr(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?WS:Sz},e.recognize=function(r){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&Ut)&&(i.curRecognizer=null,a=null);for(var u=0;u<o.length;)s=o[u],i.stopped!==WS&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(ft|qi|ur)&&(i.curRecognizer=s,a=s),u++}},e.get=function(r){if(r instanceof ss)return r;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===r)return i[s];return null},e.add=function(r){if(wi(r,"add",this))return this;var i=this.get(r.options.event);return i&&this.remove(i),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(wi(r,"remove",this))return this;var i=this.get(r);if(r){var s=this.recognizers,o=Ur(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,i){if(r===void 0||i===void 0)return this;var s=this.handlers;return Ht(Fn(r),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(r,i){if(r===void 0)return this;var s=this.handlers;return Ht(Fn(r),function(o){i?s[o]&&s[o].splice(Ur(s[o],i),1):delete s[o]}),this},e.emit=function(r,i){this.options.domEvents&&Oz(r,i);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){i.type=r,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&HS(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n})(),Iz={touchstart:Ze,touchmove:Qr,touchend:Te,touchcancel:it},$z="touchstart",Tz="touchstart touchmove touchend touchcancel",Pz=(function(n){gt(e,n);function e(){var r,i=e.prototype;return i.evTarget=$z,i.evWin=Tz,r=n.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(i){var s=Iz[i.type];if(s===Ze&&(this.started=!0),!!this.started){var o=Rz.call(this,i,s);s&(Te|it)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:ts,srcEvent:i})}},e})(Gi);function Rz(n,e){var t=Nn(n.touches),r=Nn(n.changedTouches);return e&(Te|it)&&(t=Ym(t.concat(r),"identifier",!0)),[t,r]}function dN(n,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),n.apply(this,arguments)}}var cN=dN(function(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;)(!t||t&&n[r[i]]===void 0)&&(n[r[i]]=e[r[i]]),i++;return n},"extend","Use `assign`."),qz=dN(function(n,e){return cN(n,e,!0)},"merge","Use `assign`.");function Cz(n,e,t){var r=e.prototype,i;i=n.prototype=Object.create(r),i.constructor=n,i._super=r,t&&Wr(i,t)}function VS(n,e){return function(){return n.apply(e,arguments)}}var xz=(function(){var n=function(t,r){return r===void 0&&(r={}),new US(t,$t({recognizers:zS.concat()},r))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=KF,n.DIRECTION_DOWN=Ri,n.DIRECTION_LEFT=rs,n.DIRECTION_RIGHT=is,n.DIRECTION_UP=ns,n.DIRECTION_HORIZONTAL=Mt,n.DIRECTION_VERTICAL=Nr,n.DIRECTION_NONE=Ls,n.DIRECTION_DOWN=Ri,n.INPUT_START=Ze,n.INPUT_MOVE=Qr,n.INPUT_END=Te,n.INPUT_CANCEL=it,n.STATE_POSSIBLE=Ns,n.STATE_BEGAN=ft,n.STATE_CHANGED=qi,n.STATE_ENDED=ur,n.STATE_RECOGNIZED=Ut,n.STATE_CANCELLED=kn,n.STATE_FAILED=xt,n.Manager=US,n.Input=Gi,n.TouchAction=XF,n.TouchInput=Xm,n.MouseInput=Jm,n.PointerEventInput=rN,n.TouchMouseInput=iN,n.SingleTouchInput=Pz,n.Recognizer=ss,n.AttrRecognizer=Ci,n.Tap=bm,n.Pan=Zm,n.Swipe=sN,n.Pinch=oN,n.Rotate=aN,n.Press=uN,n.on=$n,n.off=Tn,n.each=Ht,n.merge=qz,n.extend=cN,n.bindFn=VS,n.assign=Wr,n.inherit=Cz,n.bindFn=VS,n.prefixed=po,n.toArray=Nn,n.inArray=Ur,n.uniqueArray=Ym,n.splitStr=Fn,n.boolOrFn=go,n.hasParent=Km,n.addEventListeners=$n,n.removeEventListeners=Tn,n.defaults=Wr({},lN,{preset:zS}),n})();const hN=yj("DELETE");function Dz(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return fN({},n,...t)}function fN(){const n=Hs(...arguments);return pN(n),n}function Hs(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<2)return e[0];if(e.length>2)return Hs(fN(e[0],e[1]),...Oj(e).call(e,2));const r=e[0],i=e[1];if(r instanceof Date&&i instanceof Date)return r.setTime(i.getTime()),r;for(const s of qj(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===hN?delete r[s]:r[s]!==null&&i[s]!==null&&typeof r[s]=="object"&&typeof i[s]=="object"&&!qt(r[s])&&!qt(i[s])?r[s]=Hs(r[s],i[s]):r[s]=vN(i[s]));return r}function vN(n){return qt(n)?Ot(n).call(n,e=>vN(e)):typeof n=="object"&&n!==null?n instanceof Date?new Date(n.getTime()):Hs({},n):n}function pN(n){for(const e of Um(n))n[e]===hN?delete n[e]:typeof n[e]=="object"&&n[e]!==null&&pN(n[e])}function Az(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}const Mz=typeof window<"u"?window.Hammer||xz:function(){return Az()};function Lt(n){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=Mz(this._dom.overlay);t.on("tap",NF(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{t.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];zr(r).call(r,i=>{t.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Fz(i.target,n)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}VL(Lt.prototype);Lt.current=null;Lt.prototype.destroy=function(){this.deactivate();for(const t of eL(n=LF(e=this._cleanupQueue).call(e,0)).call(n)){var n,e;t()}};Lt.prototype.activate=function(){Lt.current&&Lt.current.deactivate(),Lt.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Lt.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Lt.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};function Fz(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}var Rd,GS;function Nz(){if(GS)return Rd;GS=1,$F();var n=Me();return Rd=n.Object.getOwnPropertySymbols,Rd}var qd,KS;function kz(){if(KS)return qd;KS=1;var n=Nz();return qd=n,qd}var Cd,YS;function Bz(){return YS||(YS=1,Cd=kz()),Cd}var jz=Bz(),XS=ee(jz),xd={exports:{}},JS={},ZS;function Lz(){if(ZS)return JS;ZS=1;var n=Y(),e=se(),t=Nt(),r=no().f,i=Ce(),s=!i||e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,u){return r(t(a),u)}}),JS}var QS;function zz(){if(QS)return xd.exports;QS=1,Lz();var n=Me(),e=n.Object,t=xd.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),xd.exports}var Dd,eO;function Wz(){if(eO)return Dd;eO=1;var n=zz();return Dd=n,Dd}var Ad,tO;function Hz(){return tO||(tO=1,Ad=Wz()),Ad}var Uz=Hz(),gN=ee(Uz),rO={},iO;function Vz(){if(iO)return rO;iO=1;var n=Y(),e=Ce(),t=BF(),r=Nt(),i=no(),s=oo();return n({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var u=r(a),l=i.f,d=t(u),c={},h=0,f,v;d.length>h;)v=l(u,f=d[h++]),v!==void 0&&s(c,f,v);return c}}),rO}var Md,nO;function Gz(){if(nO)return Md;nO=1,Vz();var n=Me();return Md=n.Object.getOwnPropertyDescriptors,Md}var Fd,sO;function Kz(){if(sO)return Fd;sO=1;var n=Gz();return Fd=n,Fd}var Nd,oO;function Yz(){return oO||(oO=1,Nd=Kz()),Nd}var Xz=Yz(),aO=ee(Xz),kd={exports:{}},uO={},lO;function Jz(){if(lO)return uO;lO=1;var n=Y(),e=Ce(),t=Lm().f;return n({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),uO}var dO;function Zz(){if(dO)return kd.exports;dO=1,Jz();var n=Me(),e=n.Object,t=kd.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(t.sham=!0),kd.exports}var Bd,cO;function Qz(){if(cO)return Bd;cO=1;var n=Zz();return Bd=n,Bd}var jd,hO;function eW(){return hO||(hO=1,jd=Qz()),jd}var tW=eW(),rW=ee(tW),Ld,fO;function iW(){return fO||(fO=1,Ld=gF()),Ld}var nW=iW(),sW=ee(nW),vO={},pO={},zd={exports:{}},Wd,gO;function oW(){if(gO)return Wd;gO=1;var n=se();return Wd=n(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Wd}var Hd,yO;function aW(){if(yO)return Hd;yO=1;var n=se(),e=et(),t=Jt(),r=oW(),i=Object.isExtensible,s=n(function(){});return Hd=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,Hd}var Ud,mO;function uW(){if(mO)return Ud;mO=1;var n=se();return Ud=!n(function(){return Object.isExtensible(Object.preventExtensions({}))}),Ud}var bO;function yN(){if(bO)return zd.exports;bO=1;var n=Y(),e=de(),t=Jn(),r=et(),i=Be(),s=pt().f,o=lo(),a=EF(),u=aW(),l=io(),d=uW(),c=!1,h=l("meta"),f=0,v=function(m){s(m,h,{value:{objectID:"O"+f++,weakData:{}}})},g=function(m,w){if(!r(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!i(m,h)){if(!u(m))return"F";if(!w)return"E";v(m)}return m[h].objectID},b=function(m,w){if(!i(m,h)){if(!u(m))return!0;if(!w)return!1;v(m)}return m[h].weakData},y=function(m){return d&&c&&u(m)&&!i(m,h)&&v(m),m},p=function(){S.enable=function(){},c=!0;var m=o.f,w=e([].splice),O={};O[h]=1,m(O).length&&(o.f=function(I){for(var _=m(I),E=0,$=_.length;E<$;E++)if(_[E]===h){w(_,E,1);break}return _},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},S=zd.exports={enable:p,fastKey:g,getWeakData:b,onFreeze:y};return t[h]=!0,zd.exports}var Vd,_O;function lW(){if(_O)return Vd;_O=1;var n=je(),e=Vi(),t=n("iterator"),r=Array.prototype;return Vd=function(i){return i!==void 0&&(e.Array===i||r[t]===i)},Vd}var Gd,wO;function mN(){if(wO)return Gd;wO=1;var n=yr(),e=Am(),t=Gn(),r=Vi(),i=je(),s=i("iterator");return Gd=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[n(o)]},Gd}var Kd,EO;function bN(){if(EO)return Kd;EO=1;var n=st(),e=Zt(),t=Qt(),r=Bi(),i=mN(),s=TypeError;return Kd=function(o,a){var u=arguments.length<2?i(o):a;if(e(u))return t(n(u,o));throw new s(r(o)+" is not iterable")},Kd}var Yd,SO;function Qm(){if(SO)return Yd;SO=1;var n=st(),e=Qt(),t=Am();return Yd=function(r,i,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(i==="throw")throw s;return s}o=n(o,r)}catch(u){a=!0,o=u}if(i==="throw")throw s;if(a)throw o;return e(o),s},Yd}var Xd,OO;function eb(){if(OO)return Xd;OO=1;var n=so(),e=st(),t=Qt(),r=Bi(),i=lW(),s=gr(),o=ke(),a=bN(),u=mN(),l=Qm(),d=TypeError,c=function(f,v){this.stopped=f,this.result=v},h=c.prototype;return Xd=function(f,v,g){var b=g&&g.that,y=!!(g&&g.AS_ENTRIES),p=!!(g&&g.IS_RECORD),S=!!(g&&g.IS_ITERATOR),m=!!(g&&g.INTERRUPTED),w=n(v,b),O,I,_,E,$,T,P,R=function(M){return O&&l(O,"normal"),new c(!0,M)},C=function(M){return y?(t(M),m?w(M[0],M[1],R):w(M[0],M[1])):m?w(M,R):w(M)};if(p)O=f.iterator;else if(S)O=f;else{if(I=u(f),!I)throw new d(r(f)+" is not iterable");if(i(I)){for(_=0,E=s(f);E>_;_++)if($=C(f[_]),$&&o(h,$))return $;return new c(!1)}O=a(f,I)}for(T=p?f.next:O.next;!(P=e(T,O)).done;){try{$=C(P.value)}catch(M){l(O,"throw",M)}if(typeof $=="object"&&$&&o(h,$))return $}return new c(!1)},Xd}var Jd,IO;function _N(){if(IO)return Jd;IO=1;var n=ke(),e=TypeError;return Jd=function(t,r){if(n(r,t))return t;throw new e("Incorrect invocation")},Jd}var Zd,$O;function wN(){if($O)return Zd;$O=1;var n=Y(),e=qe(),t=yN(),r=se(),i=zi(),s=eb(),o=_N(),a=Ne(),u=et(),l=Gn(),d=Zr(),c=pt().f,h=Ui().forEach,f=Ce(),v=es(),g=v.set,b=v.getterFor;return Zd=function(y,p,S){var m=y.indexOf("Map")!==-1,w=y.indexOf("Weak")!==-1,O=m?"set":"add",I=e[y],_=I&&I.prototype,E={},$;if(!f||!a(I)||!(w||_.forEach&&!r(function(){new I().entries().next()})))$=S.getConstructor(p,y,m,O),t.enable();else{$=p(function(R,C){g(o(R,T),{type:y,collection:new I}),l(C)||s(C,R[O],{that:R,AS_ENTRIES:m})});var T=$.prototype,P=b(y);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var C=R==="add"||R==="set";R in _&&!(w&&R==="clear")&&i(T,R,function(M,K){var L=P(this).collection;if(!C&&w&&!u(M))return R==="get"?void 0:!1;var J=L[R](M===0?0:M,K);return C?this:J})}),w||c(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d($,y,!1,!0),E[y]=$,n({global:!0,forced:!0},E),w||S.setStrong($,y,m),$},Zd}var Qd,TO;function dW(){if(TO)return Qd;TO=1;var n=Qn();return Qd=function(e,t,r){for(var i in t)r&&r.unsafe&&e[i]?e[i]=t[i]:n(e,i,t[i],r);return e},Qd}var ec,PO;function cW(){if(PO)return ec;PO=1;var n=ut(),e=zm(),t=je(),r=Ce(),i=t("species");return ec=function(s){var o=n(s);r&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},ec}var tc,RO;function EN(){if(RO)return tc;RO=1;var n=Zn(),e=zm(),t=dW(),r=so(),i=_N(),s=Gn(),o=eb(),a=Wm(),u=Hm(),l=cW(),d=Ce(),c=yN().fastKey,h=es(),f=h.set,v=h.getterFor;return tc={getConstructor:function(g,b,y,p){var S=g(function(_,E){i(_,m),f(_,{type:b,index:n(null),first:null,last:null,size:0}),d||(_.size=0),s(E)||o(E,_[p],{that:_,AS_ENTRIES:y})}),m=S.prototype,w=v(b),O=function(_,E,$){var T=w(_),P=I(_,E),R,C;return P?P.value=$:(T.last=P={index:C=c(E,!0),key:E,value:$,previous:R=T.last,next:null,removed:!1},T.first||(T.first=P),R&&(R.next=P),d?T.size++:_.size++,C!=="F"&&(T.index[C]=P)),_},I=function(_,E){var $=w(_),T=c(E),P;if(T!=="F")return $.index[T];for(P=$.first;P;P=P.next)if(P.key===E)return P};return t(m,{clear:function(){for(var E=this,$=w(E),T=$.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;$.first=$.last=null,$.index=n(null),d?$.size=0:E.size=0},delete:function(_){var E=this,$=w(E),T=I(E,_);if(T){var P=T.next,R=T.previous;delete $.index[T.index],T.removed=!0,R&&(R.next=P),P&&(P.previous=R),$.first===T&&($.first=P),$.last===T&&($.last=R),d?$.size--:E.size--}return!!T},forEach:function(E){for(var $=w(this),T=r(E,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:$.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(E){return!!I(this,E)}}),t(m,y?{get:function(E){var $=I(this,E);return $&&$.value},set:function(E,$){return O(this,E===0?0:E,$)}}:{add:function(E){return O(this,E=E===0?0:E,E)}}),d&&e(m,"size",{configurable:!0,get:function(){return w(this).size}}),S},setStrong:function(g,b,y){var p=b+" Iterator",S=v(b),m=v(p);a(g,b,function(w,O){f(this,{type:p,target:w,state:S(w),kind:O,last:null})},function(){for(var w=m(this),O=w.kind,I=w.last;I&&I.removed;)I=I.previous;return!w.target||!(w.last=I=I?I.next:w.state.first)?(w.target=null,u(void 0,!0)):u(O==="keys"?I.key:O==="values"?I.value:[I.key,I.value],!1)},y?"entries":"values",!y,!0),l(b)}},tc}var qO;function hW(){if(qO)return pO;qO=1;var n=wN(),e=EN();return n("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),pO}var CO;function fW(){return CO||(CO=1,hW()),vO}var xO={},rc,DO;function SN(){return DO||(DO=1,rc=function(n,e){return e===1?function(t,r){return t[n](r)}:function(t,r,i){return t[n](r,i)}}),rc}var ic,AO;function vW(){if(AO)return ic;AO=1;var n=ut(),e=SN(),t=n("Map");return ic={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},ic}var MO;function pW(){if(MO)return xO;MO=1;var n=Y(),e=de(),t=Zt(),r=Xr(),i=eb(),s=vW(),o=ji(),a=se(),u=s.Map,l=s.has,d=s.get,c=s.set,h=e([].push),f=o||a(function(){return u.groupBy("ab",function(v){return v}).get("a").length!==1});return n({target:"Map",stat:!0,forced:o||f},{groupBy:function(g,b){r(g),t(b);var y=new u,p=0;return i(g,function(S){var m=b(S,p++);l(y,m)?h(d(y,m),S):c(y,m,[S])}),y}}),xO}var nc,FO;function gW(){if(FO)return nc;FO=1,br(),fW(),pW(),fo();var n=Me();return nc=n.Map,nc}var sc,NO;function yW(){if(NO)return sc;NO=1;var n=gW();return _r(),sc=n,sc}var oc,kO;function mW(){return kO||(kO=1,oc=yW()),oc}var bW=mW(),ON=ee(bW),BO={},jO;function _W(){if(jO)return BO;jO=1;var n=Y(),e=Ui().some,t=vo(),r=t("some");return n({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),BO}var ac,LO;function wW(){if(LO)return ac;LO=1,_W();var n=ot();return ac=n("Array","some"),ac}var uc,zO;function EW(){if(zO)return uc;zO=1;var n=ke(),e=wW(),t=Array.prototype;return uc=function(r){var i=r.some;return r===t||n(t,r)&&i===t.some?e:i},uc}var lc,WO;function SW(){if(WO)return lc;WO=1;var n=EW();return lc=n,lc}var dc,HO;function OW(){return HO||(HO=1,dc=SW()),dc}var IW=OW(),$W=ee(IW),cc,UO;function TW(){if(UO)return cc;UO=1,br();var n=ot();return cc=n("Array","keys"),cc}var hc,VO;function PW(){if(VO)return hc;VO=1;var n=TW();return hc=n,hc}var fc,GO;function RW(){if(GO)return fc;GO=1,_r();var n=yr(),e=Be(),t=ke(),r=PW(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return fc=function(o){var a=o.keys;return o===i||t(i,o)&&a===i.keys||e(s,n(o))?r:a},fc}var vc,KO;function qW(){return KO||(KO=1,vc=RW()),vc}var CW=qW(),gi=ee(CW),YO={},pc,XO;function xW(){if(XO)return pc;XO=1;var n=Hi(),e=Math.floor,t=function(r,i){var s=r.length;if(s<8)for(var o=1,a,u;o<s;){for(u=o,a=r[o];u&&i(r[u-1],a)>0;)r[u]=r[--u];u!==o++&&(r[u]=a)}else for(var l=e(s/2),d=t(n(r,0,l),i),c=t(n(r,l),i),h=d.length,f=c.length,v=0,g=0;v<h||g<f;)r[v+g]=v<h&&g<f?i(d[v],c[g])<=0?d[v++]:c[g++]:v<h?d[v++]:c[g++];return r};return pc=t,pc}var gc,JO;function DW(){if(JO)return gc;JO=1;var n=Ni(),e=n.match(/firefox\/(\d+)/i);return gc=!!e&&+e[1],gc}var yc,ZO;function AW(){if(ZO)return yc;ZO=1;var n=Ni();return yc=/MSIE|Trident/.test(n),yc}var mc,QO;function MW(){if(QO)return mc;QO=1;var n=Ni(),e=n.match(/AppleWebKit\/(\d+)\./);return mc=!!e&&+e[1],mc}var eI;function FW(){if(eI)return YO;eI=1;var n=Y(),e=de(),t=Zt(),r=Pt(),i=gr(),s=jF(),o=mr(),a=se(),u=xW(),l=vo(),d=DW(),c=AW(),h=Kn(),f=MW(),v=[],g=e(v.sort),b=e(v.push),y=a(function(){v.sort(void 0)}),p=a(function(){v.sort(null)}),S=l("sort"),m=!a(function(){if(h)return h<70;if(!(d&&d>3)){if(c)return!0;if(f)return f<603;var I="",_,E,$,T;for(_=65;_<76;_++){switch(E=String.fromCharCode(_),_){case 66:case 69:case 70:case 72:$=3;break;case 68:case 71:$=4;break;default:$=2}for(T=0;T<47;T++)v.push({k:E+T,v:$})}for(v.sort(function(P,R){return R.v-P.v}),T=0;T<v.length;T++)E=v[T].k.charAt(0),I.charAt(I.length-1)!==E&&(I+=E);return I!=="DGBEFHACIJK"}}),w=y||!p||!S||!m,O=function(I){return function(_,E){return E===void 0?-1:_===void 0?1:I!==void 0?+I(_,E)||0:o(_)>o(E)?1:-1}};return n({target:"Array",proto:!0,forced:w},{sort:function(_){_!==void 0&&t(_);var E=r(this);if(m)return _===void 0?g(E):g(E,_);var $=[],T=i(E),P,R;for(R=0;R<T;R++)R in E&&b($,E[R]);for(u($,O(_)),P=i($),R=0;R<P;)E[R]=$[R++];for(;R<T;)s(E,R++);return E}}),YO}var bc,tI;function NW(){if(tI)return bc;tI=1,FW();var n=ot();return bc=n("Array","sort"),bc}var _c,rI;function kW(){if(rI)return _c;rI=1;var n=ke(),e=NW(),t=Array.prototype;return _c=function(r){var i=r.sort;return r===t||n(t,r)&&i===t.sort?e:i},_c}var wc,iI;function BW(){if(iI)return wc;iI=1;var n=kW();return wc=n,wc}var Ec,nI;function jW(){return nI||(nI=1,Ec=BW()),Ec}var LW=jW(),_m=ee(LW),Sc,sI;function zW(){if(sI)return Sc;sI=1,br();var n=ot();return Sc=n("Array","values"),Sc}var Oc,oI;function WW(){if(oI)return Oc;oI=1;var n=zW();return Oc=n,Oc}var Ic,aI;function HW(){if(aI)return Ic;aI=1,_r();var n=yr(),e=Be(),t=ke(),r=WW(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Ic=function(o){var a=o.values;return o===i||t(i,o)&&a===i.values||e(s,n(o))?r:a},Ic}var $c,uI;function UW(){return uI||(uI=1,$c=HW()),$c}var VW=UW(),lI=ee(VW),Tc,dI;function GW(){return dI||(dI=1,Tc=FF()),Tc}var KW=GW(),Ei=ee(KW),Pc,cI;function YW(){if(cI)return Pc;cI=1,br();var n=ot();return Pc=n("Array","entries"),Pc}var Rc,hI;function XW(){if(hI)return Rc;hI=1;var n=YW();return Rc=n,Rc}var qc,fI;function JW(){if(fI)return qc;fI=1,_r();var n=yr(),e=Be(),t=ke(),r=XW(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return qc=function(o){var a=o.entries;return o===i||t(i,o)&&a===i.entries||e(s,n(o))?r:a},qc}var Cc,vI;function ZW(){return vI||(vI=1,Cc=JW()),Cc}var QW=ZW(),e5=ee(QW);const We=[];for(let n=0;n<256;++n)We.push((n+256).toString(16).slice(1));function t5(n,e=0){return(We[n[e+0]]+We[n[e+1]]+We[n[e+2]]+We[n[e+3]]+"-"+We[n[e+4]]+We[n[e+5]]+"-"+We[n[e+6]]+We[n[e+7]]+"-"+We[n[e+8]]+We[n[e+9]]+"-"+We[n[e+10]]+We[n[e+11]]+We[n[e+12]]+We[n[e+13]]+We[n[e+14]]+We[n[e+15]]).toLowerCase()}let xc;const r5=new Uint8Array(16);function i5(){if(!xc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");xc=crypto.getRandomValues.bind(crypto)}return xc(r5)}const n5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var pI={randomUUID:n5};function s5(n,e,t){var i;n=n||{};const r=n.random??((i=n.rng)==null?void 0:i.call(n))??i5();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,t5(r)}function o5(n,e,t){return pI.randomUUID&&!n?pI.randomUUID():s5(n)}function gI(n){return typeof n=="string"||typeof n=="number"}class tb{constructor(e){ar(this,"_queue",[]),ar(this,"_timeout",null),ar(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const r=new tb(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{r.flush()};const i=[{name:"flush",original:void 0}];if(t&&t.replace)for(let s=0;s<t.replace.length;s++){const o=t.replace[s];i.push({name:o,original:e[o]}),r.replace(e,o)}return r._extended={object:e,methods:i},r}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let r=0;r<t.length;r++){const i=t[r];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,t){const r=this,i=e[t];if(!i)throw new Error("Method "+t+" undefined");e[t]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];r.queue({args:o,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=WL(()=>{this.flush()},this.delay))}flush(){var e,t;zr(e=LF(t=this._queue).call(t,0)).call(e,r=>{r.fn.apply(r.context||r.fn,r.args||[])})}}class Us{constructor(){ar(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),ar(this,"subscribe",Us.prototype.on),ar(this,"unsubscribe",Us.prototype.off)}_trigger(e,t,r){var i;if(e==="*")throw new Error("Cannot trigger event *");zr(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,t,r??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){var r;this._subscribers[e]=bi(r=this._subscribers[e]).call(r,i=>i!==t)}}var yI={},mI={},bI;function a5(){if(bI)return mI;bI=1;var n=wN(),e=EN();return n("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),mI}var _I;function u5(){return _I||(_I=1,a5()),yI}var wI={},Dc,EI;function ei(){if(EI)return Dc;EI=1;var n=Bi(),e=TypeError;return Dc=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(n(t)+" is not a set")},Dc}var Ac,SI;function ti(){if(SI)return Ac;SI=1;var n=ut(),e=SN(),t=n("Set"),r=t.prototype;return Ac={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},Ac}var Mc,OI;function ri(){if(OI)return Mc;OI=1;var n=st();return Mc=function(e,t,r){for(var i=r?e:e.iterator,s=e.next,o,a;!(o=n(s,i)).done;)if(a=t(o.value),a!==void 0)return a},Mc}var Fc,II;function os(){if(II)return Fc;II=1;var n=ri();return Fc=function(e,t,r){return r?n(e.keys(),t,!0):e.forEach(t)},Fc}var Nc,$I;function rb(){if($I)return Nc;$I=1;var n=ti(),e=os(),t=n.Set,r=n.add;return Nc=function(i){var s=new t;return e(i,function(o){r(s,o)}),s},Nc}var kc,TI;function as(){return TI||(TI=1,kc=function(n){return n.size}),kc}var Bc,PI;function l5(){return PI||(PI=1,Bc=function(n){return{iterator:n,next:n.next,done:!1}}),Bc}var jc,RI;function ii(){if(RI)return jc;RI=1;var n=Zt(),e=Qt(),t=st(),r=Wi(),i=l5(),s="Invalid size",o=RangeError,a=TypeError,u=Math.max,l=function(d,c){this.set=d,this.size=u(c,0),this.has=n(d.has),this.keys=n(d.keys)};return l.prototype={getIterator:function(){return i(e(t(this.keys,this.set)))},includes:function(d){return t(this.has,this.set,d)}},jc=function(d){e(d);var c=+d.size;if(c!==c)throw new a(s);var h=r(c);if(h<0)throw new o(s);return new l(d,h)},jc}var Lc,qI;function d5(){if(qI)return Lc;qI=1;var n=ei(),e=ti(),t=rb(),r=as(),i=ii(),s=os(),o=ri(),a=e.has,u=e.remove;return Lc=function(d){var c=n(this),h=i(d),f=t(c);return r(c)<=h.size?s(c,function(v){h.includes(v)&&u(f,v)}):o(h.getIterator(),function(v){a(f,v)&&u(f,v)}),f},Lc}var zc,CI;function ni(){return CI||(CI=1,zc=function(){return!1}),zc}var xI;function c5(){if(xI)return wI;xI=1;var n=Y(),e=d5(),t=se(),r=ni(),i=!r("difference",function(o){return o.size===0}),s=i||t(function(){var o={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var l=u++>1;return a.has(1)&&a.clear(),{done:l,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return n({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),wI}var DI={},Wc,AI;function h5(){if(AI)return Wc;AI=1;var n=ei(),e=ti(),t=as(),r=ii(),i=os(),s=ri(),o=e.Set,a=e.add,u=e.has;return Wc=function(d){var c=n(this),h=r(d),f=new o;return t(c)>h.size?s(h.getIterator(),function(v){u(c,v)&&a(f,v)}):i(c,function(v){h.includes(v)&&a(f,v)}),f},Wc}var MI;function f5(){if(MI)return DI;MI=1;var n=Y(),e=se(),t=h5(),r=ni(),i=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return n({target:"Set",proto:!0,real:!0,forced:i},{intersection:t}),DI}var FI={},Hc,NI;function v5(){if(NI)return Hc;NI=1;var n=ei(),e=ti().has,t=as(),r=ii(),i=os(),s=ri(),o=Qm();return Hc=function(u){var l=n(this),d=r(u);if(t(l)<=d.size)return i(l,function(h){if(d.includes(h))return!1},!0)!==!1;var c=d.getIterator();return s(c,function(h){if(e(l,h))return o(c,"normal",!1)})!==!1},Hc}var kI;function p5(){if(kI)return FI;kI=1;var n=Y(),e=v5(),t=ni(),r=!t("isDisjointFrom",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),FI}var BI={},Uc,jI;function g5(){if(jI)return Uc;jI=1;var n=ei(),e=as(),t=os(),r=ii();return Uc=function(s){var o=n(this),a=r(s);return e(o)>a.size?!1:t(o,function(u){if(!a.includes(u))return!1},!0)!==!1},Uc}var LI;function y5(){if(LI)return BI;LI=1;var n=Y(),e=g5(),t=ni(),r=!t("isSubsetOf",function(i){return i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),BI}var zI={},Vc,WI;function m5(){if(WI)return Vc;WI=1;var n=ei(),e=ti().has,t=as(),r=ii(),i=ri(),s=Qm();return Vc=function(a){var u=n(this),l=r(a);if(t(u)<l.size)return!1;var d=l.getIterator();return i(d,function(c){if(!e(u,c))return s(d,"normal",!1)})!==!1},Vc}var HI;function b5(){if(HI)return zI;HI=1;var n=Y(),e=m5(),t=ni(),r=!t("isSupersetOf",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),zI}var UI={},Gc,VI;function _5(){if(VI)return Gc;VI=1;var n=ei(),e=ti(),t=rb(),r=ii(),i=ri(),s=e.add,o=e.has,a=e.remove;return Gc=function(l){var d=n(this),c=r(l).getIterator(),h=t(d);return i(c,function(f){o(d,f)?a(h,f):s(h,f)}),h},Gc}var Kc,GI;function IN(){return GI||(GI=1,Kc=function(n){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[n](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),Kc}var KI;function w5(){if(KI)return UI;KI=1;var n=Y(),e=_5(),t=IN(),r=ni(),i=!r("symmetricDifference")||!t("symmetricDifference");return n({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),UI}var YI={},Yc,XI;function E5(){if(XI)return Yc;XI=1;var n=ei(),e=ti().add,t=rb(),r=ii(),i=ri();return Yc=function(o){var a=n(this),u=r(o).getIterator(),l=t(a);return i(u,function(d){e(l,d)}),l},Yc}var JI;function S5(){if(JI)return YI;JI=1;var n=Y(),e=E5(),t=IN(),r=ni(),i=!r("union")||!t("union");return n({target:"Set",proto:!0,real:!0,forced:i},{union:e}),YI}var Xc,ZI;function O5(){if(ZI)return Xc;ZI=1,br(),u5(),c5(),f5(),p5(),y5(),b5(),w5(),S5(),fo();var n=Me();return Xc=n.Set,Xc}var Jc,QI;function I5(){if(QI)return Jc;QI=1;var n=O5();return _r(),Jc=n,Jc}var Zc,e$;function $5(){return e$||(e$=1,Zc=I5()),Zc}var T5=$5(),Qc=ee(T5),eh,t$;function P5(){if(t$)return eh;t$=1,br(),fo();var n=bN();return eh=n,eh}var th,r$;function R5(){if(r$)return th;r$=1;var n=P5();return _r(),th=n,th}var rh,i$;function q5(){if(i$)return rh;i$=1;var n=R5();return rh=n,rh}var ih,n$;function C5(){if(n$)return ih;n$=1;var n=q5();return ih=n,ih}var nh,s$;function x5(){return s$||(s$=1,nh=C5()),nh}var sh,o$;function D5(){return o$||(o$=1,sh=x5()),sh}var A5=D5(),oh=ee(A5);class Dr{constructor(e){this._pairs=e}*[Ei](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Ot(e=[...this._pairs]).call(e,t=>t[0])}toItemArray(){var e;return Ot(e=[...this._pairs]).call(e,t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=$L(null);for(const[t,r]of this._pairs)e[t]=r;return e}toMap(){return new ON(this._pairs)}toIdSet(){return new Qc(this.toIdArray())}toItemSet(){return new Qc(this.toItemArray())}cache(){return new Dr([...this._pairs])}distinct(e){const t=new Qc;for(const[r,i]of this._pairs)t.add(e(i,r));return t}filter(e){const t=this._pairs;return new Dr({*[Ei](){for(const[r,i]of t)e(i,r)&&(yield[r,i])}})}forEach(e){for(const[t,r]of this._pairs)e(r,t)}map(e){const t=this._pairs;return new Dr({*[Ei](){for(const[r,i]of t)yield[r,e(i,r)]}})}max(e){const t=oh(this._pairs);let r=t.next();if(r.done)return null;let i=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,u=e(a,o);u>s&&(s=u,i=a)}return i}min(e){const t=oh(this._pairs);let r=t.next();if(r.done)return null;let i=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,u=e(a,o);u<s&&(s=u,i=a)}return i}reduce(e,t){for(const[r,i]of this._pairs)t=e(t,i,r);return t}sort(e){return new Dr({[Ei]:()=>{var t;return oh(_m(t=[...this._pairs]).call(t,(r,i)=>{let[s,o]=r,[a,u]=i;return e(o,u,s,a)}))}})}}function a$(n,e){var t=Um(n);if(XS){var r=XS(n);e&&(r=bi(r).call(r,function(i){return gN(n,i).enumerable})),t.push.apply(t,r)}return t}function u$(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?zr(t=a$(Object(i),!0)).call(t,function(s){ar(n,s,i[s])}):aO?rW(n,aO(i)):zr(r=a$(Object(i))).call(r,function(s){sW(n,s,gN(i,s))})}return n}function M5(n,e){return n[e]==null&&(n[e]=o5()),n}class Vs extends Us{get idProp(){return this._idProp}constructor(e,t){super(),ar(this,"_queue",null),e&&!qt(e)&&(t=e,e=[]),this._options=t||{},this._data=new ON,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(t)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=tb.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,t){const r=[];let i;if(qt(e)){const s=Ot(e).call(e,o=>o[this._idProp]);if($W(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)i=this._addItem(e[o]),r.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),r.push(i);else throw new Error("Unknown dataType");return r.length&&this._trigger("add",{items:r},t),r}update(e,t){const r=[],i=[],s=[],o=[],a=this._idProp,u=l=>{const d=l[a];if(d!=null&&this._data.has(d)){const c=l,h=vL({},this._data.get(d)),f=this._updateItem(c);i.push(f),o.push(c),s.push(h)}else{const c=this._addItem(l);r.push(c)}};if(qt(e))for(let l=0,d=e.length;l<d;l++)e[l]&&typeof e[l]=="object"?u(e[l]):console.warn("Ignoring input item, which is not an object at index "+l);else if(e&&typeof e=="object")u(e);else throw new Error("Unknown dataType");if(r.length&&this._trigger("add",{items:r},t),i.length){const l={items:i,oldData:s,data:o};this._trigger("update",l,t)}return _L(r).call(r,i)}updateOnly(e,t){var r;qt(e)||(e=[e]);const i=Ot(r=Ot(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(r,s=>{let{oldData:o,update:a}=s;const u=o[this._idProp],l=Dz(o,a);return this._data.set(u,l),{id:u,oldData:o,updatedData:l}});if(i.length){const s={items:Ot(i).call(i,o=>o.id),oldData:Ot(i).call(i,o=>o.oldData),data:Ot(i).call(i,o=>o.updatedData)};return this._trigger("update",s,t),s.items}else return[]}get(e,t){let r,i,s;gI(e)?(r=e,s=t):qt(e)?(i=e,s=t):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&bi(s),u=[];let l,d,c;if(r!=null)l=this._data.get(r),l&&a&&!a(l)&&(l=void 0);else if(i!=null)for(let f=0,v=i.length;f<v;f++)l=this._data.get(i[f]),l!=null&&(!a||a(l))&&u.push(l);else{var h;d=[...gi(h=this._data).call(h)];for(let f=0,v=d.length;f<v;f++)c=d[f],l=this._data.get(c),l!=null&&(!a||a(l))&&u.push(l)}if(s&&s.order&&r==null&&this._sort(u,s.order),s&&s.fields){const f=s.fields;if(r!=null&&l!=null)l=this._filterFields(l,f);else for(let v=0,g=u.length;v<g;v++)u[v]=this._filterFields(u[v],f)}if(o=="Object"){const f={};for(let v=0,g=u.length;v<g;v++){const b=u[v],y=b[this._idProp];f[y]=b}return f}else return r!=null?l??null:u}getIds(e){const t=this._data,r=e&&bi(e),i=e&&e.order,s=[...gi(t).call(t)],o=[];if(r)if(i){const a=[];for(let u=0,l=s.length;u<l;u++){const d=s[u],c=this._data.get(d);c!=null&&r(c)&&a.push(c)}this._sort(a,i);for(let u=0,l=a.length;u<l;u++)o.push(a[u][this._idProp])}else for(let a=0,u=s.length;a<u;a++){const l=s[a],d=this._data.get(l);d!=null&&r(d)&&o.push(d[this._idProp])}else if(i){const a=[];for(let u=0,l=s.length;u<l;u++){const d=s[u];a.push(t.get(d))}this._sort(a,i);for(let u=0,l=a.length;u<l;u++)o.push(a[u][this._idProp])}else for(let a=0,u=s.length;a<u;a++){const l=s[a],d=t.get(l);d!=null&&o.push(d[this._idProp])}return o}getDataSet(){return this}forEach(e,t){const r=t&&bi(t),i=this._data,s=[...gi(i).call(i)];if(t&&t.order){const o=this.get(t);for(let a=0,u=o.length;a<u;a++){const l=o[a],d=l[this._idProp];e(l,d)}}else for(let o=0,a=s.length;o<a;o++){const u=s[o],l=this._data.get(u);l!=null&&(!r||r(l))&&e(l,u)}}map(e,t){const r=t&&bi(t),i=[],s=this._data,o=[...gi(s).call(s)];for(let a=0,u=o.length;a<u;a++){const l=o[a],d=this._data.get(l);d!=null&&(!r||r(d))&&i.push(e(d,l))}return t&&t.order&&this._sort(i,t.order),i}_filterFields(e,t){var r;return e&&rj(r=qt(t)?t:Um(t)).call(r,(i,s)=>(i[s]=e[s],i),{})}_sort(e,t){if(typeof t=="string"){const r=t;_m(e).call(e,(i,s)=>{const o=i[r],a=s[r];return o>a?1:o<a?-1:0})}else if(typeof t=="function")_m(e).call(e,t);else throw new TypeError("Order must be a function or a string")}remove(e,t){const r=[],i=[],s=qt(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const u=this._remove(s[o]);if(u){const l=u[this._idProp];l!=null&&(r.push(l),i.push(u))}}return r.length&&this._trigger("remove",{items:r,oldData:i},t),r}_remove(e){let t;if(gI(e)?t=e:e&&typeof e=="object"&&(t=e[this._idProp]),t!=null&&this._data.has(t)){const r=this._data.get(t)||null;return this._data.delete(t),--this.length,r}return null}clear(e){var t;const r=[...gi(t=this._data).call(t)],i=[];for(let s=0,o=r.length;s<o;s++)i.push(this._data.get(r[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:r,oldData:i},e),r}max(e){let t=null,r=null;for(const s of lI(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(r==null||o>r)&&(t=s,r=o)}return t||null}min(e){let t=null,r=null;for(const s of lI(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(r==null||o<r)&&(t=s,r=o)}return t||null}distinct(e){const t=this._data,r=[...gi(t).call(t)],i=[];let s=0;for(let o=0,a=r.length;o<a;o++){const u=r[o],d=t.get(u)[e];let c=!1;for(let h=0;h<s;h++)if(i[h]==d){c=!0;break}!c&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const t=M5(e,this._idProp),r=t[this._idProp];if(this._data.has(r))throw new Error("Cannot add item: item with id "+r+" already exists");return this._data.set(r,t),++this.length,r}_updateItem(e){const t=e[this._idProp];if(t==null)throw new Error("Cannot update item: item has no id (item: "+ML(e)+")");const r=this._data.get(t);if(!r)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,u$(u$({},r),e)),t}stream(e){if(e){const r=this._data;return new Dr({*[Ei](){for(const i of e){const s=r.get(i);s!=null&&(yield[i,s])}}})}else{var t;return new Dr({[Ei]:NF(t=e5(this._data)).call(t,this._data)})}}}function F5(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof zr(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Ot(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function $N(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof zr(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Ot(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&F5(n,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var l$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function G(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var d$={},wn,c$;function ge(){if(c$)return wn;c$=1;var n=function(e){return e&&e.Math===Math&&e};return wn=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof l$=="object"&&l$)||n(typeof wn=="object"&&wn)||(function(){return this})()||Function("return this")(),wn}var ah,h$;function te(){return h$||(h$=1,ah=function(n){try{return!!n()}catch{return!0}}),ah}var uh,f$;function us(){if(f$)return uh;f$=1;var n=te();return uh=!n(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),uh}var lh,v$;function yo(){if(v$)return lh;v$=1;var n=us(),e=Function.prototype,t=e.apply,r=e.call;return lh=typeof Reflect=="object"&&Reflect.apply||(n?r.bind(t):function(){return r.apply(t,arguments)}),lh}var dh,p$;function re(){if(p$)return dh;p$=1;var n=us(),e=Function.prototype,t=e.call,r=n&&e.bind.bind(t,t);return dh=n?r:function(i){return function(){return t.apply(i,arguments)}},dh}var ch,g$;function kt(){if(g$)return ch;g$=1;var n=re(),e=n({}.toString),t=n("".slice);return ch=function(r){return t(e(r),8,-1)},ch}var hh,y$;function ib(){if(y$)return hh;y$=1;var n=kt(),e=re();return hh=function(t){if(n(t)==="Function")return e(t)},hh}var fh,m$;function Le(){if(m$)return fh;m$=1;var n=typeof document=="object"&&document.all;return fh=typeof n>"u"&&n!==void 0?function(e){return typeof e=="function"||e===n}:function(e){return typeof e=="function"},fh}var vh={},ph,b$;function $e(){if(b$)return ph;b$=1;var n=te();return ph=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),ph}var gh,_$;function at(){if(_$)return gh;_$=1;var n=us(),e=Function.prototype.call;return gh=n?e.bind(e):function(){return e.apply(e,arguments)},gh}var yh={},w$;function mo(){if(w$)return yh;w$=1;var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!n.call({1:2},1);return yh.f=t?function(i){var s=e(this,i);return!!s&&s.enumerable}:n,yh}var mh,E$;function ls(){return E$||(E$=1,mh=function(n,e){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:e}}),mh}var bh,S$;function bo(){if(S$)return bh;S$=1;var n=re(),e=te(),t=kt(),r=Object,i=n("".split);return bh=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?i(s,""):r(s)}:r,bh}var _h,O$;function Ki(){return O$||(O$=1,_h=function(n){return n==null}),_h}var wh,I$;function er(){if(I$)return wh;I$=1;var n=Ki(),e=TypeError;return wh=function(t){if(n(t))throw new e("Can't call method on "+t);return t},wh}var Eh,$$;function Rt(){if($$)return Eh;$$=1;var n=bo(),e=er();return Eh=function(t){return n(e(t))},Eh}var Sh,T$;function ze(){if(T$)return Sh;T$=1;var n=Le();return Sh=function(e){return typeof e=="object"?e!==null:n(e)},Sh}var Oh,P$;function oe(){return P$||(P$=1,Oh={}),Oh}var Ih,R$;function lt(){if(R$)return Ih;R$=1;var n=oe(),e=ge(),t=Le(),r=function(i){return t(i)?i:void 0};return Ih=function(i,s){return arguments.length<2?r(n[i])||r(e[i]):n[i]&&n[i][s]||e[i]&&e[i][s]},Ih}var $h,q$;function xe(){if(q$)return $h;q$=1;var n=re();return $h=n({}.isPrototypeOf),$h}var Th,C$;function Yi(){if(C$)return Th;C$=1;var n=ge(),e=n.navigator,t=e&&e.userAgent;return Th=t?String(t):"",Th}var Ph,x$;function ds(){if(x$)return Ph;x$=1;var n=ge(),e=Yi(),t=n.process,r=n.Deno,i=t&&t.versions||r&&r.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),Ph=a,Ph}var Rh,D$;function Xi(){if(D$)return Rh;D$=1;var n=ds(),e=te(),t=ge(),r=t.String;return Rh=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!r(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&n&&n<41}),Rh}var qh,A$;function TN(){if(A$)return qh;A$=1;var n=Xi();return qh=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol",qh}var Ch,M$;function cs(){if(M$)return Ch;M$=1;var n=lt(),e=Le(),t=xe(),r=TN(),i=Object;return Ch=r?function(s){return typeof s=="symbol"}:function(s){var o=n("Symbol");return e(o)&&t(o.prototype,i(s))},Ch}var xh,F$;function Ji(){if(F$)return xh;F$=1;var n=String;return xh=function(e){try{return n(e)}catch{return"Object"}},xh}var Dh,N$;function tr(){if(N$)return Dh;N$=1;var n=Le(),e=Ji(),t=TypeError;return Dh=function(r){if(n(r))return r;throw new t(e(r)+" is not a function")},Dh}var Ah,k$;function nb(){if(k$)return Ah;k$=1;var n=tr(),e=Ki();return Ah=function(t,r){var i=t[r];return e(i)?void 0:n(i)},Ah}var Mh,B$;function N5(){if(B$)return Mh;B$=1;var n=at(),e=Le(),t=ze(),r=TypeError;return Mh=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!t(a=n(o,i))||e(o=i.valueOf)&&!t(a=n(o,i))||s!=="string"&&e(o=i.toString)&&!t(a=n(o,i)))return a;throw new r("Can't convert object to primitive value")},Mh}var Fh={exports:{}},Nh,j$;function Zi(){return j$||(j$=1,Nh=!0),Nh}var kh,L$;function k5(){if(L$)return kh;L$=1;var n=ge(),e=Object.defineProperty;return kh=function(t,r){try{e(n,t,{value:r,configurable:!0,writable:!0})}catch{n[t]=r}return r},kh}var z$;function sb(){if(z$)return Fh.exports;z$=1;var n=Zi(),e=ge(),t=k5(),r="__core-js_shared__",i=Fh.exports=e[r]||t(r,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:n?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Fh.exports}var Bh,W$;function Qi(){if(W$)return Bh;W$=1;var n=sb();return Bh=function(e,t){return n[e]||(n[e]=t||{})},Bh}var jh,H$;function dt(){if(H$)return jh;H$=1;var n=er(),e=Object;return jh=function(t){return e(n(t))},jh}var Lh,U$;function Ue(){if(U$)return Lh;U$=1;var n=re(),e=dt(),t=n({}.hasOwnProperty);return Lh=Object.hasOwn||function(i,s){return t(e(i),s)},Lh}var zh,V$;function _o(){if(V$)return zh;V$=1;var n=re(),e=0,t=Math.random(),r=n(1.1.toString);return zh=function(i){return"Symbol("+(i===void 0?"":i)+")_"+r(++e+t,36)},zh}var Wh,G$;function De(){if(G$)return Wh;G$=1;var n=ge(),e=Qi(),t=Ue(),r=_o(),i=Xi(),s=TN(),o=n.Symbol,a=e("wks"),u=s?o.for||o:o&&o.withoutSetter||r;return Wh=function(l){return t(a,l)||(a[l]=i&&t(o,l)?o[l]:u("Symbol."+l)),a[l]},Wh}var Hh,K$;function PN(){if(K$)return Hh;K$=1;var n=at(),e=ze(),t=cs(),r=nb(),i=N5(),s=De(),o=TypeError,a=s("toPrimitive");return Hh=function(u,l){if(!e(u)||t(u))return u;var d=r(u,a),c;if(d){if(l===void 0&&(l="default"),c=n(d,u,l),!e(c)||t(c))return c;throw new o("Can't convert object to primitive value")}return l===void 0&&(l="number"),i(u,l)},Hh}var Uh,Y$;function ob(){if(Y$)return Uh;Y$=1;var n=PN(),e=cs();return Uh=function(t){var r=n(t,"string");return e(r)?r:r+""},Uh}var Vh,X$;function RN(){if(X$)return Vh;X$=1;var n=ge(),e=ze(),t=n.document,r=e(t)&&e(t.createElement);return Vh=function(i){return r?t.createElement(i):{}},Vh}var Gh,J$;function qN(){if(J$)return Gh;J$=1;var n=$e(),e=te(),t=RN();return Gh=!n&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),Gh}var Z$;function wo(){if(Z$)return vh;Z$=1;var n=$e(),e=at(),t=mo(),r=ls(),i=Rt(),s=ob(),o=Ue(),a=qN(),u=Object.getOwnPropertyDescriptor;return vh.f=n?u:function(d,c){if(d=i(d),c=s(c),a)try{return u(d,c)}catch{}if(o(d,c))return r(!e(t.f,d,c),d[c])},vh}var Kh,Q$;function B5(){if(Q$)return Kh;Q$=1;var n=te(),e=Le(),t=/#|\.prototype\./,r=function(u,l){var d=s[i(u)];return d===a?!0:d===o?!1:e(l)?n(l):!!l},i=r.normalize=function(u){return String(u).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return Kh=r,Kh}var Yh,eT;function Eo(){if(eT)return Yh;eT=1;var n=ib(),e=tr(),t=us(),r=n(n.bind);return Yh=function(i,s){return e(i),s===void 0?i:t?r(i,s):function(){return i.apply(s,arguments)}},Yh}var Xh={},Jh,tT;function CN(){if(tT)return Jh;tT=1;var n=$e(),e=te();return Jh=n&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Jh}var Zh,rT;function Bt(){if(rT)return Zh;rT=1;var n=ze(),e=String,t=TypeError;return Zh=function(r){if(n(r))return r;throw new t(e(r)+" is not an object")},Zh}var iT;function yt(){if(iT)return Xh;iT=1;var n=$e(),e=qN(),t=CN(),r=Bt(),i=ob(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u="enumerable",l="configurable",d="writable";return Xh.f=n?t?function(h,f,v){if(r(h),f=i(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&d in v&&!v[d]){var g=a(h,f);g&&g[d]&&(h[f]=v.value,v={configurable:l in v?v[l]:g[l],enumerable:u in v?v[u]:g[u],writable:!1})}return o(h,f,v)}:o:function(h,f,v){if(r(h),f=i(f),r(v),e)try{return o(h,f,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(h[f]=v.value),h},Xh}var Qh,nT;function en(){if(nT)return Qh;nT=1;var n=$e(),e=yt(),t=ls();return Qh=n?function(r,i,s){return e.f(r,i,t(1,s))}:function(r,i,s){return r[i]=s,r},Qh}var ef,sT;function z(){if(sT)return ef;sT=1;var n=ge(),e=yo(),t=ib(),r=Le(),i=wo().f,s=B5(),o=oe(),a=Eo(),u=en(),l=Ue(),d=function(c){var h=function(f,v,g){if(this instanceof h){switch(arguments.length){case 0:return new c;case 1:return new c(f);case 2:return new c(f,v)}return new c(f,v,g)}return e(c,this,arguments)};return h.prototype=c.prototype,h};return ef=function(c,h){var f=c.target,v=c.global,g=c.stat,b=c.proto,y=v?n:g?n[f]:n[f]&&n[f].prototype,p=v?o:o[f]||u(o,f,{})[f],S=p.prototype,m,w,O,I,_,E,$,T,P;for(I in h)m=s(v?I:f+(g?".":"#")+I,c.forced),w=!m&&y&&l(y,I),E=p[I],w&&(c.dontCallGetSet?(P=i(y,I),$=P&&P.value):$=y[I]),_=w&&$?$:h[I],!(!m&&!b&&typeof E==typeof _)&&(c.bind&&w?T=a(_,n):c.wrap&&w?T=d(_):b&&r(_)?T=t(_):T=_,(c.sham||_&&_.sham||E&&E.sham)&&u(T,"sham",!0),u(p,I,T),b&&(O=f+"Prototype",l(o,O)||u(o,O,{}),u(o[O],I,_),c.real&&S&&(m||!S[I])&&u(S,I,_)))},ef}var tf,oT;function j5(){if(oT)return tf;oT=1;var n=Math.ceil,e=Math.floor;return tf=Math.trunc||function(r){var i=+r;return(i>0?e:n)(i)},tf}var rf,aT;function tn(){if(aT)return rf;aT=1;var n=j5();return rf=function(e){var t=+e;return t!==t||t===0?0:n(t)},rf}var nf,uT;function So(){if(uT)return nf;uT=1;var n=tn(),e=Math.max,t=Math.min;return nf=function(r,i){var s=n(r);return s<0?e(s+i,0):t(s,i)},nf}var sf,lT;function xN(){if(lT)return sf;lT=1;var n=tn(),e=Math.min;return sf=function(t){var r=n(t);return r>0?e(r,9007199254740991):0},sf}var of,dT;function rr(){if(dT)return of;dT=1;var n=xN();return of=function(e){return n(e.length)},of}var af,cT;function ab(){if(cT)return af;cT=1;var n=Rt(),e=So(),t=rr(),r=function(i){return function(s,o,a){var u=n(s),l=t(u);if(l===0)return!i&&-1;var d=e(a,l),c;if(i&&o!==o){for(;l>d;)if(c=u[d++],c!==c)return!0}else for(;l>d;d++)if((i||d in u)&&u[d]===o)return i||d||0;return!i&&-1}};return af={includes:r(!0),indexOf:r(!1)},af}var uf,hT;function hs(){return hT||(hT=1,uf={}),uf}var lf,fT;function DN(){if(fT)return lf;fT=1;var n=re(),e=Ue(),t=Rt(),r=ab().indexOf,i=hs(),s=n([].push);return lf=function(o,a){var u=t(o),l=0,d=[],c;for(c in u)!e(i,c)&&e(u,c)&&s(d,c);for(;a.length>l;)e(u,c=a[l++])&&(~r(d,c)||s(d,c));return d},lf}var df,vT;function ub(){return vT||(vT=1,df=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),df}var cf,pT;function fs(){if(pT)return cf;pT=1;var n=DN(),e=ub();return cf=Object.keys||function(r){return n(r,e)},cf}var hf={},gT;function Oo(){return gT||(gT=1,hf.f=Object.getOwnPropertySymbols),hf}var ff,yT;function L5(){if(yT)return ff;yT=1;var n=$e(),e=re(),t=at(),r=te(),i=fs(),s=Oo(),o=mo(),a=dt(),u=bo(),l=Object.assign,d=Object.defineProperty,c=e([].concat);return ff=!l||r(function(){if(n&&l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),g="abcdefghijklmnopqrst";return h[v]=7,g.split("").forEach(function(b){f[b]=b}),l({},h)[v]!==7||i(l({},f)).join("")!==g})?function(f,v){for(var g=a(f),b=arguments.length,y=1,p=s.f,S=o.f;b>y;)for(var m=u(arguments[y++]),w=p?c(i(m),p(m)):i(m),O=w.length,I=0,_;O>I;)_=w[I++],(!n||t(S,m,_))&&(g[_]=m[_]);return g}:l,ff}var mT;function z5(){if(mT)return d$;mT=1;var n=z(),e=L5();return n({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),d$}var vf,bT;function W5(){if(bT)return vf;bT=1,z5();var n=oe();return vf=n.Object.assign,vf}var pf,_T;function H5(){if(_T)return pf;_T=1;var n=W5();return pf=n,pf}var gf,wT;function U5(){return wT||(wT=1,gf=H5()),gf}var V5=U5(),Pe=G(V5),ET={},yf,ST;function rn(){if(ST)return yf;ST=1;var n=re();return yf=n([].slice),yf}var mf,OT;function G5(){if(OT)return mf;OT=1;var n=re(),e=tr(),t=ze(),r=Ue(),i=rn(),s=us(),o=Function,a=n([].concat),u=n([].join),l={},d=function(c,h,f){if(!r(l,h)){for(var v=[],g=0;g<h;g++)v[g]="a["+g+"]";l[h]=o("C,a","return new C("+u(v,",")+")")}return l[h](c,f)};return mf=s?o.bind:function(h){var f=e(this),v=f.prototype,g=i(arguments,1),b=function(){var p=a(g,i(arguments));return this instanceof b?d(f,p.length,p):f.apply(h,p)};return t(v)&&(b.prototype=v),b},mf}var IT;function K5(){if(IT)return ET;IT=1;var n=z(),e=G5();return n({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),ET}var bf,$T;function Ve(){if($T)return bf;$T=1;var n=ge(),e=oe();return bf=function(t,r){var i=e[t+"Prototype"],s=i&&i[r];if(s)return s;var o=n[t],a=o&&o.prototype;return a&&a[r]},bf}var _f,TT;function Y5(){if(TT)return _f;TT=1,K5();var n=Ve();return _f=n("Function","bind"),_f}var wf,PT;function X5(){if(PT)return wf;PT=1;var n=xe(),e=Y5(),t=Function.prototype;return wf=function(r){var i=r.bind;return r===t||n(t,r)&&i===t.bind?e:i},wf}var Ef,RT;function J5(){if(RT)return Ef;RT=1;var n=X5();return Ef=n,Ef}var Sf,qT;function Z5(){return qT||(qT=1,Sf=J5()),Sf}var Q5=Z5(),D=G(Q5);function lb(n,e,t,r){n.beginPath(),n.arc(e,t,r,0,2*Math.PI,!1),n.closePath()}function e3(n,e,t,r){n.beginPath(),n.rect(e-r,t-r,r*2,r*2),n.closePath()}function t3(n,e,t,r){n.beginPath(),r*=1.15,t+=.275*r;const i=r*2,s=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-s*s);n.moveTo(e,t-(a-o)),n.lineTo(e+s,t+o),n.lineTo(e-s,t+o),n.lineTo(e,t-(a-o)),n.closePath()}function r3(n,e,t,r){n.beginPath(),r*=1.15,t-=.275*r;const i=r*2,s=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-s*s);n.moveTo(e,t+(a-o)),n.lineTo(e+s,t-o),n.lineTo(e-s,t-o),n.lineTo(e,t+(a-o)),n.closePath()}function i3(n,e,t,r){n.beginPath(),r*=.82,t+=.1*r;for(let i=0;i<10;i++){const s=i%2===0?r*1.3:r*.5;n.lineTo(e+s*Math.sin(i*2*Math.PI/10),t-s*Math.cos(i*2*Math.PI/10))}n.closePath()}function n3(n,e,t,r){n.beginPath(),n.lineTo(e,t+r),n.lineTo(e+r,t),n.lineTo(e,t-r),n.lineTo(e-r,t),n.closePath()}function AN(n,e,t,r,i,s){const o=Math.PI/180;r-2*s<0&&(s=r/2),i-2*s<0&&(s=i/2),n.beginPath(),n.moveTo(e+s,t),n.lineTo(e+r-s,t),n.arc(e+r-s,t+s,s,o*270,o*360,!1),n.lineTo(e+r,t+i-s),n.arc(e+r-s,t+i-s,s,0,o*90,!1),n.lineTo(e+s,t+i),n.arc(e+s,t+i-s,s,o*90,o*180,!1),n.lineTo(e,t+s),n.arc(e+s,t+s,s,o*180,o*270,!1),n.closePath()}function wm(n,e,t,r,i){const s=.5522848,o=r/2*s,a=i/2*s,u=e+r,l=t+i,d=e+r/2,c=t+i/2;n.beginPath(),n.moveTo(e,c),n.bezierCurveTo(e,c-a,d-o,t,d,t),n.bezierCurveTo(d+o,t,u,c-a,u,c),n.bezierCurveTo(u,c+a,d+o,l,d,l),n.bezierCurveTo(d-o,l,e,c+a,e,c),n.closePath()}function MN(n,e,t,r,i){const s=.3333333333333333,o=r,a=i*s,u=.5522848,l=o/2*u,d=a/2*u,c=e+o,h=t+a,f=e+o/2,v=t+a/2,g=t+(i-a/2),b=t+i;n.beginPath(),n.moveTo(c,v),n.bezierCurveTo(c,v+d,f+l,h,f,h),n.bezierCurveTo(f-l,h,e,v+d,e,v),n.bezierCurveTo(e,v-d,f-l,t,f,t),n.bezierCurveTo(f+l,t,c,v-d,c,v),n.lineTo(c,g),n.bezierCurveTo(c,g+d,f+l,b,f,b),n.bezierCurveTo(f-l,b,e,g+d,e,g),n.lineTo(e,v)}function FN(n,e,t,r,i,s){n.beginPath(),n.moveTo(e,t);const o=s.length,a=r-e,u=i-t,l=u/a;let d=Math.sqrt(a*a+u*u),c=0,h=!0,f=0,v=+s[0];for(;d>=.1;)v=+s[c++%o],v>d&&(v=d),f=Math.sqrt(v*v/(1+l*l)),f=a<0?-f:f,e+=f,t+=l*f,h===!0?n.lineTo(e,t):n.moveTo(e,t),d-=v,h=!h}function s3(n,e,t,r){n.beginPath();const i=6,s=Math.PI*2/i;n.moveTo(e+r,t);for(let o=1;o<i;o++)n.lineTo(e+r*Math.cos(s*o),t+r*Math.sin(s*o));n.closePath()}const CT={circle:lb,dashedLine:FN,database:MN,diamond:n3,ellipse:wm,ellipse_vis:wm,hexagon:s3,roundRect:AN,square:e3,star:i3,triangle:t3,triangleDown:r3};function o3(n){return Object.prototype.hasOwnProperty.call(CT,n)?CT[n]:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];CanvasRenderingContext2D.prototype[n].call(e,r)}}var Of={exports:{}},xT;function a3(){return xT||(xT=1,(function(n){n.exports=e;function e(r){if(r)return t(r)}function t(r){for(var i in e.prototype)r[i]=e.prototype[i];return r}e.prototype.on=e.prototype.addEventListener=function(r,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(i),this},e.prototype.once=function(r,i){function s(){this.off(r,s),i.apply(this,arguments)}return s.fn=i,this.on(r,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===i||o.fn===i){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+r],this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+r],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,i)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length}})(Of)),Of.exports}var u3=a3(),NN=G(u3),DT={},If,AT;function si(){if(AT)return If;AT=1;var n=kt();return If=Array.isArray||function(t){return n(t)==="Array"},If}var $f,MT;function kN(){if(MT)return $f;MT=1;var n=TypeError,e=9007199254740991;return $f=function(t){if(t>e)throw n("Maximum allowed index exceeded");return t},$f}var Tf,FT;function Io(){if(FT)return Tf;FT=1;var n=$e(),e=yt(),t=ls();return Tf=function(r,i,s){n?e.f(r,i,t(0,s)):r[i]=s},Tf}var Pf,NT;function db(){if(NT)return Pf;NT=1;var n=De(),e=n("toStringTag"),t={};return t[e]="z",Pf=String(t)==="[object z]",Pf}var Rf,kT;function nn(){if(kT)return Rf;kT=1;var n=db(),e=Le(),t=kt(),r=De(),i=r("toStringTag"),s=Object,o=t((function(){return arguments})())==="Arguments",a=function(u,l){try{return u[l]}catch{}};return Rf=n?t:function(u){var l,d,c;return u===void 0?"Undefined":u===null?"Null":typeof(d=a(l=s(u),i))=="string"?d:o?t(l):(c=t(l))==="Object"&&e(l.callee)?"Arguments":c},Rf}var qf,BT;function l3(){if(BT)return qf;BT=1;var n=re(),e=Le(),t=sb(),r=n(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(i){return r(i)}),qf=t.inspectSource,qf}var Cf,jT;function BN(){if(jT)return Cf;jT=1;var n=re(),e=te(),t=Le(),r=nn(),i=lt(),s=l3(),o=function(){},a=i("Reflect","construct"),u=/^\s*(?:class|function)\b/,l=n(u.exec),d=!u.test(o),c=function(v){if(!t(v))return!1;try{return a(o,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!l(u,s(v))}catch{return!0}};return h.sham=!0,Cf=!a||e(function(){var f;return c(c.call)||!c(Object)||!c(function(){f=!0})||f})?h:c,Cf}var xf,LT;function d3(){if(LT)return xf;LT=1;var n=si(),e=BN(),t=ze(),r=De(),i=r("species"),s=Array;return xf=function(o){var a;return n(o)&&(a=o.constructor,e(a)&&(a===s||n(a.prototype))?a=void 0:t(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},xf}var Df,zT;function cb(){if(zT)return Df;zT=1;var n=d3();return Df=function(e,t){return new(n(e))(t===0?0:t)},Df}var Af,WT;function vs(){if(WT)return Af;WT=1;var n=te(),e=De(),t=ds(),r=e("species");return Af=function(i){return t>=51||!n(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Af}var HT;function jN(){if(HT)return DT;HT=1;var n=z(),e=te(),t=si(),r=ze(),i=dt(),s=rr(),o=kN(),a=Io(),u=cb(),l=vs(),d=De(),c=ds(),h=d("isConcatSpreadable"),f=c>=51||!e(function(){var b=[];return b[h]=!1,b.concat()[0]!==b}),v=function(b){if(!r(b))return!1;var y=b[h];return y!==void 0?!!y:t(b)},g=!f||!l("concat");return n({target:"Array",proto:!0,arity:1,forced:g},{concat:function(y){var p=i(this),S=u(p,0),m=0,w,O,I,_,E;for(w=-1,I=arguments.length;w<I;w++)if(E=w===-1?p:arguments[w],v(E))for(_=s(E),o(m+_),O=0;O<_;O++,m++)O in E&&a(S,m,E[O]);else o(m+1),a(S,m++,E);return S.length=m,S}}),DT}var UT={},VT={},Mf,GT;function mt(){if(GT)return Mf;GT=1;var n=nn(),e=String;return Mf=function(t){if(n(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},Mf}var Ff={},KT;function hb(){if(KT)return Ff;KT=1;var n=$e(),e=CN(),t=yt(),r=Bt(),i=Rt(),s=fs();return Ff.f=n&&!e?Object.defineProperties:function(a,u){r(a);for(var l=i(u),d=s(u),c=d.length,h=0,f;c>h;)t.f(a,f=d[h++],l[f]);return a},Ff}var Nf,YT;function c3(){if(YT)return Nf;YT=1;var n=lt();return Nf=n("document","documentElement"),Nf}var kf,XT;function $o(){if(XT)return kf;XT=1;var n=Qi(),e=_o(),t=n("keys");return kf=function(r){return t[r]||(t[r]=e(r))},kf}var Bf,JT;function ps(){if(JT)return Bf;JT=1;var n=Bt(),e=hb(),t=ub(),r=hs(),i=c3(),s=RN(),o=$o(),a=">",u="<",l="prototype",d="script",c=o("IE_PROTO"),h=function(){},f=function(p){return u+d+a+p+u+"/"+d+a},v=function(p){p.write(f("")),p.close();var S=p.parentWindow.Object;return p=null,S},g=function(){var p=s("iframe"),S="java"+d+":",m;return p.style.display="none",i.appendChild(p),p.src=String(S),m=p.contentWindow.document,m.open(),m.write(f("document.F=Object")),m.close(),m.F},b,y=function(){try{b=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&b?v(b):g():v(b);for(var p=t.length;p--;)delete y[l][t[p]];return y()};return r[c]=!0,Bf=Object.create||function(S,m){var w;return S!==null?(h[l]=n(S),w=new h,h[l]=null,w[c]=S):w=y(),m===void 0?w:e.f(w,m)},Bf}var jf={},ZT;function To(){if(ZT)return jf;ZT=1;var n=DN(),e=ub(),t=e.concat("length","prototype");return jf.f=Object.getOwnPropertyNames||function(i){return n(i,t)},jf}var Lf={},QT;function fb(){if(QT)return Lf;QT=1;var n=kt(),e=Rt(),t=To().f,r=rn(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(i)}};return Lf.f=function(a){return i&&n(a)==="Window"?s(a):t(e(a))},Lf}var zf,eP;function gs(){if(eP)return zf;eP=1;var n=en();return zf=function(e,t,r,i){return i&&i.enumerable?e[t]=r:n(e,t,r),e},zf}var Wf,tP;function vb(){if(tP)return Wf;tP=1;var n=yt();return Wf=function(e,t,r){return n.f(e,t,r)},Wf}var Hf={},rP;function Po(){if(rP)return Hf;rP=1;var n=De();return Hf.f=n,Hf}var Uf,iP;function _e(){if(iP)return Uf;iP=1;var n=oe(),e=Ue(),t=Po(),r=yt().f;return Uf=function(i){var s=n.Symbol||(n.Symbol={});e(s,i)||r(s,i,{value:t.f(i)})},Uf}var Vf,nP;function LN(){if(nP)return Vf;nP=1;var n=at(),e=lt(),t=De(),r=gs();return Vf=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(u){return n(o,this)},{arity:1})},Vf}var Gf,sP;function h3(){if(sP)return Gf;sP=1;var n=db(),e=nn();return Gf=n?{}.toString:function(){return"[object "+e(this)+"]"},Gf}var Kf,oP;function oi(){if(oP)return Kf;oP=1;var n=db(),e=yt().f,t=en(),r=Ue(),i=h3(),s=De(),o=s("toStringTag");return Kf=function(a,u,l,d){var c=l?a:a&&a.prototype;c&&(r(c,o)||e(c,o,{configurable:!0,value:u}),d&&!n&&t(c,"toString",i))},Kf}var Yf,aP;function zN(){if(aP)return Yf;aP=1;var n=ge(),e=Le(),t=n.WeakMap;return Yf=e(t)&&/native code/.test(String(t)),Yf}var Xf,uP;function ai(){if(uP)return Xf;uP=1;var n=zN(),e=ge(),t=ze(),r=en(),i=Ue(),s=sb(),o=$o(),a=hs(),u="Object already initialized",l=e.TypeError,d=e.WeakMap,c,h,f,v=function(p){return f(p)?h(p):c(p,{})},g=function(p){return function(S){var m;if(!t(S)||(m=h(S)).type!==p)throw new l("Incompatible receiver, "+p+" required");return m}};if(n||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,c=function(p,S){if(b.has(p))throw new l(u);return S.facade=p,b.set(p,S),S},h=function(p){return b.get(p)||{}},f=function(p){return b.has(p)}}else{var y=o("state");a[y]=!0,c=function(p,S){if(i(p,y))throw new l(u);return S.facade=p,r(p,y,S),S},h=function(p){return i(p,y)?p[y]:{}},f=function(p){return i(p,y)}}return Xf={set:c,get:h,has:f,enforce:v,getterFor:g},Xf}var Jf,lP;function wr(){if(lP)return Jf;lP=1;var n=Eo(),e=re(),t=bo(),r=dt(),i=rr(),s=cb(),o=e([].push),a=function(u){var l=u===1,d=u===2,c=u===3,h=u===4,f=u===6,v=u===7,g=u===5||f;return function(b,y,p,S){for(var m=r(b),w=t(m),O=i(w),I=n(y,p),_=0,E=S||s,$=l?E(b,O):d||v?E(b,0):void 0,T,P;O>_;_++)if((g||_ in w)&&(T=w[_],P=I(T,_,m),u))if(l)$[_]=P;else if(P)switch(u){case 3:return!0;case 5:return T;case 6:return _;case 2:o($,T)}else switch(u){case 4:return!1;case 7:o($,T)}return f?-1:c||h?h:$}};return Jf={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},Jf}var dP;function f3(){if(dP)return VT;dP=1;var n=z(),e=ge(),t=at(),r=re(),i=Zi(),s=$e(),o=Xi(),a=te(),u=Ue(),l=xe(),d=Bt(),c=Rt(),h=ob(),f=mt(),v=ls(),g=ps(),b=fs(),y=To(),p=fb(),S=Oo(),m=wo(),w=yt(),O=hb(),I=mo(),_=gs(),E=vb(),$=Qi(),T=$o(),P=hs(),R=_o(),C=De(),M=Po(),K=_e(),L=LN(),J=oi(),Q=ai(),ae=wr().forEach,W=T("hidden"),ue="Symbol",ye="prototype",me=Q.set,_t=Q.getterFor(ue),ve=Object[ye],Ge=e.Symbol,wt=Ge&&Ge[ye],No=e.RangeError,ko=e.TypeError,Or=e.QObject,cn=m.f,Ke=w.f,hn=p.f,Bo=I.f,fn=r([].push),Ae=$("symbols"),Et=$("op-symbols"),jo=$("wks"),Ir=!Or||!Or[ye]||!Or[ye].findChild,vn=function(H,F,N){var k=cn(ve,F);k&&delete ve[F],Ke(H,F,N),k&&H!==ve&&Ke(ve,F,k)},$r=s&&a(function(){return g(Ke({},"a",{get:function(){return Ke(this,"a",{value:7}).a}})).a!==7})?vn:Ke,Tr=function(H,F){var N=Ae[H]=g(wt);return me(N,{type:ue,tag:H,description:F}),s||(N.description=F),N},jt=function(F,N,k){F===ve&&jt(Et,N,k),d(F);var U=h(N);return d(k),u(Ae,U)?(k.enumerable?(u(F,W)&&F[W][U]&&(F[W][U]=!1),k=g(k,{enumerable:v(0,!1)})):(u(F,W)||Ke(F,W,v(1,g(null))),F[W][U]=!0),$r(F,U,k)):Ke(F,U,k)},Pr=function(F,N){d(F);var k=c(N),U=b(k).concat(yn(k));return ae(U,function(ie){(!s||t(Rr,k,ie))&&jt(F,ie,k[ie])}),F},Lo=function(F,N){return N===void 0?g(F):Pr(g(F),N)},Rr=function(F){var N=h(F),k=t(Bo,this,N);return this===ve&&u(Ae,N)&&!u(Et,N)?!1:k||!u(this,N)||!u(Ae,N)||u(this,W)&&this[W][N]?k:!0},pn=function(F,N){var k=c(F),U=h(N);if(!(k===ve&&u(Ae,U)&&!u(Et,U))){var ie=cn(k,U);return ie&&u(Ae,U)&&!(u(k,W)&&k[W][U])&&(ie.enumerable=!0),ie}},gn=function(F){var N=hn(c(F)),k=[];return ae(N,function(U){!u(Ae,U)&&!u(P,U)&&fn(k,U)}),k},yn=function(H){var F=H===ve,N=hn(F?Et:c(H)),k=[];return ae(N,function(U){u(Ae,U)&&(!F||u(ve,U))&&fn(k,Ae[U])}),k};return o||(Ge=function(){if(l(wt,this))throw new ko("Symbol is not a constructor");var F=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),N=R(F),k=function(U){var ie=this===void 0?e:this;ie===ve&&t(k,Et,U),u(ie,W)&&u(ie[W],N)&&(ie[W][N]=!1);var mn=v(1,U);try{$r(ie,N,mn)}catch(bn){if(!(bn instanceof No))throw bn;vn(ie,N,mn)}};return s&&Ir&&$r(ve,N,{configurable:!0,set:k}),Tr(N,F)},wt=Ge[ye],_(wt,"toString",function(){return _t(this).tag}),_(Ge,"withoutSetter",function(H){return Tr(R(H),H)}),I.f=Rr,w.f=jt,O.f=Pr,m.f=pn,y.f=p.f=gn,S.f=yn,M.f=function(H){return Tr(C(H),H)},s&&(E(wt,"description",{configurable:!0,get:function(){return _t(this).description}}),i||_(ve,"propertyIsEnumerable",Rr,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:Ge}),ae(b(jo),function(H){K(H)}),n({target:ue,stat:!0,forced:!o},{useSetter:function(){Ir=!0},useSimple:function(){Ir=!1}}),n({target:"Object",stat:!0,forced:!o,sham:!s},{create:Lo,defineProperty:jt,defineProperties:Pr,getOwnPropertyDescriptor:pn}),n({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:gn}),L(),J(Ge,ue),P[W]=!0,VT}var cP={},Zf,hP;function WN(){if(hP)return Zf;hP=1;var n=Xi();return Zf=n&&!!Symbol.for&&!!Symbol.keyFor,Zf}var fP;function v3(){if(fP)return cP;fP=1;var n=z(),e=lt(),t=Ue(),r=mt(),i=Qi(),s=WN(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{for:function(u){var l=r(u);if(t(o,l))return o[l];var d=e("Symbol")(l);return o[l]=d,a[d]=l,d}}),cP}var vP={},pP;function p3(){if(pP)return vP;pP=1;var n=z(),e=Ue(),t=cs(),r=Ji(),i=Qi(),s=WN(),o=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!t(u))throw new TypeError(r(u)+" is not a symbol");if(e(o,u))return o[u]}}),vP}var gP={},Qf,yP;function g3(){if(yP)return Qf;yP=1;var n=re(),e=si(),t=Le(),r=kt(),i=mt(),s=n([].push);return Qf=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,u=[],l=0;l<a;l++){var d=o[l];typeof d=="string"?s(u,d):(typeof d=="number"||r(d)==="Number"||r(d)==="String")&&s(u,i(d))}var c=u.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var g=0;g<c;g++)if(u[g]===f)return v}}},Qf}var mP;function HN(){if(mP)return gP;mP=1;var n=z(),e=lt(),t=yo(),r=at(),i=re(),s=te(),o=Le(),a=cs(),u=rn(),l=g3(),d=Xi(),c=String,h=e("JSON","stringify"),f=i(/./.exec),v=i("".charAt),g=i("".charCodeAt),b=i("".replace),y=i(1.1.toString),p=/[\uD800-\uDFFF]/g,S=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,w=!d||s(function(){var E=e("Symbol")("stringify detection");return h([E])!=="[null]"||h({a:E})!=="{}"||h(Object(E))!=="{}"}),O=s(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),I=function(E,$){var T=u(arguments),P=l($);if(!(!o(P)&&(E===void 0||a(E))))return T[1]=function(R,C){if(o(P)&&(C=r(P,this,c(R),C)),!a(C))return C},t(h,null,T)},_=function(E,$,T){var P=v(T,$-1),R=v(T,$+1);return f(S,E)&&!f(m,R)||f(m,E)&&!f(S,P)?"\\u"+y(g(E,0),16):E};return h&&n({target:"JSON",stat:!0,arity:3,forced:w||O},{stringify:function($,T,P){var R=u(arguments),C=t(w?I:h,null,R);return O&&typeof C=="string"?b(C,p,_):C}}),gP}var bP={},_P;function y3(){if(_P)return bP;_P=1;var n=z(),e=Xi(),t=te(),r=Oo(),i=dt(),s=!e||t(function(){r.f(1)});return n({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var u=r.f;return u?u(i(a)):[]}}),bP}var wP;function UN(){return wP||(wP=1,f3(),v3(),p3(),HN(),y3()),UT}var EP={},SP;function VN(){if(SP)return EP;SP=1;var n=_e();return n("asyncDispose"),EP}var OP={},IP;function m3(){if(IP)return OP;IP=1;var n=_e();return n("asyncIterator"),OP}var $P={},TP;function GN(){if(TP)return $P;TP=1;var n=_e();return n("dispose"),$P}var PP={},RP;function b3(){if(RP)return PP;RP=1;var n=_e();return n("hasInstance"),PP}var qP={},CP;function _3(){if(CP)return qP;CP=1;var n=_e();return n("isConcatSpreadable"),qP}var xP={},DP;function KN(){if(DP)return xP;DP=1;var n=_e();return n("iterator"),xP}var AP={},MP;function w3(){if(MP)return AP;MP=1;var n=_e();return n("match"),AP}var FP={},NP;function E3(){if(NP)return FP;NP=1;var n=_e();return n("matchAll"),FP}var kP={},BP;function S3(){if(BP)return kP;BP=1;var n=_e();return n("replace"),kP}var jP={},LP;function O3(){if(LP)return jP;LP=1;var n=_e();return n("search"),jP}var zP={},WP;function I3(){if(WP)return zP;WP=1;var n=_e();return n("species"),zP}var HP={},UP;function $3(){if(UP)return HP;UP=1;var n=_e();return n("split"),HP}var VP={},GP;function YN(){if(GP)return VP;GP=1;var n=_e(),e=LN();return n("toPrimitive"),e(),VP}var KP={},YP;function T3(){if(YP)return KP;YP=1;var n=lt(),e=_e(),t=oi();return e("toStringTag"),t(n("Symbol"),"Symbol"),KP}var XP={},JP;function P3(){if(JP)return XP;JP=1;var n=_e();return n("unscopables"),XP}var ZP={},QP;function R3(){if(QP)return ZP;QP=1;var n=ge(),e=oi();return e(n.JSON,"JSON",!0),ZP}var ev,eR;function q3(){if(eR)return ev;eR=1,jN(),UN(),VN(),m3(),GN(),b3(),_3(),KN(),w3(),E3(),S3(),O3(),I3(),$3(),YN(),T3(),P3(),R3();var n=oe();return ev=n.Symbol,ev}var tR={},tv,rR;function pb(){return rR||(rR=1,tv=function(){}),tv}var rv,iR;function sn(){return iR||(iR=1,rv={}),rv}var iv,nR;function C3(){if(nR)return iv;nR=1;var n=$e(),e=Ue(),t=Function.prototype,r=n&&Object.getOwnPropertyDescriptor,i=e(t,"name"),s=i&&(function(){}).name==="something",o=i&&(!n||n&&r(t,"name").configurable);return iv={EXISTS:i,PROPER:s,CONFIGURABLE:o},iv}var nv,sR;function XN(){if(sR)return nv;sR=1;var n=te();return nv=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),nv}var sv,oR;function Ro(){if(oR)return sv;oR=1;var n=Ue(),e=Le(),t=dt(),r=$o(),i=XN(),s=r("IE_PROTO"),o=Object,a=o.prototype;return sv=i?o.getPrototypeOf:function(u){var l=t(u);if(n(l,s))return l[s];var d=l.constructor;return e(d)&&l instanceof d?d.prototype:l instanceof o?a:null},sv}var ov,aR;function JN(){if(aR)return ov;aR=1;var n=te(),e=Le(),t=ze(),r=ps(),i=Ro(),s=gs(),o=De(),a=Zi(),u=o("iterator"),l=!1,d,c,h;[].keys&&(h=[].keys(),"next"in h?(c=i(i(h)),c!==Object.prototype&&(d=c)):l=!0);var f=!t(d)||n(function(){var v={};return d[u].call(v)!==v});return f?d={}:a&&(d=r(d)),e(d[u])||s(d,u,function(){return this}),ov={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:l},ov}var av,uR;function x3(){if(uR)return av;uR=1;var n=JN().IteratorPrototype,e=ps(),t=ls(),r=oi(),i=sn(),s=function(){return this};return av=function(o,a,u,l){var d=a+" Iterator";return o.prototype=e(n,{next:t(+!l,u)}),r(o,d,!1,!0),i[d]=s,o},av}var uv,lR;function D3(){if(lR)return uv;lR=1;var n=re(),e=tr();return uv=function(t,r,i){try{return n(e(Object.getOwnPropertyDescriptor(t,r)[i]))}catch{}},uv}var lv,dR;function A3(){if(dR)return lv;dR=1;var n=ze();return lv=function(e){return n(e)||e===null},lv}var dv,cR;function M3(){if(cR)return dv;cR=1;var n=A3(),e=String,t=TypeError;return dv=function(r){if(n(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},dv}var cv,hR;function F3(){if(hR)return cv;hR=1;var n=D3(),e=ze(),t=er(),r=M3();return cv=Object.setPrototypeOf||("__proto__"in{}?(function(){var i=!1,s={},o;try{o=n(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(u,l){return t(u),r(l),e(u)&&(i?o(u,l):u.__proto__=l),u}})():void 0),cv}var hv,fR;function gb(){if(fR)return hv;fR=1;var n=z(),e=at(),t=Zi(),r=C3(),i=Le(),s=x3(),o=Ro(),a=F3(),u=oi(),l=en(),d=gs(),c=De(),h=sn(),f=JN(),v=r.PROPER,g=r.CONFIGURABLE,b=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,p=c("iterator"),S="keys",m="values",w="entries",O=function(){return this};return hv=function(I,_,E,$,T,P,R){s(E,_,$);var C=function(me){if(me===T&&Q)return Q;if(!y&&me&&me in L)return L[me];switch(me){case S:return function(){return new E(this,me)};case m:return function(){return new E(this,me)};case w:return function(){return new E(this,me)}}return function(){return new E(this)}},M=_+" Iterator",K=!1,L=I.prototype,J=L[p]||L["@@iterator"]||T&&L[T],Q=!y&&J||C(T),ae=_==="Array"&&L.entries||J,W,ue,ye;if(ae&&(W=o(ae.call(new I)),W!==Object.prototype&&W.next&&(!t&&o(W)!==b&&(a?a(W,b):i(W[p])||d(W,p,O)),u(W,M,!0,!0),t&&(h[M]=O))),v&&T===m&&J&&J.name!==m&&(!t&&g?l(L,"name",m):(K=!0,Q=function(){return e(J,this)})),T)if(ue={values:C(m),keys:P?Q:C(S),entries:C(w)},R)for(ye in ue)(y||K||!(ye in L))&&d(L,ye,ue[ye]);else n({target:_,proto:!0,forced:y||K},ue);return(!t||R)&&L[p]!==Q&&d(L,p,Q,{name:T}),h[_]=Q,ue},hv}var fv,vR;function yb(){return vR||(vR=1,fv=function(n,e){return{value:n,done:e}}),fv}var vv,pR;function on(){if(pR)return vv;pR=1;var n=Rt(),e=pb(),t=sn(),r=ai(),i=yt().f,s=gb(),o=yb(),a=Zi(),u=$e(),l="Array Iterator",d=r.set,c=r.getterFor(l);vv=s(Array,"Array",function(f,v){d(this,{type:l,target:n(f),index:0,kind:v})},function(){var f=c(this),v=f.target,g=f.index++;if(!v||g>=v.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(g,!1);case"values":return o(v[g],!1)}return o([g,v[g]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&u&&h.name!=="values")try{i(h,"name",{value:"values"})}catch{}return vv}var pv,gR;function N3(){return gR||(gR=1,pv={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),pv}var yR;function an(){if(yR)return tR;yR=1,on();var n=N3(),e=ge(),t=oi(),r=sn();for(var i in n)t(e[i],i),r[i]=r.Array;return tR}var gv,mR;function ZN(){if(mR)return gv;mR=1;var n=q3();return an(),gv=n,gv}var yv,bR;function k3(){return bR||(bR=1,yv=ZN()),yv}var B3=k3(),j3=G(B3),_R={},wR;function L3(){if(wR)return _R;wR=1;var n=z(),e=si(),t=BN(),r=ze(),i=So(),s=rr(),o=Rt(),a=Io(),u=De(),l=vs(),d=rn(),c=l("slice"),h=u("species"),f=Array,v=Math.max;return n({target:"Array",proto:!0,forced:!c},{slice:function(b,y){var p=o(this),S=s(p),m=i(b,S),w=i(y===void 0?S:y,S),O,I,_;if(e(p)&&(O=p.constructor,t(O)&&(O===f||e(O.prototype))?O=void 0:r(O)&&(O=O[h],O===null&&(O=void 0)),O===f||O===void 0))return d(p,m,w);for(I=new(O===void 0?f:O)(v(w-m,0)),_=0;m<w;m++,_++)m in p&&a(I,_,p[m]);return I.length=_,I}}),_R}var mv,ER;function z3(){if(ER)return mv;ER=1,L3();var n=Ve();return mv=n("Array","slice"),mv}var bv,SR;function W3(){if(SR)return bv;SR=1;var n=xe(),e=z3(),t=Array.prototype;return bv=function(r){var i=r.slice;return r===t||n(t,r)&&i===t.slice?e:i},bv}var _v,OR;function H3(){if(OR)return _v;OR=1;var n=W3();return _v=n,_v}var wv,IR;function U3(){return IR||(IR=1,wv=H3()),wv}var V3=U3(),Ct=G(V3),Ev,$R;function G3(){if($R)return Ev;$R=1;var n=lt(),e=re(),t=To(),r=Oo(),i=Bt(),s=e([].concat);return Ev=n("Reflect","ownKeys")||function(a){var u=t.f(i(a)),l=r.f;return l?s(u,l(a)):u},Ev}var TR={},PR;function K3(){if(PR)return TR;PR=1;var n=z(),e=si();return n({target:"Array",stat:!0},{isArray:e}),TR}var Sv,RR;function Y3(){if(RR)return Sv;RR=1,K3();var n=oe();return Sv=n.Array.isArray,Sv}var Ov,qR;function X3(){if(qR)return Ov;qR=1;var n=Y3();return Ov=n,Ov}var Iv,CR;function J3(){return CR||(CR=1,Iv=X3()),Iv}var Z3=J3(),Se=G(Z3),xR={},DR;function Q3(){if(DR)return xR;DR=1;var n=z(),e=wr().map,t=vs(),r=t("map");return n({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),xR}var $v,AR;function eH(){if(AR)return $v;AR=1,Q3();var n=Ve();return $v=n("Array","map"),$v}var Tv,MR;function tH(){if(MR)return Tv;MR=1;var n=xe(),e=eH(),t=Array.prototype;return Tv=function(r){var i=r.map;return r===t||n(t,r)&&i===t.map?e:i},Tv}var Pv,FR;function rH(){if(FR)return Pv;FR=1;var n=tH();return Pv=n,Pv}var Rv,NR;function iH(){return NR||(NR=1,Rv=rH()),Rv}var nH=iH(),xi=G(nH),kR={},BR;function sH(){if(BR)return kR;BR=1;var n=z(),e=dt(),t=fs(),r=te(),i=r(function(){t(1)});return n({target:"Object",stat:!0,forced:i},{keys:function(o){return t(e(o))}}),kR}var qv,jR;function oH(){if(jR)return qv;jR=1,sH();var n=oe();return qv=n.Object.keys,qv}var Cv,LR;function aH(){if(LR)return Cv;LR=1;var n=oH();return Cv=n,Cv}var xv,zR;function uH(){return zR||(zR=1,xv=aH()),xv}var lH=uH(),Ee=G(lH),WR={},HR;function dH(){if(HR)return WR;HR=1;var n=z(),e=re(),t=Date,r=e(t.prototype.getTime);return n({target:"Date",stat:!0},{now:function(){return r(new t)}}),WR}var Dv,UR;function cH(){if(UR)return Dv;UR=1,dH();var n=oe();return Dv=n.Date.now,Dv}var Av,VR;function hH(){if(VR)return Av;VR=1;var n=cH();return Av=n,Av}var Mv,GR;function fH(){return GR||(GR=1,Mv=hH()),Mv}var vH=fH(),Gs=G(vH),KR={},Fv,YR;function un(){if(YR)return Fv;YR=1;var n=te();return Fv=function(e,t){var r=[][e];return!!r&&n(function(){r.call(null,t||function(){return 1},1)})},Fv}var Nv,XR;function pH(){if(XR)return Nv;XR=1;var n=wr().forEach,e=un(),t=e("forEach");return Nv=t?[].forEach:function(i){return n(this,i,arguments.length>1?arguments[1]:void 0)},Nv}var JR;function gH(){if(JR)return KR;JR=1;var n=z(),e=pH();return n({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),KR}var kv,ZR;function yH(){if(ZR)return kv;ZR=1,gH();var n=Ve();return kv=n("Array","forEach"),kv}var Bv,QR;function mH(){if(QR)return Bv;QR=1;var n=yH();return Bv=n,Bv}var jv,eq;function bH(){if(eq)return jv;eq=1;var n=nn(),e=Ue(),t=xe(),r=mH(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return jv=function(o){var a=o.forEach;return o===i||t(i,o)&&a===i.forEach||e(s,n(o))?r:a},jv}var Lv,tq;function _H(){return tq||(tq=1,Lv=bH()),Lv}var wH=_H(),le=G(wH),rq={},iq;function EH(){if(iq)return rq;iq=1;var n=z(),e=re(),t=si(),r=e([].reverse),i=[1,2];return n({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),rq}var zv,nq;function SH(){if(nq)return zv;nq=1,EH();var n=Ve();return zv=n("Array","reverse"),zv}var Wv,sq;function OH(){if(sq)return Wv;sq=1;var n=xe(),e=SH(),t=Array.prototype;return Wv=function(r){var i=r.reverse;return r===t||n(t,r)&&i===t.reverse?e:i},Wv}var Hv,oq;function IH(){if(oq)return Hv;oq=1;var n=OH();return Hv=n,Hv}var Uv,aq;function $H(){return aq||(aq=1,Uv=IH()),Uv}var TH=$H(),kr=G(TH),uq={},Vv,lq;function PH(){if(lq)return Vv;lq=1;var n=$e(),e=si(),t=TypeError,r=Object.getOwnPropertyDescriptor,i=n&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}})();return Vv=i?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Vv}var Gv,dq;function QN(){if(dq)return Gv;dq=1;var n=Ji(),e=TypeError;return Gv=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+n(r)+" of "+n(t))},Gv}var cq;function RH(){if(cq)return uq;cq=1;var n=z(),e=dt(),t=So(),r=tn(),i=rr(),s=PH(),o=kN(),a=cb(),u=Io(),l=QN(),d=vs(),c=d("splice"),h=Math.max,f=Math.min;return n({target:"Array",proto:!0,forced:!c},{splice:function(g,b){var y=e(this),p=i(y),S=t(g,p),m=arguments.length,w,O,I,_,E,$;for(m===0?w=O=0:m===1?(w=0,O=p-S):(w=m-2,O=f(h(r(b),0),p-S)),o(p+w-O),I=a(y,O),_=0;_<O;_++)E=S+_,E in y&&u(I,_,y[E]);if(I.length=O,w<O){for(_=S;_<p-O;_++)E=_+O,$=_+w,E in y?y[$]=y[E]:l(y,$);for(_=p;_>p-O+w;_--)l(y,_-1)}else if(w>O)for(_=p-O;_>S;_--)E=_+O-1,$=_+w-1,E in y?y[$]=y[E]:l(y,$);for(_=0;_<w;_++)y[_+S]=arguments[_+2];return s(y,p-O+w),I}}),uq}var Kv,hq;function qH(){if(hq)return Kv;hq=1,RH();var n=Ve();return Kv=n("Array","splice"),Kv}var Yv,fq;function CH(){if(fq)return Yv;fq=1;var n=xe(),e=qH(),t=Array.prototype;return Yv=function(r){var i=r.splice;return r===t||n(t,r)&&i===t.splice?e:i},Yv}var Xv,vq;function xH(){if(vq)return Xv;vq=1;var n=CH();return Xv=n,Xv}var Jv,pq;function DH(){return pq||(pq=1,Jv=xH()),Jv}var AH=DH(),Vt=G(AH),gq={},yq;function MH(){if(yq)return gq;yq=1;var n=z(),e=ab().includes,t=te(),r=pb(),i=t(function(){return!Array(1).includes()});return n({target:"Array",proto:!0,forced:i},{includes:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),r("includes"),gq}var Zv,mq;function FH(){if(mq)return Zv;mq=1,MH();var n=Ve();return Zv=n("Array","includes"),Zv}var bq={},Qv,_q;function NH(){if(_q)return Qv;_q=1;var n=ze(),e=kt(),t=De(),r=t("match");return Qv=function(i){var s;return n(i)&&((s=i[r])!==void 0?!!s:e(i)==="RegExp")},Qv}var ep,wq;function kH(){if(wq)return ep;wq=1;var n=NH(),e=TypeError;return ep=function(t){if(n(t))throw new e("The method doesn't accept regular expressions");return t},ep}var tp,Eq;function BH(){if(Eq)return tp;Eq=1;var n=De(),e=n("match");return tp=function(t){var r=/./;try{"/./"[t](r)}catch{try{return r[e]=!1,"/./"[t](r)}catch{}}return!1},tp}var Sq;function jH(){if(Sq)return bq;Sq=1;var n=z(),e=re(),t=kH(),r=er(),i=mt(),s=BH(),o=e("".indexOf);return n({target:"String",proto:!0,forced:!s("includes")},{includes:function(u){return!!~o(i(r(this)),i(t(u)),arguments.length>1?arguments[1]:void 0)}}),bq}var rp,Oq;function LH(){if(Oq)return rp;Oq=1,jH();var n=Ve();return rp=n("String","includes"),rp}var ip,Iq;function zH(){if(Iq)return ip;Iq=1;var n=xe(),e=FH(),t=LH(),r=Array.prototype,i=String.prototype;return ip=function(s){var o=s.includes;return s===r||n(r,s)&&o===r.includes?e:typeof s=="string"||s===i||n(i,s)&&o===i.includes?t:o},ip}var np,$q;function WH(){if($q)return np;$q=1;var n=zH();return np=n,np}var sp,Tq;function HH(){return Tq||(Tq=1,sp=WH()),sp}var UH=HH(),lr=G(UH),Pq={},Rq;function VH(){if(Rq)return Pq;Rq=1;var n=z(),e=te(),t=dt(),r=Ro(),i=XN(),s=e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(a){return r(t(a))}}),Pq}var op,qq;function GH(){if(qq)return op;qq=1,VH();var n=oe();return op=n.Object.getPrototypeOf,op}var ap,Cq;function KH(){if(Cq)return ap;Cq=1;var n=GH();return ap=n,ap}var up,xq;function YH(){return xq||(xq=1,up=KH()),up}var XH=YH(),Dq=G(XH),lp,Aq;function JH(){if(Aq)return lp;Aq=1,jN();var n=Ve();return lp=n("Array","concat"),lp}var dp,Mq;function ZH(){if(Mq)return dp;Mq=1;var n=xe(),e=JH(),t=Array.prototype;return dp=function(r){var i=r.concat;return r===t||n(t,r)&&i===t.concat?e:i},dp}var cp,Fq;function QH(){if(Fq)return cp;Fq=1;var n=ZH();return cp=n,cp}var hp,Nq;function eU(){return Nq||(Nq=1,hp=QH()),hp}var tU=eU(),rU=G(tU),kq={},Bq;function iU(){if(Bq)return kq;Bq=1;var n=z(),e=wr().filter,t=vs(),r=t("filter");return n({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),kq}var fp,jq;function nU(){if(jq)return fp;jq=1,iU();var n=Ve();return fp=n("Array","filter"),fp}var vp,Lq;function sU(){if(Lq)return vp;Lq=1;var n=xe(),e=nU(),t=Array.prototype;return vp=function(r){var i=r.filter;return r===t||n(t,r)&&i===t.filter?e:i},vp}var pp,zq;function oU(){if(zq)return pp;zq=1;var n=sU();return pp=n,pp}var gp,Wq;function aU(){return Wq||(Wq=1,gp=oU()),gp}var uU=aU(),rt=G(uU),Hq={},yp,Uq;function lU(){if(Uq)return yp;Uq=1;var n=$e(),e=te(),t=re(),r=Ro(),i=fs(),s=Rt(),o=mo().f,a=t(o),u=t([].push),l=n&&e(function(){var c=Object.create(null);return c[2]=2,!a(c,2)}),d=function(c){return function(h){for(var f=s(h),v=i(f),g=l&&r(f)===null,b=v.length,y=0,p=[],S;b>y;)S=v[y++],(!n||(g?S in f:a(f,S)))&&u(p,c?[S,f[S]]:f[S]);return p}};return yp={entries:d(!0),values:d(!1)},yp}var Vq;function dU(){if(Vq)return Hq;Vq=1;var n=z(),e=lU().values;return n({target:"Object",stat:!0},{values:function(r){return e(r)}}),Hq}var mp,Gq;function cU(){if(Gq)return mp;Gq=1,dU();var n=oe();return mp=n.Object.values,mp}var bp,Kq;function hU(){if(Kq)return bp;Kq=1;var n=cU();return bp=n,bp}var _p,Yq;function fU(){return Yq||(Yq=1,_p=hU()),_p}var vU=fU(),pU=G(vU),Xq={},wp,Jq;function mb(){return Jq||(Jq=1,wp=`	
\v\f\r Â áââââââââââââ¯âã\u2028\u2029\uFEFF`),wp}var Ep,Zq;function ek(){if(Zq)return Ep;Zq=1;var n=re(),e=er(),t=mt(),r=mb(),i=n("".replace),s=RegExp("^["+r+"]+"),o=RegExp("(^|[^"+r+"])["+r+"]+$"),a=function(u){return function(l){var d=t(e(l));return u&1&&(d=i(d,s,"")),u&2&&(d=i(d,o,"$1")),d}};return Ep={start:a(1),end:a(2),trim:a(3)},Ep}var Sp,Qq;function gU(){if(Qq)return Sp;Qq=1;var n=ge(),e=te(),t=re(),r=mt(),i=ek().trim,s=mb(),o=n.parseInt,a=n.Symbol,u=a&&a.iterator,l=/^[+-]?0x/i,d=t(l.exec),c=o(s+"08")!==8||o(s+"0x16")!==22||u&&!e(function(){o(Object(u))});return Sp=c?function(f,v){var g=i(r(f));return o(g,v>>>0||(d(l,g)?16:10))}:o,Sp}var eC;function yU(){if(eC)return Xq;eC=1;var n=z(),e=gU();return n({global:!0,forced:parseInt!==e},{parseInt:e}),Xq}var Op,tC;function mU(){if(tC)return Op;tC=1,yU();var n=oe();return Op=n.parseInt,Op}var Ip,rC;function bU(){if(rC)return Ip;rC=1;var n=mU();return Ip=n,Ip}var $p,iC;function _U(){return iC||(iC=1,$p=bU()),$p}var wU=_U(),It=G(wU),nC={},sC;function EU(){if(sC)return nC;sC=1;var n=z(),e=ib(),t=ab().indexOf,r=un(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,o=s||!r("indexOf");return n({target:"Array",proto:!0,forced:o},{indexOf:function(u){var l=arguments.length>1?arguments[1]:void 0;return s?i(this,u,l)||0:t(this,u,l)}}),nC}var Tp,oC;function SU(){if(oC)return Tp;oC=1,EU();var n=Ve();return Tp=n("Array","indexOf"),Tp}var Pp,aC;function OU(){if(aC)return Pp;aC=1;var n=xe(),e=SU(),t=Array.prototype;return Pp=function(r){var i=r.indexOf;return r===t||n(t,r)&&i===t.indexOf?e:i},Pp}var Rp,uC;function IU(){if(uC)return Rp;uC=1;var n=OU();return Rp=n,Rp}var qp,lC;function $U(){return lC||(lC=1,qp=IU()),qp}var TU=$U(),ne=G(TU),dC={},cC;function PU(){if(cC)return dC;cC=1;var n=z(),e=$e(),t=ps();return n({target:"Object",stat:!0,sham:!e},{create:t}),dC}var Cp,hC;function RU(){if(hC)return Cp;hC=1,PU();var n=oe(),e=n.Object;return Cp=function(r,i){return e.create(r,i)},Cp}var xp,fC;function qU(){if(fC)return xp;fC=1;var n=RU();return xp=n,xp}var Dp,vC;function CU(){return vC||(vC=1,Dp=qU()),Dp}var xU=CU(),Br=G(xU),pC={},Ap,gC;function DU(){if(gC)return Ap;gC=1;var n=tn(),e=mt(),t=er(),r=RangeError;return Ap=function(s){var o=e(t(this)),a="",u=n(s);if(u<0||u===1/0)throw new r("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(o+=o))u&1&&(a+=o);return a},Ap}var Mp,yC;function AU(){if(yC)return Mp;yC=1;var n=re(),e=xN(),t=mt(),r=DU(),i=er(),s=n(r),o=n("".slice),a=Math.ceil,u=function(l){return function(d,c,h){var f=t(i(d)),v=e(c),g=f.length,b=h===void 0?" ":t(h),y,p;return v<=g||b===""?f:(y=v-g,p=s(b,a(y/b.length)),p.length>y&&(p=o(p,0,y)),l?f+p:p+f)}};return Mp={start:u(!1),end:u(!0)},Mp}var Fp,mC;function MU(){if(mC)return Fp;mC=1;var n=re(),e=te(),t=AU().start,r=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,u=n(o.getTime),l=n(o.getUTCDate),d=n(o.getUTCFullYear),c=n(o.getUTCHours),h=n(o.getUTCMilliseconds),f=n(o.getUTCMinutes),v=n(o.getUTCMonth),g=n(o.getUTCSeconds);return Fp=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(u(this)))throw new r("Invalid time value");var y=this,p=d(y),S=h(y),m=p<0?"-":p>9999?"+":"";return m+t(s(p),m?6:4,0)+"-"+t(v(y)+1,2,0)+"-"+t(l(y),2,0)+"T"+t(c(y),2,0)+":"+t(f(y),2,0)+":"+t(g(y),2,0)+"."+t(S,3,0)+"Z"}:a,Fp}var bC;function FU(){if(bC)return pC;bC=1;var n=z(),e=at(),t=dt(),r=PN(),i=MU(),s=kt(),o=te(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return n({target:"Date",proto:!0,forced:a},{toJSON:function(l){var d=t(this),c=r(d,"number");return typeof c=="number"&&!isFinite(c)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),pC}var Np,_C;function NU(){if(_C)return Np;_C=1,FU(),HN();var n=oe(),e=yo();return n.JSON||(n.JSON={stringify:JSON.stringify}),Np=function(r,i,s){return e(n.JSON.stringify,null,arguments)},Np}var kp,wC;function kU(){if(wC)return kp;wC=1;var n=NU();return kp=n,kp}var Bp,EC;function BU(){return EC||(EC=1,Bp=kU()),Bp}var jU=BU(),ys=G(jU),SC={},OC={},jp,IC;function tk(){if(IC)return jp;IC=1;var n=ge(),e=Yi(),t=kt(),r=function(i){return e.slice(0,i.length)===i};return jp=(function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":n.Bun&&typeof Bun.version=="string"?"BUN":n.Deno&&typeof Deno.version=="object"?"DENO":t(n.process)==="process"?"NODE":n.window&&n.document?"BROWSER":"REST"})(),jp}var Lp,$C;function LU(){if($C)return Lp;$C=1;var n=TypeError;return Lp=function(e,t){if(e<t)throw new n("Not enough arguments");return e},Lp}var zp,TC;function rk(){if(TC)return zp;TC=1;var n=ge(),e=yo(),t=Le(),r=tk(),i=Yi(),s=rn(),o=LU(),a=n.Function,u=/MSIE .\./.test(i)||r==="BUN"&&(function(){var l=n.Bun.version.split(".");return l.length<3||l[0]==="0"&&(l[1]<3||l[1]==="3"&&l[2]==="0")})();return zp=function(l,d){var c=d?2:1;return u?function(h,f){var v=o(arguments.length,1)>c,g=t(h)?h:a(h),b=v?s(arguments,c):[],y=v?function(){e(g,this,b)}:g;return d?l(y,f):l(y)}:l},zp}var PC;function zU(){if(PC)return OC;PC=1;var n=z(),e=ge(),t=rk(),r=t(e.setInterval,!0);return n({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),OC}var RC={},qC;function WU(){if(qC)return RC;qC=1;var n=z(),e=ge(),t=rk(),r=t(e.setTimeout,!0);return n({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),RC}var CC;function ik(){return CC||(CC=1,zU(),WU()),SC}var Wp,xC;function HU(){if(xC)return Wp;xC=1,ik();var n=oe();return Wp=n.setTimeout,Wp}var Hp,DC;function UU(){return DC||(DC=1,Hp=HU()),Hp}var VU=UU(),Gt=G(VU),AC={},Up,MC;function GU(){if(MC)return Up;MC=1;var n=dt(),e=So(),t=rr();return Up=function(i){for(var s=n(this),o=t(s),a=arguments.length,u=e(a>1?arguments[1]:void 0,o),l=a>2?arguments[2]:void 0,d=l===void 0?o:e(l,o);d>u;)s[u++]=i;return s},Up}var FC;function KU(){if(FC)return AC;FC=1;var n=z(),e=GU(),t=pb();return n({target:"Array",proto:!0},{fill:e}),t("fill"),AC}var Vp,NC;function YU(){if(NC)return Vp;NC=1,KU();var n=Ve();return Vp=n("Array","fill"),Vp}var Gp,kC;function XU(){if(kC)return Gp;kC=1;var n=xe(),e=YU(),t=Array.prototype;return Gp=function(r){var i=r.fill;return r===t||n(t,r)&&i===t.fill?e:i},Gp}var Kp,BC;function JU(){if(BC)return Kp;BC=1;var n=XU();return Kp=n,Kp}var Yp,jC;function ZU(){return jC||(jC=1,Yp=JU()),Yp}var QU=ZU(),ms=G(QU);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Tt(){return Tt=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Tt.apply(this,arguments)}function bt(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function Ds(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var Em;typeof Object.assign!="function"?Em=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t}:Em=Object.assign;var Vr=Em,LC=["","webkit","Moz","MS","ms","o"],eV=typeof document>"u"?{style:{}}:document.createElement("div"),tV="function",Si=Math.round,Gr=Math.abs,bb=Date.now;function qo(n,e){for(var t,r,i=e[0].toUpperCase()+e.slice(1),s=0;s<LC.length;){if(t=LC[s],r=t?t+i:e,r in n)return r;s++}}var Kt;typeof window>"u"?Kt={}:Kt=window;var nk=qo(eV.style,"touchAction"),sk=nk!==void 0;function rV(){if(!sk)return!1;var n={},e=Kt.CSS&&Kt.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return n[t]=e?Kt.CSS.supports("touch-action",t):!0}),n}var ok="compute",ak="auto",Sm="manipulation",jr="none",Bn="pan-x",jn="pan-y",As=rV(),iV=/mobile|tablet|ip(ad|hone|od)|android/i,uk="ontouchstart"in Kt,nV=qo(Kt,"PointerEvent")!==void 0,sV=uk&&iV.test(navigator.userAgent),bs="touch",oV="pen",_b="mouse",aV="kinect",uV=25,Qe=1,ui=2,Re=4,nt=8,Ks=1,_s=2,ws=4,Es=8,Di=16,Ft=_s|ws,Lr=Es|Di,lk=Ft|Lr,dk=["x","y"],Ys=["clientX","clientY"];function Yt(n,e,t){var r;if(n)if(n.forEach)n.forEach(e,t);else if(n.length!==void 0)for(r=0;r<n.length;)e.call(t,n[r],r,n),r++;else for(r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r,n)}function Co(n,e){return typeof n===tV?n.apply(e&&e[0]||void 0,e):n}function Ar(n,e){return n.indexOf(e)>-1}function lV(n){if(Ar(n,jr))return jr;var e=Ar(n,Bn),t=Ar(n,jn);return e&&t?jr:e||t?e?Bn:jn:Ar(n,Sm)?Sm:ak}var ck=(function(){function n(t,r){this.manager=t,this.set(r)}var e=n.prototype;return e.set=function(r){r===ok&&(r=this.compute()),sk&&this.manager.element.style&&As[r]&&(this.manager.element.style[nk]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return Yt(this.manager.recognizers,function(i){Co(i.options.enable,[i])&&(r=r.concat(i.getTouchAction()))}),lV(r.join(" "))},e.preventDefaults=function(r){var i=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=Ar(o,jr)&&!As[jr],u=Ar(o,jn)&&!As[jn],l=Ar(o,Bn)&&!As[Bn];if(a){var d=r.pointers.length===1,c=r.distance<2,h=r.deltaTime<250;if(d&&c&&h)return}if(!(l&&u)&&(a||u&&s&Ft||l&&s&Lr))return this.preventSrc(i)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},n})();function wb(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function hk(n){var e=n.length;if(e===1)return{x:Si(n[0].clientX),y:Si(n[0].clientY)};for(var t=0,r=0,i=0;i<e;)t+=n[i].clientX,r+=n[i].clientY,i++;return{x:Si(t/e),y:Si(r/e)}}function zC(n){for(var e=[],t=0;t<n.pointers.length;)e[t]={clientX:Si(n.pointers[t].clientX),clientY:Si(n.pointers[t].clientY)},t++;return{timeStamp:bb(),pointers:e,center:hk(e),deltaX:n.deltaX,deltaY:n.deltaY}}function Xs(n,e,t){t||(t=dk);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.sqrt(r*r+i*i)}function Om(n,e,t){t||(t=dk);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.atan2(i,r)*180/Math.PI}function fk(n,e){return n===e?Ks:Gr(n)>=Gr(e)?n<0?_s:ws:e<0?Es:Di}function dV(n,e){var t=e.center,r=n.offsetDelta||{},i=n.prevDelta||{},s=n.prevInput||{};(e.eventType===Qe||s.eventType===Re)&&(i=n.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=n.offsetDelta={x:t.x,y:t.y}),e.deltaX=i.x+(t.x-r.x),e.deltaY=i.y+(t.y-r.y)}function vk(n,e,t){return{x:e/n||0,y:t/n||0}}function cV(n,e){return Xs(e[0],e[1],Ys)/Xs(n[0],n[1],Ys)}function hV(n,e){return Om(e[1],e[0],Ys)+Om(n[1],n[0],Ys)}function fV(n,e){var t=n.lastInterval||e,r=e.timeStamp-t.timeStamp,i,s,o,a;if(e.eventType!==nt&&(r>uV||t.velocity===void 0)){var u=e.deltaX-t.deltaX,l=e.deltaY-t.deltaY,d=vk(r,u,l);s=d.x,o=d.y,i=Gr(d.x)>Gr(d.y)?d.x:d.y,a=fk(u,l),n.lastInterval=e}else i=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function vV(n,e){var t=n.session,r=e.pointers,i=r.length;t.firstInput||(t.firstInput=zC(e)),i>1&&!t.firstMultiple?t.firstMultiple=zC(e):i===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,u=e.center=hk(r);e.timeStamp=bb(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Om(a,u),e.distance=Xs(a,u),dV(t,e),e.offsetDirection=fk(e.deltaX,e.deltaY);var l=vk(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=Gr(l.x)>Gr(l.y)?l.x:l.y,e.scale=o?cV(o.pointers,r):1,e.rotation=o?hV(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,fV(t,e);var d=n.element,c=e.srcEvent,h;c.composedPath?h=c.composedPath()[0]:c.path?h=c.path[0]:h=c.target,wb(h,d)&&(d=h),e.target=d}function pV(n,e,t){var r=t.pointers.length,i=t.changedPointers.length,s=e&Qe&&r-i===0,o=e&(Re|nt)&&r-i===0;t.isFirst=!!s,t.isFinal=!!o,s&&(n.session={}),t.eventType=e,vV(n,t),n.emit("hammer.input",t),n.recognize(t),n.session.prevInput=t}function Ln(n){return n.trim().split(/\s+/g)}function Pn(n,e,t){Yt(Ln(e),function(r){n.addEventListener(r,t,!1)})}function Rn(n,e,t){Yt(Ln(e),function(r){n.removeEventListener(r,t,!1)})}function WC(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var ln=(function(){function n(t,r){var i=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){Co(t.options.enable,[t])&&i.handler(s)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Pn(this.element,this.evEl,this.domHandler),this.evTarget&&Pn(this.target,this.evTarget,this.domHandler),this.evWin&&Pn(WC(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Rn(this.element,this.evEl,this.domHandler),this.evTarget&&Rn(this.target,this.evTarget,this.domHandler),this.evWin&&Rn(WC(this.element),this.evWin,this.domHandler)},n})();function Kr(n,e,t){if(n.indexOf&&!t)return n.indexOf(e);for(var r=0;r<n.length;){if(t&&n[r][t]==e||!t&&n[r]===e)return r;r++}return-1}var gV={pointerdown:Qe,pointermove:ui,pointerup:Re,pointercancel:nt,pointerout:nt},yV={2:bs,3:oV,4:_b,5:aV},pk="pointerdown",gk="pointermove pointerup pointercancel";Kt.MSPointerEvent&&!Kt.PointerEvent&&(pk="MSPointerDown",gk="MSPointerMove MSPointerUp MSPointerCancel");var yk=(function(n){bt(e,n);function e(){var r,i=e.prototype;return i.evEl=pk,i.evWin=gk,r=n.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),u=gV[a],l=yV[i.pointerType]||i.pointerType,d=l===bs,c=Kr(s,i.pointerId,"pointerId");u&Qe&&(i.button===0||d)?c<0&&(s.push(i),c=s.length-1):u&(Re|nt)&&(o=!0),!(c<0)&&(s[c]=i,this.callback(this.manager,u,{pointers:s,changedPointers:[i],pointerType:l,srcEvent:i}),o&&s.splice(c,1))},e})(ln);function zn(n){return Array.prototype.slice.call(n,0)}function Eb(n,e,t){for(var r=[],i=[],s=0;s<n.length;){var o=e?n[s][e]:n[s];Kr(i,o)<0&&r.push(n[s]),i[s]=o,s++}return t&&(e?r=r.sort(function(a,u){return a[e]>u[e]}):r=r.sort()),r}var mV={touchstart:Qe,touchmove:ui,touchend:Re,touchcancel:nt},bV="touchstart touchmove touchend touchcancel",Sb=(function(n){bt(e,n);function e(){var r;return e.prototype.evTarget=bV,r=n.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(i){var s=mV[i.type],o=_V.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:bs,srcEvent:i})},e})(ln);function _V(n,e){var t=zn(n.touches),r=this.targetIds;if(e&(Qe|ui)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var i,s,o=zn(n.changedTouches),a=[],u=this.target;if(s=t.filter(function(l){return wb(l.target,u)}),e===Qe)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&a.push(o[i]),e&(Re|nt)&&delete r[o[i].identifier],i++;if(a.length)return[Eb(s.concat(a),"identifier",!0),a]}var wV={mousedown:Qe,mousemove:ui,mouseup:Re},EV="mousedown",SV="mousemove mouseup",Ob=(function(n){bt(e,n);function e(){var r,i=e.prototype;return i.evEl=EV,i.evWin=SV,r=n.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(i){var s=wV[i.type];s&Qe&&i.button===0&&(this.pressed=!0),s&ui&&i.which!==1&&(s=Re),this.pressed&&(s&Re&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:_b,srcEvent:i}))},e})(ln),OV=2500,HC=25;function UC(n){var e=n.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},i=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=i.indexOf(r);a>-1&&i.splice(a,1)};setTimeout(s,OV)}}function IV(n,e){n&Qe?(this.primaryTouch=e.changedPointers[0].identifier,UC.call(this,e)):n&(Re|nt)&&UC.call(this,e)}function $V(n){for(var e=n.srcEvent.clientX,t=n.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(e-i.x),o=Math.abs(t-i.y);if(s<=HC&&o<=HC)return!0}return!1}var mk=(function(){var n=(function(e){bt(t,e);function t(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,u,l){var d=l.pointerType===bs,c=l.pointerType===_b;if(!(c&&l.sourceCapabilities&&l.sourceCapabilities.firesTouchEvents)){if(d)IV.call(Ds(Ds(o)),u,l);else if(c&&$V.call(Ds(Ds(o)),l))return;o.callback(a,u,l)}},o.touch=new Sb(o.manager,o.handler),o.mouse=new Ob(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t})(ln);return n})();function TV(n){var e,t=n.options.inputClass;return t?e=t:nV?e=yk:sV?e=Sb:uk?e=mk:e=Ob,new e(n,pV)}function Oi(n,e,t){return Array.isArray(n)?(Yt(n,t[e],t),!0):!1}var ks=1,vt=2,Ai=4,dr=8,Xt=dr,Wn=16,Dt=32,PV=1;function RV(){return PV++}function Ms(n,e){var t=e.manager;return t?t.get(n):n}function VC(n){return n&Wn?"cancel":n&dr?"end":n&Ai?"move":n&vt?"start":""}var Ss=(function(){function n(t){t===void 0&&(t={}),this.options=Tt({enable:!0},t),this.id=RV(),this.manager=null,this.state=ks,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(r){return Vr(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(Oi(r,"recognizeWith",this))return this;var i=this.simultaneous;return r=Ms(r,this),i[r.id]||(i[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return Oi(r,"dropRecognizeWith",this)?this:(r=Ms(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(Oi(r,"requireFailure",this))return this;var i=this.requireFail;return r=Ms(r,this),Kr(i,r)===-1&&(i.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(Oi(r,"dropRequireFailure",this))return this;r=Ms(r,this);var i=Kr(this.requireFail,r);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var i=this,s=this.state;function o(a){i.manager.emit(a,r)}s<dr&&o(i.options.event+VC(s)),o(i.options.event),r.additionalEvent&&o(r.additionalEvent),s>=dr&&o(i.options.event+VC(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=Dt},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(Dt|ks)))return!1;r++}return!0},e.recognize=function(r){var i=Vr({},r);if(!Co(this.options.enable,[this,i])){this.reset(),this.state=Dt;return}this.state&(Xt|Wn|Dt)&&(this.state=ks),this.state=this.process(i),this.state&(vt|Ai|dr|Wn)&&this.tryEmit(i)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},n})(),Im=(function(n){bt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Tt({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var t=e.prototype;return t.getTouchAction=function(){return[Sm]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,u=i.distance<o.threshold,l=i.deltaTime<o.time;if(this.reset(),i.eventType&Qe&&this.count===0)return this.failTimeout();if(u&&l&&a){if(i.eventType!==Re)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<o.interval:!0,c=!this.pCenter||Xs(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!c||!d?this.count=1:this.count+=1,this._input=i;var h=this.count%o.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Xt,s.tryEmit()},o.interval),vt):Xt}return Dt},t.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Dt},this.options.interval),Dt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===Xt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e})(Ss),Mi=(function(n){bt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Tt({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},t.process=function(i){var s=this.state,o=i.eventType,a=s&(vt|Ai),u=this.attrTest(i);return a&&(o&nt||!u)?s|Wn:a||u?o&Re?s|dr:s&vt?s|Ai:vt:Dt},e})(Ss);function bk(n){return n===Di?"down":n===Es?"up":n===_s?"left":n===ws?"right":""}var Ib=(function(n){bt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Tt({event:"pan",threshold:10,pointers:1,direction:lk},r))||this,i.pX=null,i.pY=null,i}var t=e.prototype;return t.getTouchAction=function(){var i=this.options.direction,s=[];return i&Ft&&s.push(jn),i&Lr&&s.push(Bn),s},t.directionTest=function(i){var s=this.options,o=!0,a=i.distance,u=i.direction,l=i.deltaX,d=i.deltaY;return u&s.direction||(s.direction&Ft?(u=l===0?Ks:l<0?_s:ws,o=l!==this.pX,a=Math.abs(i.deltaX)):(u=d===0?Ks:d<0?Es:Di,o=d!==this.pY,a=Math.abs(i.deltaY))),i.direction=u,o&&a>s.threshold&&u&s.direction},t.attrTest=function(i){return Mi.prototype.attrTest.call(this,i)&&(this.state&vt||!(this.state&vt)&&this.directionTest(i))},t.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=bk(i.direction);s&&(i.additionalEvent=this.options.event+s),n.prototype.emit.call(this,i)},e})(Mi),_k=(function(n){bt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Tt({event:"swipe",threshold:10,velocity:.3,direction:Ft|Lr,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return Ib.prototype.getTouchAction.call(this)},t.attrTest=function(i){var s=this.options.direction,o;return s&(Ft|Lr)?o=i.overallVelocity:s&Ft?o=i.overallVelocityX:s&Lr&&(o=i.overallVelocityY),n.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Gr(o)>this.options.velocity&&i.eventType&Re},t.emit=function(i){var s=bk(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e})(Mi),wk=(function(n){bt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Tt({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[jr]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&vt)},t.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}n.prototype.emit.call(this,i)},e})(Mi),Ek=(function(n){bt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Tt({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[jr]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&vt)},e})(Mi),Sk=(function(n){bt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Tt({event:"press",pointers:1,time:251,threshold:9},r))||this,i._timer=null,i._input=null,i}var t=e.prototype;return t.getTouchAction=function(){return[ak]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,u=i.distance<o.threshold,l=i.deltaTime>o.time;if(this._input=i,!u||!a||i.eventType&(Re|nt)&&!l)this.reset();else if(i.eventType&Qe)this.reset(),this._timer=setTimeout(function(){s.state=Xt,s.tryEmit()},o.time);else if(i.eventType&Re)return Xt;return Dt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(i){this.state===Xt&&(i&&i.eventType&Re?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=bb(),this.manager.emit(this.options.event,this._input)))},e})(Ss),Ok={domEvents:!1,touchAction:ok,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},GC=[[Ek,{enable:!1}],[wk,{enable:!1},["rotate"]],[_k,{direction:Ft}],[Ib,{direction:Ft},["swipe"]],[Im],[Im,{event:"doubletap",taps:2},["tap"]],[Sk]],qV=1,KC=2;function YC(n,e){var t=n.element;if(t.style){var r;Yt(n.options.cssProps,function(i,s){r=qo(t.style,s),e?(n.oldCssProps[r]=t.style[r],t.style[r]=i):t.style[r]=n.oldCssProps[r]||""}),e||(n.oldCssProps={})}}function CV(n,e){var t=document.createEvent("Event");t.initEvent(n,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var XC=(function(){function n(t,r){var i=this;this.options=Vr({},Ok,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=TV(this),this.touchAction=new ck(this,this.options.touchAction),YC(this,!0),Yt(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=n.prototype;return e.set=function(r){return Vr(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?KC:qV},e.recognize=function(r){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&Xt)&&(i.curRecognizer=null,a=null);for(var u=0;u<o.length;)s=o[u],i.stopped!==KC&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(vt|Ai|dr)&&(i.curRecognizer=s,a=s),u++}},e.get=function(r){if(r instanceof Ss)return r;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===r)return i[s];return null},e.add=function(r){if(Oi(r,"add",this))return this;var i=this.get(r.options.event);return i&&this.remove(i),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(Oi(r,"remove",this))return this;var i=this.get(r);if(r){var s=this.recognizers,o=Kr(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,i){if(r===void 0||i===void 0)return this;var s=this.handlers;return Yt(Ln(r),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(r,i){if(r===void 0)return this;var s=this.handlers;return Yt(Ln(r),function(o){i?s[o]&&s[o].splice(Kr(s[o],i),1):delete s[o]}),this},e.emit=function(r,i){this.options.domEvents&&CV(r,i);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){i.type=r,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&YC(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n})(),xV={touchstart:Qe,touchmove:ui,touchend:Re,touchcancel:nt},DV="touchstart",AV="touchstart touchmove touchend touchcancel",MV=(function(n){bt(e,n);function e(){var r,i=e.prototype;return i.evTarget=DV,i.evWin=AV,r=n.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(i){var s=xV[i.type];if(s===Qe&&(this.started=!0),!!this.started){var o=FV.call(this,i,s);s&(Re|nt)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:bs,srcEvent:i})}},e})(ln);function FV(n,e){var t=zn(n.touches),r=zn(n.changedTouches);return e&(Re|nt)&&(t=Eb(t.concat(r),"identifier",!0)),[t,r]}function Ik(n,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),n.apply(this,arguments)}}var $k=Ik(function(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;)(!t||t&&n[r[i]]===void 0)&&(n[r[i]]=e[r[i]]),i++;return n},"extend","Use `assign`."),NV=Ik(function(n,e){return $k(n,e,!0)},"merge","Use `assign`.");function kV(n,e,t){var r=e.prototype,i;i=n.prototype=Object.create(r),i.constructor=n,i._super=r,t&&Vr(i,t)}function JC(n,e){return function(){return n.apply(e,arguments)}}var Tk=(function(){var n=function(t,r){return r===void 0&&(r={}),new XC(t,Tt({recognizers:GC.concat()},r))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=lk,n.DIRECTION_DOWN=Di,n.DIRECTION_LEFT=_s,n.DIRECTION_RIGHT=ws,n.DIRECTION_UP=Es,n.DIRECTION_HORIZONTAL=Ft,n.DIRECTION_VERTICAL=Lr,n.DIRECTION_NONE=Ks,n.DIRECTION_DOWN=Di,n.INPUT_START=Qe,n.INPUT_MOVE=ui,n.INPUT_END=Re,n.INPUT_CANCEL=nt,n.STATE_POSSIBLE=ks,n.STATE_BEGAN=vt,n.STATE_CHANGED=Ai,n.STATE_ENDED=dr,n.STATE_RECOGNIZED=Xt,n.STATE_CANCELLED=Wn,n.STATE_FAILED=Dt,n.Manager=XC,n.Input=ln,n.TouchAction=ck,n.TouchInput=Sb,n.MouseInput=Ob,n.PointerEventInput=yk,n.TouchMouseInput=mk,n.SingleTouchInput=MV,n.Recognizer=Ss,n.AttrRecognizer=Mi,n.Tap=Im,n.Pan=Ib,n.Swipe=_k,n.Pinch=wk,n.Rotate=Ek,n.Press=Sk,n.on=Pn,n.off=Rn,n.each=Yt,n.merge=NV,n.extend=$k,n.bindFn=JC,n.assign=Vr,n.inherit=kV,n.bindFn=JC,n.prefixed=qo,n.toArray=zn,n.inArray=Kr,n.uniqueArray=Eb,n.splitStr=Ln,n.boolOrFn=Co,n.hasParent=wb,n.addEventListeners=Pn,n.removeEventListeners=Rn,n.defaults=Vr({},Ok,{preset:GC}),n})();Tk.defaults;j3("DELETE");function xo(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return BV(e.length?e:[Gs()])}function BV(n){let[e,t,r]=jV(n),i=1;const s=()=>{const o=2091639*e+i*23283064365386963e-26;return e=t,t=r,r=o-(i=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=n,s.version="0.9",s}function jV(){const n=LV();let e=n(" "),t=n(" "),r=n(" ");for(let i=0;i<arguments.length;i++)e-=n(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),t-=n(i<0||arguments.length<=i?void 0:arguments[i]),t<0&&(t+=1),r-=n(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1);return[e,t,r]}function LV(){let n=4022871197;return function(e){const t=e.toString();for(let r=0;r<t.length;r++){n+=t.charCodeAt(r);let i=.02519603282416938*n;n=i>>>0,i-=n,i*=n,n=i>>>0,i-=n,n+=i*4294967296}return(n>>>0)*23283064365386963e-26}}function zV(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}const $b=typeof window<"u"?window.Hammer||Tk:function(){return zV()};function At(n){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=$b(this._dom.overlay);t.on("tap",D(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{t.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];le(r).call(r,i=>{t.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{WV(i.target,n)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}NN(At.prototype);At.current=null;At.prototype.destroy=function(){this.deactivate();for(const t of kr(n=Vt(e=this._cleanupQueue).call(e,0)).call(n)){var n,e;t()}};At.prototype.activate=function(){At.current&&At.current.deactivate(),At.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};At.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};At.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};function WV(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const HV=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,UV=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,VV=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,GV=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function ir(n){if(n)for(;n.hasChildNodes()===!0;){const e=n.firstChild;e&&(ir(e),n.removeChild(e))}}function Ii(n){return n instanceof String||typeof n=="string"}function ZC(n){return typeof n=="object"&&n!==null}function Yr(n,e,t,r){let i=!1;r===!0&&(i=e[t]===null&&n[t]!==void 0),i?delete n[t]:n[t]=e[t]}function Pk(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const r in n)if(e[r]!==void 0)if(e[r]===null||typeof e[r]!="object")Yr(n,e,r,t);else{const i=n[r],s=e[r];ZC(i)&&ZC(s)&&Pk(i,s,t)}}function dn(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Se(t))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<n.length;i++){const s=n[i];if(Object.prototype.hasOwnProperty.call(t,s))if(t[s]&&t[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?he(e[s],t[s],!1,r):Yr(e,t,s,r);else{if(Se(t[s]))throw new TypeError("Arrays are not supported by deepExtend");Yr(e,t,s,r)}}return e}function Js(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Se(t))throw new TypeError("Arrays are not supported by deepExtend");for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&!lr(n).call(n,i))if(t[i]&&t[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?he(e[i],t[i]):Yr(e,t,i,r);else if(Se(t[i])){e[i]=[];for(let s=0;s<t[i].length;s++)e[i].push(t[i][s])}else Yr(e,t,i,r);return e}function he(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||t===!0)if(typeof e[s]=="object"&&e[s]!==null&&Dq(e[s])===Object.prototype)n[s]===void 0?n[s]=he({},e[s],t):typeof n[s]=="object"&&n[s]!==null&&Dq(n[s])===Object.prototype?he(n[s],e[s],t):Yr(n,e,s,r);else if(Se(e[s])){var i;n[s]=Ct(i=e[s]).call(i)}else Yr(n,e,s,r);return n}function Zs(n,e){return[...n,e]}function KV(n){return Ct(n).call(n)}function YV(n){return n.getBoundingClientRect().left}function XV(n){return n.getBoundingClientRect().top}function Z(n,e){if(Se(n)){const t=n.length;for(let r=0;r<t;r++)e(n[r],r,n)}else for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(n[t],t,n)}function Tb(n){let e;switch(n.length){case 3:case 4:return e=UV.exec(n),e?{r:It(e[1]+e[1],16),g:It(e[2]+e[2],16),b:It(e[3]+e[3],16)}:null;case 6:case 7:return e=HV.exec(n),e?{r:It(e[1],16),g:It(e[2],16),b:It(e[3],16)}:null;default:return null}}function ht(n,e){if(lr(n).call(n,"rgba"))return n;if(lr(n).call(n,"rgb")){const t=n.substr(ne(n).call(n,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{const t=Tb(n);return t==null?n:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function Rk(n,e,t){var r;return"#"+Ct(r=((1<<24)+(n<<16)+(e<<8)+t).toString(16)).call(r,1)}function $m(n,e){if(Ii(n)){let r=n;if(Ck(r)){var t;const i=xi(t=r.substr(4).substr(0,r.length-5).split(",")).call(t,function(s){return It(s)});r=Rk(i[0],i[1],i[2])}if(qk(r)===!0){const i=JV(r),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},o={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},a=Tm(o.h,o.s,o.v),u=Tm(s.h,s.s,s.v);return{background:r,border:a,highlight:{background:u,border:a},hover:{background:u,border:a}}}else return{background:r,border:r,highlight:{background:r,border:r},hover:{background:r,border:r}}}else return{background:n.background||void 0,border:n.border||void 0,highlight:Ii(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||void 0,border:n.highlight&&n.highlight.border||void 0},hover:Ii(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||void 0,background:n.hover&&n.hover.background||void 0}}}function On(n,e,t){n=n/255,e=e/255,t=t/255;const r=Math.min(n,Math.min(e,t)),i=Math.max(n,Math.max(e,t));if(r===i)return{h:0,s:0,v:r};const s=n===r?e-t:t===r?n-e:t-n,a=60*((n===r?3:t===r?1:5)-s/(i-r))/360,u=(i-r)/i;return{h:a,s:u,v:i}}function Bs(n,e,t){let r,i,s;const o=Math.floor(n*6),a=n*6-o,u=t*(1-e),l=t*(1-a*e),d=t*(1-(1-a)*e);switch(o%6){case 0:r=t,i=d,s=u;break;case 1:r=l,i=t,s=u;break;case 2:r=u,i=t,s=d;break;case 3:r=u,i=l,s=t;break;case 4:r=d,i=u,s=t;break;case 5:r=t,i=u,s=l;break}return{r:Math.floor(r*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function Tm(n,e,t){const r=Bs(n,e,t);return Rk(r.r,r.g,r.b)}function JV(n){const e=Tb(n);if(!e)throw new TypeError("'".concat(n,"' is not a valid color."));return On(e.r,e.g,e.b)}function qk(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}function Ck(n){return VV.test(n)}function ZV(n){return GV.test(n)}function cr(n){if(n===null||typeof n!="object")return null;if(n instanceof Element)return n;const e=Br(n);for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&typeof n[t]=="object"&&(e[t]=cr(n[t]));return e}function ct(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(f){return f!=null},s=function(f){return f!==null&&typeof f=="object"},o=function(f){for(const v in f)if(Object.prototype.hasOwnProperty.call(f,v))return!1;return!0};if(!s(n))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(t))throw new Error("Parameter option must have a value");if(!s(r))throw new Error("Parameter globalOptions must be an object");const a=function(f,v,g){s(f[g])||(f[g]={});const b=v[g],y=f[g];for(const p in b)Object.prototype.hasOwnProperty.call(b,p)&&(y[p]=b[p])},u=e[t],d=s(r)&&!o(r)?r[t]:void 0,c=d?d.enabled:void 0;if(u===void 0)return;if(typeof u=="boolean"){s(n[t])||(n[t]={}),n[t].enabled=u;return}if(u===null&&!s(n[t]))if(i(d))n[t]=Br(d);else return;if(!s(u))return;let h=!0;u.enabled!==void 0?h=u.enabled:c!==void 0&&(h=d.enabled),a(n,e,t),n[t].enabled=h}const QV={linear(n){return n},easeInQuad(n){return n*n},easeOutQuad(n){return n*(2-n)},easeInOutQuad(n){return n<.5?2*n*n:-1+(4-2*n)*n},easeInCubic(n){return n*n*n},easeOutCubic(n){return--n*n*n+1},easeInOutCubic(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart(n){return n*n*n*n},easeOutQuart(n){return 1- --n*n*n*n},easeInOutQuart(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint(n){return n*n*n*n*n},easeOutQuint(n){return 1+--n*n*n*n*n},easeInOutQuint(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};function nr(n,e){let t;Se(e)||(e=[e]);for(const r of n)if(r){t=r[e[0]];for(let i=1;i<e.length;i++)t&&(t=t[e[i]]);if(typeof t<"u")break}return t}const eG={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let tG=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return eG[e]}setColor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let r;const i=this._isColorString(e);if(i!==void 0&&(e=i),Ii(e)===!0){if(Ck(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if(ZV(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(qk(e)===!0){const s=Tb(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+ys(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Pe({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Gt(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Pe({},e)),this.color=e;const r=On(e.r,e.g,e.b),i=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(i*r.h),a=this.centerCoordinates.y+s*Math.cos(i*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=On(this.color.r,this.color.g,this.color.b);t.v=e/100;const r=Bs(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const t=On(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,i,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),ms(r).call(r),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,t,r,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=D(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=D(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=D(r=this._save).call(r,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=D(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new $b(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let i,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;const u=2*Math.PI/360,l=1/360,d=1/this.r;let c;for(o=0;o<360;o++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*Math.sin(u*o),s=this.centerCoordinates.y+a*Math.cos(u*o),c=Bs(o*l,a*d,1),e.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,i=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,u=i-s,l=Math.atan2(a,u),d=.98*Math.min(Math.sqrt(a*a+u*u),o),c=Math.cos(l)*d+s,h=Math.sin(l)*d+o;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";let f=l/(2*Math.PI);f=f<0?f+1:f;const v=d/this.r,g=On(this.color.r,this.color.g,this.color.b);g.h=f,g.s=v;const b=Bs(g.h,g.s,g.v);b.a=this.color.a,this.color=b,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function Pm(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const r=document.createElement(e[0]);return r.appendChild(Pm(...Ct(e).call(e,1))),r}}let rG=class{constructor(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Pe(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new tG(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Se(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),rt(e)!==void 0&&(this.options.filter=rt(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);rt(this.options)===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=rt(this.options);let t=0,r=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(i,[]),r=r||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||ne(e).call(e,i)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return le(r).call(r,o=>{s.appendChild(o)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(Pm("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,t,r){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;t!==void 0&&ne(e).call(e,t)!==-1&&(s=ne(e).call(e,t));for(let u=0;u<e.length;u++){const l=document.createElement("option");l.value=e[u],u===s&&(l.selected="selected"),l.innerText=e[u],i.appendChild(l)}const o=this;i.onchange=function(){o._update(this.value,r)};const a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,i)}_makeRange(e,t,r){const i=e[0],s=e[1],o=e[2],a=e[3],u=document.createElement("input");u.className="vis-configuration vis-config-range";try{u.type="range",u.min=s,u.max=o}catch{}u.step=a;let l="",d=0;t!==void 0?(t<0&&t*1.2<s?(u.min=Math.ceil(t*1.2),d=u.min,l="range increased"):t/1.2<s&&(u.min=Math.ceil(t/1.2),d=u.min,l="range increased"),t*1.2>o&&o!==1&&(u.max=Math.ceil(t*1.2),d=u.max,l="range increased"),u.value=t):u.value=i;const c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=u.value;const h=this;u.onchange=function(){c.value=this.value,h._update(Number(this.value),r)},u.oninput=function(){c.value=this.value};const f=this._makeLabel(r[r.length-1],r),v=this._makeItem(r,f,u,c);l!==""&&this.popupHistory[v]!==d&&(this.popupHistory[v]=d,this._setupPopup(l,v))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=e,r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Gt(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Gt(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,t!==void 0&&(i.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));const s=this;i.onchange=function(){s._update(this.checked,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeTextInput(e,t,r){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=t,t!==e&&this.changedOptions.push({path:r,value:t});const s=this;i.onchange=function(){s._update(this.value,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeColorField(e,t,r){const i=e[1],s=document.createElement("div");t=t===void 0?i:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?i:t,s.onclick=()=>{this._showColorPicker(t,s,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=rt(this.options);let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){i=!0;const u=e[a],l=Zs(t,a);if(typeof s=="function"&&(i=s(a,t),i===!1&&!Se(u)&&typeof u!="string"&&typeof u!="boolean"&&u instanceof Object&&(this.allowCreation=!1,i=this._handleObject(u,l,!0),this.allowCreation=r===!1)),i!==!1){o=!0;const d=this._getValue(l);if(Se(u))this._handleArray(u,d,l);else if(typeof u=="string")this._makeTextInput(u,d,l);else if(typeof u=="boolean")this._makeCheckbox(u,d,l);else if(u instanceof Object){if(!this.hideOption(t,a,this.moduleOptions))if(u.enabled!==void 0){const c=Zs(l,"enabled"),h=this._getValue(c);if(h===!0){const f=this._makeLabel(a,l,!0);this._makeItem(l,f),o=this._handleObject(u,l)||o}else this._makeCheckbox(u,h,l)}else{const c=this._makeLabel(a,l,!0);this._makeItem(l,c),o=this._handleObject(u,l)||o}}else console.error("dont know how to handle",u,a,l)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){const r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(i[t[s]]===void 0&&(i[t[s]]={}),s!==t.length-1?i=i[t[s]]:i[t[s]]=e);return r}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Pm("pre","const options = "+ys(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},iG=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=It(e),this.y=It(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const t=this.frame.clientHeight,r=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let u=!1,l=!0;this.y-t<this.padding&&(l=!1),this.x+r>s-this.padding&&(u=!0),u?o=this.x-r:o=this.x,l?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>i&&(a=i-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},En=!1,QC;const Rm="background: #FFeeee; color: #dd0000";let nG=class we{static validate(e,t,r){En=!1,QC=t;let i=t;return r!==void 0&&(i=t[r]),we.parse(e,i,[]),En}static parse(e,t,r){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&we.check(i,e,t,r)}static check(e,t,r,i){if(r[e]===void 0&&r.__any__===void 0){we.getSuggestion(e,r,i);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=we.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),we.checkFields(e,t,r,s,a,i)}static checkFields(e,t,r,i,s,o){const a=function(d){console.error("%c"+d+we.printLocation(o,e),Rm)},u=we.getType(t[e]),l=s[u];l!==void 0?we.getType(l)==="array"&&ne(l).call(l,t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+we.print(l)+' not "'+t[e]+'". '),En=!0):u==="object"&&i!=="__any__"&&(o=Zs(o,e),we.parse(t[e],r[i],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+we.print(Ee(s))+". Received ["+u+'] "'+t[e]+'"'),En=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Se(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){const i=we.findInOptions(e,t,r,!1),s=we.findInOptions(e,QC,[],!0),o=8,a=4;let u;i.indexMatch!==void 0?u=" in "+we.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=a&&i.distance>s.distance?u=" in "+we.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+we.printLocation(s.path,s.closestMatch,""):i.distance<=o?u='. Did you mean "'+i.closestMatch+'"?'+we.printLocation(i.path,e):u=". Did you mean one of these: "+we.print(Ee(t))+we.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+u,Rm),En=!0}static findInOptions(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",a=[];const u=e.toLowerCase();let l;for(const c in t){let h;if(t[c].__type__!==void 0&&i===!0){const f=we.findInOptions(e,t[c],Zs(r,c));s>f.distance&&(o=f.closestMatch,a=f.path,s=f.distance,l=f.indexMatch)}else{var d;ne(d=c.toLowerCase()).call(d,u)!==-1&&(l=c),h=we.levenshteinDistance(e,c),s>h&&(o=c,a=KV(r),s=h)}}return{closestMatch:o,path:a,distance:s,indexMatch:l}}static printLocation(e,t){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)i+="  ";i+=`}
`}return i+`

`}static print(e){return ys(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const r=[];let i;for(i=0;i<=t.length;i++)r[i]=[i];let s;for(s=0;s<=e.length;s++)r[0][s]=s;for(i=1;i<=t.length;i++)for(s=1;s<=e.length;s++)t.charAt(i-1)==e.charAt(s-1)?r[i][s]=r[i-1][s-1]:r[i][s]=Math.min(r[i-1][s-1]+1,Math.min(r[i][s-1]+1,r[i-1][s]+1));return r[t.length][e.length]}};const sG=At,oG=rG,$i=$b,aG=iG,xk=Rm,uG=nG;function lG(n){return or=n,fG()}var Dk={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Pb=Br(Dk);Pb.color="color.color";Pb.style="dashes";var Ye={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},ex={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},or="",Fi=0,X="",V="",tt=Ye.NULL;function dG(){Fi=0,X=or.charAt(0)}function Fe(){Fi++,X=or.charAt(Fi)}function yi(){return or.charAt(Fi+1)}function tx(n){var e=n.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function fr(n,e){if(n||(n={}),e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function cG(n,e,t){for(var r=e.split("."),i=n;r.length;){var s=r.shift();r.length?(i[s]||(i[s]={}),i=i[s]):i[s]=t}}function Ak(n,e){for(var t,r,i=null,s=[n],o=n;o.parent;)s.push(o.parent),o=o.parent;if(o.nodes){for(t=0,r=o.nodes.length;t<r;t++)if(e.id===o.nodes[t].id){i=o.nodes[t];break}}for(i||(i={id:e.id},n.node&&(i.attr=fr(i.attr,n.node))),t=s.length-1;t>=0;t--){var a,u=s[t];u.nodes||(u.nodes=[]),ne(a=u.nodes).call(a,i)===-1&&u.nodes.push(i)}e.attr&&(i.attr=fr(i.attr,e.attr))}function hG(n,e){if(n.edges||(n.edges=[]),n.edges.push(e),n.edge){var t=fr({},n.edge);e.attr=fr(t,e.attr)}}function Mk(n,e,t,r,i){var s={from:e,to:t,type:r};return n.edge&&(s.attr=fr({},n.edge)),s.attr=fr(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function fe(){for(tt=Ye.NULL,V="";X===" "||X==="	"||X===`
`||X==="\r";)Fe();do{var n=!1;if(X==="#"){for(var e=Fi-1;or.charAt(e)===" "||or.charAt(e)==="	";)e--;if(or.charAt(e)===`
`||or.charAt(e)===""){for(;X!=""&&X!=`
`;)Fe();n=!0}}if(X==="/"&&yi()==="/"){for(;X!=""&&X!=`
`;)Fe();n=!0}if(X==="/"&&yi()==="*"){for(;X!="";)if(X==="*"&&yi()==="/"){Fe(),Fe();break}else Fe();n=!0}for(;X===" "||X==="	"||X===`
`||X==="\r";)Fe()}while(n);if(X===""){tt=Ye.DELIMITER;return}var t=X+yi();if(ex[t]){tt=Ye.DELIMITER,V=t,Fe(),Fe();return}if(ex[X]){tt=Ye.DELIMITER,V=X,Fe();return}if(tx(X)||X==="-"){for(V+=X,Fe();tx(X);)V+=X,Fe();V==="false"?V=!1:V==="true"?V=!0:isNaN(Number(V))||(V=Number(V)),tt=Ye.IDENTIFIER;return}if(X==='"'){for(Fe();X!=""&&(X!='"'||X==='"'&&yi()==='"');)X==='"'?(V+=X,Fe()):X==="\\"&&yi()==="n"?(V+=`
`,Fe()):V+=X,Fe();if(X!='"')throw Xe('End of string " expected');Fe(),tt=Ye.IDENTIFIER;return}for(tt=Ye.UNKNOWN;X!="";)V+=X,Fe();throw new SyntaxError('Syntax error in part "'+Bk(V,30)+'"')}function fG(){var n={};if(dG(),fe(),V==="strict"&&(n.strict=!0,fe()),(V==="graph"||V==="digraph")&&(n.type=V,fe()),tt===Ye.IDENTIFIER&&(n.id=V,fe()),V!="{")throw Xe("Angle bracket { expected");if(fe(),Fk(n),V!="}")throw Xe("Angle bracket } expected");if(fe(),V!=="")throw Xe("End of file expected");return fe(),delete n.node,delete n.edge,delete n.graph,n}function Fk(n){for(;V!==""&&V!="}";)vG(n),V===";"&&fe()}function vG(n){var e=Nk(n);if(e){kk(n,e);return}var t=pG(n);if(!t){if(tt!=Ye.IDENTIFIER)throw Xe("Identifier expected");var r=V;if(fe(),V==="="){if(fe(),tt!=Ye.IDENTIFIER)throw Xe("Identifier expected");n[r]=V,fe()}else gG(n,r)}}function Nk(n){var e=null;if(V==="subgraph"&&(e={},e.type="subgraph",fe(),tt===Ye.IDENTIFIER&&(e.id=V,fe())),V==="{"){if(fe(),e||(e={}),e.parent=n,e.node=n.node,e.edge=n.edge,e.graph=n.graph,Fk(e),V!="}")throw Xe("Angle bracket } expected");fe(),delete e.node,delete e.edge,delete e.graph,delete e.parent,n.subgraphs||(n.subgraphs=[]),n.subgraphs.push(e)}return e}function pG(n){return V==="node"?(fe(),n.node=qn(),"node"):V==="edge"?(fe(),n.edge=qn(),"edge"):V==="graph"?(fe(),n.graph=qn(),"graph"):null}function gG(n,e){var t={id:e},r=qn();r&&(t.attr=r),Ak(n,t),kk(n,e)}function kk(n,e){for(;V==="->"||V==="--";){var t,r=V;fe();var i=Nk(n);if(i)t=i;else{if(tt!=Ye.IDENTIFIER)throw Xe("Identifier or subgraph expected");t=V,Ak(n,{id:t}),fe()}var s=qn(),o=Mk(n,e,t,r,s);hG(n,o),e=t}}function qn(){for(var n,e=null,t={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;V==="[";){for(fe(),e={};V!==""&&V!="]";){if(tt!=Ye.IDENTIFIER)throw Xe("Attribute name expected");var o=V;if(fe(),V!="=")throw Xe("Equal sign = expected");if(fe(),tt!=Ye.IDENTIFIER)throw Xe("Attribute value expected");var a=V;o==="style"&&(a=t[a]);var u;o==="arrowhead"&&(u=r[a],o="arrows",a={to:{enabled:!0,type:u}}),o==="arrowtail"&&(u=r[a],o="arrows",a={from:{enabled:!0,type:u}}),i.push({attr:e,name:o,value:a}),s.push(o),fe(),V==","&&fe()}if(V!="]")throw Xe("Bracket ] expected");fe()}if(lr(s).call(s,"dir")){var l={};for(l.arrows={},n=0;n<i.length;n++)if(i[n].name==="arrows")if(i[n].value.to!=null)l.arrows.to=n;else if(i[n].value.from!=null)l.arrows.from=n;else throw Xe("Invalid value of arrows");else i[n].name==="dir"&&(l.dir=n);var d=i[l.dir].value;if(!lr(s).call(s,"arrows"))if(d==="both")i.push({attr:i[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=i.length-1,i.push({attr:i[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[l.dir].attr,name:"arrows",value:""}),l.arrows.to=i.length-1;else throw Xe('Invalid dir type "'+d+'"');var c,h;if(d==="both")l.arrows.to&&l.arrows.from?(h=i[l.arrows.to].value.to.type,c=i[l.arrows.from].value.from.type,i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}},Vt(i).call(i,l.arrows.from,1)):l.arrows.to?(h=i[l.arrows.to].value.to.type,c="arrow",i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="arrow",c=i[l.arrows.from].value.from.type,i[l.arrows.from]={attr:i[l.arrows.from].attr,name:i[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}});else if(d==="back")l.arrows.to&&l.arrows.from?(h="",c=i[l.arrows.from].value.from.type,i[l.arrows.from]={attr:i[l.arrows.from].attr,name:i[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.to?(h="",c="arrow",l.arrows.from=l.arrows.to,i[l.arrows.from]={attr:i[l.arrows.from].attr,name:i[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="",c=i[l.arrows.from].value.from.type,i[l.arrows.to]={attr:i[l.arrows.from].attr,name:i[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),i[l.arrows.from]={attr:i[l.arrows.from].attr,name:i[l.arrows.from].name,value:{from:{enabled:!0,type:i[l.arrows.from].value.from.type}}};else if(d==="none"){var f;l.arrows.to?f=l.arrows.to:f=l.arrows.from,i[f]={attr:i[f].attr,name:i[f].name,value:""}}else if(d==="forward")l.arrows.to&&l.arrows.from?(h=i[l.arrows.to].value.to.type,c="",i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.to?(h=i[l.arrows.to].value.to.type,c="",i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="arrow",c="",l.arrows.to=l.arrows.from,i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:i[l.arrows.to].value.to.type}}};else throw Xe('Invalid dir type "'+d+'"');Vt(i).call(i,l.dir,1)}var v;if(lr(s).call(s,"penwidth")){var g=[];for(v=i.length,n=0;n<v;n++)i[n].name!=="width"&&(i[n].name==="penwidth"&&(i[n].name="width"),g.push(i[n]));i=g}for(v=i.length,n=0;n<v;n++)cG(i[n].attr,i[n].name,i[n].value);return e}function Xe(n){return new SyntaxError(n+', got "'+Bk(V,30)+'" (char '+Fi+")")}function Bk(n,e){return n.length<=e?n:n.substr(0,27)+"..."}function yG(n,e,t){Se(n)?le(n).call(n,function(r){Se(e)?le(e).call(e,function(i){t(r,i)}):t(r,e)}):Se(e)?le(e).call(e,function(r){t(n,r)}):t(n,e)}function Xp(n,e,t){for(var r=e.split("."),i=r.pop(),s=n,o=0;o<r.length;o++){var a=r[o];a in s||(s[a]={}),s=s[a]}return s[i]=t,n}function rx(n,e){var t={};for(var r in n)if(n.hasOwnProperty(r)){var i=e[r];Se(i)?le(i).call(i,function(s){Xp(t,s,n[r])}):typeof i=="string"?Xp(t,i,n[r]):Xp(t,r,n[r])}return t}function mG(n){var e=lG(n),t={nodes:[],edges:[],options:{}};if(e.nodes){var r;le(r=e.nodes).call(r,function(o){var a={id:o.id,label:String(o.label||o.id)};fr(a,rx(o.attr,Dk)),a.image&&(a.shape="image"),t.nodes.push(a)})}if(e.edges){var i,s=function(o){var a={from:o.from,to:o.to};return fr(a,rx(o.attr,Pb)),a.arrows==null&&o.type==="->"&&(a.arrows="to"),a};le(i=e.edges).call(i,function(o){var a,u;if(o.from instanceof Object?a=o.from.nodes:a={id:o.from},o.to instanceof Object?u=o.to.nodes:u={id:o.to},o.from instanceof Object&&o.from.edges){var l;le(l=o.from.edges).call(l,function(c){var h=s(c);t.edges.push(h)})}if(yG(a,u,function(c,h){var f=Mk(t,c.id,h.id,o.type,o.attr),v=s(f);t.edges.push(v)}),o.to instanceof Object&&o.to.edges){var d;le(d=o.to.edges).call(d,function(c){var h=s(c);t.edges.push(h)})}})}return e.attr&&(t.options=e.attr),t}function bG(n,e){var t;const r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(r.nodes.fixed=e.fixed),e.parseColor!=null&&(r.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(r.edges.inheritColor=e.inheritColor));const i=n.edges,s=xi(i).call(i,a=>{const u={from:a.source,id:a.id,to:a.target};return a.attributes!=null&&(u.attributes=a.attributes),a.label!=null&&(u.label=a.label),a.attributes!=null&&a.attributes.title!=null&&(u.title=a.attributes.title),a.type==="Directed"&&(u.arrows="to"),a.color&&r.edges.inheritColor===!1&&(u.color=a.color),u});return{nodes:xi(t=n.nodes).call(t,a=>{const u={id:a.id,fixed:r.nodes.fixed&&a.x!=null&&a.y!=null};return a.attributes!=null&&(u.attributes=a.attributes),a.label!=null&&(u.label=a.label),a.size!=null&&(u.size=a.size),a.attributes!=null&&a.attributes.title!=null&&(u.title=a.attributes.title),a.title!=null&&(u.title=a.title),a.x!=null&&(u.x=a.x),a.y!=null&&(u.y=a.y),a.color!=null&&(r.nodes.parseColor===!0?u.color=a.color:u.color={background:a.color,border:a.color,highlight:{background:a.color,border:a.color},hover:{background:a.color,border:a.color}}),u}),edges:s}}const _G={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},wG={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufÃ¼gen",addNode:"Knoten hinzufÃ¼gen",back:"ZurÃ¼ck",close:"SchlieÃen",createEdgeError:"Es ist nicht mÃ¶glich, Kanten mit Clustern zu verbinden.",del:"LÃ¶sche Auswahl",deleteClusterError:"Cluster kÃ¶nnen nicht gelÃ¶scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster kÃ¶nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},EG={addDescription:"Haga clic en un lugar vacÃ­o para colocar un nuevo nodo.",addEdge:"AÃ±adir arista",addNode:"AÃ±adir nodo",back:"AtrÃ¡s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecciÃ³n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},SG={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},OG={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},IG={addDescription:"Clique em um espaÃ§o em branco para adicionar um novo nÃ³",addEdge:"Adicionar aresta",addNode:"Adicionar nÃ³",back:"Voltar",close:"Fechar",createEdgeError:"NÃ£o foi possÃ­vel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters nÃ£o puderam ser removidos.",edgeDescription:"Clique em um nÃ³ e arraste a aresta atÃ© outro nÃ³ para conectÃ¡-los",edit:"Editar",editClusterError:"Clusters nÃ£o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nÃ³ para conectÃ¡-los",editNode:"Editar nÃ³"},$G={addDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð² ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ðµ Ð¼ÐµÑÑÐ¾, ÑÑÐ¾Ð±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÐ¹ ÑÐ·ÐµÐ».",addEdge:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ±ÑÐ¾",addNode:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ·ÐµÐ»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÑÐ²Ð°ÑÑ",createEdgeError:"ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ ÑÐµÐ±ÑÐ° Ð² ÐºÐ»Ð°ÑÑÐµÑ.",del:"Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ðµ",deleteClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½Ðµ Ð¼Ð¾Ð³ÑÑ Ð±ÑÑÑ ÑÐ´Ð°Ð»ÐµÐ½Ñ",edgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÑÐ·ÐµÐ» Ð¸ Ð¿ÑÐ¾ÑÑÐ½Ð¸ÑÐµ ÑÐµÐ±ÑÐ¾ Ðº Ð´ÑÑÐ³Ð¾Ð¼Ñ ÑÐ·Ð»Ñ, ÑÑÐ¾Ð±Ñ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ Ð¸Ñ.",edit:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ",editClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ.",editEdge:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐµÐ±ÑÐ¾",editEdgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½ÑÐµ ÑÐ¾ÑÐºÐ¸ Ð¸ Ð¿ÐµÑÐµÑÐ°ÑÐ¸ÑÐµ Ð¸Ñ Ð² ÑÐ·ÐµÐ», ÑÑÐ¾Ð±Ñ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ¸ÑÑÑÑ Ðº Ð½ÐµÐ¼Ñ.",editNode:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐ·ÐµÐ»"},TG={addDescription:"åå»ç©ºç½å¤æ¾ç½®æ°èç¹ã",addEdge:"æ·»å è¿æ¥çº¿",addNode:"æ·»å èç¹",back:"è¿å",close:"éé",createEdgeError:"æ æ³å°è¿æ¥çº¿è¿æ¥å°ç¾¤éã",del:"å é¤éå®",deleteClusterError:"æ æ³å é¤ç¾¤éã",edgeDescription:"åå»æä¸ªèç¹å¹¶å°è¯¥è¿æ¥çº¿æå¨å°å¦ä¸ä¸ªèç¹ä»¥è¿æ¥å®ä»¬ã",edit:"ç¼è¾",editClusterError:"æ æ³ç¼è¾ç¾¤éã",editEdge:"ç¼è¾è¿æ¥çº¿",editEdgeDescription:"åå»æ§å¶èç¹å¹¶å°å®ä»¬æå°èç¹ä¸è¿æ¥ã",editNode:"ç¼è¾èç¹"},PG={addDescription:"KÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ»ÑÐ½Ðµ Ð¼ÑÑÑÐµ, ÑÐ¾Ð± Ð´Ð¾Ð´Ð°ÑÐ¸ Ð½Ð¾Ð²Ð¸Ð¹ Ð²ÑÐ·Ð¾Ð».",addEdge:"ÐÐ¾Ð´Ð°ÑÐ¸ ÐºÑÐ°Ð¹",addNode:"ÐÐ¾Ð´Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÐ¸ÑÐ¸",createEdgeError:"ÐÐµ Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ Ð¾Ð±'ÑÐ´Ð½Ð°ÑÐ¸ ÐºÑÐ°Ñ Ð² Ð³ÑÑÐ¿Ñ.",del:"ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¾Ð±ÑÐ°Ð½Ðµ",deleteClusterError:"ÐÑÑÐ¿Ð¸ Ð½Ðµ Ð¼Ð¾Ð¶ÑÑÑ Ð±ÑÑÐ¸ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ñ.",edgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ·Ð¾Ð» Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÐºÑÐ°Ð¹ Ð´Ð¾ ÑÐ½ÑÐ¾Ð³Ð¾ Ð²ÑÐ·Ð»Ð°, ÑÐ¾Ð± ÑÑ Ð·'ÑÐ´Ð½Ð°ÑÐ¸.",edit:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸",editClusterError:"ÐÑÑÐ¿Ð¸ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°Ð³ÑÐ²Ð°Ð½Ð½Ñ.",editEdge:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ ÐºÑÐ°Ð¹",editEdgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½Ñ ÑÐ¾ÑÐºÐ¸ Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÑÑ Ñ Ð²ÑÐ·Ð¾Ð», ÑÐ¾Ð± Ð¿ÑÐ´ÐºÐ»ÑÑÐ¸ÑÐ¸ÑÑ Ð´Ð¾ Ð½ÑÐ¾Ð³Ð¾.",editNode:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»"},RG={addDescription:"Cliquez dans un endroit vide pour placer un nÅud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nÅud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crÃ©er un lien vers un cluster.",del:"Effacer la sÃ©lection",deleteClusterError:"Les clusters ne peuvent pas Ãªtre effacÃ©s.",edgeDescription:"Cliquez sur un nÅud et glissez le lien vers un autre nÅud pour les connecter.",edit:"Ãditer",editClusterError:"Les clusters ne peuvent pas Ãªtre Ã©ditÃ©s.",editEdge:"Ãditer le lien",editEdgeDescription:"Cliquez sur les points de contrÃ´le et glissez-les pour connecter un nÅud.",editNode:"Ãditer le nÅud"},qG={addDescription:"KluknutÃ­m do prÃ¡zdnÃ©ho prostoru mÅ¯Å¾ete pÅidat novÃ½ vrchol.",addEdge:"PÅidat hranu",addNode:"PÅidat vrchol",back:"ZpÄt",close:"ZavÅÃ­t",createEdgeError:"Nelze pÅipojit hranu ke shluku.",del:"Smazat vÃ½bÄr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"PÅetaÅ¾enÃ­m z jednoho vrcholu do druhÃ©ho mÅ¯Å¾ete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"PÅetaÅ¾enÃ­m kontrolnÃ­ho vrcholu hrany ji mÅ¯Å¾ete pÅipojit k jinÃ©mu vrcholu.",editNode:"Upravit vrchol"};var CG=Object.freeze({__proto__:null,cn:TG,cs:qG,de:wG,en:_G,es:EG,fr:RG,it:SG,nl:OG,pt:IG,ru:$G,uk:PG});function xG(n,e){try{const[r,i]=e.split(/[-_ /]/,2),s=r!=null?r.toLowerCase():null,o=i!=null?i.toUpperCase():null;if(s&&o){const a=s+"-"+o;if(Object.prototype.hasOwnProperty.call(n,a))return a;var t;console.warn(rU(t="Unknown variant ".concat(o," of language ")).call(t,s,"."))}if(s){const a=s;if(Object.prototype.hasOwnProperty.call(n,a))return a;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(r){return console.error(r),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class DG{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,t=this.image.height;this.width=e,this.height=t;const r=Math.floor(t/2),i=Math.floor(t/4),s=Math.floor(t/8),o=Math.floor(t/16),a=Math.floor(e/2),u=Math.floor(e/4),l=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*u,this.canvas.height=r,this.coordinates=[[0,0,a,r],[a,0,u,i],[a,i,l,s],[5*l,i,d,o]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(let r=1;r<this.NUM_ITERATIONS;r++){const i=this.coordinates[r-1],s=this.coordinates[r];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,t,r,i,s,o){if(this.initialized())if(t>2){t*=.5;let a=0;for(;t>2&&a<this.NUM_ITERATIONS;)t*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);const u=this.coordinates[a];e.drawImage(this.canvas,u[0],u[1],u[2],u[3],r,i,s,o)}else e.drawImage(this.image,r,i,s,o)}}class AG{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,t,r){if(!(e===void 0||r===void 0)){if(t===void 0){console.warn("No broken url image defined");return}r.image.onerror=()=>{console.error("Could not load brokenImage:",t)},r.image.src=t}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,t){const r=this.images[e];if(r)return r;const i=new DG;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,t,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var ix={},nx={},Jp={exports:{}},Zp,sx;function MG(){if(sx)return Zp;sx=1;var n=te();return Zp=n(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Zp}var Qp,ox;function FG(){if(ox)return Qp;ox=1;var n=te(),e=ze(),t=kt(),r=MG(),i=Object.isExtensible,s=n(function(){});return Qp=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,Qp}var eg,ax;function jk(){if(ax)return eg;ax=1;var n=te();return eg=!n(function(){return Object.isExtensible(Object.preventExtensions({}))}),eg}var ux;function Do(){if(ux)return Jp.exports;ux=1;var n=z(),e=re(),t=hs(),r=ze(),i=Ue(),s=yt().f,o=To(),a=fb(),u=FG(),l=_o(),d=jk(),c=!1,h=l("meta"),f=0,v=function(m){s(m,h,{value:{objectID:"O"+f++,weakData:{}}})},g=function(m,w){if(!r(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!i(m,h)){if(!u(m))return"F";if(!w)return"E";v(m)}return m[h].objectID},b=function(m,w){if(!i(m,h)){if(!u(m))return!0;if(!w)return!1;v(m)}return m[h].weakData},y=function(m){return d&&c&&u(m)&&!i(m,h)&&v(m),m},p=function(){S.enable=function(){},c=!0;var m=o.f,w=e([].splice),O={};O[h]=1,m(O).length&&(o.f=function(I){for(var _=m(I),E=0,$=_.length;E<$;E++)if(_[E]===h){w(_,E,1);break}return _},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},S=Jp.exports={enable:p,fastKey:g,getWeakData:b,onFreeze:y};return t[h]=!0,Jp.exports}var tg,lx;function NG(){if(lx)return tg;lx=1;var n=De(),e=sn(),t=n("iterator"),r=Array.prototype;return tg=function(i){return i!==void 0&&(e.Array===i||r[t]===i)},tg}var rg,dx;function Lk(){if(dx)return rg;dx=1;var n=nn(),e=nb(),t=Ki(),r=sn(),i=De(),s=i("iterator");return rg=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[n(o)]},rg}var ig,cx;function kG(){if(cx)return ig;cx=1;var n=at(),e=tr(),t=Bt(),r=Ji(),i=Lk(),s=TypeError;return ig=function(o,a){var u=arguments.length<2?i(o):a;if(e(u))return t(n(u,o));throw new s(r(o)+" is not iterable")},ig}var ng,hx;function Rb(){if(hx)return ng;hx=1;var n=at(),e=Bt(),t=nb();return ng=function(r,i,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(i==="throw")throw s;return s}o=n(o,r)}catch(u){a=!0,o=u}if(i==="throw")throw s;if(a)throw o;return e(o),s},ng}var sg,fx;function Ao(){if(fx)return sg;fx=1;var n=Eo(),e=at(),t=Bt(),r=Ji(),i=NG(),s=rr(),o=xe(),a=kG(),u=Lk(),l=Rb(),d=TypeError,c=function(f,v){this.stopped=f,this.result=v},h=c.prototype;return sg=function(f,v,g){var b=g&&g.that,y=!!(g&&g.AS_ENTRIES),p=!!(g&&g.IS_RECORD),S=!!(g&&g.IS_ITERATOR),m=!!(g&&g.INTERRUPTED),w=n(v,b),O,I,_,E,$,T,P,R=function(M){return O&&l(O,"normal"),new c(!0,M)},C=function(M){return y?(t(M),m?w(M[0],M[1],R):w(M[0],M[1])):m?w(M,R):w(M)};if(p)O=f.iterator;else if(S)O=f;else{if(I=u(f),!I)throw new d(r(f)+" is not iterable");if(i(I)){for(_=0,E=s(f);E>_;_++)if($=C(f[_]),$&&o(h,$))return $;return new c(!1)}O=a(f,I)}for(T=p?f.next:O.next;!(P=e(T,O)).done;){try{$=C(P.value)}catch(M){l(O,"throw",M)}if(typeof $=="object"&&$&&o(h,$))return $}return new c(!1)},sg}var og,vx;function qb(){if(vx)return og;vx=1;var n=xe(),e=TypeError;return og=function(t,r){if(n(r,t))return t;throw new e("Incorrect invocation")},og}var ag,px;function Cb(){if(px)return ag;px=1;var n=z(),e=ge(),t=Do(),r=te(),i=en(),s=Ao(),o=qb(),a=Le(),u=ze(),l=Ki(),d=oi(),c=yt().f,h=wr().forEach,f=$e(),v=ai(),g=v.set,b=v.getterFor;return ag=function(y,p,S){var m=y.indexOf("Map")!==-1,w=y.indexOf("Weak")!==-1,O=m?"set":"add",I=e[y],_=I&&I.prototype,E={},$;if(!f||!a(I)||!(w||_.forEach&&!r(function(){new I().entries().next()})))$=S.getConstructor(p,y,m,O),t.enable();else{$=p(function(R,C){g(o(R,T),{type:y,collection:new I}),l(C)||s(C,R[O],{that:R,AS_ENTRIES:m})});var T=$.prototype,P=b(y);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var C=R==="add"||R==="set";R in _&&!(w&&R==="clear")&&i(T,R,function(M,K){var L=P(this).collection;if(!C&&w&&!u(M))return R==="get"?void 0:!1;var J=L[R](M===0?0:M,K);return C?this:J})}),w||c(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d($,y,!1,!0),E[y]=$,n({global:!0,forced:!0},E),w||S.setStrong($,y,m),$},ag}var ug,gx;function xb(){if(gx)return ug;gx=1;var n=gs();return ug=function(e,t,r){for(var i in t)r&&r.unsafe&&e[i]?e[i]=t[i]:n(e,i,t[i],r);return e},ug}var lg,yx;function BG(){if(yx)return lg;yx=1;var n=lt(),e=vb(),t=De(),r=$e(),i=t("species");return lg=function(s){var o=n(s);r&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},lg}var dg,mx;function zk(){if(mx)return dg;mx=1;var n=ps(),e=vb(),t=xb(),r=Eo(),i=qb(),s=Ki(),o=Ao(),a=gb(),u=yb(),l=BG(),d=$e(),c=Do().fastKey,h=ai(),f=h.set,v=h.getterFor;return dg={getConstructor:function(g,b,y,p){var S=g(function(_,E){i(_,m),f(_,{type:b,index:n(null),first:null,last:null,size:0}),d||(_.size=0),s(E)||o(E,_[p],{that:_,AS_ENTRIES:y})}),m=S.prototype,w=v(b),O=function(_,E,$){var T=w(_),P=I(_,E),R,C;return P?P.value=$:(T.last=P={index:C=c(E,!0),key:E,value:$,previous:R=T.last,next:null,removed:!1},T.first||(T.first=P),R&&(R.next=P),d?T.size++:_.size++,C!=="F"&&(T.index[C]=P)),_},I=function(_,E){var $=w(_),T=c(E),P;if(T!=="F")return $.index[T];for(P=$.first;P;P=P.next)if(P.key===E)return P};return t(m,{clear:function(){for(var E=this,$=w(E),T=$.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;$.first=$.last=null,$.index=n(null),d?$.size=0:E.size=0},delete:function(_){var E=this,$=w(E),T=I(E,_);if(T){var P=T.next,R=T.previous;delete $.index[T.index],T.removed=!0,R&&(R.next=P),P&&(P.previous=R),$.first===T&&($.first=P),$.last===T&&($.last=R),d?$.size--:E.size--}return!!T},forEach:function(E){for(var $=w(this),T=r(E,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:$.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(E){return!!I(this,E)}}),t(m,y?{get:function(E){var $=I(this,E);return $&&$.value},set:function(E,$){return O(this,E===0?0:E,$)}}:{add:function(E){return O(this,E=E===0?0:E,E)}}),d&&e(m,"size",{configurable:!0,get:function(){return w(this).size}}),S},setStrong:function(g,b,y){var p=b+" Iterator",S=v(b),m=v(p);a(g,b,function(w,O){f(this,{type:p,target:w,state:S(w),kind:O,last:null})},function(){for(var w=m(this),O=w.kind,I=w.last;I&&I.removed;)I=I.previous;return!w.target||!(w.last=I=I?I.next:w.state.first)?(w.target=null,u(void 0,!0)):u(O==="keys"?I.key:O==="values"?I.value:[I.key,I.value],!1)},y?"entries":"values",!y,!0),l(b)}},dg}var bx;function jG(){if(bx)return nx;bx=1;var n=Cb(),e=zk();return n("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),nx}var _x;function LG(){return _x||(_x=1,jG()),ix}var wx={},cg,Ex;function Wk(){return Ex||(Ex=1,cg=function(n,e){return e===1?function(t,r){return t[n](r)}:function(t,r,i){return t[n](r,i)}}),cg}var hg,Sx;function zG(){if(Sx)return hg;Sx=1;var n=lt(),e=Wk(),t=n("Map");return hg={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},hg}var Ox;function WG(){if(Ox)return wx;Ox=1;var n=z(),e=re(),t=tr(),r=er(),i=Ao(),s=zG(),o=Zi(),a=te(),u=s.Map,l=s.has,d=s.get,c=s.set,h=e([].push),f=o||a(function(){return u.groupBy("ab",function(v){return v}).get("a").length!==1});return n({target:"Map",stat:!0,forced:o||f},{groupBy:function(g,b){r(g),t(b);var y=new u,p=0;return i(g,function(S){var m=b(S,p++);l(y,m)?h(d(y,m),S):c(y,m,[S])}),y}}),wx}var Ix={},fg,$x;function HG(){if($x)return fg;$x=1;var n=re(),e=tn(),t=mt(),r=er(),i=n("".charAt),s=n("".charCodeAt),o=n("".slice),a=function(u){return function(l,d){var c=t(r(l)),h=e(d),f=c.length,v,g;return h<0||h>=f?u?"":void 0:(v=s(c,h),v<55296||v>56319||h+1===f||(g=s(c,h+1))<56320||g>57343?u?i(c,h):v:u?o(c,h,h+2):(v-55296<<10)+(g-56320)+65536)}};return fg={codeAt:a(!1),charAt:a(!0)},fg}var Tx;function Db(){if(Tx)return Ix;Tx=1;var n=HG().charAt,e=mt(),t=ai(),r=gb(),i=yb(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(u){o(this,{type:s,string:e(u),index:0})},function(){var l=a(this),d=l.string,c=l.index,h;return c>=d.length?i(void 0,!0):(h=n(d,c),l.index+=h.length,i(h,!1))}),Ix}var vg,Px;function UG(){if(Px)return vg;Px=1,on(),LG(),WG(),Db();var n=oe();return vg=n.Map,vg}var pg,Rx;function VG(){if(Rx)return pg;Rx=1;var n=UG();return an(),pg=n,pg}var gg,qx;function GG(){return qx||(qx=1,gg=VG()),gg}var KG=GG(),Ab=G(KG);class YG{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Pe(this.options,this.defaultOptions)}setOptions(e){const t=["useDefaultGroups"];if(e!==void 0){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&ne(t).call(t,r)===-1){const i=e[r];this.add(r,i)}}}clear(){this._groups=new Ab,this._groupNames=[]}get(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this._groups.get(e);if(r===void 0&&t)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,r={},r.color=this._groups.get(this._groupNames[i]),this._groups.set(e,r)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,r={},r.color=this._defaultGroups[i],this._groups.set(e,r)}return r}add(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}var Cx={},xx;function XG(){if(xx)return Cx;xx=1;var n=z();return n({target:"Number",stat:!0},{isNaN:function(t){return t!==t}}),Cx}var yg,Dx;function JG(){if(Dx)return yg;Dx=1,XG();var n=oe();return yg=n.Number.isNaN,yg}var mg,Ax;function ZG(){if(Ax)return mg;Ax=1;var n=JG();return mg=n,mg}var bg,Mx;function QG(){return Mx||(Mx=1,bg=ZG()),bg}var eK=QG(),qm=G(eK),Fx={},_g,Nx;function tK(){if(Nx)return _g;Nx=1;var n=ge(),e=n.isFinite;return _g=Number.isFinite||function(r){return typeof r=="number"&&e(r)},_g}var kx;function rK(){if(kx)return Fx;kx=1;var n=z(),e=tK();return n({target:"Number",stat:!0},{isFinite:e}),Fx}var wg,Bx;function iK(){if(Bx)return wg;Bx=1,rK();var n=oe();return wg=n.Number.isFinite,wg}var Eg,jx;function nK(){if(jx)return Eg;jx=1;var n=iK();return Eg=n,Eg}var Sg,Lx;function sK(){return Lx||(Lx=1,Sg=nK()),Sg}var oK=sK(),Mr=G(oK),zx={},Wx;function aK(){if(Wx)return zx;Wx=1;var n=z(),e=wr().some,t=un(),r=t("some");return n({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),zx}var Og,Hx;function uK(){if(Hx)return Og;Hx=1,aK();var n=Ve();return Og=n("Array","some"),Og}var Ig,Ux;function lK(){if(Ux)return Ig;Ux=1;var n=xe(),e=uK(),t=Array.prototype;return Ig=function(r){var i=r.some;return r===t||n(t,r)&&i===t.some?e:i},Ig}var $g,Vx;function dK(){if(Vx)return $g;Vx=1;var n=lK();return $g=n,$g}var Tg,Gx;function cK(){return Gx||(Gx=1,Tg=dK()),Tg}var hK=cK(),fK=G(hK),Pg={exports:{}},Kx={},Yx;function vK(){if(Yx)return Kx;Yx=1;var n=z(),e=$e(),t=yt().f;return n({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),Kx}var Xx;function pK(){if(Xx)return Pg.exports;Xx=1,vK();var n=oe(),e=n.Object,t=Pg.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(t.sham=!0),Pg.exports}var Rg,Jx;function Hk(){if(Jx)return Rg;Jx=1;var n=pK();return Rg=n,Rg}var qg,Zx;function gK(){if(Zx)return qg;Zx=1;var n=Hk();return qg=n,qg}var Cg,Qx;function yK(){if(Qx)return Cg;Qx=1;var n=gK();return Cg=n,Cg}var xg,eD;function mK(){return eD||(eD=1,xg=yK()),xg}var bK=mK(),_K=G(bK),tD={},rD;function wK(){if(rD)return tD;rD=1;var n=De(),e=yt().f,t=n("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),tD}var iD={},nD;function EK(){return nD||(nD=1,VN()),iD}var sD={},oD;function SK(){return oD||(oD=1,GN()),sD}var aD={},uD;function OK(){if(uD)return aD;uD=1;var n=_e();return n("metadata"),aD}var Dg,lD;function IK(){if(lD)return Dg;lD=1;var n=ZN();return wK(),EK(),SK(),OK(),Dg=n,Dg}var dD={},Ag,cD;function Uk(){if(cD)return Ag;cD=1;var n=lt(),e=re(),t=n("Symbol"),r=t.keyFor,i=e(t.prototype.valueOf);return Ag=t.isRegisteredSymbol||function(o){try{return r(i(o))!==void 0}catch{return!1}},Ag}var hD;function $K(){if(hD)return dD;hD=1;var n=z(),e=Uk();return n({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),dD}var fD={},Mg,vD;function Vk(){if(vD)return Mg;vD=1;for(var n=Qi(),e=lt(),t=re(),r=cs(),i=De(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),u=t(s.prototype.valueOf),l=n("wks"),d=0,c=a(s),h=c.length;d<h;d++)try{var f=c[d];r(s[f])&&i(f)}catch{}return Mg=function(g){if(o&&o(g))return!0;try{for(var b=u(g),y=0,p=a(l),S=p.length;y<S;y++)if(l[p[y]]==b)return!0}catch{}return!1},Mg}var pD;function TK(){if(pD)return fD;pD=1;var n=z(),e=Vk();return n({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),fD}var gD={},yD;function PK(){if(yD)return gD;yD=1;var n=_e();return n("customMatcher"),gD}var mD={},bD;function RK(){if(bD)return mD;bD=1;var n=_e();return n("observable"),mD}var _D={},wD;function qK(){if(wD)return _D;wD=1;var n=z(),e=Uk();return n({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),_D}var ED={},SD;function CK(){if(SD)return ED;SD=1;var n=z(),e=Vk();return n({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),ED}var OD={},ID;function xK(){if(ID)return OD;ID=1;var n=_e();return n("matcher"),OD}var $D={},TD;function DK(){if(TD)return $D;TD=1;var n=_e();return n("metadataKey"),$D}var PD={},RD;function AK(){if(RD)return PD;RD=1;var n=_e();return n("patternMatch"),PD}var qD={},CD;function MK(){if(CD)return qD;CD=1;var n=_e();return n("replaceAll"),qD}var Fg,xD;function FK(){if(xD)return Fg;xD=1;var n=IK();return $K(),TK(),PK(),RK(),qK(),CK(),xK(),DK(),AK(),MK(),Fg=n,Fg}var Ng,DD;function NK(){return DD||(DD=1,Ng=FK()),Ng}var kK=NK(),Fs=G(kK),kg,AD;function BK(){if(AD)return kg;AD=1,on(),Db(),KN();var n=Po();return kg=n.f("iterator"),kg}var Bg,MD;function jK(){if(MD)return Bg;MD=1;var n=BK();return an(),Bg=n,Bg}var jg,FD;function LK(){if(FD)return jg;FD=1;var n=jK();return jg=n,jg}var Lg,ND;function zK(){if(ND)return Lg;ND=1;var n=LK();return Lg=n,Lg}var zg,kD;function WK(){return kD||(kD=1,zg=zK()),zg}var HK=WK(),UK=G(HK);function Hn(n){"@babel/helpers - typeof";return Hn=typeof Fs=="function"&&typeof UK=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Fs=="function"&&e.constructor===Fs&&e!==Fs.prototype?"symbol":typeof e},Hn(n)}var Wg,BD;function VK(){if(BD)return Wg;BD=1,YN();var n=Po();return Wg=n.f("toPrimitive"),Wg}var Hg,jD;function GK(){if(jD)return Hg;jD=1;var n=VK();return Hg=n,Hg}var Ug,LD;function KK(){if(LD)return Ug;LD=1;var n=GK();return Ug=n,Ug}var Vg,zD;function YK(){if(zD)return Vg;zD=1;var n=KK();return Vg=n,Vg}var Gg,WD;function XK(){return WD||(WD=1,Gg=YK()),Gg}var JK=XK(),ZK=G(JK);function QK(n,e){if(Hn(n)!="object"||!n)return n;var t=n[ZK];if(t!==void 0){var r=t.call(n,e);if(Hn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function e4(n){var e=QK(n,"string");return Hn(e)=="symbol"?e:e+""}function zt(n,e,t){return(e=e4(e))in n?_K(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var HD={},Kg,UD;function t4(){if(UD)return Kg;UD=1;var n=ge(),e=te(),t=re(),r=mt(),i=ek().trim,s=mb(),o=t("".charAt),a=n.parseFloat,u=n.Symbol,l=u&&u.iterator,d=1/a(s+"-0")!==-1/0||l&&!e(function(){a(Object(l))});return Kg=d?function(h){var f=i(r(h)),v=a(f);return v===0&&o(f,0)==="-"?-0:v}:a,Kg}var VD;function r4(){if(VD)return HD;VD=1;var n=z(),e=t4();return n({global:!0,forced:parseFloat!==e},{parseFloat:e}),HD}var Yg,GD;function i4(){if(GD)return Yg;GD=1,r4();var n=oe();return Yg=n.parseFloat,Yg}var Xg,KD;function n4(){if(KD)return Xg;KD=1;var n=i4();return Xg=n,Xg}var Jg,YD;function s4(){return YD||(YD=1,Jg=n4()),Jg}var o4=s4(),Gk=G(o4),XD={},JD;function a4(){if(JD)return XD;JD=1;var n=z(),e=te(),t=fb().f,r=e(function(){return!Object.getOwnPropertyNames(1)});return n({target:"Object",stat:!0,forced:r},{getOwnPropertyNames:t}),XD}var Zg,ZD;function u4(){if(ZD)return Zg;ZD=1,a4();var n=oe(),e=n.Object;return Zg=function(r){return e.getOwnPropertyNames(r)},Zg}var Qg,QD;function l4(){if(QD)return Qg;QD=1;var n=u4();return Qg=n,Qg}var ey,eA;function d4(){return eA||(eA=1,ey=l4()),ey}var c4=d4(),h4=G(c4),ty,tA;function f4(){if(tA)return ty;tA=1,UN();var n=oe();return ty=n.Object.getOwnPropertySymbols,ty}var ry,rA;function v4(){if(rA)return ry;rA=1;var n=f4();return ry=n,ry}var iy,iA;function p4(){return iA||(iA=1,iy=v4()),iy}var g4=p4(),vr=G(g4),ny={exports:{}},nA={},sA;function y4(){if(sA)return nA;sA=1;var n=z(),e=te(),t=Rt(),r=wo().f,i=$e(),s=!i||e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,u){return r(t(a),u)}}),nA}var oA;function m4(){if(oA)return ny.exports;oA=1,y4();var n=oe(),e=n.Object,t=ny.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),ny.exports}var sy,aA;function b4(){if(aA)return sy;aA=1;var n=m4();return sy=n,sy}var oy,uA;function _4(){return uA||(uA=1,oy=b4()),oy}var w4=_4(),Er=G(w4),lA={},dA;function E4(){if(dA)return lA;dA=1;var n=z(),e=$e(),t=G3(),r=Rt(),i=wo(),s=Io();return n({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var u=r(a),l=i.f,d=t(u),c={},h=0,f,v;d.length>h;)v=l(u,f=d[h++]),v!==void 0&&s(c,f,v);return c}}),lA}var ay,cA;function S4(){if(cA)return ay;cA=1,E4();var n=oe();return ay=n.Object.getOwnPropertyDescriptors,ay}var uy,hA;function O4(){if(hA)return uy;hA=1;var n=S4();return uy=n,uy}var ly,fA;function I4(){return fA||(fA=1,ly=O4()),ly}var $4=I4(),pr=G($4),dy={exports:{}},vA={},pA;function T4(){if(pA)return vA;pA=1;var n=z(),e=$e(),t=hb().f;return n({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),vA}var gA;function P4(){if(gA)return dy.exports;gA=1,T4();var n=oe(),e=n.Object,t=dy.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(t.sham=!0),dy.exports}var cy,yA;function R4(){if(yA)return cy;yA=1;var n=P4();return cy=n,cy}var hy,mA;function q4(){return mA||(mA=1,hy=R4()),hy}var C4=q4(),Mo=G(C4),fy,bA;function x4(){return bA||(bA=1,fy=Hk()),fy}var D4=x4(),Fo=G(D4);function Mb(n,e){const t=["node","edge","label"];let r=!0;const i=nr(e,"chosen");if(typeof i=="boolean")r=i;else if(typeof i=="object"){if(ne(t).call(t,n)===-1)throw new Error("choosify: subOption '"+n+"' should be one of '"+t.join("', '")+"'");const s=nr(e,["chosen",n]);(typeof s=="boolean"||typeof s=="function")&&(r=s)}return r}function Cm(n,e,t){if(n.width<=0||n.height<=0)return!1;if(t!==void 0){const s={x:e.x-t.x,y:e.y-t.y};if(t.angle!==0){const o=-t.angle;e={x:Math.cos(o)*s.x-Math.sin(o)*s.y,y:Math.sin(o)*s.x+Math.cos(o)*s.y}}else e=s}const r=n.x+n.width,i=n.y+n.width;return n.left<e.x&&r>e.x&&n.top<e.y&&i>e.y}function Qs(n){return typeof n=="string"&&n!==""}function Kk(n,e,t,r){let i=r.x,s=r.y;if(typeof r.distanceToBorder=="function"){const o=r.distanceToBorder(n,e),a=Math.sin(e)*o,u=Math.cos(e)*o;u===o?(i+=o,s=r.y):a===o?(i=r.x,s-=o):(i+=u,s-=a)}else r.shape.width>r.shape.height?(i=r.x+r.shape.width*.5,s=r.y-t):(i=r.x+t,s=r.y-r.shape.height*.5);return{x:i,y:s}}var vy,_A;function A4(){if(_A)return vy;_A=1,on();var n=Ve();return vy=n("Array","values"),vy}var py,wA;function M4(){if(wA)return py;wA=1;var n=A4();return py=n,py}var gy,EA;function F4(){if(EA)return gy;EA=1,an();var n=nn(),e=Ue(),t=xe(),r=M4(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return gy=function(o){var a=o.values;return o===i||t(i,o)&&a===i.values||e(s,n(o))?r:a},gy}var yy,SA;function N4(){return SA||(SA=1,yy=F4()),yy}var k4=N4(),Yk=G(k4);class B4{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=t;(t===void 0||t==="")&&(i=" ");const s=this.measureText(i,r),o=Pe({},Yk(s));o.text=t,o.width=s.width,o.mod=r,(t===void 0||t==="")&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t)}newLine(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const t=this.lines[e];let r=0;if(t.blocks!==void 0)for(let i=0;i<t.blocks.length;i++){const s=t.blocks[i];r<s.height&&(r=s.height)}t.height=r}}determineLabelSize(){let e=0,t=0;for(let r=0;r<this.lines.length;r++){const i=this.lines[r];i.width>e&&(e=i.width),t+=i.height}this.width=e,this.height=t}removeEmptyBlocks(){const e=[];for(let t=0;t<this.lines.length;t++){const r=this.lines[t];if(r.blocks.length===0||t===this.lines.length-1&&r.width===0)continue;const i={};Pe(i,r),i.blocks=[];let s;const o=[];for(let a=0;a<r.blocks.length;a++){const u=r.blocks[a];u.width!==0?o.push(u):s===void 0&&(s=u)}o.length===0&&s!==void 0&&o.push(s),i.blocks=o,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const j4={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class OA{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,t){return!this.mono&&!this[e]&&this.match(t)?(this.setTag(e),!0):!1}match(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[r,i]=this.prepareRegExp(e),s=r.test(this.text.substr(this.position,i));return s&&t&&(this.position+=i-1),s}parseEndTag(e,t,r){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(t)?(r!==void 0?(this.position===this.text.length-1||this.match(r,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,t){return this.match(e)?(this.add(t),this.position+=length-1,!0):!1}prepareRegExp(e){let t,r;if(e instanceof RegExp)r=e,t=1;else{const i=j4[e];i!==void 0?r=i:r=new RegExp(e),t=e.length}return[r,t]}}class L4{constructor(e,t,r,i){this.ctx=e,this.parent=t,this.selected=r,this.hover=i;const s=(o,a)=>{if(o===void 0)return 0;const u=this.parent.getFormattingValues(e,r,i,a);let l=0;return o!==""&&(l=this.ctx.measureText(o).width),{width:l,values:u}};this.lines=new B4(s)}process(e){if(!Qs(e))return this.lines.finalize();const t=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const r=String(e).split(`
`),i=r.length;if(t.multi)for(let s=0;s<i;s++){const o=this.splitBlocks(r[s],t.multi);if(o!==void 0){if(o.length===0){this.lines.newLine("");continue}if(t.maxWdt>0)for(let a=0;a<o.length;a++){const u=o[a].mod,l=o[a].text;this.splitStringIntoLines(l,u,!0)}else for(let a=0;a<o.length;a++){const u=o[a].mod,l=o[a].text;this.lines.append(l,u)}this.lines.newLine()}}else if(t.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(r[s]);else for(let s=0;s<i;s++)this.lines.newLine(r[s]);return this.lines.finalize()}decodeMarkupSystem(e){let t="none";return e==="markdown"||e==="md"?t="markdown":(e===!0||e==="html")&&(t="html"),t}splitHtmlBlocks(e){const t=new OA(e),r=i=>/&/.test(i)?(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0):!1;for(;t.position<t.text.length;){const i=t.text.charAt(t.position);t.parseWS(i)||/</.test(i)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||r(i)||t.add(i),t.position++}return t.emitBlock(),t.blocks}splitMarkdownBlocks(e){const t=new OA(e);let r=!0;const i=s=>/\\/.test(s)?(t.position<this.text.length+1&&(t.position++,s=this.text.charAt(t.position),/ \t/.test(s)?t.spacing=!0:(t.add(s),r=!1)),!0):!1;for(;t.position<t.text.length;){const s=t.text.charAt(t.position);t.parseWS(s)||i(s)||(r||t.spacing)&&(t.parseStartTag("bold","*")||t.parseStartTag("ital","_")||t.parseStartTag("mono","`"))||t.parseEndTag("bold","*","afterBold")||t.parseEndTag("ital","_","afterItal")||t.parseEndTag("mono","`","afterMono")||(t.add(s),r=!1),t.position++}return t.emitBlock(),t.blocks}splitBlocks(e,t){const r=this.decodeMarkupSystem(t);if(r==="none")return[{text:e,mod:"normal"}];if(r==="markdown")return this.splitMarkdownBlocks(e);if(r==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}getLongestFit(e){let t="",r=0;for(;r<e.length;){const s=t+(t===""?"":" ")+e[r];if(this.overMaxWidth(s))break;t=s,r++}return r}getLongestFitWord(e){let t=0;for(;t<e.length&&!this.overMaxWidth(Ct(e).call(e,0,t));)t++;return t}splitStringIntoLines(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const o=i[0],a=this.getLongestFitWord(o);this.lines.newLine(Ct(o).call(o,0,a),t),i[0]=Ct(o).call(o,a)}else{let o=s;i[s-1]===" "?s--:i[o]===" "&&o++;const a=Ct(i).call(i,0,s).join("");s==i.length&&r?this.lines.append(a,t):this.lines.newLine(a,t),i=Ct(i).call(i,o)}}}}const Sn=["bold","ital","boldital","mono"];class Ti{constructor(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Qs(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const t=e.font.size;t!==void 0&&(this.baseSize=t)}}}initFontOptions(e){if(Z(Sn,t=>{this.fontOptions[t]={}}),Ti.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}Z(e,(t,r)=>{t!=null&&typeof t!="object"&&(this.fontOptions[r]=t)})}static parseFontString(e,t){if(!t||typeof t!="string")return!1;const r=t.split(" ");return e.size=+r[0].replace("px",""),e.face=r[1],e.color=r[2],!0}constrain(e){const t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},r=nr(e,"widthConstraint");if(typeof r=="number")t.maxWdt=Number(r),t.minWdt=Number(r);else if(typeof r=="object"){const s=nr(e,["widthConstraint","maximum"]);typeof s=="number"&&(t.maxWdt=Number(s));const o=nr(e,["widthConstraint","minimum"]);typeof o=="number"&&(t.minWdt=Number(o))}const i=nr(e,"heightConstraint");if(typeof i=="number")t.minHgt=Number(i);else if(typeof i=="object"){const s=nr(e,["heightConstraint","minimum"]);typeof s=="number"&&(t.minHgt=Number(s));const o=nr(e,["heightConstraint","valign"]);typeof o=="string"&&(o==="top"||o==="bottom")&&(t.valign=o)}return t}update(e,t){this.setOptions(e,!0),this.propagateFonts(t),he(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=Mb("label",t)}adjustSizes(e){const t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);const r=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=r)}addFontOptionsToPile(e,t){for(let r=0;r<t.length;++r)this.addFontToPile(e,t[r])}addFontToPile(e,t){if(t===void 0||t.font===void 0||t.font===null)return;const r=t.font;e.push(r)}getBasicOptions(e){const t={};for(let r=0;r<e.length;++r){let i=e[r];const s={};Ti.parseFontString(s,i)&&(i=s),Z(i,(o,a)=>{o!==void 0&&(Object.prototype.hasOwnProperty.call(t,a)||(ne(Sn).call(Sn,a)!==-1?t[a]={}:t[a]=o))})}return t}getFontOption(e,t,r){let i;for(let s=0;s<e.length;++s){const o=e[s];if(Object.prototype.hasOwnProperty.call(o,t)){if(i=o[t],i==null)continue;const a={};if(Ti.parseFontString(a,i)&&(i=a),Object.prototype.hasOwnProperty.call(i,r))return i[r]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,r))return this.fontOptions[r];throw new Error("Did not find value for multi-font for property: '"+r+"'")}getFontOptions(e,t){const r={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const o=i[s];r[o]=this.getFontOption(e,t,o)}return r}propagateFonts(e){const t=[];this.addFontOptionsToPile(t,e),this.fontOptions=this.getBasicOptions(t);for(let r=0;r<Sn.length;++r){const i=Sn[r],s=this.fontOptions[i],o=this.getFontOptions(t,i);Z(o,(a,u)=>{s[u]=a}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,t,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,t,r,o),this._drawBackground(e),this._drawText(e,t,this.size.yLine,o,a))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}_drawText(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[t,r]=this._setAlignment(e,t,r,i),e.textAlign="left",t=t-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(r-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(r+=(this.size.height-this.size.labelHeight)/2));for(let o=0;o<this.lineCount;o++){const a=this.lines[o];if(a&&a.blocks){let u=0;this.isEdgeLabel||this.fontOptions.align==="center"?u+=(this.size.width-a.width)/2:this.fontOptions.align==="right"&&(u+=this.size.width-a.width);for(let l=0;l<a.blocks.length;l++){const d=a.blocks[l];e.font=d.font;const[c,h]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=h,e.lineJoin="round"),e.fillStyle=c,d.strokeWidth>0&&e.strokeText(d.text,t+u,r+d.vadjust),e.fillText(d.text,t+u,r+d.vadjust),u+=d.width}r+=a.height}}}_setAlignment(e,t,r,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){t=0,r=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",r-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",r+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[t,r]}_getColor(e,t,r){let i=e||"#000000",s=r||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){const o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));i=ht(i,o),s=ht(s,o)}return[i,s]}getTextSize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,t,r),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let t=this.size.left,r=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":t=s,r=-this.size.height*.5;break;case"top":t=s,r=-(this.size.height+2);break;case"bottom":t=s,r=2;break}}return{left:t,top:r,width:this.size.width,height:this.size.height}}calculateLabelSize(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,t,r),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,o==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,t,r,i){const s=function(u,l,d){return l==="normal"?d==="mod"?"":u[d]:u[l][d]!==void 0?u[l][d]:u[d]},o={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||r)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?o.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(o,this.elementOptions.id,t,r));let a="";return o.mod!==void 0&&o.mod!==""&&(a+=o.mod+" "),a+=o.size+"px "+o.face,e.font=a.replace(/"/g,""),o.font=e.font,o.height=o.size,o}differentState(e,t){return e!==this.selectedState||t!==this.hoverState}_processLabelText(e,t,r,i){return new L4(e,this,t,r).process(i)}_processLabel(e,t,r){if(this.labelDirty===!1&&!this.differentState(t,r))return;const i=this._processLabelText(e,t,r,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=t,this.hoverState=r,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class li{constructor(e,t,r){this.body=t,this.labelModule=r,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,t){const r=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}enableShadow(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,t){if(t.borderDashes!==!1)if(e.setLineDash!==void 0){let r=t.borderDashes;r===!0&&(r=[5,15]),e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}disableBorderDashes(e,t){t.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}needsRefresh(e,t){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,t)}initContextForDraw(e,t){const r=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,r),e.strokeStyle=t.borderColor,e.fillStyle=t.color}performStroke(e,t){const r=t.borderWidth/this.body.view.scale;e.save(),r>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}performFill(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),ms(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,t,r,i,s){r!==void 0&&this.resize(r,i,s),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,t,r,i,s){this._updateBoundingBox(e,t,r,i,s)}getDimensionsFromLabel(e,t,r){this.textSize=this.labelModule.getTextSize(e,t,r);let i=this.textSize.width,s=this.textSize.height;const o=14;return i===0&&(i=o,s=o),{width:i,height:s}}}let z4=class extends li{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const i=this.getDimensionsFromLabel(e,t,r);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,o),AN(e,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(t,r,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,t,r,i,s){this._updateBoundingBox(e,t,r,i,s);const o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}distanceToBorder(e,t){e&&this.resize(e);const r=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}};class Fb extends li{constructor(e,t,r){super(e,t,r),this.labelOffset=0,this.selected=!1}setOptions(e,t,r){this.options=e,t===void 0&&r===void 0||this.setImages(t,r)}setImages(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}switchImages(e){const t=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&t){const r=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=r}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const t=this.options.imagePadding;typeof t=="object"?(e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left):(e.top=t,e.right=t,e.bottom=t,e.left=t)}return e}_resizeImage(){let e,t;if(this.options.shapeProperties.useImageSize===!1){let r=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?r=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*r,t=this.options.size*2*i}else{const r=this._getImagePadding();e=this.imageObj.width+r.left+r.right,t=this.imageObj.height+r.top+r.bottom}this.width=e,this.height=t,this.radius=.5*this.width}_drawRawCircle(e,t,r,i){this.initContextForDraw(e,i),lb(e,t,r,i.size),this.performFill(e,i)}_drawImageAtPosition(e,t){if(this.imageObj.width!=0){e.globalAlpha=t.opacity!==void 0?t.opacity:1,this.enableShadow(e,t);let r=1;this.options.shapeProperties.interpolation===!0&&(r=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,o=this.top+i.top,a=this.width-i.left-i.right,u=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,r,s,o,a,u),this.disableShadow(e,t)}}_drawImageLabel(e,t,r,i,s){let o=0;if(this.height!==void 0){o=this.height*.5;const u=this.labelModule.getTextSize(e,i,s);u.lineCount>=1&&(o+=u.height/2)}const a=r+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(e,t,a,i,s,"hanging")}}let W4=class extends Fb{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const i=this.getDimensionsFromLabel(e,t,r),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width/2,this.top=r-this.height/2,this._drawRawCircle(e,t,r,o),this.updateBoundingBox(t,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,r,i,s)}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class H4 extends Fb{constructor(e,t,r,i,s){super(e,t,r),this.setImages(i,s)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,i,s,o){this.switchImages(i),this.resize();let a=t,u=r;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,u+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this._drawRawCircle(e,a,u,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,a,u,i,s),this.updateBoundingBox(t,r)}updateBoundingBox(e,t){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=t,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=t+this.options.size*2):(this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class Sr extends li{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,r)){var s,o;this.labelModule.getTextSize(e,t,r);const a=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:a,this.height=(o=this.customSizeHeight)!==null&&o!==void 0?o:a,this.radius=.5*this.width}}_drawShape(e,t,r,i,s,o,a,u){return this.resize(e,o,a,u),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,u),o3(t)(e,i,s,u.size),this.performFill(e,u),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,o,a,i,s,"hanging");const l=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,l,o,a,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function IA(n,e){var t=Ee(n);if(vr){var r=vr(n);e&&(r=rt(r).call(r,function(i){return Er(n,i).enumerable})),t.push.apply(t,r)}return t}function U4(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?le(t=IA(Object(i),!0)).call(t,function(s){zt(n,s,i[s])}):pr?Mo(n,pr(i)):le(r=IA(Object(i))).call(r,function(s){Fo(n,s,Er(i,s))})}return n}class V4 extends Sr{constructor(e,t,r,i){super(e,t,r,i),this.ctxRenderer=i}draw(e,t,r,i,s,o){this.resize(e,i,s,o),this.left=t-this.width/2,this.top=r-this.height/2,e.save();const a=this.ctxRenderer({ctx:e,id:this.options.id,x:t,y:r,state:{selected:i,hover:s},style:U4({},o),label:this.options.label});if(a.drawNode!=null&&a.drawNode(),e.restore(),a.drawExternalLabel){const u=a.drawExternalLabel;a.drawExternalLabel=()=>{e.save(),u(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class G4 extends li{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){if(this.needsRefresh(t,r)){const s=this.getDimensionsFromLabel(e,t,r).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,o),MN(e,t-this.width/2,r-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,r,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let K4=class extends Sr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"diamond",4,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class Y4 extends Sr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"circle",2,t,r,i,s,o)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class $A extends li{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const i=this.getDimensionsFromLabel(e,t,r);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width*.5,this.top=r-this.height*.5,this.initContextForDraw(e,o),wm(e,this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,r,e,i,s),this.labelModule.draw(e,t,r,i,s)}distanceToBorder(e,t){e&&this.resize(e);const r=this.width*.5,i=this.height*.5,s=Math.sin(t)*r,o=Math.cos(t)*i;return r*i/Math.sqrt(s*s+o*o)}}class X4 extends li{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,i,s,o){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=r-this.height/2,this._icon(e,t,r,i,s,o),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,r+this.height/2+5,i),this.updateBoundingBox(t,r)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=t+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,t,r,i,s,o){const a=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,t,r),this.disableShadow(e,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let J4=class extends Fb{constructor(e,t,r,i,s){super(e,t,r),this.setImages(i,s)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,i,s,o){e.save(),this.switchImages(i),this.resize();let a=t,u=r;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,u+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const l=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,c=(i?d:l)/this.body.view.scale;e.lineWidth=Math.min(this.width,c),e.beginPath();let h=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,f=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;o.opacity!==void 0&&(h=ht(h,o.opacity),f=ht(f,o.opacity)),e.strokeStyle=h,e.fillStyle=f,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),ms(e).call(e),this.performStroke(e,o),e.closePath()}this._drawImageAtPosition(e,o),this._drawImageLabel(e,a,u,i,s),this.updateBoundingBox(t,r),e.restore()}updateBoundingBox(e,t){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=t):(this.left=e-this.width/2,this.top=t-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class Z4 extends Sr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"square",2,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class Q4 extends Sr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"hexagon",4,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class e6 extends Sr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"star",4,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class t6 extends li{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.textSize=this.labelModule.getTextSize(e,t,r),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width/2,this.top=r-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,o),this.updateBoundingBox(t,r,e,i,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let r6=class extends Sr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"triangle",3,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class i6 extends Sr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"triangleDown",3,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}function TA(n,e){var t=Ee(n);if(vr){var r=vr(n);e&&(r=rt(r).call(r,function(i){return Er(n,i).enumerable})),t.push.apply(t,r)}return t}function PA(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?le(t=TA(Object(i),!0)).call(t,function(s){zt(n,s,i[s])}):pr?Mo(n,pr(i)):le(r=TA(Object(i))).call(r,function(s){Fo(n,s,Er(i,s))})}return n}class pe{constructor(e,t,r,i,s,o){this.options=cr(s),this.globalOptions=s,this.defaultOptions=o,this.body=t,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Ti(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var t;ne(t=this.edges).call(t,e)===-1&&this.edges.push(e)}detachEdge(e){var t;const r=ne(t=this.edges).call(t,e);if(r!=-1){var i;Vt(i=this.edges).call(i,r,1)}}setOptions(e){const t=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");pe.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=It(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=It(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=Gk(e.value)),pe.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const r=[e,this.options,this.defaultOptions];return this.chooser=Mb("node",r),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&pe.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,t,r){var i;if(r===void 0)return;const s=e.group;if(t!==void 0&&t.group!==void 0&&s!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const a=r.get(s);a.opacity!==void 0&&t.opacity===void 0&&(pe.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));const u=rt(i=h4(t)).call(i,l=>t[l]!=null);u.push("font"),Js(u,e,a),e.color=$m(e.color)}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(Js(["color","fixed","shadow"],e,t,r),pe.checkMass(t),e.opacity!==void 0&&(pe.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),t.opacity!==void 0&&(pe.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!pe.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),ct(e,t,"shadow",i),t.color!==void 0&&t.color!==null){const a=$m(t.color);Pk(e.color,a)}else r===!0&&t.color===null&&(e.color=cr(i.color));t.fixed!==void 0&&t.fixed!==null&&(typeof t.fixed=="boolean"?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(t.fixed.x!==void 0&&typeof t.fixed.x=="boolean"&&(e.fixed.x=t.fixed.x),t.fixed.y!==void 0&&typeof t.fixed.y=="boolean"&&(e.fixed.y=t.fixed.y))),r===!0&&t.font===null&&(e.font=cr(i.font)),pe.updateGroupOptions(e,t,s),t.scaling!==void 0&&ct(e.scaling,t.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const t=this.options.opacity;e.borderColor=ht(e.borderColor,t),e.color=ht(e.color,t),e.shadowColor=ht(e.shadowColor,t)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),pe.updateGroupOptions(this.options,PA(PA({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const t=this.grouplist.get(this.options.group,!1),r=[e,this.options,t,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new z4(this.options,this.body,this.labelModule);break;case"circle":this.shape=new W4(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new H4(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new V4(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new G4(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new K4(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Y4(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new $A(this.options,this.body,this.labelModule);break;case"icon":this.shape=new X4(this.options,this.body,this.labelModule);break;case"image":this.shape=new J4(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Z4(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Q4(this.options,this.body,this.labelModule);break;case"star":this.shape=new e6(this.options,this.body,this.labelModule);break;case"text":this.shape=new t6(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new r6(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new i6(this.options,this.body,this.labelModule);break;default:this.shape=new $A(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,t){return this.shape.distanceToBorder(e,t)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,t,r){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}getItemsOnPoint(e){const t=[];return this.labelModule.visible()&&Cm(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),Cm(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,t){if(e.mass!==void 0&&e.mass<=0){let r="";t!==void 0&&(r=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+r+", setting mass to 1.",xk),e.mass=1}}}class n6{constructor(e,t,r,i){var s;if(this.body=e,this.images=t,this.groups=r,this.layoutEngine=i,this.body.functions.createNode=D(s=this.create).call(s,this),this.nodesListeners={add:(o,a)=>{this.add(a.items)},update:(o,a)=>{this.update(a.items,a.data,a.oldData)},remove:(o,a)=>{this.remove(a.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,a,u,l){if(a===o)return .5;{const d=1/(a-o);return Math.max(0,(l-o)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=cr(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,t;this.body.emitter.on("refreshNodes",D(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",D(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",()=>{Z(this.nodesListeners,(r,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,r)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(pe.parseOptions(this.options,e),e.opacity!==void 0&&(qm(e.opacity)||!Mr(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const t of Ee(this.body.nodes))this.body.nodes[t].updateLabelModule(),this.body.nodes[t].needsRefresh();if(e.size!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.nodes;if($N("id",e))this.body.data.nodes=e;else if(Se(e))this.body.data.nodes=new Vs,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Vs;else throw new TypeError("Array or DataSet expected");if(r&&Z(this.nodesListeners,function(i,s){r.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;Z(this.nodesListeners,function(o,a){i.body.data.nodes.on(a,o)});const s=this.body.data.nodes.getIds();this.add(s,!0)}t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;const i=[];for(let s=0;s<e.length;s++){r=e[s];const o=this.body.data.nodes.get(r),a=this.create(o);i.push(a),this.body.nodes[r]=a}this.layoutEngine.positionInitially(i),t===!1&&this.body.emitter.emit("_dataChanged")}update(e,t,r){const i=this.body.nodes;let s=!1;for(let o=0;o<e.length;o++){const a=e[o];let u=i[a];const l=t[o];u!==void 0?u.setOptions(l)&&(s=!0):(s=!0,u=this.create(l),i[a]=u)}!s&&r!==void 0&&(s=fK(t).call(t,function(o,a){const u=r[a];return u&&u.level!==o.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const t=this.body.nodes;for(let r=0;r<e.length;r++){const i=e[r];delete t[i]}this.body.emitter.emit("_dataChanged")}create(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pe;return new t(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Z(this.body.nodes,(t,r)=>{const i=this.body.data.nodes.get(r);i!==void 0&&(e===!0&&t.setOptions({x:null,y:null}),t.setOptions({fixed:!1}),t.setOptions(i))})}getPositions(e){const t={};if(e!==void 0){if(Se(e)===!0){for(let r=0;r<e.length;r++)if(this.body.nodes[e[r]]!==void 0){const i=this.body.nodes[e[r]];t[e[r]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];t[e]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(let r=0;r<this.body.nodeIndices.length;r++){const i=this.body.nodes[this.body.nodeIndices[r]];t[this.body.nodeIndices[r]]={x:Math.round(i.x),y:Math.round(i.y)}}return t}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],t=this.body.data.nodes.getDataSet();for(const r of t.get()){const i=r.id,s=this.body.nodes[i],o=Math.round(s.x),a=Math.round(s.y);(r.x!==o||r.y!==a)&&e.push({id:i,x:o,y:a})}t.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,t){const r=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let o=0;o<i.edges.length;o++){const a=i.edges[o];t!=="to"&&a.toId==i.id?s[a.fromId]===void 0&&(r.push(a.fromId),s[a.fromId]=!0):t!=="from"&&a.fromId==i.id&&s[a.toId]===void 0&&(r.push(a.toId),s[a.toId]=!0)}}return r}getConnectedEdges(e){const t=[];if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];for(let i=0;i<r.edges.length;i++)t.push(r.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}moveNode(e,t,r){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(r),Gt(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var RA={},qA;function s6(){if(qA)return RA;qA=1;var n=z(),e=Math.hypot,t=Math.abs,r=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return n({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(o,a){for(var u=0,l=0,d=arguments.length,c=0,h,f;l<d;)h=t(arguments[l++]),c<h?(f=c/h,u=u*f*f+1,c=h):h>0?(f=h/c,u+=f*f):u+=h;return c===1/0?1/0:c*r(u)}}),RA}var my,CA;function o6(){if(CA)return my;CA=1,s6();var n=oe();return my=n.Math.hypot,my}var by,xA;function a6(){if(xA)return by;xA=1;var n=o6();return by=n,by}var _y,DA;function u6(){return DA||(DA=1,_y=a6()),_y}var l6=u6(),d6=G(l6);class Ie{static transform(e,t){Se(e)||(e=[e]);const r=t.point.x,i=t.point.y,s=t.angle,o=t.length;for(let a=0;a<e.length;++a){const u=e[a],l=u.x*Math.cos(s)-u.y*Math.sin(s),d=u.x*Math.sin(s)+u.y*Math.cos(s);u.x=r+o*l,u.y=i+o*d}}static drawPath(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length;++r)e.lineTo(t[r].x,t[r].y);e.closePath()}}let c6=class extends Ie{static draw(e,t){if(t.image){e.save(),e.translate(t.point.x,t.point.y),e.rotate(Math.PI/2+t.angle);const r=t.imageWidth!=null?t.imageWidth:t.image.width,i=t.imageHeight!=null?t.imageHeight:t.image.height;t.image.drawImageAtPosition(e,1,-r/2,0,r,i),e.restore()}return!1}};class h6 extends Ie{static draw(e,t){const r=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class f6{static draw(e,t){const r=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class v6{static draw(e,t){const r={x:-.4,y:0};Ie.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=t.angle-i/2,o=t.angle+i/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,s,o,!1),e.stroke(),!0}}class p6{static draw(e,t){const r={x:-.3,y:0};Ie.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=t.angle+i/2,o=t.angle+3*i/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,s,o,!1),e.stroke(),!0}}class g6{static draw(e,t){const r=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class y6{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class m6{static draw(e,t){const r={x:-.4,y:0};return Ie.transform(r,t),lb(e,r.x,r.y,t.length*.4),!0}}class b6{static draw(e,t){const r=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class _6{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class w6{static draw(e,t){const r=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class E6{static draw(e,t){const r=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class Xk{static draw(e,t){let r;switch(t.type&&(r=t.type.toLowerCase()),r){case"image":return c6.draw(e,t);case"circle":return m6.draw(e,t);case"box":return _6.draw(e,t);case"crow":return f6.draw(e,t);case"curve":return v6.draw(e,t);case"diamond":return w6.draw(e,t);case"inv_curve":return p6.draw(e,t);case"triangle":return g6.draw(e,t);case"inv_triangle":return y6.draw(e,t);case"bar":return b6.draw(e,t);case"vee":return E6.draw(e,t);case"arrow":default:return h6.draw(e,t)}}}function AA(n,e){var t=Ee(n);if(vr){var r=vr(n);e&&(r=rt(r).call(r,function(i){return Er(n,i).enumerable})),t.push.apply(t,r)}return t}function MA(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?le(t=AA(Object(i),!0)).call(t,function(s){zt(n,s,i[s])}):pr?Mo(n,pr(i)):le(r=AA(Object(i))).call(r,function(s){Fo(n,s,Er(i,s))})}return n}class Jk{constructor(e,t,r){zt(this,"color",{}),zt(this,"colorDirty",!0),zt(this,"hoverWidth",1.5),zt(this,"selectionWidth",2),this._body=t,this._labelModule=r,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,t,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,t.dashes!==!1?this._drawDashedLine(e,t,s):this._drawLine(e,t,s)}_drawLine(e,t,r,i,s){if(this.from!=this.to)this._line(e,t,r,i,s);else{const[o,a,u]=this._getCircleData(e);this._circle(e,t,o,a,u)}}_drawDashedLine(e,t,r,i,s){e.lineCap="round";const o=Se(t.dashes)?t.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,r);else{const[a,u,l]=this._getCircleData(e);this._circle(e,t,a,u,l)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)FN(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{const[a,u,l]=this._getCircleData(e);this._circle(e,t,a,u,l)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}findBorderPosition(e,t,r){return this.from!=this.to?this._findBorderPosition(e,t,r):this._findBorderPositionCircle(e,t,r)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var t;const[r,i]=Ct(t=this._getCircleData(e)).call(t,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const t=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const r=Kk(e,this.options.selfReference.angle,t,this.from);return[r.x,r.y,t]}_pointOnCircle(e,t,r,i){const s=i*2*Math.PI;return{x:e+r*Math.cos(s),y:t-r*Math.sin(s)}}_findBorderPositionCircle(e,t,r){const i=r.x,s=r.y;let o=r.low,a=r.high;const u=r.direction,l=10,d=this.options.selfReference.size,c=.05;let h,f=(o+a)*.5,v=0;this.options.arrowStrikethrough===!0&&(u===-1?v=this.options.endPointOffset.from:u===1&&(v=this.options.endPointOffset.to));let g=0;do{f=(o+a)*.5,h=this._pointOnCircle(i,s,d,f);const b=Math.atan2(e.y-h.y,e.x-h.x),y=e.distanceToBorder(t,b)+v,p=Math.sqrt(Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2)),S=y-p;if(Math.abs(S)<c)break;S>0?u>0?o=f:a=f:u>0?a=f:o=f,++g}while(o<=a&&g<l);return MA(MA({},h),{},{t:f})}getLineWidth(e,t){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):t===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,t){if(t.inheritsColor!==!1){if(t.inheritsColor==="both"&&this.from.id!==this.to.id){const r=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=ht(this.from.options.color.border,t.opacity),s=ht(this.to.options.color.border,t.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),r.addColorStop(0,i),r.addColorStop(1,s),r}return t.inheritsColor==="to"?ht(this.to.options.color.border,t.opacity):ht(this.from.options.color.border,t.opacity)}else return ht(t.color,t.opacity)}_circle(e,t,r,i,s){this.enableShadow(e,t);let o=0,a=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const u=this.options.selfReference.angle,l=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:u,high:l,direction:-1}),c=this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:u,high:l,direction:1});o=Math.atan2(d.y-i,d.x-r),a=Math.atan2(c.y-i,c.x-r)}e.beginPath(),e.arc(r,i,s,o,a,!1),e.stroke(),this.disableShadow(e,t)}getDistanceToEdge(e,t,r,i,s,o){if(this.from!=this.to)return this._getDistanceToEdge(e,t,r,i,s,o);{const[a,u,l]=this._getCircleData(void 0),d=a-s,c=u-o;return Math.abs(Math.sqrt(d*d+c*c)-l)}}_getDistanceToLine(e,t,r,i,s,o){const a=r-e,u=i-t,l=a*a+u*u;let d=((s-e)*a+(o-t)*u)/l;d>1?d=1:d<0&&(d=0);const c=e+d*a,h=t+d*u,f=c-s,v=h-o;return Math.sqrt(f*f+v*v)}getArrowData(e,t,r,i,s,o){let a,u,l,d,c,h,f;const v=o.width;t==="from"?(l=this.from,d=this.to,c=o.fromArrowScale<0,h=Math.abs(o.fromArrowScale),f=o.fromArrowType):t==="to"?(l=this.to,d=this.from,c=o.toArrowScale<0,h=Math.abs(o.toArrowScale),f=o.toArrowType):(l=this.to,d=this.from,c=o.middleArrowScale<0,h=Math.abs(o.middleArrowScale),f=o.middleArrowType);const g=15*h+3*v;if(l!=d){const S=d6(l.x-d.x,l.y-d.y),m=g/S;if(t!=="middle")if(this.options.smooth.enabled===!0){const w=this._findBorderPosition(l,e,{via:r}),O=this.getPoint(w.t+m*(t==="from"?1:-1),r);a=Math.atan2(w.y-O.y,w.x-O.x),u=w}else a=Math.atan2(l.y-d.y,l.x-d.x),u=this._findBorderPosition(l,e);else{const w=(c?-m:m)/2,O=this.getPoint(.5+w,r),I=this.getPoint(.5-w,r);a=Math.atan2(O.y-I.y,O.x-I.x),u=this.getPoint(.5,r)}}else{const[S,m,w]=this._getCircleData(e);if(t==="from"){const O=this.options.selfReference.angle,I=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,e,{x:S,y:m,low:O,high:I,direction:-1});a=_.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,u=_}else if(t==="to"){const O=this.options.selfReference.angle,I=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,e,{x:S,y:m,low:O,high:I,direction:1});a=_.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,u=_}else{const O=this.options.selfReference.angle/(2*Math.PI);u=this._pointOnCircle(S,m,w,O),a=O*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const b=u.x-g*.9*Math.cos(a),y=u.y-g*.9*Math.sin(a);return{point:u,core:{x:b,y},angle:a,length:g,type:f}}drawArrowHead(e,t,r,i,s){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,Xk.draw(e,s)&&(this.enableShadow(e,t),ms(e).call(e),this.disableShadow(e,t))}enableShadow(e,t){t.shadow===!0&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,t){if(t.background!==!1){const r={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=r.strokeStyle,e.lineWidth=r.lineWidth,e.dashes=r.dashes,this.setStrokeDashed(e,t.dashes)}}setStrokeDashed(e,t){if(t!==!1)if(e.setLineDash!==void 0){const r=Se(t)?t:[5,5];e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function FA(n,e){var t=Ee(n);if(vr){var r=vr(n);e&&(r=rt(r).call(r,function(i){return Er(n,i).enumerable})),t.push.apply(t,r)}return t}function NA(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?le(t=FA(Object(i),!0)).call(t,function(s){zt(n,s,i[s])}):pr?Mo(n,pr(i)):le(r=FA(Object(i))).call(r,function(s){Fo(n,s,Er(i,s))})}return n}class Nb extends Jk{constructor(e,t,r){super(e,t,r)}_findBorderPositionBezier(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let o=!1,a=1,u=0,l=this.to,d,c,h=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(l=this.from,o=!0,h=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(h=0);let f=0;do{c=(u+a)*.5,d=this.getPoint(c,r);const v=Math.atan2(l.y-d.y,l.x-d.x),g=l.distanceToBorder(t,v)+h,b=Math.sqrt(Math.pow(d.x-l.x,2)+Math.pow(d.y-l.y,2)),y=g-b;if(Math.abs(y)<s)break;y<0?o===!1?u=c:a=c:o===!1?a=c:u=c,++f}while(u<=a&&f<i);return NA(NA({},d),{},{t:c})}_getDistanceToBezierEdge(e,t,r,i,s,o,a){let u=1e9,l,d,c,h,f,v=e,g=t;for(d=1;d<10;d++)c=.1*d,h=Math.pow(1-c,2)*e+2*c*(1-c)*a.x+Math.pow(c,2)*r,f=Math.pow(1-c,2)*t+2*c*(1-c)*a.y+Math.pow(c,2)*i,d>0&&(l=this._getDistanceToLine(v,g,h,f,s,o),u=l<u?l:u),v=h,g=f;return u}_bezierCurve(e,t,r,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),r!=null&&r.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(r.x,r.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(r.x,r.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,t),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){return this._getViaCoordinates()}}class kA extends Nb{constructor(e,t,r){super(e,t,r),zt(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),t===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,t=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,t,r){this._bezierCurve(e,t,r)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[r,i,s]=this._getCircleData(),o=2*Math.PI*(1-e);return{x:r+s*Math.sin(o),y:i+s-s*(1-Math.cos(o))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*t.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*t.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t,this.via)}_getDistanceToEdge(e,t,r,i,s,o){return this._getDistanceToBezierEdge(e,t,r,i,s,o,this.via)}}class BA extends Nb{constructor(e,t,r){super(e,t,r)}_line(e,t,r){this._bezierCurve(e,t,r)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,t=this.options.smooth.type;let r=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(t==="discrete"||t==="diagonalCross"){let s,o;r<=i?s=o=e*i:s=o=e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,u=this.from.y+o;return t==="discrete"&&(r<=i?a=r<e*i?this.from.x:a:u=i<e*r?this.from.y:u),{x:a,y:u}}else if(t==="straightCross"){let s=(1-e)*r,o=(1-e)*i;return r<=i?(s=0,this.from.y<this.to.y&&(o=-o)):(this.from.x<this.to.x&&(s=-s),o=0),{x:this.to.x+s,y:this.to.y+o}}else if(t==="horizontal"){let s=(1-e)*r;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(t==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(t==="curvedCW"){r=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(r*r+i*i),o=Math.PI,u=(Math.atan2(i,r)+(e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else if(t==="curvedCCW"){r=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(r*r+i*i),o=Math.PI,u=(Math.atan2(i,r)+(-e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else{let s,o;r<=i?s=o=e*i:s=o=e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,u=this.from.y+o;return r<=i?this.from.x<=this.to.x?a=this.to.x<a?this.to.x:a:a=this.to.x>a?this.to.x:a:this.from.y>=this.to.y?u=this.to.y>u?this.to.y:u:u=this.to.y<u?this.to.y:u,{x:a,y:u}}}_findBorderPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,t,r.via)}_getDistanceToEdge(e,t,r,i,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,r,i,s,o,a)}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const r=e,i=Math.pow(1-r,2)*this.fromPoint.x+2*r*(1-r)*t.x+Math.pow(r,2)*this.toPoint.x,s=Math.pow(1-r,2)*this.fromPoint.y+2*r*(1-r)*t.y+Math.pow(r,2)*this.toPoint.y;return{x:i,y:s}}}class S6 extends Nb{constructor(e,t,r){super(e,t,r)}_getDistanceToBezierEdge2(e,t,r,i,s,o,a,u){let l=1e9,d=e,c=t;const h=[0,0,0,0];for(let f=1;f<10;f++){const v=.1*f;h[0]=Math.pow(1-v,3),h[1]=3*v*Math.pow(1-v,2),h[2]=3*Math.pow(v,2)*(1-v),h[3]=Math.pow(v,3);const g=h[0]*e+h[1]*a.x+h[2]*u.x+h[3]*r,b=h[0]*t+h[1]*a.y+h[2]*u.y+h[3]*i;if(f>0){const y=this._getDistanceToLine(d,c,g,b,s,o);l=y<l?y:l}d=g,c=b}return l}}class jA extends S6{constructor(e,t,r){super(e,t,r)}_line(e,t,r){const i=r[0],s=r[1];this._bezierCurve(e,t,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,t=this.from.y-this.to.y;let r,i,s,o;const a=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(t)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,o=this.to.y,r=this.from.x-a*e,s=this.to.x+a*e):(i=this.from.y-a*t,o=this.to.y+a*t,r=this.from.x,s=this.to.x),[{x:r,y:i},{x:s,y:o}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t)}_getDistanceToEdge(e,t,r,i,s,o){let[a,u]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,t,r,i,s,o,a,u)}getPoint(e){let[t,r]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],o=s[0]*this.fromPoint.x+s[1]*t.x+s[2]*r.x+s[3]*this.toPoint.x,a=s[0]*this.fromPoint.y+s[1]*t.y+s[2]*r.y+s[3]*this.toPoint.y;return{x:o,y:a}}}class LA extends Jk{constructor(e,t,r){super(e,t,r)}_line(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,t){let r=this.to,i=this.from;e.id===this.from.id&&(r=this.from,i=this.to);const s=Math.atan2(r.y-i.y,r.x-i.x),o=r.x-i.x,a=r.y-i.y,u=Math.sqrt(o*o+a*a),l=e.distanceToBorder(t,s),d=(u-l)/u;return{x:(1-d)*i.x+d*r.x,y:(1-d)*i.y+d*r.y,t:0}}_getDistanceToEdge(e,t,r,i,s,o){return this._getDistanceToLine(e,t,r,i,s,o)}}class hr{constructor(e,t,r,i,s){if(t===void 0)throw new Error("No body provided");this.options=cr(i),this.globalOptions=i,this.defaultOptions=s,this.body=t,this.imagelist=r,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Ti(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let t=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;hr.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=Gk(e.value));const r=[e,this.options,this.defaultOptions];return this.chooser=Mb("edge",r),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(dn(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,r),t.endPointOffset!==void 0&&t.endPointOffset.from!==void 0&&(Mr(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),t.endPointOffset!==void 0&&t.endPointOffset.to!==void 0&&(Mr(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Qs(t.label)?e.label=t.label:Qs(e.label)||(e.label=void 0),ct(e,t,"smooth",i),ct(e,t,"shadow",i),ct(e,t,"background",i),t.dashes!==void 0&&t.dashes!==null?e.dashes=t.dashes:r===!0&&t.dashes===null&&(e.dashes=Br(i.dashes)),t.scaling!==void 0&&t.scaling!==null?(t.scaling.min!==void 0&&(e.scaling.min=t.scaling.min),t.scaling.max!==void 0&&(e.scaling.max=t.scaling.max),ct(e.scaling,t.scaling,"label",i.scaling)):r===!0&&t.scaling===null&&(e.scaling=Br(i.scaling)),t.arrows!==void 0&&t.arrows!==null)if(typeof t.arrows=="string"){const a=t.arrows.toLowerCase();e.arrows.to.enabled=ne(a).call(a,"to")!=-1,e.arrows.middle.enabled=ne(a).call(a,"middle")!=-1,e.arrows.from.enabled=ne(a).call(a,"from")!=-1}else if(typeof t.arrows=="object")ct(e.arrows,t.arrows,"to",i.arrows),ct(e.arrows,t.arrows,"middle",i.arrows),ct(e.arrows,t.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+ys(t.arrows));else r===!0&&t.arrows===null&&(e.arrows=Br(i.arrows));if(t.color!==void 0&&t.color!==null){const a=Ii(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,u=e.color;if(s)he(u,i.color,!1,r);else for(const l in u)Object.prototype.hasOwnProperty.call(u,l)&&delete u[l];if(Ii(u))u.color=u,u.highlight=u,u.hover=u,u.inherit=!1,a.opacity===void 0&&(u.opacity=1);else{let l=!1;a.color!==void 0&&(u.color=a.color,l=!0),a.highlight!==void 0&&(u.highlight=a.highlight,l=!0),a.hover!==void 0&&(u.hover=a.hover,l=!0),a.inherit!==void 0&&(u.inherit=a.inherit),a.opacity!==void 0&&(u.opacity=Math.min(1,Math.max(0,a.opacity))),l===!0?u.inherit=!1:u.inherit===void 0&&(u.inherit="from")}}else r===!0&&t.color===null&&(e.color=cr(i.color));r===!0&&t.font===null&&(e.font=cr(i.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,t=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,r=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:r,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const o=this.options.selectionWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const o=this.options.hoverWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let t=!1,r=!0;return this.edgeType!==void 0&&((this.edgeType instanceof kA&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof jA&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof BA&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof LA&&e.type.enabled===!1)&&(r=!1),r===!0&&(t=this.cleanup())),r===!0?e.enabled===!0?e.type==="dynamic"?(t=!0,this.edgeType=new kA(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new jA(this.options,this.body,this.labelModule):this.edgeType=new BA(this.options,this.body,this.labelModule):this.edgeType=new LA(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,t,r){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,r),this.drawLabel(e,r)}drawArrows(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),t.fromArrowSrc&&(i.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(i.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(i.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),t.toArrowSrc&&(i.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(i.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(i.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",r,this.selected,this.hover,t),t.middleArrowSrc&&(i.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(i.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(i.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.to)}drawLabel(e,t){if(this.options.label!==void 0){const r=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(r.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,t),e.save();const o=this._getRotation(e);o.angle!=0&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const o=Kk(e,this.options.selfReference.angle,this.options.selfReference.size,r);s=this._pointOnCircle(o.x,o.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const t=[];if(this.labelModule.visible()){const i=this._getRotation();Cm(this.labelModule.getSize(),e,i)&&t.push({edgeId:this.id,labelId:0})}const r={left:e.x,top:e.y};return this.isOverlappingWith(r)&&t.push({edgeId:this.id}),t}isOverlappingWith(e){if(this.connected){const r=this.from.x,i=this.from.y,s=this.to.x,o=this.to.y,a=e.left,u=e.top;return this.edgeType.getDistanceToEdge(r,i,s,o,a,u)<10}else return!1}_getRotation(e){const t=this.edgeType.getViaNode(),r=this.edgeType.getPoint(.5,t);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,r.x,r.y);const i={x:r.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,o=this.from.x-this.to.x;let a=Math.atan2(s,o);return(a<-1&&o<0||a>0&&o<0)&&(a+=Math.PI),i.angle=a,i}_pointOnCircle(e,t,r,i){return{x:e+r*Math.cos(i),y:t-r*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class O6{constructor(e,t,r){var i;this.body=e,this.images=t,this.groups=r,this.body.functions.createEdge=D(i=this.create).call(i,this),this.edgesListeners={add:(s,o)=>{this.add(o.items)},update:(s,o)=>{this.update(o.items)},remove:(s,o)=>{this.remove(o.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,o,a,u){if(o===s)return .5;{const l=1/(o-s);return Math.max(0,(u-s)*l)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},he(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,t,r;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let o=!1;for(const a in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,a)){const u=e.body.edges[a],l=e.body.data.edges.get(a);if(l!=null){const d=l.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?u.setOptions({smooth:!1}):u.setOptions({smooth:{type:i}}),o=!0)}}s===!0&&o===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",D(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",D(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{Z(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){hr.parseOptions(this.options,e,!0,this.defaultOptions,!0);let t=!1;if(e.smooth!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&(t=this.body.edges[r].updateEdgeType()||t);if(e.font!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&this.body.edges[r].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||t===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.edges;if($N("id",e))this.body.data.edges=e;else if(Se(e))this.body.data.edges=new Vs,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Vs;else throw new TypeError("Array or DataSet expected");if(r&&Z(this.edgesListeners,(i,s)=>{r.off(s,i)}),this.body.edges={},this.body.data.edges){Z(this.edgesListeners,(s,o)=>{this.body.data.edges.on(o,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const o=e[s],a=r[o];a&&a.disconnect();const u=i.get(o,{showInternalIds:!0});r[o]=this.create(u)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}update(e){const t=this.body.edges,r=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const o=e[s],a=r.get(o),u=t[o];u!==void 0?(u.disconnect(),i=u.setOptions(a)||i,u.connect()):(this.body.edges[o]=this.create(a),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const r=this.body.edges;Z(e,i=>{const s=r[i];s!==void 0&&s.remove()}),t&&this.body.emitter.emit("_dataChanged")}refresh(){Z(this.body.edges,(e,t)=>{const r=this.body.data.edges.get(t);r!==void 0&&e.setOptions(r)})}create(e){return new hr(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const t=this.body.nodes,r=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const i=r[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const t=[];if(this.body.edges[e]!==void 0){const r=this.body.edges[e];r.fromId!==void 0&&t.push(r.fromId),r.toId!==void 0&&t.push(r.toId)}return t}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];Z(this.body.edges,(t,r)=>{const i=this.body.nodes[t.toId],s=this.body.nodes[t.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(r)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const t=this.body.edges,r=[];le(e).call(e,(i,s)=>{t[s]===void 0&&r.push(s)}),this.add(r,!0)}}class Zk{constructor(e,t,r){this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(r),this._rng=xo("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const t=this.body.nodes,r=this.physicsBody.physicsNodeIndices,i=r.length,s=this._formBarnesHutTree(t,r);this.barnesHutTree=s;for(let o=0;o<i;o++)e=t[r[o]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}_getForceContribution(e,t){if(e.childrenCount>0){const r=e.centerOfMass.x-t.x,i=e.centerOfMass.y-t.y,s=Math.sqrt(r*r+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,r,i,t,e):e.childrenCount===4?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(s,r,i,t,e)}}_calculateForces(e,t,r,i,s){e===0&&(e=.1,t=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const o=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),a=t*o,u=r*o;this.physicsBody.forces[i.id].x+=a,this.physicsBody.forces[i.id].y+=u}_formBarnesHutTree(e,t){let r;const i=t.length;let s=e[t[0]].x,o=e[t[0]].y,a=e[t[0]].x,u=e[t[0]].y;for(let b=1;b<i;b++){const y=e[t[b]],p=y.x,S=y.y;y.options.mass>0&&(p<s&&(s=p),p>a&&(a=p),S<o&&(o=S),S>u&&(u=S))}const l=Math.abs(a-s)-Math.abs(u-o);l>0?(o-=.5*l,u+=.5*l):(s+=.5*l,a-=.5*l);const c=Math.max(1e-5,Math.abs(a-s)),h=.5*c,f=.5*(s+a),v=.5*(o+u),g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-h,maxX:f+h,minY:v-h,maxY:v+h},size:c,calcSize:1/c,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(let b=0;b<i;b++)r=e[t[b]],r.options.mass>0&&this._placeInTree(g.root,r);return g}_updateBranchMass(e,t){const r=e.centerOfMass,i=e.mass+t.options.mass,s=1/i;r.x=r.x*e.mass+t.x*t.options.mass,r.x*=s,r.y=r.y*e.mass+t.y*t.options.mass,r.y*=s,e.mass=i;const o=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}_placeInTree(e,t,r){(r!=!0||r===void 0)&&this._updateBranchMass(e,t);const i=e.children.NW.range;let s;i.maxX>t.x?i.maxY>t.y?s="NW":s="SW":i.maxY>t.y?s="NE":s="SE",this._placeInRegion(e,t,s)}_placeInRegion(e,t,r){const i=e.children[r];switch(i.childrenCount){case 0:i.children.data=t,i.childrenCount=1,this._updateBranchMass(i,t);break;case 1:i.children.data.x===t.x&&i.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,t));break;case 4:this._placeInTree(i,t);break}}_splitBranch(e){let t=null;e.childrenCount===1&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),t!=null&&this._placeInTree(e,t)}_insertRegion(e,t){let r,i,s,o;const a=.5*e.size;switch(t){case"NW":r=e.range.minX,i=e.range.minX+a,s=e.range.minY,o=e.range.minY+a;break;case"NE":r=e.range.minX+a,i=e.range.maxX,s=e.range.minY,o=e.range.minY+a;break;case"SW":r=e.range.minX,i=e.range.minX+a,s=e.range.minY+a,o=e.range.maxY;break;case"SE":r=e.range.minX+a,i=e.range.maxX,s=e.range.minY+a,o=e.range.maxY;break}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:r,maxX:i,minY:s,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,t){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}_drawBranch(e,t,r){r===void 0&&(r="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=r,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}class I6{constructor(e,t,r){this._rng=xo("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,i,s,o,a,u;const l=this.body.nodes,d=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,h=this.options.nodeDistance,f=-2/3/h,v=4/3;for(let g=0;g<d.length-1;g++){a=l[d[g]];for(let b=g+1;b<d.length;b++)u=l[d[b]],e=u.x-a.x,t=u.y-a.y,r=Math.sqrt(e*e+t*t),r===0&&(r=.1*this._rng(),e=r),r<2*h&&(r<.5*h?o=1:o=f*r+v,o=o/r,i=e*o,s=t*o,c[a.id].x-=i,c[a.id].y-=s,c[u.id].x+=i,c[u.id].y+=s)}}}class $6{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<t.length-1;s++){const o=e[t[s]];for(let a=s+1;a<t.length;a++){const u=e[t[a]];if(o.level===u.level){const l=i+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(u.shape.radius||0)/2),d=u.x-o.x,c=u.y-o.y,h=Math.sqrt(d*d+c*c),f=.05;let v;h<l?v=-Math.pow(f*h,2)+Math.pow(f*l,2):v=0,h!==0&&(v=v/h);const g=d*v,b=c*v;r[o.id].x-=g,r[o.id].y-=b,r[u.id].x+=g,r[u.id].y+=b}}}}}class wy{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t;const r=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,o,a;for(let u=0;u<r.length;u++)t=i[r[u]],t.connected===!0&&t.toId!==t.fromId&&this.body.nodes[t.toId]!==void 0&&this.body.nodes[t.fromId]!==void 0&&(t.edgeType.via!==void 0?(e=t.options.length===void 0?this.options.springLength:t.options.length,s=t.to,o=t.edgeType.via,a=t.from,this._calculateSpringForce(s,o,.5*e),this._calculateSpringForce(o,a,.5*e)):(e=t.options.length===void 0?this.options.springLength*1.5:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}_calculateSpringForce(e,t,r){const i=e.x-t.x,s=e.y-t.y,o=Math.max(Math.sqrt(i*i+s*s),.01),a=this.options.springConstant*(r-o)/o,u=i*a,l=s*a;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=u,this.physicsBody.forces[e.id].y+=l),this.physicsBody.forces[t.id]!==void 0&&(this.physicsBody.forces[t.id].x-=u,this.physicsBody.forces[t.id].y-=l)}}class T6{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,i,s,o,a,u;const l=this.body.edges,d=.5,c=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces;for(let m=0;m<h.length;m++){const w=h[m];f[w].springFx=0,f[w].springFy=0}for(let m=0;m<c.length;m++)t=l[c[m]],t.connected===!0&&(e=t.options.length===void 0?this.options.springLength:t.options.length,r=t.from.x-t.to.x,i=t.from.y-t.to.y,u=Math.sqrt(r*r+i*i),u=u===0?.01:u,a=this.options.springConstant*(e-u)/u,s=r*a,o=i*a,t.to.level!=t.from.level?(f[t.toId]!==void 0&&(f[t.toId].springFx-=s,f[t.toId].springFy-=o),f[t.fromId]!==void 0&&(f[t.fromId].springFx+=s,f[t.fromId].springFy+=o)):(f[t.toId]!==void 0&&(f[t.toId].x-=d*s,f[t.toId].y-=d*o),f[t.fromId]!==void 0&&(f[t.fromId].x+=d*s,f[t.fromId].y+=d*o)));a=1;let v,g;for(let m=0;m<h.length;m++){const w=h[m];v=Math.min(a,Math.max(-a,f[w].springFx)),g=Math.min(a,Math.max(-a,f[w].springFy)),f[w].x+=v,f[w].y+=g}let b=0,y=0;for(let m=0;m<h.length;m++){const w=h[m];b+=f[w].x,y+=f[w].y}const p=b/h.length,S=y/h.length;for(let m=0;m<h.length;m++){const w=h[m];f[w].x-=p,f[w].y-=S}}}class js{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,i;const s=this.body.nodes,o=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces;for(let u=0;u<o.length;u++){const l=o[u];i=s[l],e=-i.x,t=-i.y,r=Math.sqrt(e*e+t*t),this._calculateForces(r,e,t,a,i)}}_calculateForces(e,t,r,i,s){const o=e===0?0:this.options.centralGravity/e;i[s.id].x=t*o,i[s.id].y=r*o}}class P6 extends Zk{constructor(e,t,r){super(e,t,r),this._rng=xo("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,t,r,i,s){e===0&&(e=.1*this._rng(),t=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const o=i.edges.length+1,a=this.options.gravitationalConstant*s.mass*i.options.mass*o/Math.pow(e,2),u=t*a,l=r*a;this.physicsBody.forces[i.id].x+=u,this.physicsBody.forces[i.id].y+=l}}class R6 extends js{constructor(e,t,r){super(e,t,r)}_calculateForces(e,t,r,i,s){if(e>0){const o=s.edges.length+1,a=this.options.centralGravity*o*s.options.mass;i[s.id].x=t*a,i[s.id].y=r*a}}}class q6{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Pe(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Js(["stabilization"],this.options,e),ct(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const t=this.options.wind;t&&((typeof t.x!="number"||qm(t.x))&&(t.x=0),(typeof t.y!="number"||qm(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new P6(this.body,this.physicsBody,e),this.edgesSolver=new wy(this.body,this.physicsBody,e),this.gravitySolver=new R6(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new I6(this.body,this.physicsBody,e),this.edgesSolver=new wy(this.body,this.physicsBody,e),this.gravitySolver=new js(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new $6(this.body,this.physicsBody,e),this.edgesSolver=new T6(this.body,this.physicsBody,e),this.gravitySolver=new js(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new Zk(this.body,this.physicsBody,e),this.edgesSolver=new wy(this.body,this.physicsBody,e),this.gravitySolver=new js(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=D(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Gs();this.physicsTick(),(Gs()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Gt(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,t=this.body.edges;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[r].id);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&t[r].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(t[r].id);for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const i=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const r in this.physicsBody.velocities)e[r]===void 0&&delete this.physicsBody.velocities[r]}revert(){const e=Ee(this.previousStates),t=this.body.nodes,r=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];t[s]!==void 0?t[s].options.physics===!0&&(this.referenceState[s]={positions:{x:t[s].x,y:t[s].y}},r[s].x=this.previousStates[s].vx,r[s].y=this.previousStates[s].vy,t[s].x=this.previousStates[s].x,t[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,t,r;const i=this.body.nodes,s=this.referenceState,o=.3;for(const a in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,a)&&i[a]!==void 0&&(e=i[a].x-s[a].positions.x,t=i[a].y-s[a].positions.y,r=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),r>o))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let t=0,r=0;const i=5;for(let s=0;s<e.length;s++){const o=e[s],a=this._performStep(o);t=Math.max(t,a),r+=a}this.adaptiveTimestepEnabled=r/e.length<i,this.stabilized=t<this.options.minVelocity}calculateComponentVelocity(e,t,r){const i=this.modelOptions.damping*e,s=(t-i)/r;e+=s*this.timestep;const o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}_performStep(e){const t=this.body.nodes[e],r=this.physicsBody.forces[e];this.options.wind&&(r.x+=this.options.wind.x,r.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:i.x,vy:i.y},t.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,r.x,t.options.mass),t.x+=i.x*this.timestep):(r.x=0,i.x=0),t.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,r.y,t.options.mass),t.y+=i.y*this.timestep):(r.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){const r=e[t].options.fixed;this.freezeCache[t]={x:r.x,y:r.y},r.x=!0,r.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.freezeCache[t]!==void 0&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Gt(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,t=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&t();let r=0;for(;e()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;if(t(),e()){var i;Gt(D(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let t=0;t<this.physicsBody.physicsNodeIndices.length;t++){const r=this.physicsBody.physicsNodeIndices[t],i=this.body.nodes[r],s=this.physicsBody.forces[r],o=20,a=.03,u=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),l=Math.min(Math.max(5,u),15),d=3*l,c=Tm((180-Math.min(1,Math.max(0,a*u))*180)/360,1,1),h={x:i.x+o*s.x,y:i.y+o*s.y};e.lineWidth=l,e.strokeStyle=c,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(h.x,h.y),e.stroke();const f=Math.atan2(s.y,s.x);e.fillStyle=c,Xk.draw(e,{type:"arrow",point:h,angle:f,length:d}),ms(e).call(e)}}}const He=[];for(let n=0;n<256;++n)He.push((n+256).toString(16).slice(1));function C6(n,e=0){return(He[n[e+0]]+He[n[e+1]]+He[n[e+2]]+He[n[e+3]]+"-"+He[n[e+4]]+He[n[e+5]]+"-"+He[n[e+6]]+He[n[e+7]]+"-"+He[n[e+8]]+He[n[e+9]]+"-"+He[n[e+10]]+He[n[e+11]]+He[n[e+12]]+He[n[e+13]]+He[n[e+14]]+He[n[e+15]]).toLowerCase()}let Ey;const x6=new Uint8Array(16);function D6(){if(!Ey){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ey=crypto.getRandomValues.bind(crypto)}return Ey(x6)}const A6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var zA={randomUUID:A6};function M6(n,e,t){var i;n=n||{};const r=n.random??((i=n.rng)==null?void 0:i.call(n))??D6();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,C6(r)}function Cn(n,e,t){return zA.randomUUID&&!n?zA.randomUUID():M6(n)}class Je{constructor(){}static getRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,i=-1e9,s=1e9,o=-1e9,a;if(t.length>0)for(let u=0;u<t.length;u++)a=e[t[u]],s>a.shape.boundingBox.left&&(s=a.shape.boundingBox.left),o<a.shape.boundingBox.right&&(o=a.shape.boundingBox.right),r>a.shape.boundingBox.top&&(r=a.shape.boundingBox.top),i<a.shape.boundingBox.bottom&&(i=a.shape.boundingBox.bottom);return s===1e9&&o===-1e9&&r===1e9&&i===-1e9&&(r=0,i=0,s=0,o=0),{minX:s,maxX:o,minY:r,maxY:i}}static getRangeCore(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,i=-1e9,s=1e9,o=-1e9,a;if(t.length>0)for(let u=0;u<t.length;u++)a=e[t[u]],s>a.x&&(s=a.x),o<a.x&&(o=a.x),r>a.y&&(r=a.y),i<a.y&&(i=a.y);return s===1e9&&o===-1e9&&r===1e9&&i===-1e9&&(r=0,i=0,s=0,o=0),{minX:s,maxX:o,minY:r,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,t){const r={};return t===void 0||t==="node"?(he(r,e.options,!0),r.x=e.x,r.y=e.y,r.amountOfConnections=e.edges.length):he(r,e.options,!0),r}}class F6 extends pe{constructor(e,t,r,i,s,o){super(e,t,r,i,s,o),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const t=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!t.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],Z(t.edges,r=>{delete this.containedEdges[r.id]}),Z(t.containedNodes,(r,i)=>{this.containedNodes[i]=r}),t.containedNodes={},Z(t.containedEdges,(r,i)=>{this.containedEdges[i]=r}),t.containedEdges={},Z(t.edges,r=>{Z(this.edges,i=>{var s,o;const a=ne(s=i.clusteringEdgeReplacingIds).call(s,r.id);a!==-1&&(Z(r.clusteringEdgeReplacingIds,u=>{i.clusteringEdgeReplacingIds.push(u),this.body.edges[u].edgeReplacedById=i.id}),Vt(o=i.clusteringEdgeReplacingIds).call(o,a,1))})}),t.edges=[]}}class N6{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Pe(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,t){e===void 0?e=this._getHubSize():typeof e=="object"&&(t=this._checkOptions(e),e=this._getHubSize());const r=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&r.push(s.id)}for(let i=0;i<r.length;i++)this.clusterByConnection(r[i],t,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const r={},i={};Z(this.body.nodes,(s,o)=>{s.options&&e.joinCondition(s.options)===!0&&(r[o]=s,Z(s.edges,a=>{this.clusteredEdges[a.id]===void 0&&(i[a.id]=a)}))}),this._cluster(r,i,e,t)}clusterByEdgeCount(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;t=this._checkOptions(t);const i=[],s={};let o,a,u;for(let l=0;l<this.body.nodeIndices.length;l++){const d={},c={},h=this.body.nodeIndices[l],f=this.body.nodes[h];if(s[h]===void 0){u=0,a=[];for(let v=0;v<f.edges.length;v++)o=f.edges[v],this.clusteredEdges[o.id]===void 0&&(o.toId!==o.fromId&&u++,a.push(o));if(u===e){const v=function(b){if(t.joinCondition===void 0||t.joinCondition===null)return!0;const y=Je.cloneOptions(b);return t.joinCondition(y)};let g=!0;for(let b=0;b<a.length;b++){o=a[b];const y=this._getConnectedId(o,h);if(v(f))c[o.id]=o,d[h]=f,d[y]=this.body.nodes[y],s[h]=!0;else{g=!1;break}}if(Ee(d).length>0&&Ee(c).length>0&&g===!0){const y=function(){for(let p=0;p<i.length;++p)for(const S in d)if(i[p].nodes[S]!==void 0)return i[p]}();if(y!==void 0){for(const p in d)y.nodes[p]===void 0&&(y.nodes[p]=d[p]);for(const p in c)y.edges[p]===void 0&&(y.edges[p]=c[p])}else i.push({nodes:d,edges:c})}}}}for(let l=0;l<i.length;l++)this._cluster(i[l].nodes,i[l].edges,t,!1);r===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,t)}clusterBridges(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,t)}clusterByConnection(e,t){var r;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];t=this._checkOptions(t,s),t.clusterNodeProperties.x===void 0&&(t.clusterNodeProperties.x=s.x),t.clusterNodeProperties.y===void 0&&(t.clusterNodeProperties.y=s.y),t.clusterNodeProperties.fixed===void 0&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=s.options.fixed.x,t.clusterNodeProperties.fixed.y=s.options.fixed.y);const o={},a={},u=s.id,l=Je.cloneOptions(s);o[u]=s;for(let c=0;c<s.edges.length;c++){const h=s.edges[c];if(this.clusteredEdges[h.id]===void 0){const f=this._getConnectedId(h,u);if(this.clusteredNodes[f]===void 0)if(f!==u)if(t.joinCondition===void 0)a[h.id]=h,o[f]=this.body.nodes[f];else{const v=Je.cloneOptions(this.body.nodes[f]);t.joinCondition(l,v)===!0&&(a[h.id]=h,o[f]=this.body.nodes[f])}else a[h.id]=h}}const d=xi(r=Ee(o)).call(r,function(c){return o[c].id});for(const c in o){if(!Object.prototype.hasOwnProperty.call(o,c))continue;const h=o[c];for(let f=0;f<h.edges.length;f++){const v=h.edges[f];ne(d).call(d,this._getConnectedId(v,h.id))>-1&&(a[v.id]=v)}}this._cluster(o,a,t,i)}_createClusterEdges(e,t,r,i){let s,o,a,u,l,d;const c=Ee(e),h=[];for(let g=0;g<c.length;g++){o=c[g],a=e[o];for(let b=0;b<a.edges.length;b++)s=a.edges[b],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?t[s.id]=s:s.toId==o?(u=r.id,l=s.fromId,d=l):(u=s.toId,l=r.id,d=u),e[d]===void 0&&h.push({edge:s,fromId:l,toId:u}))}const f=[],v=function(g){for(let b=0;b<f.length;b++){const y=f[b],p=g.fromId===y.fromId&&g.toId===y.toId,S=g.fromId===y.toId&&g.toId===y.fromId;if(p||S)return y}return null};for(let g=0;g<h.length;g++){const b=h[g],y=b.edge;let p=v(b);p===null?(p=this._createClusteredEdge(b.fromId,b.toId,y,i),f.push(p)):p.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=p.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(Ee(e).length==0||Ee(e).length==1&&r.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let o=he({},r.clusterNodeProperties);if(r.processProperties!==void 0){const d=[];for(const h in e)if(Object.prototype.hasOwnProperty.call(e,h)){const f=Je.cloneOptions(e[h]);d.push(f)}const c=[];for(const h in t)if(Object.prototype.hasOwnProperty.call(t,h)&&h.substr(0,12)!=="clusterEdge:"){const f=Je.cloneOptions(t[h],"edge");c.push(f)}if(o=r.processProperties(o,d,c),!o)throw new Error("The processProperties function does not return properties!")}o.id===void 0&&(o.id="cluster:"+Cn());const a=o.id;o.label===void 0&&(o.label="cluster");let u;o.x===void 0&&(u=this._getClusterPosition(e),o.x=u.x),o.y===void 0&&(u===void 0&&(u=this._getClusterPosition(e)),o.y=u.y),o.id=a;const l=this.body.functions.createNode(o,F6);l.containedNodes=e,l.containedEdges=t,l.clusterEdgeProperties=r.clusterEdgeProperties,this.body.nodes[o.id]=l,this._clusterEdges(e,t,o,r.clusterEdgeProperties),o.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const t=this.clusteredEdges[e.id];t!==void 0&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const t=Ee(e);let r=e[t[0]].x,i=e[t[0]].x,s=e[t[0]].y,o=e[t[0]].y,a;for(let u=1;u<t.length;u++)a=e[t[u]],r=a.x<r?a.x:r,i=a.x>i?a.x:i,s=a.y<s?a.y:s,o=a.y>o?a.y:o;return{x:.5*(r+i),y:.5*(s+o)}}openCluster(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),o=ne(s).call(s,e)-1;if(o>=0){const d=s[o];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged");return}const a=i.containedNodes,u=i.containedEdges;if(t!==void 0&&t.releaseFunction!==void 0&&typeof t.releaseFunction=="function"){const d={},c={x:i.x,y:i.y};for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];d[f]={x:v.x,y:v.y}}const h=t.releaseFunction(c,d);for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];h[f]!==void 0&&(v.x=h[f].x===void 0?i.x:h[f].x,v.y=h[f].y===void 0?i.y:h[f].y)}}else Z(a,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)){const c=this.body.nodes[d];c.vx=i.vx,c.vy=i.vy,c.setOptions({physics:!0}),delete this.clusteredNodes[d]}const l=[];for(let d=0;d<i.edges.length;d++)l.push(i.edges[d]);for(let d=0;d<l.length;d++){const c=l[d],h=this._getConnectedId(c,e),f=this.clusteredNodes[h];for(let v=0;v<c.clusteringEdgeReplacingIds.length;v++){const g=c.clusteringEdgeReplacingIds[v],b=this.body.edges[g];if(b!==void 0)if(f!==void 0){const y=this.body.nodes[f.clusterId];y.containedEdges[b.id]=b,delete u[b.id];let p=b.fromId,S=b.toId;b.toId==h?S=f.clusterId:p=f.clusterId,this._createClusteredEdge(p,S,b,y.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(b)}c.remove()}for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&this._restoreEdge(u[d]);delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const t=[];if(this.isCluster(e)===!0){const r=this.body.nodes[e].containedNodes;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.push(this.body.nodes[i].id)}return t}findNode(e){const t=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];t.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(t.push(s.id),kr(t).call(t),t)}updateClusteredNode(e,t){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(t===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}updateEdge(e,t){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(t===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const r=this.getClusteredEdges(e);for(let i=0;i<r.length;i++)this.body.edges[r[i]].setOptions(t);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const t=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return kr(t).call(t),t}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const t=[e],r=[],i=[],s=100;let o=0;for(;t.length>0&&o<s;){const a=t.pop();if(a===void 0)continue;const u=this.body.edges[a];if(u===void 0)continue;o++;const l=u.clusteringEdgeReplacingIds;if(l===void 0)i.push(a);else for(let d=0;d<l.length;++d){const c=l[d];ne(t).call(t,l)!==-1||ne(r).call(r,l)!==-1||t.push(c)}r.push(a)}return i}_getConnectedId(e,t){return e.toId!=t?e.toId:(e.fromId!=t,e.fromId)}_getHubSize(){let e=0,t=0,r=0,i=0;for(let u=0;u<this.body.nodeIndices.length;u++){const l=this.body.nodes[this.body.nodeIndices[u]];l.edges.length>i&&(i=l.edges.length),e+=l.edges.length,t+=Math.pow(l.edges.length,2),r+=1}e=e/r,t=t/r;const s=t-Math.pow(e,2),o=Math.sqrt(s);let a=Math.floor(e+2*o);return a>i&&(a=i),a}_createClusteredEdge(e,t,r,i,s){const o=Je.cloneOptions(r,"edge");he(o,i),o.from=e,o.to=t,o.id="clusterEdge:"+Cn(),s!==void 0&&he(o,s);const a=this.body.functions.createEdge(o);return a.clusteringEdgeReplacingIds=[r.id],a.connect(),this.body.edges[a.id]=a,a}_clusterEdges(e,t,r,i){if(t instanceof hr){const s=t,o={};o[s.id]=s,t=o}if(e instanceof pe){const s=e,o={};o[s.id]=s,e=o}if(r==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=r.clusterEdgeProperties),this._createClusterEdges(e,t,r,i);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&this.body.edges[s]!==void 0){const o=this.body.edges[s];this._backupEdgeOptions(o),o.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:r.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const t=this.clusteredNodes[e];if(t===void 0)return;const r=t.clusterId;if(r!==void 0)return this.body.nodes[r]}_filter(e,t){const r=[];return Z(e,i=>{t(i)&&r.push(i)}),r}_updateState(){let e;const t=[],r={},i=u=>{Z(this.body.nodes,l=>{l.isCluster===!0&&u(l)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&t.push(e)}i(function(u){for(let l=0;l<t.length;l++)delete u.containedNodes[t[l]]});for(let u=0;u<t.length;u++)delete this.clusteredNodes[t[u]];Z(this.clusteredEdges,u=>{const l=this.body.edges[u];(l===void 0||!l.endPointsValid())&&(r[u]=u)}),i(function(u){Z(u.containedEdges,(l,d)=>{!l.endPointsValid()&&!r[d]&&(r[d]=d)})}),Z(this.body.edges,(u,l)=>{let d=!0;const c=u.clusteringEdgeReplacingIds;if(c!==void 0){let h=0;Z(c,f=>{const v=this.body.edges[f];v!==void 0&&v.endPointsValid()&&(h+=1)}),d=h>0}(!u.endPointsValid()||!d)&&(r[l]=l)}),i(u=>{Z(r,l=>{delete u.containedEdges[l],Z(u.edges,(d,c)=>{if(d.id===l){u.edges[c]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(h){return!r[h]})}),u.edges=this._filter(u.edges,function(d){return d!==null})})}),Z(r,u=>{delete this.clusteredEdges[u]}),Z(r,u=>{delete this.body.edges[u]});const s=Ee(this.body.edges);Z(s,u=>{const l=this.body.edges[u],d=this._isClusteredNode(l.fromId)||this._isClusteredNode(l.toId);if(d!==this._isClusteredEdge(l.id))if(d){const c=this._getClusterNodeForNode(l.fromId);c!==void 0&&this._clusterEdges(this.body.nodes[l.fromId],l,c);const h=this._getClusterNodeForNode(l.toId);h!==void 0&&this._clusterEdges(this.body.nodes[l.toId],l,h)}else delete this._clusterEdges[u],this._restoreEdge(l)});let o=!1,a=!0;for(;a;){const u=[];i(function(l){const d=Ee(l.containedNodes).length,c=l.options.allowSingleNodeCluster===!0;(c&&d<1||!c&&d<2)&&u.push(l.id)});for(let l=0;l<u.length;++l)this.openCluster(u[l],{},!1);a=u.length>0,o=o||a}o&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class k6{constructor(e,t){this.body=e,this.canvas=t,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Pe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Gt(()=>{var t;this.zooming=!1,D(t=this._requestRedraw).call(t,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",D(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&dn(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(D(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const t={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const r=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(r.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(r.save(),r.translate(this.body.view.translation.x,this.body.view.translation.y),r.scale(this.body.view.scale,this.body.view.scale),r.beginPath(),this.body.emitter.emit("beforeDrawing",r),r.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(r),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:o}=this._drawNodes(r,e);t.drawExternalLabels=o}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(r),t.drawExternalLabels!=null&&t.drawExternalLabels(),e===!1&&this._drawSelectionBox(r),r.beginPath(),this.body.emitter.emit("afterDrawing",r),r.closePath(),r.restore(),e===!0&&r.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const t=this.body.nodes;let r;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r=t[i],r.resize(e),r.updateBoundingBox(e,r.selected));e.restore()}_drawNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.nodes,i=this.body.nodeIndices;let s;const o=[],a=[],u=20,l=this.canvas.DOMtoCanvas({x:-u,y:-u}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),c={top:l.y,left:l.x,bottom:d.y,right:d.x},h=[];for(let b=0;b<i.length;b++)if(s=r[i[b]],s.hover)a.push(i[b]);else if(s.isSelected())o.push(i[b]);else if(t===!0){const y=s.draw(e);y.drawExternalLabel!=null&&h.push(y.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(c)===!0){const y=s.draw(e);y.drawExternalLabel!=null&&h.push(y.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let f;const v=o.length,g=a.length;for(f=0;f<v;f++){s=r[o[f]];const b=s.draw(e);b.drawExternalLabel!=null&&h.push(b.drawExternalLabel)}for(f=0;f<g;f++){s=r[a[f]];const b=s.draw(e);b.drawExternalLabel!=null&&h.push(b.drawExternalLabel)}return{drawExternalLabels:()=>{for(const b of h)b()}}}_drawEdges(e){const t=this.body.edges,r=this.body.edgeIndices;for(let i=0;i<r.length;i++){const s=t[r[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const t=this.body.edges,r=this.body.edgeIndices;for(let i=0;i<r.length;i++){const s=t[r[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,r=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var Sy,WA;function B6(){if(WA)return Sy;WA=1,ik();var n=oe();return Sy=n.setInterval,Sy}var Oy,HA;function j6(){return HA||(HA=1,Oy=B6()),Oy}var L6=j6(),z6=G(L6);function eo(n,e){e.inputHandler=function(t){t.isFirst&&e(t)},n.on("hammer.input",e.inputHandler)}function Qk(n,e){return e.inputHandler=function(t){t.isFinal&&e(t)},n.on("hammer.input",e.inputHandler)}class W6{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Pe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",t=>{t.width!==0&&(this.body.view.translation.x=t.width*.5),t.height!==0&&(this.body.view.translation.y=t.height*.5)}),this.body.emitter.on("setSize",D(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&dn(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var t;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=z6(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const r=D(t=this._onResize).call(t,this);window.addEventListener("resize",r),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",r)})}}_cleanUp(){var e,t,r;le(e=kr(t=Vt(r=this._cleanupCallbacks).call(r,0)).call(t)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let r=this.cameraState.scale;e!=1&&t!=1?r=this.cameraState.scale*.5*(e+t):e!=1?r=this.cameraState.scale*e:t!=1&&(r=this.cameraState.scale*t),this.body.view.scale=r;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(ne(e).call(e,"%")!==-1||ne(e).call(e,"px")!==-1)return e;if(ne(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new $i(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:$i.DIRECTION_ALL}),eo(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new $i(this.frame),Qk(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);let r=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},r=!0;else{const a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),u=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==u)&&this._getCameraState(o),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,r=!0),this.frame.canvas.height!==u&&(this.frame.canvas.height=u,r=!0)}return r===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,r}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let t=1;typeof window<"u"&&(t=window.devicePixelRatio||1);const r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function H6(n,e){const t=Pe({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},n??{});if(!Se(t.nodes))throw new TypeError("Nodes has to be an array of ids.");if(t.nodes.length===0&&(t.nodes=e),!(typeof t.minZoomLevel=="number"&&t.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof t.maxZoomLevel=="number"&&t.minZoomLevel<=t.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return t}class U6{constructor(e,t){var r,i;this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",D(r=this.fit).call(r,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",D(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=H6(e,this.body.nodeIndices);const r=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,o;if(r===0||i===0)o=1,s=Je.getRange(this.body.nodes,e.nodes);else if(t===!0){let l=0;for(const h in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,h)&&this.body.nodes[h].predefinedPosition===!0&&(l+=1);if(l>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Je.getRange(this.body.nodes,e.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const c=Math.min(r/600,i/600);o*=c}else{this.body.emitter.emit("_resizeNodes"),s=Je.getRange(this.body.nodes,e.nodes);const l=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,c=r/l,h=i/d;o=c<=h?c:h}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);const u={position:Je.findCenter(s),scale:o,animation:e.animation};this.moveTo(u)}focus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const r={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=r,t.lockedOnNode=e,this.moveTo(t)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Mr(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Mr(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Mr(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Mr(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.position.x,y:t.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+r.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+r.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=D(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=D(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.x,y:t.y-e.y},i=this.body.view.translation,s={x:i.x+r.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+r.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const t=QV[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var r;this.viewFunction=D(r=this._lockedRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function UA(n){var e=n&&n.preventDefault||!1,t=n&&n.container||window,r={},i={keydown:{},keyup:{}},s={},o;for(o=97;o<=122;o++)s[String.fromCharCode(o)]={code:65+(o-97),shift:!1};for(o=65;o<=90;o++)s[String.fromCharCode(o)]={code:o,shift:!0};for(o=0;o<=9;o++)s[""+o]={code:48+o,shift:!1};for(o=1;o<=12;o++)s["F"+o]={code:111+o,shift:!1};for(o=0;o<=9;o++)s["num"+o]={code:96+o,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(d){l(d,"keydown")},u=function(d){l(d,"keyup")},l=function(d,c){if(i[c][d.keyCode]!==void 0){for(var h=i[c][d.keyCode],f=0;f<h.length;f++)(h[f].shift===void 0||h[f].shift==!0&&d.shiftKey==!0||h[f].shift==!1&&d.shiftKey==!1)&&h[f].fn(d);e==!0&&d.preventDefault()}};return r.bind=function(d,c,h){if(h===void 0&&(h="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[h][s[d].code]===void 0&&(i[h][s[d].code]=[]),i[h][s[d].code].push({fn:c,shift:s[d].shift})},r.bindAll=function(d,c){c===void 0&&(c="keydown");for(var h in s)s.hasOwnProperty(h)&&r.bind(h,d,c)},r.getKey=function(d){for(var c in s)if(s.hasOwnProperty(c)){if(d.shiftKey==!0&&s[c].shift==!0&&d.keyCode==s[c].code)return c;if(d.shiftKey==!1&&s[c].shift==!1&&d.keyCode==s[c].code)return c;if(d.keyCode==s[c].code&&c=="shift")return c}return"unknown key, currently not supported"},r.unbind=function(d,c,h){if(h===void 0&&(h="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(c!==void 0){var f=[],v=i[h][s[d].code];if(v!==void 0)for(var g=0;g<v.length;g++)v[g].fn==c&&v[g].shift==s[d].shift||f.push(i[h][s[d].code][g]);i[h][s[d].code]=f}else i[h][s[d].code]=[]},r.reset=function(){i={keydown:{},keyup:{}}},r.destroy=function(){i={keydown:{},keyup:{}},t.removeEventListener("keydown",a,!0),t.removeEventListener("keyup",u,!0)},t.addEventListener("keydown",a,!0),t.addEventListener("keyup",u,!0),r}class V6{constructor(e,t){this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],t=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);const a=new $i(this.navigationDOM[e[o]]);if(t[o]==="_fit"){var r;eo(a,D(r=this._fit).call(r,this))}else{var i;eo(a,D(i=this.bindToRedraw).call(i,this,t[o]))}this.navigationHammers.push(a)}const s=new $i(this.canvas.frame);Qk(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var t;this.boundFunctions[e]=D(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,i=t/e,s=(1-i)*this.canvas.canvasViewCenter.x+r.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+r.y*i;this.body.view.scale=t,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,i=t/e,s=(1-i)*this.canvas.canvasViewCenter.x+r.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+r.y*i;this.body.view.scale=t,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=UA({container:window,preventDefault:!0}):this.keycharm=UA({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,t,r,i,s,o,a,u,l,d,c,h,f,v,g,b,y,p,S,m,w,O,I,_;D(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),D(t=this.keycharm).call(t,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),D(r=this.keycharm).call(r,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),D(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),D(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),D(o=this.keycharm).call(o,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),D(a=this.keycharm).call(a,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),D(u=this.keycharm).call(u,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),D(l=this.keycharm).call(l,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),D(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),D(c=this.keycharm).call(c,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),D(h=this.keycharm).call(h,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),D(f=this.keycharm).call(f,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),D(v=this.keycharm).call(v,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),D(g=this.keycharm).call(g,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),D(b=this.keycharm).call(b,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),D(y=this.keycharm).call(y,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),D(p=this.keycharm).call(p,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),D(S=this.keycharm).call(S,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),D(m=this.keycharm).call(m,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),D(w=this.keycharm).call(w,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),D(O=this.keycharm).call(O,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),D(I=this.keycharm).call(I,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),D(_=this.keycharm).call(_,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class G6{constructor(e,t,r){var i,s,o,a,u,l,d,c,h,f,v,g,b;this.body=e,this.canvas=t,this.selectionHandler=r,this.navigationHandler=new V6(e,t),this.body.eventListeners.onTap=D(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=D(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=D(o=this.onDoubleTap).call(o,this),this.body.eventListeners.onHold=D(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=D(u=this.onDragStart).call(u,this),this.body.eventListeners.onDrag=D(l=this.onDrag).call(l,this),this.body.eventListeners.onDragEnd=D(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=D(c=this.onMouseWheel).call(c,this),this.body.eventListeners.onPinch=D(h=this.onPinch).call(h,this),this.body.eventListeners.onMouseMove=D(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=D(v=this.onRelease).call(v,this),this.body.eventListeners.onContext=D(g=this.onContext).call(g,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=D(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Pe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Js(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),ct(this.options,e,"keyboard"),e.tooltip&&(Pe(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=$m(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-YV(this.canvas.frame.canvas),y:e.y-XV(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}onDoubleTap(e){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}onHold(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=new Date().valueOf()}}onContext(e){const t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,t){const r=function(i,s){const o=[];for(let a=0;a<i.length;a++){const u=i[a];ne(s).call(s,u)===-1&&o.push(u)}return o};return{nodes:r(e.nodes,t.nodes),edges:r(e.edges,t.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Pe({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const r=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)}}else if(t!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=t.id,t.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const r of this.selectionHandler.getSelectedNodes()){const i={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const t=this.getPointer(e.center),r=this.drag.selection;if(r&&r.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,t);const i=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;le(r).call(r,o=>{const a=o.node;o.xFixed===!1&&(a.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(o.x)+i)),o.yFixed===!1&&(a.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(o.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(t.x),y:this.canvas._YconvertDOMtoCanvas(t.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var t;this.body.selectionBox.show=!1;const r=this.body.selectionBox.position,i={minX:Math.min(r.start.x,r.end.x),minY:Math.min(r.start.y,r.end.y),maxX:Math.max(r.start.x,r.end.x),maxY:Math.max(r.start.y,r.end.y)},s=rt(t=this.body.nodeIndices).call(t,a=>{const u=this.body.nodes[a];return u.x>=i.minX&&u.x<=i.maxX&&u.y>=i.minY&&u.y<=i.maxY});le(s).call(s,a=>this.selectionHandler.selectObject(this.body.nodes[a]));const o=this.getPointer(e.center);this.selectionHandler.commitAndEmit(o,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const r=this.drag.selection;r&&r.length?(le(r).call(r,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const t=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const r=this.pinch.scale*e.scale;this.zoom(r,t)}zoom(e,t){if(this.options.zoomView===!0){const r=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,o=e/r,a=(1-o)*t.x+s.x*o,u=(1-o)*t.y+s.y*o;if(this.body.view.scale=e,this.body.view.translation={x:a,y:u},i!=null){const l=this.canvas.canvasToDOM(i);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),r<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let t=this.body.view.scale;t*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const r=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,r)}e.preventDefault()}}onMouseMove(e){const t=this.getPointer({x:e.clientX,y:e.clientY});let r=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(t),this.popup.hidden===!1&&(r=!0,this.popup.setPosition(t.x+3,t.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),r===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Gt(()=>this._checkShowPopup(t),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,t)}_checkShowPopup(e){const t=this.canvas._XconvertDOMtoCanvas(e.x),r=this.canvas._YconvertDOMtoCanvas(e.y),i={left:t,top:r,right:t,bottom:r},s=this.popupObj===void 0?void 0:this.popupObj.id;let o=!1,a="node";if(this.popupObj===void 0){const u=this.body.nodeIndices,l=this.body.nodes;let d;const c=[];for(let h=0;h<u.length;h++)d=l[u[h]],d.isOverlappingWith(i)===!0&&(o=!0,d.getTitle()!==void 0&&c.push(u[h]));c.length>0&&(this.popupObj=l[c[c.length-1]],o=!0)}if(this.popupObj===void 0&&o===!1){const u=this.body.edgeIndices,l=this.body.edges;let d;const c=[];for(let h=0;h<u.length;h++)d=l[u[h]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&c.push(u[h]);c.length>0&&(this.popupObj=l[c[c.length-1]],a="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new aG(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const t=this.selectionHandler._pointerToPositionObject(e);let r=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(r=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t),r===!0)){const i=this.selectionHandler.getNodeAt(e);r=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(r=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));r===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var VA={},GA={},KA;function K6(){if(KA)return GA;KA=1;var n=Cb(),e=zk();return n("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),GA}var YA;function Y6(){return YA||(YA=1,K6()),VA}var XA={},Iy,JA;function di(){if(JA)return Iy;JA=1;var n=Ji(),e=TypeError;return Iy=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(n(t)+" is not a set")},Iy}var $y,ZA;function ci(){if(ZA)return $y;ZA=1;var n=lt(),e=Wk(),t=n("Set"),r=t.prototype;return $y={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},$y}var Ty,QA;function hi(){if(QA)return Ty;QA=1;var n=at();return Ty=function(e,t,r){for(var i=r?e:e.iterator,s=e.next,o,a;!(o=n(s,i)).done;)if(a=t(o.value),a!==void 0)return a},Ty}var Py,eM;function Os(){if(eM)return Py;eM=1;var n=hi();return Py=function(e,t,r){return r?n(e.keys(),t,!0):e.forEach(t)},Py}var Ry,tM;function kb(){if(tM)return Ry;tM=1;var n=ci(),e=Os(),t=n.Set,r=n.add;return Ry=function(i){var s=new t;return e(i,function(o){r(s,o)}),s},Ry}var qy,rM;function Is(){return rM||(rM=1,qy=function(n){return n.size}),qy}var Cy,iM;function X6(){return iM||(iM=1,Cy=function(n){return{iterator:n,next:n.next,done:!1}}),Cy}var xy,nM;function fi(){if(nM)return xy;nM=1;var n=tr(),e=Bt(),t=at(),r=tn(),i=X6(),s="Invalid size",o=RangeError,a=TypeError,u=Math.max,l=function(d,c){this.set=d,this.size=u(c,0),this.has=n(d.has),this.keys=n(d.keys)};return l.prototype={getIterator:function(){return i(e(t(this.keys,this.set)))},includes:function(d){return t(this.has,this.set,d)}},xy=function(d){e(d);var c=+d.size;if(c!==c)throw new a(s);var h=r(c);if(h<0)throw new o(s);return new l(d,h)},xy}var Dy,sM;function J6(){if(sM)return Dy;sM=1;var n=di(),e=ci(),t=kb(),r=Is(),i=fi(),s=Os(),o=hi(),a=e.has,u=e.remove;return Dy=function(d){var c=n(this),h=i(d),f=t(c);return r(c)<=h.size?s(c,function(v){h.includes(v)&&u(f,v)}):o(h.getIterator(),function(v){a(f,v)&&u(f,v)}),f},Dy}var Ay,oM;function vi(){return oM||(oM=1,Ay=function(){return!1}),Ay}var aM;function Z6(){if(aM)return XA;aM=1;var n=z(),e=J6(),t=te(),r=vi(),i=!r("difference",function(o){return o.size===0}),s=i||t(function(){var o={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var l=u++>1;return a.has(1)&&a.clear(),{done:l,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return n({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),XA}var uM={},My,lM;function Q6(){if(lM)return My;lM=1;var n=di(),e=ci(),t=Is(),r=fi(),i=Os(),s=hi(),o=e.Set,a=e.add,u=e.has;return My=function(d){var c=n(this),h=r(d),f=new o;return t(c)>h.size?s(h.getIterator(),function(v){u(c,v)&&a(f,v)}):i(c,function(v){h.includes(v)&&a(f,v)}),f},My}var dM;function e8(){if(dM)return uM;dM=1;var n=z(),e=te(),t=Q6(),r=vi(),i=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return n({target:"Set",proto:!0,real:!0,forced:i},{intersection:t}),uM}var cM={},Fy,hM;function t8(){if(hM)return Fy;hM=1;var n=di(),e=ci().has,t=Is(),r=fi(),i=Os(),s=hi(),o=Rb();return Fy=function(u){var l=n(this),d=r(u);if(t(l)<=d.size)return i(l,function(h){if(d.includes(h))return!1},!0)!==!1;var c=d.getIterator();return s(c,function(h){if(e(l,h))return o(c,"normal",!1)})!==!1},Fy}var fM;function r8(){if(fM)return cM;fM=1;var n=z(),e=t8(),t=vi(),r=!t("isDisjointFrom",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),cM}var vM={},Ny,pM;function i8(){if(pM)return Ny;pM=1;var n=di(),e=Is(),t=Os(),r=fi();return Ny=function(s){var o=n(this),a=r(s);return e(o)>a.size?!1:t(o,function(u){if(!a.includes(u))return!1},!0)!==!1},Ny}var gM;function n8(){if(gM)return vM;gM=1;var n=z(),e=i8(),t=vi(),r=!t("isSubsetOf",function(i){return i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),vM}var yM={},ky,mM;function s8(){if(mM)return ky;mM=1;var n=di(),e=ci().has,t=Is(),r=fi(),i=hi(),s=Rb();return ky=function(a){var u=n(this),l=r(a);if(t(u)<l.size)return!1;var d=l.getIterator();return i(d,function(c){if(!e(u,c))return s(d,"normal",!1)})!==!1},ky}var bM;function o8(){if(bM)return yM;bM=1;var n=z(),e=s8(),t=vi(),r=!t("isSupersetOf",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),yM}var _M={},By,wM;function a8(){if(wM)return By;wM=1;var n=di(),e=ci(),t=kb(),r=fi(),i=hi(),s=e.add,o=e.has,a=e.remove;return By=function(l){var d=n(this),c=r(l).getIterator(),h=t(d);return i(c,function(f){o(d,f)?a(h,f):s(h,f)}),h},By}var jy,EM;function e2(){return EM||(EM=1,jy=function(n){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[n](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),jy}var SM;function u8(){if(SM)return _M;SM=1;var n=z(),e=a8(),t=e2(),r=vi(),i=!r("symmetricDifference")||!t("symmetricDifference");return n({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),_M}var OM={},Ly,IM;function l8(){if(IM)return Ly;IM=1;var n=di(),e=ci().add,t=kb(),r=fi(),i=hi();return Ly=function(o){var a=n(this),u=r(o).getIterator(),l=t(a);return i(u,function(d){e(l,d)}),l},Ly}var $M;function d8(){if($M)return OM;$M=1;var n=z(),e=l8(),t=e2(),r=vi(),i=!r("union")||!t("union");return n({target:"Set",proto:!0,real:!0,forced:i},{union:e}),OM}var zy,TM;function c8(){if(TM)return zy;TM=1,on(),Y6(),Z6(),e8(),r8(),n8(),o8(),u8(),d8(),Db();var n=oe();return zy=n.Set,zy}var Wy,PM;function h8(){if(PM)return Wy;PM=1;var n=c8();return an(),Wy=n,Wy}var Hy,RM;function f8(){return RM||(RM=1,Hy=h8()),Hy}var v8=f8(),sr=G(v8),qM={},CM={},Uy,xM;function p8(){if(xM)return Uy;xM=1;var n=re(),e=xb(),t=Do().getWeakData,r=qb(),i=Bt(),s=Ki(),o=ze(),a=Ao(),u=wr(),l=Ue(),d=ai(),c=d.set,h=d.getterFor,f=u.find,v=u.findIndex,g=n([].splice),b=0,y=function(m){return m.frozen||(m.frozen=new p)},p=function(){this.entries=[]},S=function(m,w){return f(m.entries,function(O){return O[0]===w})};return p.prototype={get:function(m){var w=S(this,m);if(w)return w[1]},has:function(m){return!!S(this,m)},set:function(m,w){var O=S(this,m);O?O[1]=w:this.entries.push([m,w])},delete:function(m){var w=v(this.entries,function(O){return O[0]===m});return~w&&g(this.entries,w,1),!!~w}},Uy={getConstructor:function(m,w,O,I){var _=m(function(P,R){r(P,E),c(P,{type:w,id:b++,frozen:null}),s(R)||a(R,P[I],{that:P,AS_ENTRIES:O})}),E=_.prototype,$=h(w),T=function(P,R,C){var M=$(P),K=t(i(R),!0);return K===!0?y(M).set(R,C):K[M.id]=C,P};return e(E,{delete:function(P){var R=$(this);if(!o(P))return!1;var C=t(P);return C===!0?y(R).delete(P):C&&l(C,R.id)&&delete C[R.id]},has:function(R){var C=$(this);if(!o(R))return!1;var M=t(R);return M===!0?y(C).has(R):M&&l(M,C.id)}}),e(E,O?{get:function(R){var C=$(this);if(o(R)){var M=t(R);if(M===!0)return y(C).get(R);if(M)return M[C.id]}},set:function(R,C){return T(this,R,C)}}:{add:function(R){return T(this,R,!0)}}),_}},Uy}var DM;function g8(){if(DM)return CM;DM=1;var n=jk(),e=ge(),t=re(),r=xb(),i=Do(),s=Cb(),o=p8(),a=ze(),u=ai().enforce,l=te(),d=zN(),c=Object,h=Array.isArray,f=c.isExtensible,v=c.isFrozen,g=c.isSealed,b=c.freeze,y=c.seal,p=!e.ActiveXObject&&"ActiveXObject"in e,S,m=function(P){return function(){return P(this,arguments.length?arguments[0]:void 0)}},w=s("WeakMap",m,o),O=w.prototype,I=t(O.set),_=function(){return n&&l(function(){var P=b([]);return I(new w,P,1),!v(P)})};if(d)if(p){S=o.getConstructor(m,"WeakMap",!0),i.enable();var E=t(O.delete),$=t(O.has),T=t(O.get);r(O,{delete:function(P){if(a(P)&&!f(P)){var R=u(this);return R.frozen||(R.frozen=new S),E(this,P)||R.frozen.delete(P)}return E(this,P)},has:function(R){if(a(R)&&!f(R)){var C=u(this);return C.frozen||(C.frozen=new S),$(this,R)||C.frozen.has(R)}return $(this,R)},get:function(R){if(a(R)&&!f(R)){var C=u(this);return C.frozen||(C.frozen=new S),$(this,R)?T(this,R):C.frozen.get(R)}return T(this,R)},set:function(R,C){if(a(R)&&!f(R)){var M=u(this);M.frozen||(M.frozen=new S),$(this,R)?I(this,R,C):M.frozen.set(R,C)}else I(this,R,C);return this}})}else _()&&r(O,{set:function(R,C){var M;return h(R)&&(v(R)?M=b:g(R)&&(M=y)),I(this,R,C),M&&M(R),this}});return CM}var AM;function y8(){return AM||(AM=1,g8()),qM}var Vy,MM;function m8(){if(MM)return Vy;MM=1,on(),y8();var n=oe();return Vy=n.WeakMap,Vy}var Gy,FM;function b8(){if(FM)return Gy;FM=1;var n=m8();return an(),Gy=n,Gy}var Ky,NM;function _8(){return NM||(NM=1,Ky=b8()),Ky}var w8=_8(),$s=G(w8);function xn(n,e,t){E8(n,e),e.set(n,t)}function E8(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xm(n,e,t){return n.set(t2(n,e),t),t}function ce(n,e){return n.get(t2(n,e))}function t2(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function kM(n,e){const t=new sr;for(const r of e)n.has(r)||t.add(r);return t}var mi=new $s,St=new $s;class BM{constructor(){xn(this,mi,new sr),xn(this,St,new sr)}get size(){return ce(St,this).size}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const i of t)ce(St,this).add(i)}delete(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const i of t)ce(St,this).delete(i)}clear(){ce(St,this).clear()}getSelection(){return[...ce(St,this)]}getChanges(){return{added:[...kM(ce(mi,this),ce(St,this))],deleted:[...kM(ce(St,this),ce(mi,this))],previous:[...new sr(ce(mi,this))],current:[...new sr(ce(St,this))]}}commit(){const e=this.getChanges();xm(mi,this,ce(St,this)),xm(St,this,new sr(ce(mi,this)));for(const t of e.added)t.select();for(const t of e.deleted)t.unselect();return e}}var qr=new $s,Cr=new $s,Yy=new $s;class S8{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};xn(this,qr,new BM),xn(this,Cr,new BM),xn(this,Yy,void 0),xm(Yy,this,e)}get sizeNodes(){return ce(qr,this).size}get sizeEdges(){return ce(Cr,this).size}getNodes(){return ce(qr,this).getSelection()}getEdges(){return ce(Cr,this).getSelection()}addNodes(){ce(qr,this).add(...arguments)}addEdges(){ce(Cr,this).add(...arguments)}deleteNodes(e){ce(qr,this).delete(e)}deleteEdges(e){ce(Cr,this).delete(e)}clear(){ce(qr,this).clear(),ce(Cr,this).clear()}commit(){const e={nodes:ce(qr,this).commit(),edges:ce(Cr,this).commit()};for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return ce(Yy,this).call(this,e,...r),e}}class O8{constructor(e,t){this.body=e,this.canvas=t,this._selectionAccumulator=new S8,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Pe(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&dn(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),r!==void 0&&(t=this.selectObject(r)),this.body.emitter.emit("_requestRedraw")}return t}selectAdditionalOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);r!==void 0&&(t=!0,r.isSelected()===!0?this.deselectObject(r):this.selectObject(r),this.body.emitter.emit("_requestRedraw"))}return t}_initBaseEvent(e,t){const r={};return r.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},r.event=e,r}generateClickEvent(e,t,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const o=this._initBaseEvent(t,r);if(s===!0)o.nodes=[],o.edges=[];else{const a=this.getSelection();o.nodes=a.nodes,o.edges=a.edges}i!==void 0&&(o.previousSelection=i),e=="click"&&(o.items=this.getClickedItems(r)),t.controlEdge!==void 0&&(o.controlEdge=t.controlEdge),this.body.emitter.emit(e,o)}selectObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof pe?(t===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const t=[],r=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];r[s].isOverlappingWith(e)&&t.push(s)}return t}_pointerToPositionObject(e){const t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}getNodeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(r);if(i.length>0)return t===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,t){const r=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];r[s].isOverlappingWith(e)&&t.push(s)}}_getAllEdgesOverlappingWith(e){const t=[];return this._getEdgesOverlappingWith(e,t),t}getEdgeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this.canvas.DOMtoCanvas(e);let i=10,s=null;const o=this.body.edges;for(let a=0;a<this.body.edgeIndices.length;a++){const u=this.body.edgeIndices[a],l=o[u];if(l.connected){const d=l.from.x,c=l.from.y,h=l.to.x,f=l.to.y,v=l.edgeType.getDistanceToEdge(d,c,h,f,r.x,r.y);v<i&&(s=u,i=v)}}if(s!==null)return t===!0?this.body.edges[s]:s}_addToHover(e){e instanceof pe?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof pe?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let t=0;t<e.edges.length;t++){const r=e.edges[t];r.hover=!0,this._addToHover(r)}}emitBlurEvent(e,t,r){const i=this._initBaseEvent(e,t);r.hover===!0&&(r.hover=!1,r instanceof pe?(i.node=r.id,this.body.emitter.emit("blurNode",i)):(i.edge=r.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,t,r){const i=this._initBaseEvent(e,t);let s=!1;return r.hover===!1&&(r.hover=!0,this._addToHover(r),s=!0,r instanceof pe?(i.node=r.id,this.body.emitter.emit("hoverNode",i)):(i.edge=r.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,t){let r=this.getNodeAt(t);r===void 0&&(r=this.getEdgeAt(t));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(r===void 0||r instanceof pe&&r.id!=s||r instanceof hr)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(r===void 0||r instanceof hr&&r.id!=s||r instanceof pe&&!r.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(r!==void 0){const s=Ee(this.hoverObj.edges).length,o=Ee(this.hoverObj.nodes).length,a=r instanceof hr&&s===0&&o===0,u=r instanceof pe&&s===0&&o===0;(i||a||u)&&(i=this.emitHoverEvent(e,t,r)),r instanceof pe&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(r)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,t){let r=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,s),r=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,s),r=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),r=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),r=!0),r===!0&&this.generateClickEvent("select",t,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return xi(e=this._selectionAccumulator.getNodes()).call(e,t=>t.id)}getSelectedEdgeIds(){var e;return xi(e=this._selectionAccumulator.getEdges()).call(e,t=>t.id)}setSelection(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||t.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const r of e.nodes){const i=this.body.nodes[r];if(!i)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(i,t.highlightEdges)}if(e.edges)for(const r of e.edges){const i=this.body.edges[r];if(!i)throw new RangeError('Edge with id "'+r+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const t=this.canvas.DOMtoCanvas(e),r=[],i=this.body.nodeIndices,s=this.body.nodes;for(let u=i.length-1;u>=0;u--){const d=s[i[u]].getItemsOnPoint(t);r.push.apply(r,d)}const o=this.body.edgeIndices,a=this.body.edges;for(let u=o.length-1;u>=0;u--){const d=a[o[u]].getItemsOnPoint(t);r.push.apply(r,d)}return r}}var jM={},Xy,LM;function I8(){if(LM)return Xy;LM=1;var n=rn(),e=Math.floor,t=function(r,i){var s=r.length;if(s<8)for(var o=1,a,u;o<s;){for(u=o,a=r[o];u&&i(r[u-1],a)>0;)r[u]=r[--u];u!==o++&&(r[u]=a)}else for(var l=e(s/2),d=t(n(r,0,l),i),c=t(n(r,l),i),h=d.length,f=c.length,v=0,g=0;v<h||g<f;)r[v+g]=v<h&&g<f?i(d[v],c[g])<=0?d[v++]:c[g++]:v<h?d[v++]:c[g++];return r};return Xy=t,Xy}var Jy,zM;function $8(){if(zM)return Jy;zM=1;var n=Yi(),e=n.match(/firefox\/(\d+)/i);return Jy=!!e&&+e[1],Jy}var Zy,WM;function T8(){if(WM)return Zy;WM=1;var n=Yi();return Zy=/MSIE|Trident/.test(n),Zy}var Qy,HM;function P8(){if(HM)return Qy;HM=1;var n=Yi(),e=n.match(/AppleWebKit\/(\d+)\./);return Qy=!!e&&+e[1],Qy}var UM;function R8(){if(UM)return jM;UM=1;var n=z(),e=re(),t=tr(),r=dt(),i=rr(),s=QN(),o=mt(),a=te(),u=I8(),l=un(),d=$8(),c=T8(),h=ds(),f=P8(),v=[],g=e(v.sort),b=e(v.push),y=a(function(){v.sort(void 0)}),p=a(function(){v.sort(null)}),S=l("sort"),m=!a(function(){if(h)return h<70;if(!(d&&d>3)){if(c)return!0;if(f)return f<603;var I="",_,E,$,T;for(_=65;_<76;_++){switch(E=String.fromCharCode(_),_){case 66:case 69:case 70:case 72:$=3;break;case 68:case 71:$=4;break;default:$=2}for(T=0;T<47;T++)v.push({k:E+T,v:$})}for(v.sort(function(P,R){return R.v-P.v}),T=0;T<v.length;T++)E=v[T].k.charAt(0),I.charAt(I.length-1)!==E&&(I+=E);return I!=="DGBEFHACIJK"}}),w=y||!p||!S||!m,O=function(I){return function(_,E){return E===void 0?-1:_===void 0?1:I!==void 0?+I(_,E)||0:o(_)>o(E)?1:-1}};return n({target:"Array",proto:!0,forced:w},{sort:function(_){_!==void 0&&t(_);var E=r(this);if(m)return _===void 0?g(E):g(E,_);var $=[],T=i(E),P,R;for(R=0;R<T;R++)R in E&&b($,E[R]);for(u($,O(_)),P=i($),R=0;R<P;)E[R]=$[R++];for(;R<T;)s(E,R++);return E}}),jM}var em,VM;function q8(){if(VM)return em;VM=1,R8();var n=Ve();return em=n("Array","sort"),em}var tm,GM;function C8(){if(GM)return tm;GM=1;var n=xe(),e=q8(),t=Array.prototype;return tm=function(r){var i=r.sort;return r===t||n(t,r)&&i===t.sort?e:i},tm}var rm,KM;function x8(){if(KM)return rm;KM=1;var n=C8();return rm=n,rm}var im,YM;function D8(){return YM||(YM=1,im=x8()),im}var A8=D8(),Pi=G(A8),XM={},nm,JM;function M8(){if(JM)return nm;JM=1;var n=tr(),e=dt(),t=bo(),r=rr(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(u,l,d,c){var h=e(u),f=t(h),v=r(h);if(n(l),v===0&&d<2)throw new i(s);var g=a?v-1:0,b=a?-1:1;if(d<2)for(;;){if(g in f){c=f[g],g+=b;break}if(g+=b,a?g<0:v<=g)throw new i(s)}for(;a?g>=0:v>g;g+=b)g in f&&(c=l(c,f[g],g,h));return c}};return nm={left:o(!1),right:o(!0)},nm}var sm,ZM;function F8(){if(ZM)return sm;ZM=1;var n=tk();return sm=n==="NODE",sm}var QM;function N8(){if(QM)return XM;QM=1;var n=z(),e=M8().left,t=un(),r=ds(),i=F8(),s=!i&&r>79&&r<83,o=s||!t("reduce");return n({target:"Array",proto:!0,forced:o},{reduce:function(u){var l=arguments.length;return e(this,u,l,l>1?arguments[1]:void 0)}}),XM}var om,eF;function k8(){if(eF)return om;eF=1,N8();var n=Ve();return om=n("Array","reduce"),om}var am,tF;function B8(){if(tF)return am;tF=1;var n=xe(),e=k8(),t=Array.prototype;return am=function(r){var i=r.reduce;return r===t||n(t,r)&&i===t.reduce?e:i},am}var um,rF;function j8(){if(rF)return um;rF=1;var n=B8();return um=n,um}var lm,iF;function L8(){return iF||(iF=1,lm=j8()),lm}var z8=L8(),r2=G(z8);class i2{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,t,r),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,t){this.fake_use(e,t),this.abstract()}shift(e,t){this.fake_use(e,t),this.abstract()}}class W8 extends i2{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.x=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}sort(e){Pi(e).call(e,function(t,r){return t.x-r.x})}fix(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}shift(e,t){this.layout.body.nodes[e].x+=t}}class H8 extends i2{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.y=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}sort(e){Pi(e).call(e,function(t,r){return t.y-r.y})}fix(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}shift(e,t){this.layout.body.nodes[e].y+=t}}var nF={},sF;function U8(){if(sF)return nF;sF=1;var n=z(),e=wr().every,t=un(),r=t("every");return n({target:"Array",proto:!0,forced:!r},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),nF}var dm,oF;function V8(){if(oF)return dm;oF=1,U8();var n=Ve();return dm=n("Array","every"),dm}var cm,aF;function G8(){if(aF)return cm;aF=1;var n=xe(),e=V8(),t=Array.prototype;return cm=function(r){var i=r.every;return r===t||n(t,r)&&i===t.every?e:i},cm}var hm,uF;function K8(){if(uF)return hm;uF=1;var n=G8();return hm=n,hm}var fm,lF;function Y8(){return lF||(lF=1,fm=K8()),fm}var X8=Y8(),n2=G(X8);function J8(n,e){const t=new sr;return le(n).call(n,r=>{var i;le(i=r.edges).call(i,s=>{s.connected&&t.add(s)})}),le(t).call(t,r=>{const i=r.from.id,s=r.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function Z8(n){return s2(e=>{var t,r;return n2(t=rt(r=e.edges).call(r,i=>n.has(i.toId))).call(t,i=>i.to===e)},(e,t)=>t>e,"from",n)}function Q8(n){return s2(e=>{var t,r;return n2(t=rt(r=e.edges).call(r,i=>n.has(i.toId))).call(t,i=>i.from===e)},(e,t)=>t<e,"to",n)}function s2(n,e,t,r){var i;const s=Br(null),o=r2(i=[...Yk(r).call(r)]).call(i,(c,h)=>c+1+h.edges.length,0),a=t+"Id",u=t==="to"?1:-1;for(const[c,h]of r){if(!r.has(c)||!n(h))continue;s[c]=0;const f=[h];let v=0,g;for(;g=f.pop();){var l,d;if(!r.has(c))continue;const b=s[g.id]+u;if(le(l=rt(d=g.edges).call(d,y=>y.connected&&y.to!==y.from&&y[t]!==g&&r.has(y.toId)&&r.has(y.fromId))).call(l,y=>{const p=y[a],S=s[p];(S==null||e(b,S))&&(s[p]=b,f.push(y[t]))}),v>o)return J8(r,s);++v}}return s}class e9{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,t){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),this.parentReference[t]===void 0&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,t){t!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const t={},r=i=>{if(t[i]!==void 0)return t[i];let s=this.levels[i];if(this.childrenReference[i]){const o=this.childrenReference[i];if(o.length>0)for(let a=0;a<o.length;a++)s=Math.max(s,r(o[a]))}return t[i]=s,s};return r(e)}levelDownstream(e,t){this.levels[t.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const t=new Ab;let r=0;const i=Pi(e=[...new sr(pU(this.levels))]).call(e,(s,o)=>s-o);for(const s of i)t.set(s,r++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=t.get(this.levels[s]))}getTreeSize(e,t){let r=1e9,i=-1e9,s=1e9,o=-1e9;for(const a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===t){const u=e[a];r=Math.min(u.x,r),i=Math.max(u.x,i),s=Math.min(u.y,s),o=Math.max(u.y,o)}return{min_x:r,max_x:i,min_y:s,max_y:o}}hasSameParent(e,t){const r=this.parentReference[e.id],i=this.parentReference[t.id];if(r===void 0||i===void 0)return!1;for(let s=0;s<r.length;s++)for(let o=0;o<i.length;o++)if(r[s]==i[o])return!0;return!1}inSameSubNetwork(e,t){return this.trees[e.id]===this.trees[t.id]}getLevels(){return Ee(this.distributionOrdering)}addToOrdering(e,t){this.distributionOrdering[t]===void 0&&(this.distributionOrdering[t]=[]);let r=!1;const i=this.distributionOrdering[t];for(const s in i)if(i[s]===e){r=!0;break}r||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}class t9{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Gs()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Pe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,t){if(e!==void 0){const r=this.options.hierarchical,i=r.enabled;if(dn(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),ct(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),r.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),r.direction==="RL"||r.direction==="DU"?r.levelSeparation>0&&(r.levelSeparation*=-1):r.levelSeparation<0&&(r.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(i===!0)return this.body.emitter.emit("refresh"),he(t,this.optionsBackup)}return t}_resetRNG(e){this.initialRandomSeed=e,this._rng=xo(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const t=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:t.enabled===void 0?!0:t.enabled,solver:"hierarchicalRepulsion"},t.enabled=t.enabled===void 0?!0:t.enabled,t.solver=t.solver||"barnesHut"):typeof e.physics=="object"?(t.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let r=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:r};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(r=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:r,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",r)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const t=e.length+50;for(let r=0;r<e.length;r++){const i=e[r],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=t*Math.cos(s)),i.y===void 0&&(i.y=t*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let t=0;for(let r=0;r<e.length;r++)this.body.nodes[e[r]].predefinedPosition===!0&&(t+=1);if(t<.5*e.length){let i=0;const s=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const u=e.length;for(;e.length>s&&i<=10;){i+=1;const l=e.length;i%3===0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o);const d=e.length;if(l==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*u)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const a=70;for(let u=0;u<e.length;u++){const l=this.body.nodes[e[u]];l.predefinedPosition===!1&&(l.x+=(.5-this._rng())*a,l.y+=(.5-this._rng())*a)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Je.getRangeCore(this.body.nodes,this.body.nodeIndices),t=Je.findCenter(e);for(let r=0;r<this.body.nodeIndices.length;r++){const i=this.body.nodes[this.body.nodeIndices[r]];i.x-=t.x,i.y-=t.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let t=0;t<this.body.nodeIndices.length;t++)this.body.nodes[this.body.nodeIndices[t]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,t,r=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new e9;for(t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&(e=this.body.nodes[t],e.options.level!==void 0?(r=!0,this.hierarchical.levels[t]=e.options.level):i=!0);if(i===!0&&r===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const o=this.options.hierarchical.sortMethod;o==="hubsize"?this._determineLevelsByHubsize():o==="directed"?this._determineLevelsDirected():o==="custom"&&this._determineLevelsCustomCallback()}for(const o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let t=!1;const r={},i=()=>{const y=o();let p=0;for(let S=0;S<y.length-1;S++){const m=y[S].max-y[S+1].min;p+=m+this.options.hierarchical.treeSpacing,s(S+1,p)}},s=(y,p)=>{const S=this.hierarchical.trees;for(const m in S)Object.prototype.hasOwnProperty.call(S,m)&&S[m]===y&&this.direction.shift(m,p)},o=()=>{const y=[];for(let p=0;p<this.hierarchical.numTrees();p++)y.push(this.direction.getTreeSize(p));return y},a=(y,p)=>{if(!p[y.id]&&(p[y.id]=!0,this.hierarchical.childrenReference[y.id])){const S=this.hierarchical.childrenReference[y.id];if(S.length>0)for(let m=0;m<S.length;m++)a(this.body.nodes[S[m]],p)}},u=function(y){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,S=1e9,m=1e9,w=1e9,O=-1e9;for(const I in y)if(Object.prototype.hasOwnProperty.call(y,I)){const _=e.body.nodes[I],E=e.hierarchical.levels[_.id],$=e.direction.getPosition(_),[T,P]=e._getSpaceAroundNode(_,y);S=Math.min(T,S),m=Math.min(P,m),E<=p&&(w=Math.min($,w),O=Math.max($,O))}return[w,O,S,m]},l=(y,p)=>{const S=this.hierarchical.getMaxLevel(y.id),m=this.hierarchical.getMaxLevel(p.id);return Math.min(S,m)},d=(y,p,S)=>{const m=this.hierarchical;for(let w=0;w<p.length;w++){const O=p[w],I=m.distributionOrdering[O];if(I.length>1)for(let _=0;_<I.length-1;_++){const E=I[_],$=I[_+1];m.hasSameParent(E,$)&&m.inSameSubNetwork(E,$)&&y(E,$,S)}}},c=function(y,p){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const m=e.direction.getPosition(y),w=e.direction.getPosition(p),O=Math.abs(w-m),I=e.options.hierarchical.nodeSpacing;if(O>I){const _={},E={};a(y,_),a(p,E);const $=l(y,p),T=u(_,$),P=u(E,$),R=T[1],C=P[0],M=P[2];if(Math.abs(R-C)>I){let L=R-C+I;L<-M+I&&(L=-M+I),L<0&&(e._shiftBlock(p.id,L),t=!0,S===!0&&e._centerParent(p))}}},h=(y,p)=>{const S=p.id,m=p.edges,w=this.hierarchical.levels[p.id],O=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,I={},_=[];for(let M=0;M<m.length;M++){const K=m[M];if(K.toId!=K.fromId){const L=K.toId==S?K.from:K.to;I[m[M].id]=L,this.hierarchical.levels[L.id]<w&&_.push(K)}}const E=(M,K)=>{let L=0;for(let J=0;J<K.length;J++)if(I[K[J].id]!==void 0){const Q=this.direction.getPosition(I[K[J].id])-M;L+=Q/Math.sqrt(Q*Q+O)}return L},$=(M,K)=>{let L=0;for(let J=0;J<K.length;J++)if(I[K[J].id]!==void 0){const Q=this.direction.getPosition(I[K[J].id])-M;L-=O*Math.pow(Q*Q+O,-1.5)}return L},T=(M,K)=>{let L=this.direction.getPosition(p);const J={};for(let Q=0;Q<M;Q++){const ae=E(L,K),W=$(L,K),ue=40,ye=Math.max(-ue,Math.min(ue,Math.round(ae/W)));if(L=L-ye,J[L]!==void 0)break;J[L]=Q}return L},P=M=>{const K=this.direction.getPosition(p);if(r[p.id]===void 0){const ue={};a(p,ue),r[p.id]=ue}const L=u(r[p.id]),J=L[2],Q=L[3],ae=M-K;let W=0;ae>0?W=Math.min(ae,Q-this.options.hierarchical.nodeSpacing):ae<0&&(W=-Math.min(-ae,J-this.options.hierarchical.nodeSpacing)),W!=0&&(this._shiftBlock(p.id,W),t=!0)},R=M=>{const K=this.direction.getPosition(p),[L,J]=this._getSpaceAroundNode(p),Q=M-K;let ae=K;Q>0?ae=Math.min(K+(J-this.options.hierarchical.nodeSpacing),M):Q<0&&(ae=Math.max(K-(L-this.options.hierarchical.nodeSpacing),M)),ae!==K&&(this.direction.setPosition(p,ae),t=!0)};let C=T(y,_);P(C),C=T(y,m),R(C)},f=y=>{let p=this.hierarchical.getLevels();p=kr(p).call(p);for(let S=0;S<y;S++){t=!1;for(let m=0;m<p.length;m++){const w=p[m],O=this.hierarchical.distributionOrdering[w];for(let I=0;I<O.length;I++)h(1e3,O[I])}if(t!==!0)break}},v=y=>{let p=this.hierarchical.getLevels();p=kr(p).call(p);for(let S=0;S<y&&(t=!1,d(c,p,!0),t===!0);S++);},g=()=>{for(const y in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,y)&&this._centerParent(this.body.nodes[y])},b=()=>{let y=this.hierarchical.getLevels();y=kr(y).call(y);for(let p=0;p<y.length;p++){const S=y[p],m=this.hierarchical.distributionOrdering[S];for(let w=0;w<m.length;w++)this._centerParent(m[w])}};this.options.hierarchical.blockShifting===!0&&(v(5),g()),this.options.hierarchical.edgeMinimization===!0&&f(20),this.options.hierarchical.parentCentralization===!0&&b(),i()}_getSpaceAroundNode(e,t){let r=!0;t===void 0&&(r=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[i];let u=1e9,l=1e9;if(s!==0){const d=a[s-1];if(r===!0&&t[d.id]===void 0||r===!1){const c=this.direction.getPosition(d);u=o-c}}if(s!=a.length-1){const d=a[s+1];if(r===!0&&t[d.id]===void 0||r===!1){const c=this.direction.getPosition(d);l=Math.min(l,c-o)}}return[u,l]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const t=this.hierarchical.parentReference[e.id];for(let r=0;r<t.length;r++){const i=t[r],s=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(o!==void 0){const a=this._getCenterPosition(o),u=this.direction.getPosition(s),[l,d]=this._getSpaceAroundNode(s),c=u-a;(c<0&&Math.abs(c)<d-this.options.hierarchical.nodeSpacing||c>0&&Math.abs(c)<l-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,a)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var t;let i=Ee(e[r]);i=this._indexArrayToNodes(i),Pi(t=this.direction).call(t,i);let s=0;for(let o=0;o<i.length;o++){const a=i[o];if(this.positionedNodes[a.id]===void 0){const u=this.options.hierarchical.nodeSpacing;let l=u*s;s>0&&(l=this.direction.getPosition(i[o-1])+u),this.direction.setPosition(a,l,r),this._validatePositionAndContinue(a,r,l),s++}}}}_placeBranchNodes(e,t){var r;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let a=0;a<i.length;a++)s.push(this.body.nodes[i[a]]);Pi(r=this.direction).call(r,s);for(let a=0;a<s.length;a++){const u=s[a],l=this.hierarchical.levels[u.id];if(l>t&&this.positionedNodes[u.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let c;a===0?c=this.direction.getPosition(this.body.nodes[e]):c=this.direction.getPosition(s[a-1])+d,this.direction.setPosition(u,c,l),this._validatePositionAndContinue(u,l,c)}else return}const o=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],o,t)}_validatePositionAndContinue(e,t,r){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[t]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(r-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-r,o=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(o.withChild,s)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}_indexArrayToNodes(e){const t=[];for(let r=0;r<e.length;r++)t.push(this.body.nodes[e[r]]);return t}_getDistribution(){const e={};let t,r;for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){r=this.body.nodes[t];const i=this.hierarchical.levels[t]===void 0?0:this.hierarchical.levels[t];this.direction.fix(r,i),e[i]===void 0&&(e[i]={}),e[i][t]=r}return e}_getActiveEdges(e){const t=[];return Z(e.edges,r=>{var i;ne(i=this.body.edgeIndices).call(i,r.id)!==-1&&t.push(r)}),t}_getHubSizes(){const e={},t=this.body.nodeIndices;Z(t,i=>{const s=this.body.nodes[i],o=this._getActiveEdges(s).length;e[o]=!0});const r=[];return Z(e,i=>{r.push(Number(i))}),Pi(r).call(r,function(i,s){return s-i}),r}_determineLevelsByHubsize(){const e=(r,i)=>{this.hierarchical.levelDownstream(r,i)},t=this._getHubSizes();for(let r=0;r<t.length;++r){const i=t[r];if(i===0)break;Z(this.body.nodeIndices,s=>{const o=this.body.nodes[s];i===this._getActiveEdges(o).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const t=function(i,s,o){},r=(i,s,o)=>{let a=this.hierarchical.levels[i.id];a===void 0&&(a=this.hierarchical.levels[i.id]=1e5);const u=t(Je.cloneOptions(i,"node"),Je.cloneOptions(s,"node"),Je.cloneOptions(o,"edge"));this.hierarchical.levels[s.id]=a+u};this._crawlNetwork(r),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const t=r2(e=this.body.nodeIndices).call(e,(r,i)=>(r.set(i,this.body.nodes[i]),r),new Ab);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=Q8(t):this.hierarchical.levels=Z8(t),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(t,r)=>{this.hierarchical.levels[r.id]>this.hierarchical.levels[t.id]&&this.hierarchical.addRelation(t.id,r.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0;const r={},i=(s,o)=>{if(r[s.id]===void 0){this.hierarchical.setTreeIndex(s,o),r[s.id]=!0;let a;const u=this._getActiveEdges(s);for(let l=0;l<u.length;l++){const d=u[l];d.connected===!0&&(d.toId==s.id?a=d.from:a=d.to,s.id!=a.id&&(e(s,a,d),i(a,o)))}}};if(t===void 0){let s=0;for(let o=0;o<this.body.nodeIndices.length;o++){const a=this.body.nodeIndices[o];if(r[a]===void 0){const u=this.body.nodes[a];i(u,s),s+=1}}}else{const s=this.body.nodes[t];if(s===void 0){console.error("Node not found:",t);return}i(s)}}_shiftBlock(e,t){const r={},i=s=>{if(r[s])return;r[s]=!0,this.direction.shift(s,t);const o=this.hierarchical.childrenReference[s];if(o!==void 0)for(let a=0;a<o.length;a++)i(o[a])};i(e)}_findCommonParent(e,t){const r={},i=(o,a)=>{const u=this.hierarchical.parentReference[a];if(u!==void 0)for(let l=0;l<u.length;l++){const d=u[l];o[d]=!0,i(o,d)}},s=(o,a)=>{const u=this.hierarchical.parentReference[a];if(u!==void 0)for(let l=0;l<u.length;l++){const d=u[l];if(o[d]!==void 0)return{foundParent:d,withChild:a};const c=s(o,d);if(c.foundParent!==null)return c}return{foundParent:null,withChild:a}};return i(r,e),s(r,t)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new W8(this):this.direction=new H8(this)}_getCenterPosition(e){let t=1e9,r=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const a=e[i];s=this.body.nodes[a]}const o=this.direction.getPosition(s);t=Math.min(t,o),r=Math.max(r,o)}return .5*(t+r)}}class r9{constructor(e,t,r,i){var s,o;this.body=e,this.canvas=t,this.selectionHandler=r,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Pe(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",D(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",D(o=this._restore).call(o,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,t,r){t!==void 0&&(t.locale!==void 0?this.options.locale=t.locale:this.options.locale=r.locale,t.locales!==void 0?this.options.locales=t.locales:this.options.locales=r.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,he(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const r=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=r+i,o=this.options.locales[this.options.locale];let a=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),a=!0),this.options.addEdge!==!1&&(a===!0?this._createSeperator(1):a=!0,this._createAddEdgeButton(o)),r===1&&typeof this.options.editNode=="function"?(a===!0?this._createSeperator(2):a=!0,this._createEditNodeButton(o)):i===1&&r===0&&this.options.editEdge!==!1&&(a===!0?this._createSeperator(3):a=!0,this._createEditEdgeButton(o)),s!==0&&(r>0&&this.options.deleteNode!==!1?(a===!0&&this._createSeperator(4),this._createDeleteButton(o)):r===0&&this.options.deleteEdge!==!1&&(a===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindElementEvents(this.closeDiv,D(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",D(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t;const r=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(r),this._createSeperator(),this._createDescription(r.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,D(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",D(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const t=he({},e.options,!1);if(t.x=e.x,t.y=e.y,this.options.editNode.length===2)this.options.editNode(t,r=>{r!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(r),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,t,r,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var o;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,D(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",D(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",D(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",D(r=this._dragControlNode).call(r,this)),this._temporaryBindUI("onRelease",D(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",D(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const o=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(o.from.id,o.to.id);return}if(this.guiEnabled===!0){var e;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,D(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var t,r,i,s;const o=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(o.from.x,o.from.y),u=this._getNewTargetNode(o.to.x,o.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(u.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[u.id]=u,this.body.nodeIndices.push(u.id),this._temporaryBindUI("onTouch",D(t=this._controlNodeTouch).call(t,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",D(r=this._controlNodeDragStart).call(r,this)),this._temporaryBindUI("onDrag",D(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",D(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",l=>{const d=o.edgeType.findBorderPositions(l);a.selected===!1&&(a.x=d.from.x,a.y=d.from.y),u.selected===!1&&(u.x=d.to.x,u.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),t=this.selectionHandler.getSelectedEdgeIds();let r;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(r=this.options.deleteNode)}else t.length>0&&typeof this.options.deleteEdge=="function"&&(r=this.options.deleteEdge);if(typeof r=="function"){const i={nodes:e,edges:t};if(r.length===2)r(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(t),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,t;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(t=this.options.locales[this.options.locale])===null||t===void 0?void 0:t.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,t){const r=he({},this.options.controlNodeStyle);r.id="targetNode"+Cn(),r.hidden=!1,r.physics=!1,r.x=e,r.y=t;const i=this.body.functions.createNode(r);return i.shape.boundingBox={left:e,right:e,top:t,bottom:t},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},ir(this.editModeDiv);const t=this.options.locales[this.options.locale],r=this._createButton("editMode","vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(r),this._bindElementEvents(r,D(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(ir(this.editModeDiv),ir(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const t of Vt(e=this._domEventListenerCleanupQueue).call(e,0)){var e;t()}}_removeManipulationDOM(){this._clean(),ir(this.manipulationDiv),ir(this.editModeDiv),ir(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var t;const r=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,D(t=this.addNodeMode).call(t,this))}_createAddEdgeButton(e){var t;const r=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,D(t=this.addEdgeMode).call(t,this))}_createEditNodeButton(e){var t;const r=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,D(t=this.editNode).call(t,this))}_createEditEdgeButton(e){var t;const r=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,D(t=this.editEdgeMode).call(t,this))}_createDeleteButton(e){var t;let r;this.options.rtl?r="vis-delete-rtl":r="vis-delete";const i=this._createButton("delete",r,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,D(t=this.deleteSelected).call(t,this))}_createBackButton(e){var t;const r=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,D(t=this.showManipulatorToolbar).call(t,this))}_createButton(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=r,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}_temporaryBindUI(e,t){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+ys(Ee(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const t=this.temporaryEventFunctions[e].event,r=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,r)}this.temporaryEventFunctions=[]}_bindElementEvents(e,t){const r=new $i(e,{});eo(r,t),this._domEventListenerCleanupQueue.push(()=>{r.destroy()});const i=s=>{let{keyCode:o,key:a}=s;(a==="Enter"||a===" "||o===13||o===32)&&t()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const o=ne(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(o!==-1){var t;Vt(t=this.body.edgeIndices).call(t,o,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var r;delete this.body.nodes[this.temporaryIds.nodes[s]];const o=ne(r=this.body.nodeIndices).call(r,this.temporaryIds.nodes[s]);if(o!==-1){var i;Vt(i=this.body.nodeIndices).call(i,o,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Pe({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),r=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const o=r.isOverlappingWith(t),a=i.isOverlappingWith(t);o===!0?(this.selectedControlNode=r,s.edgeType.from=r):a===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const t=this.body.functions.getPointer(e.center),r=this.canvas.DOMtoCanvas(t);this.selectedControlNode!==void 0?(this.selectedControlNode.x=r.x,this.selectedControlNode.y=r.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let a=s.length-1;a>=0;a--)if(s[a]!==this.selectedControlNode.id){o=this.body.nodes[s[a]];break}if(o!==void 0&&this.selectedControlNode!==void 0)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,i.to.id):this._performEditEdge(i.from.id,o.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Pe({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const t=this.lastTouch,r=this.selectionHandler.getNodeAt(t);if(r!==void 0)if(r.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(r.x,r.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+Cn(),from:r.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let u=s.length-1;u>=0;u--){var a;if(ne(a=this.temporaryIds.nodes).call(a,s[u])===-1){o=this.body.nodes[s[u]];break}}if(e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),this.temporaryIds.nodes[0]!==void 0){const u=this.body.nodes[this.temporaryIds.nodes[0]];u.x=this.canvas._XconvertDOMtoCanvas(t.x),u.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let u=s.length-1;u>=0;u--){var a;if(ne(a=this.temporaryIds.nodes).call(a,s[u])===-1){o=this.body.nodes[s[u]];break}}this._cleanupTemporaryNodesAndEdges(),o!==void 0&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[o.id]!==void 0&&this._performAddEdge(i,o.id)),e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const t=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,t,void 0,!0)}_performAddNode(e){const t={id:Cn(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(t,r=>{r!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(t),this.showManipulatorToolbar()}_performAddEdge(e,t){const r={from:e,to:t};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(r,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,t){const r={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(r,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[r.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const A="string",x="boolean",q="number",In="array",j="object",o2="dom",i9="any",vm=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],pm={borderWidth:{number:q},borderWidthSelected:{number:q,undefined:"undefined"},brokenImage:{string:A,undefined:"undefined"},chosen:{label:{boolean:x,function:"function"},node:{boolean:x,function:"function"},__type__:{object:j,boolean:x}},color:{border:{string:A},background:{string:A},highlight:{border:{string:A},background:{string:A},__type__:{object:j,string:A}},hover:{border:{string:A},background:{string:A},__type__:{object:j,string:A}},__type__:{object:j,string:A}},opacity:{number:q,undefined:"undefined"},fixed:{x:{boolean:x},y:{boolean:x},__type__:{object:j,boolean:x}},font:{align:{string:A},color:{string:A},size:{number:q},face:{string:A},background:{string:A},strokeWidth:{number:q},strokeColor:{string:A},vadjust:{number:q},multi:{boolean:x,string:A},bold:{color:{string:A},size:{number:q},face:{string:A},mod:{string:A},vadjust:{number:q},__type__:{object:j,string:A}},boldital:{color:{string:A},size:{number:q},face:{string:A},mod:{string:A},vadjust:{number:q},__type__:{object:j,string:A}},ital:{color:{string:A},size:{number:q},face:{string:A},mod:{string:A},vadjust:{number:q},__type__:{object:j,string:A}},mono:{color:{string:A},size:{number:q},face:{string:A},mod:{string:A},vadjust:{number:q},__type__:{object:j,string:A}},__type__:{object:j,string:A}},group:{string:A,number:q,undefined:"undefined"},heightConstraint:{minimum:{number:q},valign:{string:A},__type__:{object:j,boolean:x,number:q}},hidden:{boolean:x},icon:{face:{string:A},code:{string:A},size:{number:q},color:{string:A},weight:{string:A,number:q},__type__:{object:j}},id:{string:A,number:q},image:{selected:{string:A,undefined:"undefined"},unselected:{string:A,undefined:"undefined"},__type__:{object:j,string:A}},imagePadding:{top:{number:q},right:{number:q},bottom:{number:q},left:{number:q},__type__:{object:j,number:q}},label:{string:A,undefined:"undefined"},labelHighlightBold:{boolean:x},level:{number:q,undefined:"undefined"},margin:{top:{number:q},right:{number:q},bottom:{number:q},left:{number:q},__type__:{object:j,number:q}},mass:{number:q},physics:{boolean:x},scaling:{min:{number:q},max:{number:q},label:{enabled:{boolean:x},min:{number:q},max:{number:q},maxVisible:{number:q},drawThreshold:{number:q},__type__:{object:j,boolean:x}},customScalingFunction:{function:"function"},__type__:{object:j}},shadow:{enabled:{boolean:x},color:{string:A},size:{number:q},x:{number:q},y:{number:q},__type__:{object:j,boolean:x}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:x,array:In},borderRadius:{number:q},interpolation:{boolean:x},useImageSize:{boolean:x},useBorderWithImage:{boolean:x},coordinateOrigin:{string:["center","top-left"]},__type__:{object:j}},size:{number:q},title:{string:A,dom:o2,undefined:"undefined"},value:{number:q,undefined:"undefined"},widthConstraint:{minimum:{number:q},maximum:{number:q},__type__:{object:j,boolean:x,number:q}},x:{number:q},y:{number:q},__type__:{object:j}},n9={configure:{enabled:{boolean:x},filter:{boolean:x,string:A,array:In,function:"function"},container:{dom:o2},showButton:{boolean:x},__type__:{object:j,boolean:x,string:A,array:In,function:"function"}},edges:{arrows:{to:{enabled:{boolean:x},scaleFactor:{number:q},type:{string:vm},imageHeight:{number:q},imageWidth:{number:q},src:{string:A},__type__:{object:j,boolean:x}},middle:{enabled:{boolean:x},scaleFactor:{number:q},type:{string:vm},imageWidth:{number:q},imageHeight:{number:q},src:{string:A},__type__:{object:j,boolean:x}},from:{enabled:{boolean:x},scaleFactor:{number:q},type:{string:vm},imageWidth:{number:q},imageHeight:{number:q},src:{string:A},__type__:{object:j,boolean:x}},__type__:{string:["from","to","middle"],object:j}},endPointOffset:{from:{number:q},to:{number:q},__type__:{object:j,number:q}},arrowStrikethrough:{boolean:x},background:{enabled:{boolean:x},color:{string:A},size:{number:q},dashes:{boolean:x,array:In},__type__:{object:j,boolean:x}},chosen:{label:{boolean:x,function:"function"},edge:{boolean:x,function:"function"},__type__:{object:j,boolean:x}},color:{color:{string:A},highlight:{string:A},hover:{string:A},inherit:{string:["from","to","both"],boolean:x},opacity:{number:q},__type__:{object:j,string:A}},dashes:{boolean:x,array:In},font:{color:{string:A},size:{number:q},face:{string:A},background:{string:A},strokeWidth:{number:q},strokeColor:{string:A},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:q},multi:{boolean:x,string:A},bold:{color:{string:A},size:{number:q},face:{string:A},mod:{string:A},vadjust:{number:q},__type__:{object:j,string:A}},boldital:{color:{string:A},size:{number:q},face:{string:A},mod:{string:A},vadjust:{number:q},__type__:{object:j,string:A}},ital:{color:{string:A},size:{number:q},face:{string:A},mod:{string:A},vadjust:{number:q},__type__:{object:j,string:A}},mono:{color:{string:A},size:{number:q},face:{string:A},mod:{string:A},vadjust:{number:q},__type__:{object:j,string:A}},__type__:{object:j,string:A}},hidden:{boolean:x},hoverWidth:{function:"function",number:q},label:{string:A,undefined:"undefined"},labelHighlightBold:{boolean:x},length:{number:q,undefined:"undefined"},physics:{boolean:x},scaling:{min:{number:q},max:{number:q},label:{enabled:{boolean:x},min:{number:q},max:{number:q},maxVisible:{number:q},drawThreshold:{number:q},__type__:{object:j,boolean:x}},customScalingFunction:{function:"function"},__type__:{object:j}},selectionWidth:{function:"function",number:q},selfReferenceSize:{number:q},selfReference:{size:{number:q},angle:{number:q},renderBehindTheNode:{boolean:x},__type__:{object:j}},shadow:{enabled:{boolean:x},color:{string:A},size:{number:q},x:{number:q},y:{number:q},__type__:{object:j,boolean:x}},smooth:{enabled:{boolean:x},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:q},forceDirection:{string:["horizontal","vertical","none"],boolean:x},__type__:{object:j,boolean:x}},title:{string:A,undefined:"undefined"},width:{number:q},widthConstraint:{maximum:{number:q},__type__:{object:j,boolean:x,number:q}},value:{number:q,undefined:"undefined"},__type__:{object:j}},groups:{useDefaultGroups:{boolean:x},__any__:pm,__type__:{object:j}},interaction:{dragNodes:{boolean:x},dragView:{boolean:x},hideEdgesOnDrag:{boolean:x},hideEdgesOnZoom:{boolean:x},hideNodesOnDrag:{boolean:x},hover:{boolean:x},keyboard:{enabled:{boolean:x},speed:{x:{number:q},y:{number:q},zoom:{number:q},__type__:{object:j}},bindToWindow:{boolean:x},autoFocus:{boolean:x},__type__:{object:j,boolean:x}},multiselect:{boolean:x},navigationButtons:{boolean:x},selectable:{boolean:x},selectConnectedEdges:{boolean:x},hoverConnectedEdges:{boolean:x},tooltipDelay:{number:q},zoomView:{boolean:x},zoomSpeed:{number:q},__type__:{object:j}},layout:{randomSeed:{undefined:"undefined",number:q,string:A},improvedLayout:{boolean:x},clusterThreshold:{number:q},hierarchical:{enabled:{boolean:x},levelSeparation:{number:q},nodeSpacing:{number:q},treeSpacing:{number:q},blockShifting:{boolean:x},edgeMinimization:{boolean:x},parentCentralization:{boolean:x},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:j,boolean:x}},__type__:{object:j}},manipulation:{enabled:{boolean:x},initiallyActive:{boolean:x},addNode:{boolean:x,function:"function"},addEdge:{boolean:x,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:j,boolean:x,function:"function"}},deleteNode:{boolean:x,function:"function"},deleteEdge:{boolean:x,function:"function"},controlNodeStyle:pm,__type__:{object:j,boolean:x}},nodes:pm,physics:{enabled:{boolean:x},barnesHut:{theta:{number:q},gravitationalConstant:{number:q},centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:j}},forceAtlas2Based:{theta:{number:q},gravitationalConstant:{number:q},centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:j}},repulsion:{centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},nodeDistance:{number:q},damping:{number:q},__type__:{object:j}},hierarchicalRepulsion:{centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},nodeDistance:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:j}},maxVelocity:{number:q},minVelocity:{number:q},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:x},iterations:{number:q},updateInterval:{number:q},onlyDynamicEdges:{boolean:x},fit:{boolean:x},__type__:{object:j,boolean:x}},timestep:{number:q},adaptiveTimestep:{boolean:x},wind:{x:{number:q},y:{number:q},__type__:{object:j}},__type__:{object:j,boolean:x}},autoResize:{boolean:x},clickToUse:{boolean:x},locale:{string:A},locales:{__any__:{any:i9},__type__:{object:j}},height:{string:A},width:{string:A},__type__:{object:j}},a2={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},s9=(n,e,t)=>{var r;return!!(lr(n).call(n,"physics")&&lr(r=a2.physics.solver).call(r,e)&&t.physics.solver!==e&&e!=="wind")};class o9{constructor(){}getDistances(e,t,r){const i={},s=e.edges;for(let a=0;a<t.length;a++){const u=t[a],l={};i[u]=l;for(let d=0;d<t.length;d++)l[t[d]]=a==d?0:1e9}for(let a=0;a<r.length;a++){const u=s[r[a]];u.connected===!0&&i[u.fromId]!==void 0&&i[u.toId]!==void 0&&(i[u.fromId][u.toId]=1,i[u.toId][u.fromId]=1)}const o=t.length;for(let a=0;a<o;a++){const u=t[a],l=i[u];for(let d=0;d<o-1;d++){const c=t[d],h=i[c];for(let f=d+1;f<o;f++){const v=t[f],g=i[v],b=Math.min(h[v],h[u]+l[v]);h[v]=b,g[c]=b}}}return i}}class a9{constructor(e,t,r){this.body=e,this.springLength=t,this.springConstant=r,this.distanceSolver=new o9}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,o=1;let a=0;const u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),l=5;let d=1e9,c=0,h=0,f=0,v=0,g=0;for(;d>s&&a<u;)for(a+=1,[c,d,h,f]=this._getHighestEnergyNode(r),v=d,g=0;v>o&&g<l;)g+=1,this._moveNode(c,h,f),[v,h,f]=this._getEnergy(c)}_getHighestEnergyNode(e){const t=this.body.nodeIndices,r=this.body.nodes;let i=0,s=t[0],o=0,a=0;for(let u=0;u<t.length;u++){const l=t[u];if(r[l].predefinedPosition!==!0||r[l].isCluster===!0&&e===!0||r[l].options.fixed.x!==!0||r[l].options.fixed.y!==!0){const[d,c,h]=this._getEnergy(l);i<d&&(i=d,s=l,o=c,a=h)}}return[s,i,o,a]}_getEnergy(e){const[t,r]=this.E_sums[e];return[Math.sqrt(t**2+r**2),t,r]}_moveNode(e,t,r){const i=this.body.nodeIndices,s=this.body.nodes;let o=0,a=0,u=0;const l=s[e].x,d=s[e].y,c=this.K_matrix[e],h=this.L_matrix[e];for(let m=0;m<i.length;m++){const w=i[m];if(w!==e){const O=s[w].x,I=s[w].y,_=c[w],E=h[w],$=1/((l-O)**2+(d-I)**2)**1.5;o+=_*(1-E*(d-I)**2*$),a+=_*(E*(l-O)*(d-I)*$),u+=_*(1-E*(l-O)**2*$)}}const f=o,v=a,g=t,b=u,y=r,p=(g/f+y/v)/(v/f-b/v),S=-(v*p+g)/f;s[e].x+=S,s[e].y+=p,this._updateE_matrix(e)}_createL_matrix(e){const t=this.body.nodeIndices,r=this.springLength;this.L_matrix=[];for(let i=0;i<t.length;i++){this.L_matrix[t[i]]={};for(let s=0;s<t.length;s++)this.L_matrix[t[i]][t[s]]=r*e[t[i]][t[s]]}}_createK_matrix(e){const t=this.body.nodeIndices,r=this.springConstant;this.K_matrix=[];for(let i=0;i<t.length;i++){this.K_matrix[t[i]]={};for(let s=0;s<t.length;s++)this.K_matrix[t[i]][t[s]]=r*e[t[i]][t[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(let r=0;r<e.length;r++)this.E_matrix[e[r]]=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[i].x,o=t[i].y;let a=0,u=0;for(let l=r;l<e.length;l++){const d=e[l];if(d!==i){const c=t[d].x,h=t[d].y,f=1/Math.sqrt((s-c)**2+(o-h)**2);this.E_matrix[i][l]=[this.K_matrix[i][d]*(s-c-this.L_matrix[i][d]*(s-c)*f),this.K_matrix[i][d]*(o-h-this.L_matrix[i][d]*(o-h)*f)],this.E_matrix[d][r]=this.E_matrix[i][l],a+=this.E_matrix[i][l][0],u+=this.E_matrix[i][l][1]}}this.E_sums[i]=[a,u]}}_updateE_matrix(e){const t=this.body.nodeIndices,r=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],o=this.L_matrix[e],a=r[e].x,u=r[e].y;let l=0,d=0;for(let c=0;c<t.length;c++){const h=t[c];if(h!==e){const f=i[c],v=f[0],g=f[1],b=r[h].x,y=r[h].y,p=1/Math.sqrt((a-b)**2+(u-y)**2),S=s[h]*(a-b-o[h]*(a-b)*p),m=s[h]*(u-y-o[h]*(u-y)*p);i[c]=[S,m],l+=S,d+=m;const w=this.E_sums[h];w[0]+=S-v,w[1]+=m-g}}this.E_sums[e]=[l,d]}}function B(n,e,t){var r,i,s,o;if(!(this instanceof B))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:CG,clickToUse:!1},Pe(this.options,this.defaultOptions),this.body={container:n,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:D(r=this.on).call(r,this),off:D(i=this.off).call(i,this),emit:D(s=this.emit).call(s,this),once:D(o=this.once).call(o,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new AG(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new YG,this.canvas=new W6(this.body),this.selectionHandler=new O8(this.body,this.canvas),this.interactionHandler=new G6(this.body,this.canvas,this.selectionHandler),this.view=new U6(this.body,this.canvas),this.renderer=new k6(this.body,this.canvas),this.physics=new q6(this.body),this.layoutEngine=new t9(this.body),this.clustering=new N6(this.body),this.manipulation=new r9(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new n6(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new O6(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new a9(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}NN(B.prototype);B.prototype.setOptions=function(n){if(n===null&&(n=void 0),n!==void 0){if(uG.validate(n,n9)===!0&&console.error("%cErrors have been found in the supplied options object.",xk),dn(["locale","locales","clickToUse"],this.options,n),n.locale!==void 0&&(n.locale=xG(n.locales||this.options.locales,n.locale)),n=this.layoutEngine.setOptions(n.layout,n),this.canvas.setOptions(n),this.groups.setOptions(n.groups),this.nodesHandler.setOptions(n.nodes),this.edgesHandler.setOptions(n.edges),this.physics.setOptions(n.physics),this.manipulation.setOptions(n.manipulation,n,this.options),this.interactionHandler.setOptions(n.interaction),this.renderer.setOptions(n.interaction),this.selectionHandler.setOptions(n.interaction),n.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in n&&(this.configurator||(this.configurator=new oG(this,this.body.container,a2,this.canvas.pixelRatio,s9)),this.configurator.setOptions(n.configure)),this.configurator&&this.configurator.options.enabled===!0){const r={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};he(r.nodes,this.nodesHandler.options),he(r.edges,this.edgesHandler.options),he(r.layout,this.layoutEngine.options),he(r.interaction,this.selectionHandler.options),he(r.interaction,this.renderer.options),he(r.interaction,this.interactionHandler.options),he(r.manipulation,this.manipulation.options),he(r.physics,this.physics.options),he(r.global,this.canvas.options),he(r.global,this.options),this.configurator.setModuleOptions(r)}n.clickToUse!==void 0?n.clickToUse===!0?this.activator===void 0&&(this.activator=new sG(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};B.prototype._updateVisibleIndices=function(){const n=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&!this.clustering._isClusteredNode(t)&&n[t].options.hidden===!1&&this.body.nodeIndices.push(n[t].id);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t],i=n[r.fromId],s=n[r.toId],o=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(t)&&r.options.hidden===!1&&o&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(r.id)}};B.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};B.prototype.setData=function(n){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),n&&n.dot&&(n.nodes||n.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(n&&n.options),n&&n.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=mG(n.dot);this.setData(e);return}else if(n&&n.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=bG(n.gephi);this.setData(e);return}else this.nodesHandler.setData(n&&n.nodes,!0),this.edgesHandler.setData(n&&n.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};B.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const n in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,n)&&delete this.body.nodes[n];for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&delete this.body.edges[n];ir(this.body.container)};B.prototype._updateValueRange=function(n){let e,t,r,i=0;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const s=n[e].getValue();s!==void 0&&(t=t===void 0?s:Math.min(s,t),r=r===void 0?s:Math.max(s,r),i+=s)}if(t!==void 0&&r!==void 0)for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&n[e].setValueRange(t,r,i)};B.prototype.isActive=function(){return!this.activator||this.activator.active};B.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};B.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};B.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};B.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};B.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};B.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};B.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};B.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};B.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};B.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};B.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};B.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};B.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};B.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};B.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};B.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};B.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};B.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};B.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};B.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};B.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};B.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};B.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};B.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};B.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};B.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};B.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};B.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};B.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};B.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};B.prototype.getConnectedNodes=function(n){return this.body.nodes[n]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};B.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};B.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};B.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};B.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};B.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};B.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};B.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};B.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};B.prototype.getNodeAt=function(){const n=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return n!==void 0&&n.id!==void 0?n.id:n};B.prototype.getEdgeAt=function(){const n=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return n!==void 0&&n.id!==void 0?n.id:n};B.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};B.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};B.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};B.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};B.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};B.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};B.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};B.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};B.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};B.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};B.prototype.getOptionsFromConfigurator=function(){let n={};return this.configurator&&(n=this.configurator.getOptions.apply(this.configurator)),n};const u9={class:"w-full h-full relative border dark:border-gray-700 rounded-lg overflow-hidden group isolate select-none"},l9={class:"flex items-center gap-2 border-b border-gray-100 dark:border-gray-700 pb-2"},d9={class:"font-bold text-sm text-gray-800 dark:text-gray-100 break-words leading-tight"},c9={class:"space-y-1.5 text-xs text-gray-600 dark:text-gray-300"},h9={class:"flex gap-2"},f9={class:"font-medium bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-[10px] uppercase tracking-wide"},v9={class:"flex gap-2"},p9={class:"font-mono opacity-75"},g9={key:0,class:"mt-1"},y9={class:"bg-gray-50 dark:bg-gray-900/50 p-2 rounded border border-gray-100 dark:border-gray-800/50 overflow-hidden"},m9={class:"whitespace-pre-wrap font-mono text-[10px] leading-relaxed text-gray-600 dark:text-gray-400 break-all"},b9={class:"absolute bottom-4 right-4 flex gap-2 opacity-50 group-hover:opacity-100 transition-opacity z-10"},_9=["title"],w9={key:1,class:"absolute inset-0 bg-gray-500/20 backdrop-blur-sm flex items-center justify-center z-20"},E9={class:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl border dark:border-gray-700 flex flex-col items-center gap-3"},S9={class:"animate-spin"},O9={__name:"InteractiveGraphViewer",props:{nodes:{type:Array,default:()=>[]},edges:{type:Array,default:()=>[]},isLoading:{type:Boolean,default:!1}},emits:["node-select","edge-select","deselect"],setup(n,{expose:e,emit:t}){const r=n,i=t,s=l2(),o=zo(null);let a=null;const u=zo(!0),l=zo({visible:!1,x:0,y:0,node:null,color:""}),d={Person:"#FFD700",Organization:"#87CEEB",Location:"#90EE90",Date:"#FFA07A",Product:"#20B2AA",Event:"#FF69B4",Concept:"#9370DB",Technology:"#A9A9A9",default:"#D3D3D3"};function c(y,p){let S=0;for(let I=0;I<y.length;I++)S=y.charCodeAt(I)+((S<<5)-S);return`hsl(${Math.abs(S)%360}, 70%, ${p?65:45}%)`}function h(y,p){return d[y]?d[y]:c(y||"default",p)}const f=y=>{const p=y==="dark";return{nodes:{shape:"dot",size:25,font:{size:14,color:p?"#E5E7EB":"#374151",strokeWidth:3,strokeColor:p?"#111827":"#FFFFFF"},borderWidth:2,shadow:{enabled:!0,color:"rgba(0,0,0,0.2)",size:5,x:2,y:2}},edges:{width:2,color:{color:p?"#6B7280":"#9CA3AF",highlight:"#3B82F6",hover:"#60A5FA",opacity:.9,inherit:!1},smooth:{type:"continuous",roundness:.5},arrows:{to:{enabled:!0,scaleFactor:.8}},font:{align:"middle",size:11,color:p?"#9CA3AF":"#4B5563",strokeWidth:2,strokeColor:p?"#111827":"#FFFFFF",background:"transparent"},selectionWidth:3},physics:{enabled:!0,solver:"forceAtlas2Based",forceAtlas2Based:{gravitationalConstant:-30,centralGravity:.005,springLength:200,springConstant:.1,damping:.4,avoidOverlap:.5},maxVelocity:40,minVelocity:.5,stabilization:{enabled:!0,iterations:500,updateInterval:50,onlyDynamicEdges:!1}},interaction:{hover:!0,hoverConnectedEdges:!0,tooltipDelay:0,dragNodes:!0,dragView:!0,zoomView:!0,selectable:!0,selectConnectedEdges:!0}}};function v(){if(!o.value)return;const y=s.currentTheme==="dark",p={nodes:r.nodes.map(m=>{var _,E,$;const w=m.label,O=String(((_=m.properties)==null?void 0:_.identifying_value)||((E=m.properties)==null?void 0:E.name)||(($=m.properties)==null?void 0:$.label)||m.label||m.id),I=h(w,y);return{id:String(m.id),label:O.length>25?O.substring(0,24)+"...":O,title:void 0,color:{background:I,border:I,highlight:{background:I,border:y?"#FFFFFF":"#000000"},hover:{background:I,border:y?"#FFFFFF":"#000000"}},group:w,_raw:m}}),edges:r.edges.map(m=>{const w=m.source??m.source_id??m.from??m.start??m.start_node_id,O=m.target??m.target_id??m.to??m.end??m.end_node_id;return{id:m.id,from:String(w),to:String(O),label:m.label||m.type||"",properties:m.properties}}).filter(m=>m.from&&m.to&&m.from!=="undefined"&&m.to!=="undefined")},S=f(s.currentTheme);a?(a.setOptions(S),a.setData(p)):(a=new B(o.value,p,S),a.on("click",m=>{if(m.nodes.length>0){const w=m.nodes[0],O=r.nodes.find(I=>String(I.id)===String(w));O&&i("node-select",O)}else if(m.edges.length>0){const w=m.edges[0],O=r.edges.find(I=>I.id===w);O&&i("edge-select",O)}else i("deselect")}),a.on("hoverNode",m=>{const w=m.node,I=a.getPositions([w])[w];if(!I)return;const _=a.canvasToDOM(I),E=r.nodes.find(T=>String(T.id)===String(w)),$=(E==null?void 0:E.label)||"default";E&&(l.value={visible:!0,x:_.x,y:_.y,node:E,color:h($,y)})}),a.on("blurNode",()=>{l.value.visible=!1}),a.on("dragStart",()=>{l.value.visible=!1}),a.on("zoom",()=>l.value.visible=!1),a.on("dragEnd",()=>l.value.visible=!1),a.on("hoverNode",function(){o.value.style.cursor="pointer"}),a.on("blurNode",function(){o.value.style.cursor="default"}))}Bb(()=>[r.nodes,r.edges],()=>{g2(()=>{v()})},{deep:!0}),Bb(()=>s.currentTheme,y=>{if(a){const p=f(y);a.setOptions(p),v()}}),d2(()=>{v()}),c2(()=>{a&&(a.destroy(),a=null)});function g(){a&&a.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})}function b(){a&&(u.value=!u.value,a.setOptions({physics:{enabled:u.value}}))}return e({resetView:g}),(y,p)=>(pi(),Ts("div",u9,[Oe("div",{ref_key:"networkContainer",ref:o,class:"w-full h-full bg-white dark:bg-gray-900 cursor-grab active:cursor-grabbing outline-none"},null,512),l.value.visible&&l.value.node?(pi(),Ts("div",{key:0,class:"absolute pointer-events-none z-50 bg-white dark:bg-gray-800 p-3 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 max-w-sm transition-opacity duration-200 flex flex-col gap-2",style:jb({left:l.value.x+"px",top:l.value.y+"px",transform:"translate(-50%, -100%)",marginTop:"-15px"})},[Oe("div",l9,[Oe("span",{class:"w-3 h-3 rounded-full flex-shrink-0 shadow-sm",style:jb({backgroundColor:l.value.color})},null,4),Oe("span",d9,Ps(l.value.node.label),1)]),Oe("div",c9,[Oe("div",h9,[p[0]||(p[0]=Oe("span",{class:"font-semibold text-gray-500 dark:text-gray-400 w-8"},"Type:",-1)),Oe("span",f9,Ps(l.value.node.group),1)]),Oe("div",v9,[p[1]||(p[1]=Oe("span",{class:"font-semibold text-gray-500 dark:text-gray-400 w-8"},"ID:",-1)),Oe("span",p9,Ps(l.value.node.id),1)]),l.value.node.properties&&Object.keys(l.value.node.properties).length>0?(pi(),Ts("div",g9,[p[2]||(p[2]=Oe("span",{class:"font-semibold text-gray-500 dark:text-gray-400 block mb-1"},"Properties:",-1)),Oe("div",y9,[Oe("pre",m9,Ps(JSON.stringify(l.value.node.properties,null,2)),1)])])):Wo("",!0)]),p[3]||(p[3]=Oe("div",{class:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-full w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[6px] border-t-white dark:border-t-gray-800 drop-shadow-sm"},null,-1))],4)):Wo("",!0),Oe("div",b9,[Oe("button",{onClick:g,class:"p-2 bg-white dark:bg-gray-800 rounded-md shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200 border dark:border-gray-700 transition-colors",title:"Fit to View"},[Lb(h2,{class:"w-5 h-5"})]),Oe("button",{onClick:b,class:"p-2 bg-white dark:bg-gray-800 rounded-md shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200 border dark:border-gray-700 transition-colors",title:u.value?"Freeze Layout":"Enable Physics"},[u.value?(pi(),zb(f2,{key:0,class:"w-5 h-5"})):(pi(),zb(v2,{key:1,class:"w-5 h-5"}))],8,_9)]),n.isLoading?(pi(),Ts("div",w9,[Oe("div",E9,[Oe("div",S9,[Lb(p2,{class:"w-8 h-8 text-blue-500 dark:text-blue-400"})]),p[4]||(p[4]=Oe("span",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200 animate-pulse"},"Processing Graph...",-1))])])):Wo("",!0)]))}},M9=u2(O9,[["__scopeId","data-v-581152e6"]]);export{M9 as default};
