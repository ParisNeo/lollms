import{u as f,aS as v,r as m,b as d,S as b,av as w,f as D,h as x,o as k,w as p,a as s,A as y,p as S,J as T,K as _}from"./index-C3WkowhT.js";import{_ as C}from"./GenericModal-CcN9sQBb.js";const R={__name:"RenameDiscussionModal",setup(I){const n=f(),o=v(),t=m(""),l=m(null),u=d(()=>n.modalData("renameDiscussion")),a=d(()=>u.value?o.discussions[u.value.discussionId]:null);b(a,i=>{i&&(t.value=i.title,w(()=>{var e;(e=l.value)==null||e.focus()}))},{immediate:!0});const r=async()=>{!a.value||!t.value.trim()||(await o.renameDiscussion({discussionId:a.value.id,newTitle:t.value}),n.closeModal("renameDiscussion"))};return(i,e)=>a.value?(k(),D(C,{key:0,modalName:"renameDiscussion",title:"Rename Discussion",maxWidthClass:"max-w-md"},{body:p(()=>[s("form",{onSubmit:S(r,["prevent"])},[s("div",null,[e[2]||(e[2]=s("label",{for:"discussionTitleInput",class:"block text-sm font-medium mb-1"}," New Title ",-1)),T(s("input",{ref_key:"titleInput",ref:l,"onUpdate:modelValue":e[0]||(e[0]=c=>t.value=c),type:"text",id:"discussionTitleInput",class:"input-field",placeholder:"Enter new discussion title"},null,512),[[_,t.value]])])],32)]),footer:p(()=>[s("button",{onClick:e[1]||(e[1]=c=>y(n).closeModal("renameDiscussion")),class:"btn btn-secondary"}," Cancel "),s("button",{onClick:r,class:"btn btn-primary"}," Rename ")]),_:1})):x("",!0)}};export{R as default};
