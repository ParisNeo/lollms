import{D as R,u as B,y as z,r as l,c as O,w as N,g as o,d as n,f as e,i as s,v as p,l as E,k as Y,t as U,h as G,C as d,F as q,B as H,p as P,A as K,n as W}from"./index-GJY6etPD.js";import{_ as X}from"./LanguageSelector-ClHJoWAB.js";const $={class:"bg-white dark:bg-gray-800 shadow-md rounded-lg"},J={class:"p-4 sm:p-6 space-y-6"},Q=["placeholder"],Z={class:"text-xs text-gray-500 mt-1"},ee={class:"p-4 bg-gray-50 dark:bg-gray-700/50 border dark:border-gray-600 rounded-lg"},te={class:"flex items-center justify-between mb-3"},re={class:"relative inline-flex items-center cursor-pointer"},ae={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mb-3"},le={key:1,class:"text-xs text-gray-500 dark:text-gray-400 mb-3"},se={key:2,class:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2 text-sm"},oe={class:"text-gray-800 dark:text-gray-200"},ne={class:"px-2 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-xs"},de={class:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800/50 rounded-lg"},ie={class:"flex items-center justify-between mb-3"},ue={class:"relative inline-flex items-center cursor-pointer"},ge={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},fe={class:"p-3 bg-gray-50 dark:bg-gray-700/50 border dark:border-gray-600 rounded-lg flex items-center justify-between"},pe={class:"relative inline-flex items-center cursor-pointer"},be={class:"p-3 bg-gray-50 dark:bg-gray-700/50 border dark:border-gray-600 rounded-lg flex items-center justify-between"},ce={class:"relative inline-flex items-center cursor-pointer"},ye={class:"p-3 bg-gray-50 dark:bg-gray-700/50 border dark:border-gray-600 rounded-lg flex items-center justify-between"},me={class:"relative inline-flex items-center cursor-pointer"},xe={class:"p-3 bg-gray-50 dark:bg-gray-700/50 border dark:border-gray-600 rounded-lg flex items-center justify-between"},ve={class:"relative inline-flex items-center cursor-pointer"},ke={class:"p-4 bg-gray-50 dark:bg-gray-700/50 border dark:border-gray-600 rounded-lg"},he={class:"flex items-center justify-between mb-3"},we={class:"flex-grow"},_e=["disabled"],Ie={key:0,class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600"},Ae={class:"p-4 bg-gray-50 dark:bg-gray-700/50 border dark:border-gray-600 rounded-lg"},Ve={class:"flex items-center justify-between mb-2"},Ue={class:"relative inline-flex items-center cursor-pointer"},Se={key:0,class:"mt-2 text-xs text-gray-500 dark:text-gray-400"},Ce={key:1,class:"mt-2 text-xs text-gray-500 dark:text-gray-400"},Pe={class:"space-y-4"},Te={class:"px-4 py-3 bg-gray-50 dark:bg-gray-700/50 text-right sm:px-6 rounded-b-lg border-t border-gray-200 dark:border-gray-700"},je=["disabled"],De={__name:"UserContextSettings",setup(Ne){const T=B(),{user:a}=z(T),b=l(""),c=l(""),y=l(""),m=l(""),x=l(""),v=l(!1),i=l(!0),k=l(!1),h=l(!1),w=l("auto"),u=l(!1),g=l(!1),_=l(""),I=l(!1),A=l(!1),V=l(!1),S=l(!1),f=O(()=>{var C;return!!((C=a.value)!=null&&C.tti_binding_model_name)});function L(){a.value&&(b.value=a.value.preferred_name||"",c.value=a.value.data_zone||"",y.value=a.value.user_personal_info||"",m.value=a.value.coding_style_constraints||"",x.value=a.value.programming_language_preferences||"",v.value=a.value.tell_llm_os||!1,i.value=a.value.share_dynamic_info_with_llm??!0,k.value=a.value.share_personal_info_with_llm||!1,h.value=a.value.fun_mode||!1,w.value=a.value.ai_response_language||"auto",u.value=a.value.force_ai_response_language||!1,g.value=a.value.image_generation_enabled||!1,_.value=a.value.image_generation_system_prompt||"",I.value=a.value.image_annotation_enabled||!1,A.value=a.value.note_generation_enabled||!1,W(()=>{V.value=!1}))}N(a,L,{immediate:!0,deep:!0}),N([b,c,y,m,x,v,i,k,h,w,u,g,_,I,A],()=>{V.value=!0});const F=[{label:"Date",placeholder:"{{date}}"},{label:"Time",placeholder:"{{time}}"},{label:"Date & Time",placeholder:"{{datetime}}"},{label:"Username",placeholder:"{{user_name}}"}];async function M(){if(V.value){S.value=!0;try{await T.updateUserPreferences({preferred_name:b.value,data_zone:c.value,user_personal_info:y.value,coding_style_constraints:m.value,programming_language_preferences:x.value,tell_llm_os:v.value,share_dynamic_info_with_llm:i.value,share_personal_info_with_llm:k.value,fun_mode:h.value,ai_response_language:w.value,force_ai_response_language:u.value,image_generation_enabled:g.value,image_generation_system_prompt:_.value,image_annotation_enabled:I.value,note_generation_enabled:A.value}),V.value=!1}finally{S.value=!1}}}return(C,t)=>{var j,D;return n(),o("div",$,[t[39]||(t[39]=e("div",{class:"px-4 py-5 sm:p-6 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"text-xl font-bold leading-6 text-gray-900 dark:text-white"},"Global User Context"),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Manage information and preferences shared with the AI across all discussions. ")],-1)),e("div",J,[e("div",null,[t[16]||(t[16]=e("label",{for:"preferred-name",class:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-200"},"Preferred Name",-1)),s(e("input",{type:"text",id:"preferred-name","onUpdate:modelValue":t[0]||(t[0]=r=>b.value=r),class:"input-field w-full",placeholder:((j=E(a))==null?void 0:j.username)||"How should the AI address you?"},null,8,Q),[[p,b.value]]),e("p",Z,[t[15]||(t[15]=Y("If left blank, the AI will use your username: ")),e("strong",null,U((D=E(a))==null?void 0:D.username),1)])]),e("div",ee,[e("div",te,[t[18]||(t[18]=e("h3",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},"Dynamic Information",-1)),e("label",re,[s(e("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=r=>i.value=r),class:"sr-only peer"},null,512),[[d,i.value]]),t[17]||(t[17]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),i.value?(n(),o("p",ae,"The AI will automatically know the following information. You can use these placeholders in your prompts.")):(n(),o("p",le,"Dynamic information is currently disabled and will not be sent to the AI.")),i.value?(n(),o("div",se,[(n(),o(q,null,H(F,r=>e("div",{key:r.label,class:"flex justify-between items-center"},[e("span",oe,U(r.label)+":",1),e("code",ne,U(r.placeholder),1)])),64))])):G("",!0)]),e("div",de,[e("div",ie,[t[20]||(t[20]=e("h3",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},"Personal Information / Credentials",-1)),e("label",ue,[s(e("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=r=>k.value=r),class:"sr-only peer"},null,512),[[d,k.value]]),t[19]||(t[19]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),t[21]||(t[21]=e("p",{class:"text-xs text-gray-600 dark:text-gray-300 mb-2"}," You can add sensitive information here (e.g., API keys, passwords, personal details) that the AI might need for specific tasks. ",-1)),t[22]||(t[22]=e("div",{class:"p-2 mb-3 bg-white dark:bg-gray-900 border border-red-200 dark:border-red-800 rounded text-xs text-red-600 dark:text-red-400 font-medium"}," Warning: Do NOT enter passwords or sensitive credentials unless you are running a local, secure model that you trust. Information entered here will be sent to the AI model in the context. ",-1)),s(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=r=>y.value=r),class:"styled-textarea",placeholder:"e.g., My email password is..., API Key for Service X is..."},null,512),[[p,y.value]])]),e("div",ge,[e("div",fe,[t[24]||(t[24]=e("div",{class:"flex-grow"},[e("h3",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},"Fun Mode ðŸŽ‰"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Ask the AI to be more humorous and witty.")],-1)),e("label",pe,[s(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=r=>h.value=r),class:"sr-only peer"},null,512),[[d,h.value]]),t[23]||(t[23]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),e("div",be,[t[26]||(t[26]=e("div",{class:"flex-grow"},[e("h3",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},"Image Annotation"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Enable AI to annotate images with bounding boxes.")],-1)),e("label",ce,[s(e("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=r=>I.value=r),class:"sr-only peer"},null,512),[[d,I.value]]),t[25]||(t[25]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),e("div",ye,[t[28]||(t[28]=e("div",{class:"flex-grow"},[e("h3",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},"Note Generation"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Enable AI to generate and format notes during conversation.")],-1)),e("label",me,[s(e("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=r=>A.value=r),class:"sr-only peer"},null,512),[[d,A.value]]),t[27]||(t[27]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),e("div",xe,[t[30]||(t[30]=e("div",{class:"flex-grow"},[e("h3",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},"Operating System"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Inform the AI about your current operating system.")],-1)),e("label",ve,[s(e("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=r=>v.value=r),class:"sr-only peer"},null,512),[[d,v.value]]),t[29]||(t[29]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),e("div",ke,[e("div",he,[e("div",we,[e("h3",{class:P(["text-sm font-semibold",f.value?"text-gray-700 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},"Image Generation",2),e("p",{class:P(["text-xs",f.value?"text-gray-500 dark:text-gray-400":"text-gray-400 dark:text-gray-500"])},U(f.value?"Enable AI to generate images using code blocks.":"Select a TTI model in settings to enable."),3)]),e("label",{class:P(["relative inline-flex items-center",f.value?"cursor-pointer":"cursor-not-allowed"])},[s(e("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=r=>g.value=r),class:"sr-only peer",disabled:!f.value},null,8,_e),[[d,g.value]]),t[31]||(t[31]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600 peer-disabled:opacity-50"},null,-1))],2)]),g.value&&f.value?(n(),o("div",Ie,[t[32]||(t[32]=e("label",{for:"image-gen-prompt",class:"block text-sm font-semibold mb-2 text-gray-700 dark:text-gray-200"},"Image Generation System Prompt",-1)),s(e("textarea",{id:"image-gen-prompt","onUpdate:modelValue":t[9]||(t[9]=r=>_.value=r),class:"styled-textarea",placeholder:"e.g., All images should be in a photorealistic style, 4k, detailed."},null,512),[[p,_.value]]),t[33]||(t[33]=e("p",{class:"text-xs text-gray-500 mt-1"},"This prompt will be added to every image generation request made from within a chat message.",-1))])):G("",!0)]),e("div",Ae,[e("div",Ve,[t[35]||(t[35]=e("h3",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},"AI Response Language",-1)),e("label",Ue,[s(e("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=r=>u.value=r),class:"sr-only peer"},null,512),[[d,u.value]]),t[34]||(t[34]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),K(X,{modelValue:w.value,"onUpdate:modelValue":t[11]||(t[11]=r=>w.value=r),id:"aiResponseLanguage","include-auto":!0,disabled:!u.value},null,8,["modelValue","disabled"]),u.value?(n(),o("p",Se,"Force the AI to respond in a specific language. 'Auto' will match the user's prompt language.")):(n(),o("p",Ce,"Language enforcement is disabled. The AI will respond based on its training and personality."))]),e("div",Pe,[e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-semibold mb-2 text-gray-700 dark:text-gray-200"},"Coding Style Constraints",-1)),s(e("textarea",{"onUpdate:modelValue":t[12]||(t[12]=r=>m.value=r),class:"styled-textarea",placeholder:"e.g., Always follow PEP8 for Python code. Use pathlib instead of os.path."},null,512),[[p,m.value]])]),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-semibold mb-2 text-gray-700 dark:text-gray-200"},"Programming Language & Library Preferences",-1)),s(e("textarea",{"onUpdate:modelValue":t[13]||(t[13]=r=>x.value=r),class:"styled-textarea",placeholder:"e.g., I prefer solutions in Python 3.10+. For web development, use Vue.js with Tailwind CSS."},null,512),[[p,x.value]])]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-semibold mb-2 text-gray-700 dark:text-gray-200"},"General Info / Notes",-1)),s(e("textarea",{"onUpdate:modelValue":t[14]||(t[14]=r=>c.value=r),class:"styled-textarea",placeholder:"Add any other information about yourself or general instructions for the AI."},null,512),[[p,c.value]])])])]),e("div",Te,[e("button",{onClick:M,class:"btn btn-primary",disabled:!V.value||S.value},U(S.value?"Saving...":"Save Context Settings"),9,je)])])}}},Le=R(De,[["__scopeId","data-v-d6f00285"]]);export{Le as default};
