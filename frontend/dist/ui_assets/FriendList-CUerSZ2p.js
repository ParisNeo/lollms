import{a5 as h,u as v,Q as k,b as d,X as w,c as o,o as n,a as s,F as C,j as F,g as r,w as m,a8 as S,n as L,G as R,t as g,a3 as $,V as A}from"./index-CQBOoy6t.js";const T={class:"max-w-4xl mx-auto"},V={key:0,class:"text-center py-6 text-gray-500 dark:text-gray-400"},B={key:1,class:"text-center py-10 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},M={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},N=["title"],U={class:"text-xs text-gray-500 mb-3"},j={class:"mt-auto flex items-center space-x-2 w-full"},z=["onClick"],I=["onClick"],E={__name:"FriendList",setup(O){const i=h(),x=v();k();const l=d(()=>i.friends),y=d(()=>i.isLoadingFriends);async function p(e){await x.showConfirmation({title:"Remove Friend",message:`Are you sure you want to remove ${e.username} from your friends list?`,confirmText:"Remove"})&&i.removeFriend(e.id)}async function _(e){i.openConversation({id:e.id,username:e.username,icon:e.icon})}function f(e){return e==="connected"?"bg-green-500":e==="absent"?"bg-yellow-500":"bg-gray-400"}function c(e){return e==="connected"?"Online":e==="absent"?"Absent":"Offline"}return(e,a)=>{const u=w("router-link");return n(),o("div",T,[y.value?(n(),o("div",V," Loading friends... ")):l.value.length===0?(n(),o("div",B,a[0]||(a[0]=[s("p",{class:"text-gray-500 dark:text-gray-400"},"Your friends list is empty.",-1),s("p",{class:"text-sm text-gray-400 dark:text-gray-500 mt-1"},"Use the 'Add Friend' tab to find people.",-1)]))):(n(),o("ul",M,[(n(!0),o(C,null,F(l.value,t=>(n(),o("li",{key:t.id,class:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm flex flex-col items-center text-center"},[r(u,{to:`/profile/${t.username}`,class:"relative"},{default:m(()=>[r(S,{icon:t.icon,username:t.username,"size-class":"h-20 w-20"},null,8,["icon","username"]),s("div",{class:L(["absolute bottom-1 right-1 w-5 h-5 border-4 border-white dark:border-gray-800 rounded-full",f(t.status)]),title:c(t.status)},null,10,N)]),_:2},1032,["to"]),r(u,{to:`/profile/${t.username}`,class:"mt-3 font-bold text-gray-900 dark:text-gray-100 hover:underline truncate w-full"},{default:m(()=>[R(g(t.username),1)]),_:2},1032,["to"]),s("p",U,g(c(t.status)),1),s("div",j,[s("button",{onClick:b=>_(t),class:"btn btn-secondary btn-sm flex-1 flex items-center justify-center space-x-1.5"},[r($,{class:"w-4 h-4"}),a[1]||(a[1]=s("span",null,"Message",-1))],8,z),s("button",{onClick:b=>p(t),class:"btn-icon-danger p-2",title:"Remove Friend"},[r(A,{class:"w-4 h-4"})],8,I)])]))),128))]))])}}};export{E as default};
