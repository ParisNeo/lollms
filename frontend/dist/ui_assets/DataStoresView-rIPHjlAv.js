import{D as VA,g as N,d as M,f as w,a as cb,r as te,w as Sr,o as hb,I as UA,h as le,O as Um,t as Y,A as Ee,b as pt,cS as eB,a3 as Yt,n as tB,x as GA,u as KA,a8 as YA,y as os,k as Ae,i as Be,z as as,F as gt,B as Et,l as on,ae as XA,cU as rB,cN as iB,_ as nB,U as Gm,j as an,v as qt,J as JA,c as zr,e as uo,S as sB,$ as oB,cc as aB,cd as lB,cl as w1,Z as uB,K as dB,p as Wr,C as cB,ac as S1,a5 as ma,au as hB,ak as fB,co as vB,a2 as pB,af as gB,q as yB}from"./index-GJY6etPD.js";import{useAdminStore as mB}from"./admin-CVB73vxO.js";import{_ as bB}from"./PageViewLayout-DZpmQE8Y.js";import{I as ZA}from"./IconMaximize-C1EvP3T_.js";import{I as QA}from"./IconPlayCircle-1geu9hK5.js";import{_ as ba}from"./JsonRenderer-BAPVTihr.js";import{_ as _B}from"./GenericModal-Cz02a-9C.js";import{I as wB}from"./IconGlobeAlt-CgFYyU2h.js";/* empty css                                                                 */const SB={},EB={xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"};function $B(n,e){return M(),N("svg",EB,e[0]||(e[0]=[w("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"},null,-1)]))}const OB=VA(SB,[["render",$B]]);/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var E1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function me(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _a={exports:{}},$1={},es,O1;function Ze(){if(O1)return es;O1=1;var n=function(e){return e&&e.Math===Math&&e};return es=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof E1=="object"&&E1)||n(typeof es=="object"&&es)||(function(){return this})()||Function("return this")(),es}var wa,I1;function Oe(){return I1||(I1=1,wa=function(n){try{return!!n()}catch{return!0}}),wa}var Sa,x1;function xs(){if(x1)return Sa;x1=1;var n=Oe();return Sa=!n(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Sa}var Ea,T1;function Fo(){if(T1)return Ea;T1=1;var n=xs(),e=Function.prototype,t=e.apply,r=e.call;return Ea=typeof Reflect=="object"&&Reflect.apply||(n?r.bind(t):function(){return r.apply(t,arguments)}),Ea}var $a,P1;function Pe(){if(P1)return $a;P1=1;var n=xs(),e=Function.prototype,t=e.call,r=n&&e.bind.bind(t,t);return $a=n?r:function(i){return function(){return t.apply(i,arguments)}},$a}var Oa,R1;function kr(){if(R1)return Oa;R1=1;var n=Pe(),e=n({}.toString),t=n("".slice);return Oa=function(r){return t(e(r),8,-1)},Oa}var Ia,C1;function e2(){if(C1)return Ia;C1=1;var n=kr(),e=Pe();return Ia=function(t){if(n(t)==="Function")return e(t)},Ia}var xa,q1;function nt(){if(q1)return xa;q1=1;var n=typeof document=="object"&&document.all;return xa=typeof n>"u"&&n!==void 0?function(e){return typeof e=="function"||e===n}:function(e){return typeof e=="function"},xa}var Ta={},Pa,k1;function Qe(){if(k1)return Pa;k1=1;var n=Oe();return Pa=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Pa}var Ra,D1;function Tt(){if(D1)return Ra;D1=1;var n=xs(),e=Function.prototype.call;return Ra=n?e.bind(e):function(){return e.apply(e,arguments)},Ra}var Ca={},M1;function fb(){if(M1)return Ca;M1=1;var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!n.call({1:2},1);return Ca.f=t?function(i){var s=e(this,i);return!!s&&s.enumerable}:n,Ca}var qa,A1;function Ts(){return A1||(A1=1,qa=function(n,e){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:e}}),qa}var ka,F1;function No(){if(F1)return ka;F1=1;var n=Pe(),e=Oe(),t=kr(),r=Object,i=n("".split);return ka=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?i(s,""):r(s)}:r,ka}var Da,N1;function Ps(){return N1||(N1=1,Da=function(n){return n==null}),Da}var Ma,B1;function Di(){if(B1)return Ma;B1=1;var n=Ps(),e=TypeError;return Ma=function(t){if(n(t))throw new e("Can't call method on "+t);return t},Ma}var Aa,j1;function cr(){if(j1)return Aa;j1=1;var n=No(),e=Di();return Aa=function(t){return n(e(t))},Aa}var Fa,L1;function St(){if(L1)return Fa;L1=1;var n=nt();return Fa=function(e){return typeof e=="object"?e!==null:n(e)},Fa}var Na,z1;function rt(){return z1||(z1=1,Na={}),Na}var Ba,W1;function kt(){if(W1)return Ba;W1=1;var n=rt(),e=Ze(),t=nt(),r=function(i){return t(i)?i:void 0};return Ba=function(i,s){return arguments.length<2?r(n[i])||r(e[i]):n[i]&&n[i][s]||e[i]&&e[i][s]},Ba}var ja,H1;function st(){if(H1)return ja;H1=1;var n=Pe();return ja=n({}.isPrototypeOf),ja}var La,V1;function In(){if(V1)return La;V1=1;var n=Ze(),e=n.navigator,t=e&&e.userAgent;return La=t?String(t):"",La}var za,U1;function Rs(){if(U1)return za;U1=1;var n=Ze(),e=In(),t=n.process,r=n.Deno,i=t&&t.versions||r&&r.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),za=a,za}var Wa,G1;function xn(){if(G1)return Wa;G1=1;var n=Rs(),e=Oe(),t=Ze(),r=t.String;return Wa=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!r(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&n&&n<41}),Wa}var Ha,K1;function t2(){if(K1)return Ha;K1=1;var n=xn();return Ha=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Ha}var Va,Y1;function Cs(){if(Y1)return Va;Y1=1;var n=kt(),e=nt(),t=st(),r=t2(),i=Object;return Va=r?function(s){return typeof s=="symbol"}:function(s){var o=n("Symbol");return e(o)&&t(o.prototype,i(s))},Va}var Ua,X1;function Tn(){if(X1)return Ua;X1=1;var n=String;return Ua=function(e){try{return n(e)}catch{return"Object"}},Ua}var Ga,J1;function Dr(){if(J1)return Ga;J1=1;var n=nt(),e=Tn(),t=TypeError;return Ga=function(r){if(n(r))return r;throw new t(e(r)+" is not a function")},Ga}var Ka,Z1;function vb(){if(Z1)return Ka;Z1=1;var n=Dr(),e=Ps();return Ka=function(t,r){var i=t[r];return e(i)?void 0:n(i)},Ka}var Ya,Q1;function IB(){if(Q1)return Ya;Q1=1;var n=Tt(),e=nt(),t=St(),r=TypeError;return Ya=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!t(a=n(o,i))||e(o=i.valueOf)&&!t(a=n(o,i))||s!=="string"&&e(o=i.toString)&&!t(a=n(o,i)))return a;throw new r("Can't convert object to primitive value")},Ya}var Xa={exports:{}},Ja,e0;function Pn(){return e0||(e0=1,Ja=!0),Ja}var Za,t0;function xB(){if(t0)return Za;t0=1;var n=Ze(),e=Object.defineProperty;return Za=function(t,r){try{e(n,t,{value:r,configurable:!0,writable:!0})}catch{n[t]=r}return r},Za}var r0;function pb(){if(r0)return Xa.exports;r0=1;var n=Pn(),e=Ze(),t=xB(),r="__core-js_shared__",i=Xa.exports=e[r]||t(r,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:n?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Xa.exports}var Qa,i0;function Rn(){if(i0)return Qa;i0=1;var n=pb();return Qa=function(e,t){return n[e]||(n[e]=t||{})},Qa}var el,n0;function er(){if(n0)return el;n0=1;var n=Di(),e=Object;return el=function(t){return e(n(t))},el}var tl,s0;function ot(){if(s0)return tl;s0=1;var n=Pe(),e=er(),t=n({}.hasOwnProperty);return tl=Object.hasOwn||function(i,s){return t(e(i),s)},tl}var rl,o0;function Bo(){if(o0)return rl;o0=1;var n=Pe(),e=0,t=Math.random(),r=n(1.1.toString);return rl=function(i){return"Symbol("+(i===void 0?"":i)+")_"+r(++e+t,36)},rl}var il,a0;function at(){if(a0)return il;a0=1;var n=Ze(),e=Rn(),t=ot(),r=Bo(),i=xn(),s=t2(),o=n.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||r;return il=function(u){return t(a,u)||(a[u]=i&&t(o,u)?o[u]:l("Symbol."+u)),a[u]},il}var nl,l0;function r2(){if(l0)return nl;l0=1;var n=Tt(),e=St(),t=Cs(),r=vb(),i=IB(),s=at(),o=TypeError,a=s("toPrimitive");return nl=function(l,u){if(!e(l)||t(l))return l;var d=r(l,a),c;if(d){if(u===void 0&&(u="default"),c=n(d,l,u),!e(c)||t(c))return c;throw new o("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},nl}var sl,u0;function gb(){if(u0)return sl;u0=1;var n=r2(),e=Cs();return sl=function(t){var r=n(t,"string");return e(r)?r:r+""},sl}var ol,d0;function i2(){if(d0)return ol;d0=1;var n=Ze(),e=St(),t=n.document,r=e(t)&&e(t.createElement);return ol=function(i){return r?t.createElement(i):{}},ol}var al,c0;function n2(){if(c0)return al;c0=1;var n=Qe(),e=Oe(),t=i2();return al=!n&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),al}var h0;function jo(){if(h0)return Ta;h0=1;var n=Qe(),e=Tt(),t=fb(),r=Ts(),i=cr(),s=gb(),o=ot(),a=n2(),l=Object.getOwnPropertyDescriptor;return Ta.f=n?l:function(d,c){if(d=i(d),c=s(c),a)try{return l(d,c)}catch{}if(o(d,c))return r(!e(t.f,d,c),d[c])},Ta}var ll,f0;function TB(){if(f0)return ll;f0=1;var n=Oe(),e=nt(),t=/#|\.prototype\./,r=function(l,u){var d=s[i(l)];return d===a?!0:d===o?!1:e(u)?n(u):!!u},i=r.normalize=function(l){return String(l).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return ll=r,ll}var ul,v0;function Lo(){if(v0)return ul;v0=1;var n=e2(),e=Dr(),t=xs(),r=n(n.bind);return ul=function(i,s){return e(i),s===void 0?i:t?r(i,s):function(){return i.apply(s,arguments)}},ul}var dl={},cl,p0;function s2(){if(p0)return cl;p0=1;var n=Qe(),e=Oe();return cl=n&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),cl}var hl,g0;function Mr(){if(g0)return hl;g0=1;var n=St(),e=String,t=TypeError;return hl=function(r){if(n(r))return r;throw new t(e(r)+" is not an object")},hl}var y0;function Lt(){if(y0)return dl;y0=1;var n=Qe(),e=n2(),t=s2(),r=Mr(),i=gb(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",d="writable";return dl.f=n?t?function(h,f,v){if(r(h),f=i(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&d in v&&!v[d]){var y=a(h,f);y&&y[d]&&(h[f]=v.value,v={configurable:u in v?v[u]:y[u],enumerable:l in v?v[l]:y[l],writable:!1})}return o(h,f,v)}:o:function(h,f,v){if(r(h),f=i(f),r(v),e)try{return o(h,f,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(h[f]=v.value),h},dl}var fl,m0;function Cn(){if(m0)return fl;m0=1;var n=Qe(),e=Lt(),t=Ts();return fl=n?function(r,i,s){return e.f(r,i,t(1,s))}:function(r,i,s){return r[i]=s,r},fl}var vl,b0;function he(){if(b0)return vl;b0=1;var n=Ze(),e=Fo(),t=e2(),r=nt(),i=jo().f,s=TB(),o=rt(),a=Lo(),l=Cn(),u=ot(),d=function(c){var h=function(f,v,y){if(this instanceof h){switch(arguments.length){case 0:return new c;case 1:return new c(f);case 2:return new c(f,v)}return new c(f,v,y)}return e(c,this,arguments)};return h.prototype=c.prototype,h};return vl=function(c,h){var f=c.target,v=c.global,y=c.stat,b=c.proto,g=v?n:y?n[f]:n[f]&&n[f].prototype,p=v?o:o[f]||l(o,f,{})[f],$=p.prototype,m,S,O,x,_,E,T,P,R;for(x in h)m=s(v?x:f+(y?".":"#")+x,c.forced),S=!m&&g&&u(g,x),E=p[x],S&&(c.dontCallGetSet?(R=i(g,x),T=R&&R.value):T=g[x]),_=S&&T?T:h[x],!(!m&&!b&&typeof E==typeof _)&&(c.bind&&S?P=a(_,n):c.wrap&&S?P=d(_):b&&r(_)?P=t(_):P=_,(c.sham||_&&_.sham||E&&E.sham)&&l(P,"sham",!0),l(p,x,P),b&&(O=f+"Prototype",u(o,O)||l(o,O,{}),l(o[O],x,_),c.real&&$&&(m||!$[x])&&l($,x,_)))},vl}var _0;function PB(){if(_0)return $1;_0=1;var n=he(),e=Qe(),t=Lt().f;return n({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),$1}var w0;function RB(){if(w0)return _a.exports;w0=1,PB();var n=rt(),e=n.Object,t=_a.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(t.sham=!0),_a.exports}var pl,S0;function o2(){if(S0)return pl;S0=1;var n=RB();return pl=n,pl}var gl,E0;function CB(){if(E0)return gl;E0=1;var n=o2();return gl=n,gl}var yl,$0;function qB(){if($0)return yl;$0=1;var n=CB();return yl=n,yl}var ml,O0;function kB(){return O0||(O0=1,ml=qB()),ml}var DB=kB(),MB=me(DB),I0={},bl,x0;function Mi(){if(x0)return bl;x0=1;var n=kr();return bl=Array.isArray||function(t){return n(t)==="Array"},bl}var _l,T0;function AB(){if(T0)return _l;T0=1;var n=Math.ceil,e=Math.floor;return _l=Math.trunc||function(r){var i=+r;return(i>0?e:n)(i)},_l}var wl,P0;function qn(){if(P0)return wl;P0=1;var n=AB();return wl=function(e){var t=+e;return t!==t||t===0?0:n(t)},wl}var Sl,R0;function a2(){if(R0)return Sl;R0=1;var n=qn(),e=Math.min;return Sl=function(t){var r=n(t);return r>0?e(r,9007199254740991):0},Sl}var El,C0;function ii(){if(C0)return El;C0=1;var n=a2();return El=function(e){return n(e.length)},El}var $l,q0;function l2(){if(q0)return $l;q0=1;var n=TypeError,e=9007199254740991;return $l=function(t){if(t>e)throw n("Maximum allowed index exceeded");return t},$l}var Ol,k0;function zo(){if(k0)return Ol;k0=1;var n=Qe(),e=Lt(),t=Ts();return Ol=function(r,i,s){n?e.f(r,i,t(0,s)):r[i]=s},Ol}var Il,D0;function yb(){if(D0)return Il;D0=1;var n=at(),e=n("toStringTag"),t={};return t[e]="z",Il=String(t)==="[object z]",Il}var xl,M0;function ni(){if(M0)return xl;M0=1;var n=yb(),e=nt(),t=kr(),r=at(),i=r("toStringTag"),s=Object,o=t((function(){return arguments})())==="Arguments",a=function(l,u){try{return l[u]}catch{}};return xl=n?t:function(l){var u,d,c;return l===void 0?"Undefined":l===null?"Null":typeof(d=a(u=s(l),i))=="string"?d:o?t(u):(c=t(u))==="Object"&&e(u.callee)?"Arguments":c},xl}var Tl,A0;function FB(){if(A0)return Tl;A0=1;var n=Pe(),e=nt(),t=pb(),r=n(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(i){return r(i)}),Tl=t.inspectSource,Tl}var Pl,F0;function u2(){if(F0)return Pl;F0=1;var n=Pe(),e=Oe(),t=nt(),r=ni(),i=kt(),s=FB(),o=function(){},a=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=n(l.exec),d=!l.test(o),c=function(v){if(!t(v))return!1;try{return a(o,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!u(l,s(v))}catch{return!0}};return h.sham=!0,Pl=!a||e(function(){var f;return c(c.call)||!c(Object)||!c(function(){f=!0})||f})?h:c,Pl}var Rl,N0;function NB(){if(N0)return Rl;N0=1;var n=Mi(),e=u2(),t=St(),r=at(),i=r("species"),s=Array;return Rl=function(o){var a;return n(o)&&(a=o.constructor,e(a)&&(a===s||n(a.prototype))?a=void 0:t(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},Rl}var Cl,B0;function mb(){if(B0)return Cl;B0=1;var n=NB();return Cl=function(e,t){return new(n(e))(t===0?0:t)},Cl}var ql,j0;function qs(){if(j0)return ql;j0=1;var n=Oe(),e=at(),t=Rs(),r=e("species");return ql=function(i){return t>=51||!n(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[i](Boolean).foo!==1})},ql}var L0;function d2(){if(L0)return I0;L0=1;var n=he(),e=Oe(),t=Mi(),r=St(),i=er(),s=ii(),o=l2(),a=zo(),l=mb(),u=qs(),d=at(),c=Rs(),h=d("isConcatSpreadable"),f=c>=51||!e(function(){var b=[];return b[h]=!1,b.concat()[0]!==b}),v=function(b){if(!r(b))return!1;var g=b[h];return g!==void 0?!!g:t(b)},y=!f||!u("concat");return n({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var p=i(this),$=l(p,0),m=0,S,O,x,_,E;for(S=-1,x=arguments.length;S<x;S++)if(E=S===-1?p:arguments[S],v(E))for(_=s(E),o(m+_),O=0;O<_;O++,m++)O in E&&a($,m,E[O]);else o(m+1),a($,m++,E);return $.length=m,$}}),I0}var z0={},W0={},kl,H0;function si(){if(H0)return kl;H0=1;var n=ni(),e=String;return kl=function(t){if(n(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},kl}var Dl={},Ml,V0;function bb(){if(V0)return Ml;V0=1;var n=qn(),e=Math.max,t=Math.min;return Ml=function(r,i){var s=n(r);return s<0?e(s+i,0):t(s,i)},Ml}var Al,U0;function BB(){if(U0)return Al;U0=1;var n=cr(),e=bb(),t=ii(),r=function(i){return function(s,o,a){var l=n(s),u=t(l);if(u===0)return!i&&-1;var d=e(a,u),c;if(i&&o!==o){for(;u>d;)if(c=l[d++],c!==c)return!0}else for(;u>d;d++)if((i||d in l)&&l[d]===o)return i||d||0;return!i&&-1}};return Al={includes:r(!0),indexOf:r(!1)},Al}var Fl,G0;function ks(){return G0||(G0=1,Fl={}),Fl}var Nl,K0;function c2(){if(K0)return Nl;K0=1;var n=Pe(),e=ot(),t=cr(),r=BB().indexOf,i=ks(),s=n([].push);return Nl=function(o,a){var l=t(o),u=0,d=[],c;for(c in l)!e(i,c)&&e(l,c)&&s(d,c);for(;a.length>u;)e(l,c=a[u++])&&(~r(d,c)||s(d,c));return d},Nl}var Bl,Y0;function _b(){return Y0||(Y0=1,Bl=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Bl}var jl,X0;function Wo(){if(X0)return jl;X0=1;var n=c2(),e=_b();return jl=Object.keys||function(r){return n(r,e)},jl}var J0;function wb(){if(J0)return Dl;J0=1;var n=Qe(),e=s2(),t=Lt(),r=Mr(),i=cr(),s=Wo();return Dl.f=n&&!e?Object.defineProperties:function(a,l){r(a);for(var u=i(l),d=s(l),c=d.length,h=0,f;c>h;)t.f(a,f=d[h++],u[f]);return a},Dl}var Ll,Z0;function jB(){if(Z0)return Ll;Z0=1;var n=kt();return Ll=n("document","documentElement"),Ll}var zl,Q0;function Ho(){if(Q0)return zl;Q0=1;var n=Rn(),e=Bo(),t=n("keys");return zl=function(r){return t[r]||(t[r]=e(r))},zl}var Wl,e_;function Ds(){if(e_)return Wl;e_=1;var n=Mr(),e=wb(),t=_b(),r=ks(),i=jB(),s=i2(),o=Ho(),a=">",l="<",u="prototype",d="script",c=o("IE_PROTO"),h=function(){},f=function(p){return l+d+a+p+l+"/"+d+a},v=function(p){p.write(f("")),p.close();var $=p.parentWindow.Object;return p=null,$},y=function(){var p=s("iframe"),$="java"+d+":",m;return p.style.display="none",i.appendChild(p),p.src=String($),m=p.contentWindow.document,m.open(),m.write(f("document.F=Object")),m.close(),m.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?v(b):y():v(b);for(var p=t.length;p--;)delete g[u][t[p]];return g()};return r[c]=!0,Wl=Object.create||function($,m){var S;return $!==null?(h[u]=n($),S=new h,h[u]=null,S[c]=$):S=g(),m===void 0?S:e.f(S,m)},Wl}var Hl={},t_;function Vo(){if(t_)return Hl;t_=1;var n=c2(),e=_b(),t=e.concat("length","prototype");return Hl.f=Object.getOwnPropertyNames||function(i){return n(i,t)},Hl}var Vl={},Ul,r_;function kn(){if(r_)return Ul;r_=1;var n=Pe();return Ul=n([].slice),Ul}var i_;function h2(){if(i_)return Vl;i_=1;var n=kr(),e=cr(),t=Vo().f,r=kn(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(i)}};return Vl.f=function(a){return i&&n(a)==="Window"?s(a):t(e(a))},Vl}var Gl={},n_;function Uo(){return n_||(n_=1,Gl.f=Object.getOwnPropertySymbols),Gl}var Kl,s_;function Ms(){if(s_)return Kl;s_=1;var n=Cn();return Kl=function(e,t,r,i){return i&&i.enumerable?e[t]=r:n(e,t,r),e},Kl}var Yl,o_;function Sb(){if(o_)return Yl;o_=1;var n=Lt();return Yl=function(e,t,r){return n.f(e,t,r)},Yl}var Xl={},a_;function Go(){if(a_)return Xl;a_=1;var n=at();return Xl.f=n,Xl}var Jl,l_;function je(){if(l_)return Jl;l_=1;var n=rt(),e=ot(),t=Go(),r=Lt().f;return Jl=function(i){var s=n.Symbol||(n.Symbol={});e(s,i)||r(s,i,{value:t.f(i)})},Jl}var Zl,u_;function f2(){if(u_)return Zl;u_=1;var n=Tt(),e=kt(),t=at(),r=Ms();return Zl=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(l){return n(o,this)},{arity:1})},Zl}var Ql,d_;function LB(){if(d_)return Ql;d_=1;var n=yb(),e=ni();return Ql=n?{}.toString:function(){return"[object "+e(this)+"]"},Ql}var eu,c_;function Ai(){if(c_)return eu;c_=1;var n=yb(),e=Lt().f,t=Cn(),r=ot(),i=LB(),s=at(),o=s("toStringTag");return eu=function(a,l,u,d){var c=u?a:a&&a.prototype;c&&(r(c,o)||e(c,o,{configurable:!0,value:l}),d&&!n&&t(c,"toString",i))},eu}var tu,h_;function zB(){if(h_)return tu;h_=1;var n=Ze(),e=nt(),t=n.WeakMap;return tu=e(t)&&/native code/.test(String(t)),tu}var ru,f_;function As(){if(f_)return ru;f_=1;var n=zB(),e=Ze(),t=St(),r=Cn(),i=ot(),s=pb(),o=Ho(),a=ks(),l="Object already initialized",u=e.TypeError,d=e.WeakMap,c,h,f,v=function(p){return f(p)?h(p):c(p,{})},y=function(p){return function($){var m;if(!t($)||(m=h($)).type!==p)throw new u("Incompatible receiver, "+p+" required");return m}};if(n||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,c=function(p,$){if(b.has(p))throw new u(l);return $.facade=p,b.set(p,$),$},h=function(p){return b.get(p)||{}},f=function(p){return b.has(p)}}else{var g=o("state");a[g]=!0,c=function(p,$){if(i(p,g))throw new u(l);return $.facade=p,r(p,g,$),$},h=function(p){return i(p,g)?p[g]:{}},f=function(p){return i(p,g)}}return ru={set:c,get:h,has:f,enforce:v,getterFor:y},ru}var iu,v_;function Dn(){if(v_)return iu;v_=1;var n=Lo(),e=Pe(),t=No(),r=er(),i=ii(),s=mb(),o=e([].push),a=function(l){var u=l===1,d=l===2,c=l===3,h=l===4,f=l===6,v=l===7,y=l===5||f;return function(b,g,p,$){for(var m=r(b),S=t(m),O=i(S),x=n(g,p),_=0,E=$||s,T=u?E(b,O):d||v?E(b,0):void 0,P,R;O>_;_++)if((y||_ in S)&&(P=S[_],R=x(P,_,m),l))if(u)T[_]=R;else if(R)switch(l){case 3:return!0;case 5:return P;case 6:return _;case 2:o(T,P)}else switch(l){case 4:return!1;case 7:o(T,P)}return f?-1:c||h?h:T}};return iu={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},iu}var p_;function WB(){if(p_)return W0;p_=1;var n=he(),e=Ze(),t=Tt(),r=Pe(),i=Pn(),s=Qe(),o=xn(),a=Oe(),l=ot(),u=st(),d=Mr(),c=cr(),h=gb(),f=si(),v=Ts(),y=Ds(),b=Wo(),g=Vo(),p=h2(),$=Uo(),m=jo(),S=Lt(),O=wb(),x=fb(),_=Ms(),E=Sb(),T=Rn(),P=Ho(),R=ks(),C=Bo(),A=at(),L=Go(),ne=je(),V=f2(),ae=Ai(),de=As(),fe=Dn().forEach,G=P("hidden"),pe="Symbol",ce="prototype",we=de.set,Z=de.getterFor(pe),D=Object[ce],K=e.Symbol,xe=K&&K[ce],vr=e.RangeError,Qi=e.TypeError,pr=e.QObject,gr=m.f,ke=S.f,ci=p.f,en=x.f,ge=r([].push),Me=T("symbols"),Ct=T("op-symbols"),tn=T("wks"),At=!pr||!pr[ce]||!pr[ce].findChild,hi=function(re,W,H){var U=gr(D,W);U&&delete D[W],ke(re,W,H),U&&re!==D&&ke(D,W,U)},yr=s&&a(function(){return y(ke({},"a",{get:function(){return ke(this,"a",{value:7}).a}})).a!==7})?hi:ke,mr=function(re,W){var H=Me[re]=y(xe);return we(H,{type:pe,tag:re,description:W}),s||(H.description=W),H},Ut=function(W,H,U){W===D&&Ut(Ct,H,U),d(W);var ie=h(H);return d(U),l(Me,ie)?(U.enumerable?(l(W,G)&&W[G][ie]&&(W[G][ie]=!1),U=y(U,{enumerable:v(0,!1)})):(l(W,G)||ke(W,G,v(1,y(null))),W[G][ie]=!0),yr(W,ie,U)):ke(W,ie,U)},br=function(W,H){d(W);var U=c(H),ie=b(U).concat(wr(U));return fe(ie,function(Se){(!s||t(rr,U,Se))&&Ut(W,Se,U[Se])}),W},Qn=function(W,H){return H===void 0?y(W):br(y(W),H)},rr=function(W){var H=h(W),U=t(en,this,H);return this===D&&l(Me,H)&&!l(Ct,H)?!1:U||!l(this,H)||!l(Me,H)||l(this,G)&&this[G][H]?U:!0},Br=function(W,H){var U=c(W),ie=h(H);if(!(U===D&&l(Me,ie)&&!l(Ct,ie))){var Se=gr(U,ie);return Se&&l(Me,ie)&&!(l(U,G)&&U[G][ie])&&(Se.enumerable=!0),Se}},_r=function(W){var H=ci(c(W)),U=[];return fe(H,function(ie){!l(Me,ie)&&!l(R,ie)&&ge(U,ie)}),U},wr=function(re){var W=re===D,H=ci(W?Ct:c(re)),U=[];return fe(H,function(ie){l(Me,ie)&&(!W||l(D,ie))&&ge(U,Me[ie])}),U};return o||(K=function(){if(u(xe,this))throw new Qi("Symbol is not a constructor");var W=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),H=C(W),U=function(ie){var Se=this===void 0?e:this;Se===D&&t(U,Ct,ie),l(Se,G)&&l(Se[G],H)&&(Se[G][H]=!1);var fi=v(1,ie);try{yr(Se,H,fi)}catch(jr){if(!(jr instanceof vr))throw jr;hi(Se,H,fi)}};return s&&At&&yr(D,H,{configurable:!0,set:U}),mr(H,W)},xe=K[ce],_(xe,"toString",function(){return Z(this).tag}),_(K,"withoutSetter",function(re){return mr(C(re),re)}),x.f=rr,S.f=Ut,O.f=br,m.f=Br,g.f=p.f=_r,$.f=wr,L.f=function(re){return mr(A(re),re)},s&&(E(xe,"description",{configurable:!0,get:function(){return Z(this).description}}),i||_(D,"propertyIsEnumerable",rr,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:K}),fe(b(tn),function(re){ne(re)}),n({target:pe,stat:!0,forced:!o},{useSetter:function(){At=!0},useSimple:function(){At=!1}}),n({target:"Object",stat:!0,forced:!o,sham:!s},{create:Qn,defineProperty:Ut,defineProperties:br,getOwnPropertyDescriptor:Br}),n({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:_r}),V(),ae(K,pe),R[G]=!0,W0}var g_={},nu,y_;function v2(){if(y_)return nu;y_=1;var n=xn();return nu=n&&!!Symbol.for&&!!Symbol.keyFor,nu}var m_;function HB(){if(m_)return g_;m_=1;var n=he(),e=kt(),t=ot(),r=si(),i=Rn(),s=v2(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=r(l);if(t(o,u))return o[u];var d=e("Symbol")(u);return o[u]=d,a[d]=u,d}}),g_}var b_={},__;function VB(){if(__)return b_;__=1;var n=he(),e=ot(),t=Cs(),r=Tn(),i=Rn(),s=v2(),o=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!t(l))throw new TypeError(r(l)+" is not a symbol");if(e(o,l))return o[l]}}),b_}var w_={},su,S_;function UB(){if(S_)return su;S_=1;var n=Pe(),e=Mi(),t=nt(),r=kr(),i=si(),s=n([].push);return su=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,l=[],u=0;u<a;u++){var d=o[u];typeof d=="string"?s(l,d):(typeof d=="number"||r(d)==="Number"||r(d)==="String")&&s(l,i(d))}var c=l.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var y=0;y<c;y++)if(l[y]===f)return v}}},su}var E_;function p2(){if(E_)return w_;E_=1;var n=he(),e=kt(),t=Fo(),r=Tt(),i=Pe(),s=Oe(),o=nt(),a=Cs(),l=kn(),u=UB(),d=xn(),c=String,h=e("JSON","stringify"),f=i(/./.exec),v=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),p=/[\uD800-\uDFFF]/g,$=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,S=!d||s(function(){var E=e("Symbol")("stringify detection");return h([E])!=="[null]"||h({a:E})!=="{}"||h(Object(E))!=="{}"}),O=s(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),x=function(E,T){var P=l(arguments),R=u(T);if(!(!o(R)&&(E===void 0||a(E))))return P[1]=function(C,A){if(o(R)&&(A=r(R,this,c(C),A)),!a(A))return A},t(h,null,P)},_=function(E,T,P){var R=v(P,T-1),C=v(P,T+1);return f($,E)&&!f(m,C)||f(m,E)&&!f($,R)?"\\u"+g(y(E,0),16):E};return h&&n({target:"JSON",stat:!0,arity:3,forced:S||O},{stringify:function(T,P,R){var C=l(arguments),A=t(S?x:h,null,C);return O&&typeof A=="string"?b(A,p,_):A}}),w_}var $_={},O_;function GB(){if(O_)return $_;O_=1;var n=he(),e=xn(),t=Oe(),r=Uo(),i=er(),s=!e||t(function(){r.f(1)});return n({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=r.f;return l?l(i(a)):[]}}),$_}var I_;function g2(){return I_||(I_=1,WB(),HB(),VB(),p2(),GB()),z0}var x_={},T_;function y2(){if(T_)return x_;T_=1;var n=je();return n("asyncDispose"),x_}var P_={},R_;function KB(){if(R_)return P_;R_=1;var n=je();return n("asyncIterator"),P_}var C_={},q_;function m2(){if(q_)return C_;q_=1;var n=je();return n("dispose"),C_}var k_={},D_;function YB(){if(D_)return k_;D_=1;var n=je();return n("hasInstance"),k_}var M_={},A_;function XB(){if(A_)return M_;A_=1;var n=je();return n("isConcatSpreadable"),M_}var F_={},N_;function b2(){if(N_)return F_;N_=1;var n=je();return n("iterator"),F_}var B_={},j_;function JB(){if(j_)return B_;j_=1;var n=je();return n("match"),B_}var L_={},z_;function ZB(){if(z_)return L_;z_=1;var n=je();return n("matchAll"),L_}var W_={},H_;function QB(){if(H_)return W_;H_=1;var n=je();return n("replace"),W_}var V_={},U_;function ej(){if(U_)return V_;U_=1;var n=je();return n("search"),V_}var G_={},K_;function tj(){if(K_)return G_;K_=1;var n=je();return n("species"),G_}var Y_={},X_;function rj(){if(X_)return Y_;X_=1;var n=je();return n("split"),Y_}var J_={},Z_;function _2(){if(Z_)return J_;Z_=1;var n=je(),e=f2();return n("toPrimitive"),e(),J_}var Q_={},ew;function ij(){if(ew)return Q_;ew=1;var n=kt(),e=je(),t=Ai();return e("toStringTag"),t(n("Symbol"),"Symbol"),Q_}var tw={},rw;function nj(){if(rw)return tw;rw=1;var n=je();return n("unscopables"),tw}var iw={},nw;function sj(){if(nw)return iw;nw=1;var n=Ze(),e=Ai();return e(n.JSON,"JSON",!0),iw}var ou,sw;function oj(){if(sw)return ou;sw=1,d2(),g2(),y2(),KB(),m2(),YB(),XB(),b2(),JB(),ZB(),QB(),ej(),tj(),rj(),_2(),ij(),nj(),sj();var n=rt();return ou=n.Symbol,ou}var ow={},au,aw;function aj(){return aw||(aw=1,au=function(){}),au}var lu,lw;function Mn(){return lw||(lw=1,lu={}),lu}var uu,uw;function lj(){if(uw)return uu;uw=1;var n=Qe(),e=ot(),t=Function.prototype,r=n&&Object.getOwnPropertyDescriptor,i=e(t,"name"),s=i&&(function(){}).name==="something",o=i&&(!n||n&&r(t,"name").configurable);return uu={EXISTS:i,PROPER:s,CONFIGURABLE:o},uu}var du,dw;function uj(){if(dw)return du;dw=1;var n=Oe();return du=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),du}var cu,cw;function w2(){if(cw)return cu;cw=1;var n=ot(),e=nt(),t=er(),r=Ho(),i=uj(),s=r("IE_PROTO"),o=Object,a=o.prototype;return cu=i?o.getPrototypeOf:function(l){var u=t(l);if(n(u,s))return u[s];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof o?a:null},cu}var hu,hw;function S2(){if(hw)return hu;hw=1;var n=Oe(),e=nt(),t=St(),r=Ds(),i=w2(),s=Ms(),o=at(),a=Pn(),l=o("iterator"),u=!1,d,c,h;[].keys&&(h=[].keys(),"next"in h?(c=i(i(h)),c!==Object.prototype&&(d=c)):u=!0);var f=!t(d)||n(function(){var v={};return d[l].call(v)!==v});return f?d={}:a&&(d=r(d)),e(d[l])||s(d,l,function(){return this}),hu={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},hu}var fu,fw;function dj(){if(fw)return fu;fw=1;var n=S2().IteratorPrototype,e=Ds(),t=Ts(),r=Ai(),i=Mn(),s=function(){return this};return fu=function(o,a,l,u){var d=a+" Iterator";return o.prototype=e(n,{next:t(+!u,l)}),r(o,d,!1,!0),i[d]=s,o},fu}var vu,vw;function cj(){if(vw)return vu;vw=1;var n=Pe(),e=Dr();return vu=function(t,r,i){try{return n(e(Object.getOwnPropertyDescriptor(t,r)[i]))}catch{}},vu}var pu,pw;function hj(){if(pw)return pu;pw=1;var n=St();return pu=function(e){return n(e)||e===null},pu}var gu,gw;function fj(){if(gw)return gu;gw=1;var n=hj(),e=String,t=TypeError;return gu=function(r){if(n(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},gu}var yu,yw;function vj(){if(yw)return yu;yw=1;var n=cj(),e=St(),t=Di(),r=fj();return yu=Object.setPrototypeOf||("__proto__"in{}?(function(){var i=!1,s={},o;try{o=n(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(l,u){return t(l),r(u),e(l)&&(i?o(l,u):l.__proto__=u),l}})():void 0),yu}var mu,mw;function Eb(){if(mw)return mu;mw=1;var n=he(),e=Tt(),t=Pn(),r=lj(),i=nt(),s=dj(),o=w2(),a=vj(),l=Ai(),u=Cn(),d=Ms(),c=at(),h=Mn(),f=S2(),v=r.PROPER,y=r.CONFIGURABLE,b=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,p=c("iterator"),$="keys",m="values",S="entries",O=function(){return this};return mu=function(x,_,E,T,P,R,C){s(E,_,T);var A=function(we){if(we===P&&de)return de;if(!g&&we&&we in V)return V[we];switch(we){case $:return function(){return new E(this,we)};case m:return function(){return new E(this,we)};case S:return function(){return new E(this,we)}}return function(){return new E(this)}},L=_+" Iterator",ne=!1,V=x.prototype,ae=V[p]||V["@@iterator"]||P&&V[P],de=!g&&ae||A(P),fe=_==="Array"&&V.entries||ae,G,pe,ce;if(fe&&(G=o(fe.call(new x)),G!==Object.prototype&&G.next&&(!t&&o(G)!==b&&(a?a(G,b):i(G[p])||d(G,p,O)),l(G,L,!0,!0),t&&(h[L]=O))),v&&P===m&&ae&&ae.name!==m&&(!t&&y?u(V,"name",m):(ne=!0,de=function(){return e(ae,this)})),P)if(pe={values:A(m),keys:R?de:A($),entries:A(S)},C)for(ce in pe)(g||ne||!(ce in V))&&d(V,ce,pe[ce]);else n({target:_,proto:!0,forced:g||ne},pe);return(!t||C)&&V[p]!==de&&d(V,p,de,{name:P}),h[_]=de,pe},mu}var bu,bw;function $b(){return bw||(bw=1,bu=function(n,e){return{value:n,done:e}}),bu}var _u,_w;function oi(){if(_w)return _u;_w=1;var n=cr(),e=aj(),t=Mn(),r=As(),i=Lt().f,s=Eb(),o=$b(),a=Pn(),l=Qe(),u="Array Iterator",d=r.set,c=r.getterFor(u);_u=s(Array,"Array",function(f,v){d(this,{type:u,target:n(f),index:0,kind:v})},function(){var f=c(this),v=f.target,y=f.index++;if(!v||y>=v.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(y,!1);case"values":return o(v[y],!1)}return o([y,v[y]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&h.name!=="values")try{i(h,"name",{value:"values"})}catch{}return _u}var wu,ww;function pj(){return ww||(ww=1,wu={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),wu}var Sw;function ai(){if(Sw)return ow;Sw=1,oi();var n=pj(),e=Ze(),t=Ai(),r=Mn();for(var i in n)t(e[i],i),r[i]=r.Array;return ow}var Su,Ew;function E2(){if(Ew)return Su;Ew=1;var n=oj();return ai(),Su=n,Su}var $w={},Ow;function gj(){if(Ow)return $w;Ow=1;var n=at(),e=Lt().f,t=n("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),$w}var Iw={},xw;function yj(){return xw||(xw=1,y2()),Iw}var Tw={},Pw;function mj(){return Pw||(Pw=1,m2()),Tw}var Rw={},Cw;function bj(){if(Cw)return Rw;Cw=1;var n=je();return n("metadata"),Rw}var Eu,qw;function _j(){if(qw)return Eu;qw=1;var n=E2();return gj(),yj(),mj(),bj(),Eu=n,Eu}var kw={},$u,Dw;function $2(){if(Dw)return $u;Dw=1;var n=kt(),e=Pe(),t=n("Symbol"),r=t.keyFor,i=e(t.prototype.valueOf);return $u=t.isRegisteredSymbol||function(o){try{return r(i(o))!==void 0}catch{return!1}},$u}var Mw;function wj(){if(Mw)return kw;Mw=1;var n=he(),e=$2();return n({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),kw}var Aw={},Ou,Fw;function O2(){if(Fw)return Ou;Fw=1;for(var n=Rn(),e=kt(),t=Pe(),r=Cs(),i=at(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=t(s.prototype.valueOf),u=n("wks"),d=0,c=a(s),h=c.length;d<h;d++)try{var f=c[d];r(s[f])&&i(f)}catch{}return Ou=function(y){if(o&&o(y))return!0;try{for(var b=l(y),g=0,p=a(u),$=p.length;g<$;g++)if(u[p[g]]==b)return!0}catch{}return!1},Ou}var Nw;function Sj(){if(Nw)return Aw;Nw=1;var n=he(),e=O2();return n({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Aw}var Bw={},jw;function Ej(){if(jw)return Bw;jw=1;var n=je();return n("customMatcher"),Bw}var Lw={},zw;function $j(){if(zw)return Lw;zw=1;var n=je();return n("observable"),Lw}var Ww={},Hw;function Oj(){if(Hw)return Ww;Hw=1;var n=he(),e=$2();return n({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Ww}var Vw={},Uw;function Ij(){if(Uw)return Vw;Uw=1;var n=he(),e=O2();return n({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Vw}var Gw={},Kw;function xj(){if(Kw)return Gw;Kw=1;var n=je();return n("matcher"),Gw}var Yw={},Xw;function Tj(){if(Xw)return Yw;Xw=1;var n=je();return n("metadataKey"),Yw}var Jw={},Zw;function Pj(){if(Zw)return Jw;Zw=1;var n=je();return n("patternMatch"),Jw}var Qw={},eS;function Rj(){if(eS)return Qw;eS=1;var n=je();return n("replaceAll"),Qw}var Iu,tS;function Cj(){if(tS)return Iu;tS=1;var n=_j();return wj(),Sj(),Ej(),$j(),Oj(),Ij(),xj(),Tj(),Pj(),Rj(),Iu=n,Iu}var xu,rS;function qj(){return rS||(rS=1,xu=Cj()),xu}var kj=qj(),co=me(kj),iS={},Tu,nS;function Dj(){if(nS)return Tu;nS=1;var n=Pe(),e=qn(),t=si(),r=Di(),i=n("".charAt),s=n("".charCodeAt),o=n("".slice),a=function(l){return function(u,d){var c=t(r(u)),h=e(d),f=c.length,v,y;return h<0||h>=f?l?"":void 0:(v=s(c,h),v<55296||v>56319||h+1===f||(y=s(c,h+1))<56320||y>57343?l?i(c,h):v:l?o(c,h,h+2):(v-55296<<10)+(y-56320)+65536)}};return Tu={codeAt:a(!1),charAt:a(!0)},Tu}var sS;function Ko(){if(sS)return iS;sS=1;var n=Dj().charAt,e=si(),t=As(),r=Eb(),i=$b(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var u=a(this),d=u.string,c=u.index,h;return c>=d.length?i(void 0,!0):(h=n(d,c),u.index+=h.length,i(h,!1))}),iS}var Pu,oS;function Mj(){if(oS)return Pu;oS=1,oi(),Ko(),b2();var n=Go();return Pu=n.f("iterator"),Pu}var Ru,aS;function I2(){if(aS)return Ru;aS=1;var n=Mj();return ai(),Ru=n,Ru}var Cu,lS;function Aj(){if(lS)return Cu;lS=1;var n=I2();return Cu=n,Cu}var qu,uS;function Fj(){if(uS)return qu;uS=1;var n=Aj();return qu=n,qu}var ku,dS;function Nj(){return dS||(dS=1,ku=Fj()),ku}var Bj=Nj(),jj=me(Bj);function ps(n){"@babel/helpers - typeof";return ps=typeof co=="function"&&typeof jj=="symbol"?function(e){return typeof e}:function(e){return e&&typeof co=="function"&&e.constructor===co&&e!==co.prototype?"symbol":typeof e},ps(n)}var Du,cS;function Lj(){if(cS)return Du;cS=1,_2();var n=Go();return Du=n.f("toPrimitive"),Du}var Mu,hS;function zj(){if(hS)return Mu;hS=1;var n=Lj();return Mu=n,Mu}var Au,fS;function Wj(){if(fS)return Au;fS=1;var n=zj();return Au=n,Au}var Fu,vS;function Hj(){if(vS)return Fu;vS=1;var n=Wj();return Fu=n,Fu}var Nu,pS;function Vj(){return pS||(pS=1,Nu=Hj()),Nu}var Uj=Vj(),Gj=me(Uj);function Kj(n,e){if(ps(n)!="object"||!n)return n;var t=n[Gj];if(t!==void 0){var r=t.call(n,e);if(ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Yj(n){var e=Kj(n,"string");return ps(e)=="symbol"?e:e+""}function Kr(n,e,t){return(e=Yj(e))in n?MB(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var gS={},Bu,yS;function Xj(){if(yS)return Bu;yS=1;var n=Pe(),e=Dr(),t=St(),r=ot(),i=kn(),s=xs(),o=Function,a=n([].concat),l=n([].join),u={},d=function(c,h,f){if(!r(u,h)){for(var v=[],y=0;y<h;y++)v[y]="a["+y+"]";u[h]=o("C,a","return new C("+l(v,",")+")")}return u[h](c,f)};return Bu=s?o.bind:function(h){var f=e(this),v=f.prototype,y=i(arguments,1),b=function(){var p=a(y,i(arguments));return this instanceof b?d(f,p.length,p):f.apply(h,p)};return t(v)&&(b.prototype=v),b},Bu}var mS;function Jj(){if(mS)return gS;mS=1;var n=he(),e=Xj();return n({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),gS}var ju,bS;function Pt(){if(bS)return ju;bS=1;var n=Ze(),e=rt();return ju=function(t,r){var i=e[t+"Prototype"],s=i&&i[r];if(s)return s;var o=n[t],a=o&&o.prototype;return a&&a[r]},ju}var Lu,_S;function Zj(){if(_S)return Lu;_S=1,Jj();var n=Pt();return Lu=n("Function","bind"),Lu}var zu,wS;function Qj(){if(wS)return zu;wS=1;var n=st(),e=Zj(),t=Function.prototype;return zu=function(r){var i=r.bind;return r===t||n(t,r)&&i===t.bind?e:i},zu}var Wu,SS;function eL(){if(SS)return Wu;SS=1;var n=Qj();return Wu=n,Wu}var Hu,ES;function tL(){return ES||(ES=1,Hu=eL()),Hu}var rL=tL(),x2=me(rL),$S={},Vu,OS;function iL(){if(OS)return Vu;OS=1;var n=Dr(),e=er(),t=No(),r=ii(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,u,d,c){var h=e(l),f=t(h),v=r(h);if(n(u),v===0&&d<2)throw new i(s);var y=a?v-1:0,b=a?-1:1;if(d<2)for(;;){if(y in f){c=f[y],y+=b;break}if(y+=b,a?y<0:v<=y)throw new i(s)}for(;a?y>=0:v>y;y+=b)y in f&&(c=u(c,f[y],y,h));return c}};return Vu={left:o(!1),right:o(!0)},Vu}var Uu,IS;function Yo(){if(IS)return Uu;IS=1;var n=Oe();return Uu=function(e,t){var r=[][e];return!!r&&n(function(){r.call(null,t||function(){return 1},1)})},Uu}var Gu,xS;function T2(){if(xS)return Gu;xS=1;var n=Ze(),e=In(),t=kr(),r=function(i){return e.slice(0,i.length)===i};return Gu=(function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":n.Bun&&typeof Bun.version=="string"?"BUN":n.Deno&&typeof Deno.version=="object"?"DENO":t(n.process)==="process"?"NODE":n.window&&n.document?"BROWSER":"REST"})(),Gu}var Ku,TS;function nL(){if(TS)return Ku;TS=1;var n=T2();return Ku=n==="NODE",Ku}var PS;function sL(){if(PS)return $S;PS=1;var n=he(),e=iL().left,t=Yo(),r=Rs(),i=nL(),s=!i&&r>79&&r<83,o=s||!t("reduce");return n({target:"Array",proto:!0,forced:o},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),$S}var Yu,RS;function oL(){if(RS)return Yu;RS=1,sL();var n=Pt();return Yu=n("Array","reduce"),Yu}var Xu,CS;function aL(){if(CS)return Xu;CS=1;var n=st(),e=oL(),t=Array.prototype;return Xu=function(r){var i=r.reduce;return r===t||n(t,r)&&i===t.reduce?e:i},Xu}var Ju,qS;function lL(){if(qS)return Ju;qS=1;var n=aL();return Ju=n,Ju}var Zu,kS;function uL(){return kS||(kS=1,Zu=lL()),Zu}var dL=uL(),cL=me(dL),DS={},MS;function hL(){if(MS)return DS;MS=1;var n=he(),e=Dn().filter,t=qs(),r=t("filter");return n({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),DS}var Qu,AS;function fL(){if(AS)return Qu;AS=1,hL();var n=Pt();return Qu=n("Array","filter"),Qu}var ed,FS;function vL(){if(FS)return ed;FS=1;var n=st(),e=fL(),t=Array.prototype;return ed=function(r){var i=r.filter;return r===t||n(t,r)&&i===t.filter?e:i},ed}var td,NS;function pL(){if(NS)return td;NS=1;var n=vL();return td=n,td}var rd,BS;function gL(){return BS||(BS=1,rd=pL()),rd}var yL=gL(),ln=me(yL),jS={},LS;function mL(){if(LS)return jS;LS=1;var n=he(),e=Dn().map,t=qs(),r=t("map");return n({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),jS}var id,zS;function bL(){if(zS)return id;zS=1,mL();var n=Pt();return id=n("Array","map"),id}var nd,WS;function _L(){if(WS)return nd;WS=1;var n=st(),e=bL(),t=Array.prototype;return nd=function(r){var i=r.map;return r===t||n(t,r)&&i===t.map?e:i},nd}var sd,HS;function wL(){if(HS)return sd;HS=1;var n=_L();return sd=n,sd}var od,VS;function SL(){return VS||(VS=1,od=wL()),od}var EL=SL(),Xt=me(EL),ad,US;function $L(){return US||(US=1,ad=E2()),ad}var OL=$L(),IL=me(OL),GS={},KS;function xL(){if(KS)return GS;KS=1;var n=he(),e=Mi(),t=u2(),r=St(),i=bb(),s=ii(),o=cr(),a=zo(),l=at(),u=qs(),d=kn(),c=u("slice"),h=l("species"),f=Array,v=Math.max;return n({target:"Array",proto:!0,forced:!c},{slice:function(b,g){var p=o(this),$=s(p),m=i(b,$),S=i(g===void 0?$:g,$),O,x,_;if(e(p)&&(O=p.constructor,t(O)&&(O===f||e(O.prototype))?O=void 0:r(O)&&(O=O[h],O===null&&(O=void 0)),O===f||O===void 0))return d(p,m,S);for(x=new(O===void 0?f:O)(v(S-m,0)),_=0;m<S;m++,_++)m in p&&a(x,_,p[m]);return x.length=_,x}}),GS}var ld,YS;function TL(){if(YS)return ld;YS=1,xL();var n=Pt();return ld=n("Array","slice"),ld}var ud,XS;function PL(){if(XS)return ud;XS=1;var n=st(),e=TL(),t=Array.prototype;return ud=function(r){var i=r.slice;return r===t||n(t,r)&&i===t.slice?e:i},ud}var dd,JS;function RL(){if(JS)return dd;JS=1;var n=PL();return dd=n,dd}var cd,ZS;function CL(){return ZS||(ZS=1,cd=RL()),cd}var qL=CL(),kL=me(qL),QS={},hd,eE;function P2(){if(eE)return hd;eE=1;var n=kt(),e=Pe(),t=Vo(),r=Uo(),i=Mr(),s=e([].concat);return hd=n("Reflect","ownKeys")||function(a){var l=t.f(i(a)),u=r.f;return u?s(l,u(a)):l},hd}var tE;function DL(){if(tE)return QS;tE=1;var n=he(),e=P2();return n({target:"Reflect",stat:!0},{ownKeys:e}),QS}var fd,rE;function ML(){if(rE)return fd;rE=1,DL();var n=rt();return fd=n.Reflect.ownKeys,fd}var vd,iE;function AL(){if(iE)return vd;iE=1;var n=ML();return vd=n,vd}var pd,nE;function FL(){return nE||(nE=1,pd=AL()),pd}var NL=FL(),BL=me(NL),sE={},oE;function jL(){if(oE)return sE;oE=1;var n=he(),e=Mi();return n({target:"Array",stat:!0},{isArray:e}),sE}var gd,aE;function LL(){if(aE)return gd;aE=1,jL();var n=rt();return gd=n.Array.isArray,gd}var yd,lE;function zL(){if(lE)return yd;lE=1;var n=LL();return yd=n,yd}var md,uE;function WL(){return uE||(uE=1,md=zL()),md}var HL=WL(),nr=me(HL),dE={},cE;function VL(){if(cE)return dE;cE=1;var n=he(),e=er(),t=Wo(),r=Oe(),i=r(function(){t(1)});return n({target:"Object",stat:!0,forced:i},{keys:function(o){return t(e(o))}}),dE}var bd,hE;function UL(){if(hE)return bd;hE=1,VL();var n=rt();return bd=n.Object.keys,bd}var _d,fE;function GL(){if(fE)return _d;fE=1;var n=UL();return _d=n,_d}var wd,vE;function KL(){return vE||(vE=1,wd=GL()),wd}var YL=KL(),Ob=me(YL),pE={},Sd,gE;function XL(){if(gE)return Sd;gE=1;var n=Dn().forEach,e=Yo(),t=e("forEach");return Sd=t?[].forEach:function(i){return n(this,i,arguments.length>1?arguments[1]:void 0)},Sd}var yE;function JL(){if(yE)return pE;yE=1;var n=he(),e=XL();return n({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),pE}var Ed,mE;function ZL(){if(mE)return Ed;mE=1,JL();var n=Pt();return Ed=n("Array","forEach"),Ed}var $d,bE;function QL(){if(bE)return $d;bE=1;var n=ZL();return $d=n,$d}var Od,_E;function ez(){if(_E)return Od;_E=1;var n=ni(),e=ot(),t=st(),r=QL(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Od=function(o){var a=o.forEach;return o===i||t(i,o)&&a===i.forEach||e(s,n(o))?r:a},Od}var Id,wE;function tz(){return wE||(wE=1,Id=ez()),Id}var rz=tz(),Ii=me(rz),SE={},EE;function iz(){if(EE)return SE;EE=1;var n=he(),e=Pe(),t=Mi(),r=e([].reverse),i=[1,2];return n({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),SE}var xd,$E;function nz(){if($E)return xd;$E=1,iz();var n=Pt();return xd=n("Array","reverse"),xd}var Td,OE;function sz(){if(OE)return Td;OE=1;var n=st(),e=nz(),t=Array.prototype;return Td=function(r){var i=r.reverse;return r===t||n(t,r)&&i===t.reverse?e:i},Td}var Pd,IE;function oz(){if(IE)return Pd;IE=1;var n=sz();return Pd=n,Pd}var Rd,xE;function az(){return xE||(xE=1,Rd=oz()),Rd}var lz=az(),uz=me(lz),TE={},Cd,PE;function dz(){if(PE)return Cd;PE=1;var n=Qe(),e=Mi(),t=TypeError,r=Object.getOwnPropertyDescriptor,i=n&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}})();return Cd=i?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Cd}var qd,RE;function R2(){if(RE)return qd;RE=1;var n=Tn(),e=TypeError;return qd=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+n(r)+" of "+n(t))},qd}var CE;function cz(){if(CE)return TE;CE=1;var n=he(),e=er(),t=bb(),r=qn(),i=ii(),s=dz(),o=l2(),a=mb(),l=zo(),u=R2(),d=qs(),c=d("splice"),h=Math.max,f=Math.min;return n({target:"Array",proto:!0,forced:!c},{splice:function(y,b){var g=e(this),p=i(g),$=t(y,p),m=arguments.length,S,O,x,_,E,T;for(m===0?S=O=0:m===1?(S=0,O=p-$):(S=m-2,O=f(h(r(b),0),p-$)),o(p+S-O),x=a(g,O),_=0;_<O;_++)E=$+_,E in g&&l(x,_,g[E]);if(x.length=O,S<O){for(_=$;_<p-O;_++)E=_+O,T=_+S,E in g?g[T]=g[E]:u(g,T);for(_=p;_>p-O+S;_--)u(g,_-1)}else if(S>O)for(_=p-O;_>$;_--)E=_+O-1,T=_+S-1,E in g?g[T]=g[E]:u(g,T);for(_=0;_<S;_++)g[_+$]=arguments[_+2];return s(g,p-O+S),x}}),TE}var kd,qE;function hz(){if(qE)return kd;qE=1,cz();var n=Pt();return kd=n("Array","splice"),kd}var Dd,kE;function fz(){if(kE)return Dd;kE=1;var n=st(),e=hz(),t=Array.prototype;return Dd=function(r){var i=r.splice;return r===t||n(t,r)&&i===t.splice?e:i},Dd}var Md,DE;function vz(){if(DE)return Md;DE=1;var n=fz();return Md=n,Md}var Ad,ME;function pz(){return ME||(ME=1,Ad=vz()),Ad}var gz=pz(),C2=me(gz),AE={},Fd,FE;function yz(){if(FE)return Fd;FE=1;var n=Qe(),e=Pe(),t=Tt(),r=Oe(),i=Wo(),s=Uo(),o=fb(),a=er(),l=No(),u=Object.assign,d=Object.defineProperty,c=e([].concat);return Fd=!u||r(function(){if(n&&u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),y="abcdefghijklmnopqrst";return h[v]=7,y.split("").forEach(function(b){f[b]=b}),u({},h)[v]!==7||i(u({},f)).join("")!==y})?function(f,v){for(var y=a(f),b=arguments.length,g=1,p=s.f,$=o.f;b>g;)for(var m=l(arguments[g++]),S=p?c(i(m),p(m)):i(m),O=S.length,x=0,_;O>x;)_=S[x++],(!n||t($,m,_))&&(y[_]=m[_]);return y}:u,Fd}var NE;function mz(){if(NE)return AE;NE=1;var n=he(),e=yz();return n({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),AE}var Nd,BE;function bz(){if(BE)return Nd;BE=1,mz();var n=rt();return Nd=n.Object.assign,Nd}var Bd,jE;function _z(){if(jE)return Bd;jE=1;var n=bz();return Bd=n,Bd}var jd,LE;function wz(){return LE||(LE=1,jd=_z()),jd}var Sz=wz(),Ez=me(Sz),Ld,zE;function $z(){if(zE)return Ld;zE=1,d2();var n=Pt();return Ld=n("Array","concat"),Ld}var zd,WE;function Oz(){if(WE)return zd;WE=1;var n=st(),e=$z(),t=Array.prototype;return zd=function(r){var i=r.concat;return r===t||n(t,r)&&i===t.concat?e:i},zd}var Wd,HE;function Iz(){if(HE)return Wd;HE=1;var n=Oz();return Wd=n,Wd}var Hd,VE;function xz(){return VE||(VE=1,Hd=Iz()),Hd}var Tz=xz(),Pz=me(Tz),UE={},GE;function Rz(){if(GE)return UE;GE=1;var n=he(),e=Qe(),t=Ds();return n({target:"Object",stat:!0,sham:!e},{create:t}),UE}var Vd,KE;function Cz(){if(KE)return Vd;KE=1,Rz();var n=rt(),e=n.Object;return Vd=function(r,i){return e.create(r,i)},Vd}var Ud,YE;function qz(){if(YE)return Ud;YE=1;var n=Cz();return Ud=n,Ud}var Gd,XE;function kz(){return XE||(XE=1,Gd=qz()),Gd}var Dz=kz(),Mz=me(Dz),JE={},Kd,ZE;function Az(){if(ZE)return Kd;ZE=1;var n=qn(),e=si(),t=Di(),r=RangeError;return Kd=function(s){var o=e(t(this)),a="",l=n(s);if(l<0||l===1/0)throw new r("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},Kd}var Yd,QE;function Fz(){if(QE)return Yd;QE=1;var n=Pe(),e=a2(),t=si(),r=Az(),i=Di(),s=n(r),o=n("".slice),a=Math.ceil,l=function(u){return function(d,c,h){var f=t(i(d)),v=e(c),y=f.length,b=h===void 0?" ":t(h),g,p;return v<=y||b===""?f:(g=v-y,p=s(b,a(g/b.length)),p.length>g&&(p=o(p,0,g)),u?f+p:p+f)}};return Yd={start:l(!1),end:l(!0)},Yd}var Xd,e$;function Nz(){if(e$)return Xd;e$=1;var n=Pe(),e=Oe(),t=Fz().start,r=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=n(o.getTime),u=n(o.getUTCDate),d=n(o.getUTCFullYear),c=n(o.getUTCHours),h=n(o.getUTCMilliseconds),f=n(o.getUTCMinutes),v=n(o.getUTCMonth),y=n(o.getUTCSeconds);return Xd=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(l(this)))throw new r("Invalid time value");var g=this,p=d(g),$=h(g),m=p<0?"-":p>9999?"+":"";return m+t(s(p),m?6:4,0)+"-"+t(v(g)+1,2,0)+"-"+t(u(g),2,0)+"T"+t(c(g),2,0)+":"+t(f(g),2,0)+":"+t(y(g),2,0)+"."+t($,3,0)+"Z"}:a,Xd}var t$;function Bz(){if(t$)return JE;t$=1;var n=he(),e=Tt(),t=er(),r=r2(),i=Nz(),s=kr(),o=Oe(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return n({target:"Date",proto:!0,forced:a},{toJSON:function(u){var d=t(this),c=r(d,"number");return typeof c=="number"&&!isFinite(c)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),JE}var Jd,r$;function jz(){if(r$)return Jd;r$=1,Bz(),p2();var n=rt(),e=Fo();return n.JSON||(n.JSON={stringify:JSON.stringify}),Jd=function(r,i,s){return e(n.JSON.stringify,null,arguments)},Jd}var Zd,i$;function Lz(){if(i$)return Zd;i$=1;var n=jz();return Zd=n,Zd}var Qd,n$;function zz(){return n$||(n$=1,Qd=Lz()),Qd}var Wz=zz(),Hz=me(Wz),s$={},o$={},ec,a$;function Vz(){if(a$)return ec;a$=1;var n=TypeError;return ec=function(e,t){if(e<t)throw new n("Not enough arguments");return e},ec}var tc,l$;function q2(){if(l$)return tc;l$=1;var n=Ze(),e=Fo(),t=nt(),r=T2(),i=In(),s=kn(),o=Vz(),a=n.Function,l=/MSIE .\./.test(i)||r==="BUN"&&(function(){var u=n.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")})();return tc=function(u,d){var c=d?2:1;return l?function(h,f){var v=o(arguments.length,1)>c,y=t(h)?h:a(h),b=v?s(arguments,c):[],g=v?function(){e(y,this,b)}:y;return d?u(g,f):u(g)}:u},tc}var u$;function Uz(){if(u$)return o$;u$=1;var n=he(),e=Ze(),t=q2(),r=t(e.setInterval,!0);return n({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),o$}var d$={},c$;function Gz(){if(c$)return d$;c$=1;var n=he(),e=Ze(),t=q2(),r=t(e.setTimeout,!0);return n({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),d$}var h$;function Kz(){return h$||(h$=1,Uz(),Gz()),s$}var rc,f$;function Yz(){if(f$)return rc;f$=1,Kz();var n=rt();return rc=n.setTimeout,rc}var ic,v$;function Xz(){return v$||(v$=1,ic=Yz()),ic}var Jz=Xz(),Zz=me(Jz),nc={exports:{}},p$;function Qz(){return p$||(p$=1,(function(n){function e(r){if(r)return t(r);this._callbacks=new Map}function t(r){return Object.assign(r,e.prototype),r._callbacks=new Map,r}e.prototype.on=function(r,i){const s=this._callbacks.get(r)??[];return s.push(i),this._callbacks.set(r,s),this},e.prototype.once=function(r,i){const s=(...o)=>{this.off(r,s),i.apply(this,o)};return s.fn=i,this.on(r,s),this},e.prototype.off=function(r,i){if(r===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(r),this;const s=this._callbacks.get(r);if(s){for(const[o,a]of s.entries())if(a===i||a.fn===i){s.splice(o,1);break}s.length===0?this._callbacks.delete(r):this._callbacks.set(r,s)}return this},e.prototype.emit=function(r,...i){const s=this._callbacks.get(r);if(s){const o=[...s];for(const a of o)a.apply(this,i)}return this},e.prototype.listeners=function(r){return this._callbacks.get(r)??[]},e.prototype.listenerCount=function(r){if(r)return this.listeners(r).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(r){return this.listenerCount(r)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,n.exports=e})(nc)),nc.exports}var e5=Qz(),t5=me(e5);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Zt(){return Zt=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Zt.apply(this,arguments)}function zt(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function ho(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var Km;typeof Object.assign!="function"?Km=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t}:Km=Object.assign;var xi=Km,g$=["","webkit","Moz","MS","ms","o"],r5=typeof document>"u"?{style:{}}:document.createElement("div"),i5="function",un=Math.round,Ti=Math.abs,Ib=Date.now;function Xo(n,e){for(var t,r,i=e[0].toUpperCase()+e.slice(1),s=0;s<g$.length;){if(t=g$[s],r=t?t+i:e,r in n)return r;s++}}var Or;typeof window>"u"?Or={}:Or=window;var k2=Xo(r5.style,"touchAction"),D2=k2!==void 0;function n5(){if(!D2)return!1;var n={},e=Or.CSS&&Or.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return n[t]=e?Or.CSS.supports("touch-action",t):!0}),n}var M2="compute",A2="auto",Ym="manipulation",_i="none",gs="pan-x",ys="pan-y",fo=n5(),s5=/mobile|tablet|ip(ad|hone|od)|android/i,F2="ontouchstart"in Or,o5=Xo(Or,"PointerEvent")!==void 0,a5=F2&&s5.test(navigator.userAgent),Fs="touch",l5="pen",xb="mouse",u5="kinect",d5=25,_t=1,Fi=2,Ye=4,It=8,Eo=1,Ns=2,Bs=4,js=8,mn=16,ur=Ns|Bs,wi=js|mn,N2=ur|wi,B2=["x","y"],$o=["clientX","clientY"];function Ir(n,e,t){var r;if(n)if(n.forEach)n.forEach(e,t);else if(n.length!==void 0)for(r=0;r<n.length;)e.call(t,n[r],r,n),r++;else for(r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r,n)}function Jo(n,e){return typeof n===i5?n.apply(e&&e[0]||void 0,e):n}function gi(n,e){return n.indexOf(e)>-1}function c5(n){if(gi(n,_i))return _i;var e=gi(n,gs),t=gi(n,ys);return e&&t?_i:e||t?e?gs:ys:gi(n,Ym)?Ym:A2}var j2=(function(){function n(t,r){this.manager=t,this.set(r)}var e=n.prototype;return e.set=function(r){r===M2&&(r=this.compute()),D2&&this.manager.element.style&&fo[r]&&(this.manager.element.style[k2]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return Ir(this.manager.recognizers,function(i){Jo(i.options.enable,[i])&&(r=r.concat(i.getTouchAction()))}),c5(r.join(" "))},e.preventDefaults=function(r){var i=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=gi(o,_i)&&!fo[_i],l=gi(o,ys)&&!fo[ys],u=gi(o,gs)&&!fo[gs];if(a){var d=r.pointers.length===1,c=r.distance<2,h=r.deltaTime<250;if(d&&c&&h)return}if(!(u&&l)&&(a||l&&s&ur||u&&s&wi))return this.preventSrc(i)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},n})();function Tb(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function L2(n){var e=n.length;if(e===1)return{x:un(n[0].clientX),y:un(n[0].clientY)};for(var t=0,r=0,i=0;i<e;)t+=n[i].clientX,r+=n[i].clientY,i++;return{x:un(t/e),y:un(r/e)}}function y$(n){for(var e=[],t=0;t<n.pointers.length;)e[t]={clientX:un(n.pointers[t].clientX),clientY:un(n.pointers[t].clientY)},t++;return{timeStamp:Ib(),pointers:e,center:L2(e),deltaX:n.deltaX,deltaY:n.deltaY}}function Oo(n,e,t){t||(t=B2);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.sqrt(r*r+i*i)}function Xm(n,e,t){t||(t=B2);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.atan2(i,r)*180/Math.PI}function z2(n,e){return n===e?Eo:Ti(n)>=Ti(e)?n<0?Ns:Bs:e<0?js:mn}function h5(n,e){var t=e.center,r=n.offsetDelta||{},i=n.prevDelta||{},s=n.prevInput||{};(e.eventType===_t||s.eventType===Ye)&&(i=n.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=n.offsetDelta={x:t.x,y:t.y}),e.deltaX=i.x+(t.x-r.x),e.deltaY=i.y+(t.y-r.y)}function W2(n,e,t){return{x:e/n||0,y:t/n||0}}function f5(n,e){return Oo(e[0],e[1],$o)/Oo(n[0],n[1],$o)}function v5(n,e){return Xm(e[1],e[0],$o)+Xm(n[1],n[0],$o)}function p5(n,e){var t=n.lastInterval||e,r=e.timeStamp-t.timeStamp,i,s,o,a;if(e.eventType!==It&&(r>d5||t.velocity===void 0)){var l=e.deltaX-t.deltaX,u=e.deltaY-t.deltaY,d=W2(r,l,u);s=d.x,o=d.y,i=Ti(d.x)>Ti(d.y)?d.x:d.y,a=z2(l,u),n.lastInterval=e}else i=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function g5(n,e){var t=n.session,r=e.pointers,i=r.length;t.firstInput||(t.firstInput=y$(e)),i>1&&!t.firstMultiple?t.firstMultiple=y$(e):i===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,l=e.center=L2(r);e.timeStamp=Ib(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Xm(a,l),e.distance=Oo(a,l),h5(t,e),e.offsetDirection=z2(e.deltaX,e.deltaY);var u=W2(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=Ti(u.x)>Ti(u.y)?u.x:u.y,e.scale=o?f5(o.pointers,r):1,e.rotation=o?v5(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,p5(t,e);var d=n.element,c=e.srcEvent,h;c.composedPath?h=c.composedPath()[0]:c.path?h=c.path[0]:h=c.target,Tb(h,d)&&(d=h),e.target=d}function y5(n,e,t){var r=t.pointers.length,i=t.changedPointers.length,s=e&_t&&r-i===0,o=e&(Ye|It)&&r-i===0;t.isFirst=!!s,t.isFinal=!!o,s&&(n.session={}),t.eventType=e,g5(n,t),n.emit("hammer.input",t),n.recognize(t),n.session.prevInput=t}function ms(n){return n.trim().split(/\s+/g)}function ls(n,e,t){Ir(ms(e),function(r){n.addEventListener(r,t,!1)})}function us(n,e,t){Ir(ms(e),function(r){n.removeEventListener(r,t,!1)})}function m$(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var An=(function(){function n(t,r){var i=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){Jo(t.options.enable,[t])&&i.handler(s)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&ls(this.element,this.evEl,this.domHandler),this.evTarget&&ls(this.target,this.evTarget,this.domHandler),this.evWin&&ls(m$(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&us(this.element,this.evEl,this.domHandler),this.evTarget&&us(this.target,this.evTarget,this.domHandler),this.evWin&&us(m$(this.element),this.evWin,this.domHandler)},n})();function Pi(n,e,t){if(n.indexOf&&!t)return n.indexOf(e);for(var r=0;r<n.length;){if(t&&n[r][t]==e||!t&&n[r]===e)return r;r++}return-1}var m5={pointerdown:_t,pointermove:Fi,pointerup:Ye,pointercancel:It,pointerout:It},b5={2:Fs,3:l5,4:xb,5:u5},H2="pointerdown",V2="pointermove pointerup pointercancel";Or.MSPointerEvent&&!Or.PointerEvent&&(H2="MSPointerDown",V2="MSPointerMove MSPointerUp MSPointerCancel");var U2=(function(n){zt(e,n);function e(){var r,i=e.prototype;return i.evEl=H2,i.evWin=V2,r=n.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),l=m5[a],u=b5[i.pointerType]||i.pointerType,d=u===Fs,c=Pi(s,i.pointerId,"pointerId");l&_t&&(i.button===0||d)?c<0&&(s.push(i),c=s.length-1):l&(Ye|It)&&(o=!0),!(c<0)&&(s[c]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),o&&s.splice(c,1))},e})(An);function bs(n){return Array.prototype.slice.call(n,0)}function Pb(n,e,t){for(var r=[],i=[],s=0;s<n.length;){var o=e?n[s][e]:n[s];Pi(i,o)<0&&r.push(n[s]),i[s]=o,s++}return t&&(e?r=r.sort(function(a,l){return a[e]>l[e]}):r=r.sort()),r}var _5={touchstart:_t,touchmove:Fi,touchend:Ye,touchcancel:It},w5="touchstart touchmove touchend touchcancel",Rb=(function(n){zt(e,n);function e(){var r;return e.prototype.evTarget=w5,r=n.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(i){var s=_5[i.type],o=S5.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Fs,srcEvent:i})},e})(An);function S5(n,e){var t=bs(n.touches),r=this.targetIds;if(e&(_t|Fi)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var i,s,o=bs(n.changedTouches),a=[],l=this.target;if(s=t.filter(function(u){return Tb(u.target,l)}),e===_t)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&a.push(o[i]),e&(Ye|It)&&delete r[o[i].identifier],i++;if(a.length)return[Pb(s.concat(a),"identifier",!0),a]}var E5={mousedown:_t,mousemove:Fi,mouseup:Ye},$5="mousedown",O5="mousemove mouseup",Cb=(function(n){zt(e,n);function e(){var r,i=e.prototype;return i.evEl=$5,i.evWin=O5,r=n.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(i){var s=E5[i.type];s&_t&&i.button===0&&(this.pressed=!0),s&Fi&&i.which!==1&&(s=Ye),this.pressed&&(s&Ye&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:xb,srcEvent:i}))},e})(An),I5=2500,b$=25;function _$(n){var e=n.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},i=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=i.indexOf(r);a>-1&&i.splice(a,1)};setTimeout(s,I5)}}function x5(n,e){n&_t?(this.primaryTouch=e.changedPointers[0].identifier,_$.call(this,e)):n&(Ye|It)&&_$.call(this,e)}function T5(n){for(var e=n.srcEvent.clientX,t=n.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(e-i.x),o=Math.abs(t-i.y);if(s<=b$&&o<=b$)return!0}return!1}var G2=(function(){var n=(function(e){zt(t,e);function t(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,l,u){var d=u.pointerType===Fs,c=u.pointerType===xb;if(!(c&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(d)x5.call(ho(ho(o)),l,u);else if(c&&T5.call(ho(ho(o)),u))return;o.callback(a,l,u)}},o.touch=new Rb(o.manager,o.handler),o.mouse=new Cb(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t})(An);return n})();function P5(n){var e,t=n.options.inputClass;return t?e=t:o5?e=U2:a5?e=Rb:F2?e=G2:e=Cb,new e(n,y5)}function dn(n,e,t){return Array.isArray(n)?(Ir(n,t[e],t),!0):!1}var bo=1,Bt=2,bn=4,Yr=8,xr=Yr,_s=16,or=32,R5=1;function C5(){return R5++}function vo(n,e){var t=e.manager;return t?t.get(n):n}function w$(n){return n&_s?"cancel":n&Yr?"end":n&bn?"move":n&Bt?"start":""}var Ls=(function(){function n(t){t===void 0&&(t={}),this.options=Zt({enable:!0},t),this.id=C5(),this.manager=null,this.state=bo,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(r){return xi(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(dn(r,"recognizeWith",this))return this;var i=this.simultaneous;return r=vo(r,this),i[r.id]||(i[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return dn(r,"dropRecognizeWith",this)?this:(r=vo(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(dn(r,"requireFailure",this))return this;var i=this.requireFail;return r=vo(r,this),Pi(i,r)===-1&&(i.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(dn(r,"dropRequireFailure",this))return this;r=vo(r,this);var i=Pi(this.requireFail,r);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var i=this,s=this.state;function o(a){i.manager.emit(a,r)}s<Yr&&o(i.options.event+w$(s)),o(i.options.event),r.additionalEvent&&o(r.additionalEvent),s>=Yr&&o(i.options.event+w$(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=or},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(or|bo)))return!1;r++}return!0},e.recognize=function(r){var i=xi({},r);if(!Jo(this.options.enable,[this,i])){this.reset(),this.state=or;return}this.state&(xr|_s|or)&&(this.state=bo),this.state=this.process(i),this.state&(Bt|bn|Yr|_s)&&this.tryEmit(i)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},n})(),Jm=(function(n){zt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Zt({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var t=e.prototype;return t.getTouchAction=function(){return[Ym]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime<o.time;if(this.reset(),i.eventType&_t&&this.count===0)return this.failTimeout();if(l&&u&&a){if(i.eventType!==Ye)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<o.interval:!0,c=!this.pCenter||Oo(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!c||!d?this.count=1:this.count+=1,this._input=i;var h=this.count%o.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=xr,s.tryEmit()},o.interval),Bt):xr}return or},t.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=or},this.options.interval),or},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===xr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e})(Ls),_n=(function(n){zt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Zt({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},t.process=function(i){var s=this.state,o=i.eventType,a=s&(Bt|bn),l=this.attrTest(i);return a&&(o&It||!l)?s|_s:a||l?o&Ye?s|Yr:s&Bt?s|bn:Bt:or},e})(Ls);function K2(n){return n===mn?"down":n===js?"up":n===Ns?"left":n===Bs?"right":""}var qb=(function(n){zt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Zt({event:"pan",threshold:10,pointers:1,direction:N2},r))||this,i.pX=null,i.pY=null,i}var t=e.prototype;return t.getTouchAction=function(){var i=this.options.direction,s=[];return i&ur&&s.push(ys),i&wi&&s.push(gs),s},t.directionTest=function(i){var s=this.options,o=!0,a=i.distance,l=i.direction,u=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&ur?(l=u===0?Eo:u<0?Ns:Bs,o=u!==this.pX,a=Math.abs(i.deltaX)):(l=d===0?Eo:d<0?js:mn,o=d!==this.pY,a=Math.abs(i.deltaY))),i.direction=l,o&&a>s.threshold&&l&s.direction},t.attrTest=function(i){return _n.prototype.attrTest.call(this,i)&&(this.state&Bt||!(this.state&Bt)&&this.directionTest(i))},t.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=K2(i.direction);s&&(i.additionalEvent=this.options.event+s),n.prototype.emit.call(this,i)},e})(_n),Y2=(function(n){zt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Zt({event:"swipe",threshold:10,velocity:.3,direction:ur|wi,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return qb.prototype.getTouchAction.call(this)},t.attrTest=function(i){var s=this.options.direction,o;return s&(ur|wi)?o=i.overallVelocity:s&ur?o=i.overallVelocityX:s&wi&&(o=i.overallVelocityY),n.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Ti(o)>this.options.velocity&&i.eventType&Ye},t.emit=function(i){var s=K2(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e})(_n),X2=(function(n){zt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Zt({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[_i]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Bt)},t.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}n.prototype.emit.call(this,i)},e})(_n),J2=(function(n){zt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Zt({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[_i]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Bt)},e})(_n),Z2=(function(n){zt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Zt({event:"press",pointers:1,time:251,threshold:9},r))||this,i._timer=null,i._input=null,i}var t=e.prototype;return t.getTouchAction=function(){return[A2]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime>o.time;if(this._input=i,!l||!a||i.eventType&(Ye|It)&&!u)this.reset();else if(i.eventType&_t)this.reset(),this._timer=setTimeout(function(){s.state=xr,s.tryEmit()},o.time);else if(i.eventType&Ye)return xr;return or},t.reset=function(){clearTimeout(this._timer)},t.emit=function(i){this.state===xr&&(i&&i.eventType&Ye?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=Ib(),this.manager.emit(this.options.event,this._input)))},e})(Ls),Q2={domEvents:!1,touchAction:M2,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},S$=[[J2,{enable:!1}],[X2,{enable:!1},["rotate"]],[Y2,{direction:ur}],[qb,{direction:ur},["swipe"]],[Jm],[Jm,{event:"doubletap",taps:2},["tap"]],[Z2]],q5=1,E$=2;function $$(n,e){var t=n.element;if(t.style){var r;Ir(n.options.cssProps,function(i,s){r=Xo(t.style,s),e?(n.oldCssProps[r]=t.style[r],t.style[r]=i):t.style[r]=n.oldCssProps[r]||""}),e||(n.oldCssProps={})}}function k5(n,e){var t=document.createEvent("Event");t.initEvent(n,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var O$=(function(){function n(t,r){var i=this;this.options=xi({},Q2,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=P5(this),this.touchAction=new j2(this,this.options.touchAction),$$(this,!0),Ir(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=n.prototype;return e.set=function(r){return xi(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?E$:q5},e.recognize=function(r){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&xr)&&(i.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],i.stopped!==E$&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(Bt|bn|Yr)&&(i.curRecognizer=s,a=s),l++}},e.get=function(r){if(r instanceof Ls)return r;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===r)return i[s];return null},e.add=function(r){if(dn(r,"add",this))return this;var i=this.get(r.options.event);return i&&this.remove(i),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(dn(r,"remove",this))return this;var i=this.get(r);if(r){var s=this.recognizers,o=Pi(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,i){if(r===void 0||i===void 0)return this;var s=this.handlers;return Ir(ms(r),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(r,i){if(r===void 0)return this;var s=this.handlers;return Ir(ms(r),function(o){i?s[o]&&s[o].splice(Pi(s[o],i),1):delete s[o]}),this},e.emit=function(r,i){this.options.domEvents&&k5(r,i);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){i.type=r,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&$$(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n})(),D5={touchstart:_t,touchmove:Fi,touchend:Ye,touchcancel:It},M5="touchstart",A5="touchstart touchmove touchend touchcancel",F5=(function(n){zt(e,n);function e(){var r,i=e.prototype;return i.evTarget=M5,i.evWin=A5,r=n.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(i){var s=D5[i.type];if(s===_t&&(this.started=!0),!!this.started){var o=N5.call(this,i,s);s&(Ye|It)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Fs,srcEvent:i})}},e})(An);function N5(n,e){var t=bs(n.touches),r=bs(n.changedTouches);return e&(Ye|It)&&(t=Pb(t.concat(r),"identifier",!0)),[t,r]}function eF(n,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),n.apply(this,arguments)}}var tF=eF(function(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;)(!t||t&&n[r[i]]===void 0)&&(n[r[i]]=e[r[i]]),i++;return n},"extend","Use `assign`."),B5=eF(function(n,e){return tF(n,e,!0)},"merge","Use `assign`.");function j5(n,e,t){var r=e.prototype,i;i=n.prototype=Object.create(r),i.constructor=n,i._super=r,t&&xi(i,t)}function I$(n,e){return function(){return n.apply(e,arguments)}}var L5=(function(){var n=function(t,r){return r===void 0&&(r={}),new O$(t,Zt({recognizers:S$.concat()},r))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=N2,n.DIRECTION_DOWN=mn,n.DIRECTION_LEFT=Ns,n.DIRECTION_RIGHT=Bs,n.DIRECTION_UP=js,n.DIRECTION_HORIZONTAL=ur,n.DIRECTION_VERTICAL=wi,n.DIRECTION_NONE=Eo,n.DIRECTION_DOWN=mn,n.INPUT_START=_t,n.INPUT_MOVE=Fi,n.INPUT_END=Ye,n.INPUT_CANCEL=It,n.STATE_POSSIBLE=bo,n.STATE_BEGAN=Bt,n.STATE_CHANGED=bn,n.STATE_ENDED=Yr,n.STATE_RECOGNIZED=xr,n.STATE_CANCELLED=_s,n.STATE_FAILED=or,n.Manager=O$,n.Input=An,n.TouchAction=j2,n.TouchInput=Rb,n.MouseInput=Cb,n.PointerEventInput=U2,n.TouchMouseInput=G2,n.SingleTouchInput=F5,n.Recognizer=Ls,n.AttrRecognizer=_n,n.Tap=Jm,n.Pan=qb,n.Swipe=Y2,n.Pinch=X2,n.Rotate=J2,n.Press=Z2,n.on=ls,n.off=us,n.each=Ir,n.merge=B5,n.extend=tF,n.bindFn=I$,n.assign=xi,n.inherit=j5,n.bindFn=I$,n.prefixed=Xo,n.toArray=bs,n.inArray=Pi,n.uniqueArray=Pb,n.splitStr=ms,n.boolOrFn=Jo,n.hasParent=Tb,n.addEventListeners=ls,n.removeEventListeners=us,n.defaults=xi({},Q2,{preset:S$}),n})();const rF=IL("DELETE");function z5(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return iF({},n,...t)}function iF(){const n=Io(...arguments);return sF(n),n}function Io(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<2)return e[0];if(e.length>2)return Io(iF(e[0],e[1]),...kL(e).call(e,2));const r=e[0],i=e[1];if(r instanceof Date&&i instanceof Date)return r.setTime(i.getTime()),r;for(const s of BL(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===rF?delete r[s]:r[s]!==null&&i[s]!==null&&typeof r[s]=="object"&&typeof i[s]=="object"&&!nr(r[s])&&!nr(i[s])?r[s]=Io(r[s],i[s]):r[s]=nF(i[s]));return r}function nF(n){return nr(n)?Xt(n).call(n,e=>nF(e)):typeof n=="object"&&n!==null?n instanceof Date?new Date(n.getTime()):Io({},n):n}function sF(n){for(const e of Ob(n))n[e]===rF?delete n[e]:typeof n[e]=="object"&&n[e]!==null&&sF(n[e])}function W5(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}const H5=typeof window<"u"?window.Hammer||L5:function(){return W5()};function Er(n){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=H5(this._dom.overlay);t.on("tap",x2(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{t.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ii(r).call(r,i=>{t.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{V5(i.target,n)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}t5(Er.prototype);Er.current=null;Er.prototype.destroy=function(){this.deactivate();for(const t of uz(n=C2(e=this._cleanupQueue).call(e,0)).call(n)){var n,e;t()}};Er.prototype.activate=function(){Er.current&&Er.current.deactivate(),Er.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Er.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Er.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};function V5(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}var sc,x$;function U5(){if(x$)return sc;x$=1,g2();var n=rt();return sc=n.Object.getOwnPropertySymbols,sc}var oc,T$;function G5(){if(T$)return oc;T$=1;var n=U5();return oc=n,oc}var ac,P$;function K5(){return P$||(P$=1,ac=G5()),ac}var Y5=K5(),R$=me(Y5),lc={exports:{}},C$={},q$;function X5(){if(q$)return C$;q$=1;var n=he(),e=Oe(),t=cr(),r=jo().f,i=Qe(),s=!i||e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,l){return r(t(a),l)}}),C$}var k$;function J5(){if(k$)return lc.exports;k$=1,X5();var n=rt(),e=n.Object,t=lc.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),lc.exports}var uc,D$;function Z5(){if(D$)return uc;D$=1;var n=J5();return uc=n,uc}var dc,M$;function Q5(){return M$||(M$=1,dc=Z5()),dc}var e3=Q5(),oF=me(e3),A$={},F$;function t3(){if(F$)return A$;F$=1;var n=he(),e=Qe(),t=P2(),r=cr(),i=jo(),s=zo();return n({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=r(a),u=i.f,d=t(l),c={},h=0,f,v;d.length>h;)v=u(l,f=d[h++]),v!==void 0&&s(c,f,v);return c}}),A$}var cc,N$;function r3(){if(N$)return cc;N$=1,t3();var n=rt();return cc=n.Object.getOwnPropertyDescriptors,cc}var hc,B$;function i3(){if(B$)return hc;B$=1;var n=r3();return hc=n,hc}var fc,j$;function n3(){return j$||(j$=1,fc=i3()),fc}var s3=n3(),L$=me(s3),vc={exports:{}},z$={},W$;function o3(){if(W$)return z$;W$=1;var n=he(),e=Qe(),t=wb().f;return n({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),z$}var H$;function a3(){if(H$)return vc.exports;H$=1,o3();var n=rt(),e=n.Object,t=vc.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(t.sham=!0),vc.exports}var pc,V$;function l3(){if(V$)return pc;V$=1;var n=a3();return pc=n,pc}var gc,U$;function u3(){return U$||(U$=1,gc=l3()),gc}var d3=u3(),c3=me(d3),yc,G$;function h3(){return G$||(G$=1,yc=o2()),yc}var f3=h3(),v3=me(f3),K$={},Y$={},mc={exports:{}},bc,X$;function p3(){if(X$)return bc;X$=1;var n=Oe();return bc=n(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),bc}var _c,J$;function g3(){if(J$)return _c;J$=1;var n=Oe(),e=St(),t=kr(),r=p3(),i=Object.isExtensible,s=n(function(){});return _c=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,_c}var wc,Z$;function y3(){if(Z$)return wc;Z$=1;var n=Oe();return wc=!n(function(){return Object.isExtensible(Object.preventExtensions({}))}),wc}var Q$;function aF(){if(Q$)return mc.exports;Q$=1;var n=he(),e=Pe(),t=ks(),r=St(),i=ot(),s=Lt().f,o=Vo(),a=h2(),l=g3(),u=Bo(),d=y3(),c=!1,h=u("meta"),f=0,v=function(m){s(m,h,{value:{objectID:"O"+f++,weakData:{}}})},y=function(m,S){if(!r(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!i(m,h)){if(!l(m))return"F";if(!S)return"E";v(m)}return m[h].objectID},b=function(m,S){if(!i(m,h)){if(!l(m))return!0;if(!S)return!1;v(m)}return m[h].weakData},g=function(m){return d&&c&&l(m)&&!i(m,h)&&v(m),m},p=function(){$.enable=function(){},c=!0;var m=o.f,S=e([].splice),O={};O[h]=1,m(O).length&&(o.f=function(x){for(var _=m(x),E=0,T=_.length;E<T;E++)if(_[E]===h){S(_,E,1);break}return _},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},$=mc.exports={enable:p,fastKey:y,getWeakData:b,onFreeze:g};return t[h]=!0,mc.exports}var Sc,eO;function m3(){if(eO)return Sc;eO=1;var n=at(),e=Mn(),t=n("iterator"),r=Array.prototype;return Sc=function(i){return i!==void 0&&(e.Array===i||r[t]===i)},Sc}var Ec,tO;function lF(){if(tO)return Ec;tO=1;var n=ni(),e=vb(),t=Ps(),r=Mn(),i=at(),s=i("iterator");return Ec=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[n(o)]},Ec}var $c,rO;function uF(){if(rO)return $c;rO=1;var n=Tt(),e=Dr(),t=Mr(),r=Tn(),i=lF(),s=TypeError;return $c=function(o,a){var l=arguments.length<2?i(o):a;if(e(l))return t(n(l,o));throw new s(r(o)+" is not iterable")},$c}var Oc,iO;function kb(){if(iO)return Oc;iO=1;var n=Tt(),e=Mr(),t=vb();return Oc=function(r,i,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(i==="throw")throw s;return s}o=n(o,r)}catch(l){a=!0,o=l}if(i==="throw")throw s;if(a)throw o;return e(o),s},Oc}var Ic,nO;function Db(){if(nO)return Ic;nO=1;var n=Lo(),e=Tt(),t=Mr(),r=Tn(),i=m3(),s=ii(),o=st(),a=uF(),l=lF(),u=kb(),d=TypeError,c=function(f,v){this.stopped=f,this.result=v},h=c.prototype;return Ic=function(f,v,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),p=!!(y&&y.IS_RECORD),$=!!(y&&y.IS_ITERATOR),m=!!(y&&y.INTERRUPTED),S=n(v,b),O,x,_,E,T,P,R,C=function(L){return O&&u(O,"normal"),new c(!0,L)},A=function(L){return g?(t(L),m?S(L[0],L[1],C):S(L[0],L[1])):m?S(L,C):S(L)};if(p)O=f.iterator;else if($)O=f;else{if(x=l(f),!x)throw new d(r(f)+" is not iterable");if(i(x)){for(_=0,E=s(f);E>_;_++)if(T=A(f[_]),T&&o(h,T))return T;return new c(!1)}O=a(f,x)}for(P=p?f.next:O.next;!(R=e(P,O)).done;){try{T=A(R.value)}catch(L){u(O,"throw",L)}if(typeof T=="object"&&T&&o(h,T))return T}return new c(!1)},Ic}var xc,sO;function dF(){if(sO)return xc;sO=1;var n=st(),e=TypeError;return xc=function(t,r){if(n(r,t))return t;throw new e("Incorrect invocation")},xc}var Tc,oO;function cF(){if(oO)return Tc;oO=1;var n=he(),e=Ze(),t=aF(),r=Oe(),i=Cn(),s=Db(),o=dF(),a=nt(),l=St(),u=Ps(),d=Ai(),c=Lt().f,h=Dn().forEach,f=Qe(),v=As(),y=v.set,b=v.getterFor;return Tc=function(g,p,$){var m=g.indexOf("Map")!==-1,S=g.indexOf("Weak")!==-1,O=m?"set":"add",x=e[g],_=x&&x.prototype,E={},T;if(!f||!a(x)||!(S||_.forEach&&!r(function(){new x().entries().next()})))T=$.getConstructor(p,g,m,O),t.enable();else{T=p(function(C,A){y(o(C,P),{type:g,collection:new x}),u(A)||s(A,C[O],{that:C,AS_ENTRIES:m})});var P=T.prototype,R=b(g);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(C){var A=C==="add"||C==="set";C in _&&!(S&&C==="clear")&&i(P,C,function(L,ne){var V=R(this).collection;if(!A&&S&&!l(L))return C==="get"?void 0:!1;var ae=V[C](L===0?0:L,ne);return A?this:ae})}),S||c(P,"size",{configurable:!0,get:function(){return R(this).collection.size}})}return d(T,g,!1,!0),E[g]=T,n({global:!0,forced:!0},E),S||$.setStrong(T,g,m),T},Tc}var Pc,aO;function b3(){if(aO)return Pc;aO=1;var n=Ms();return Pc=function(e,t,r){for(var i in t)r&&r.unsafe&&e[i]?e[i]=t[i]:n(e,i,t[i],r);return e},Pc}var Rc,lO;function _3(){if(lO)return Rc;lO=1;var n=kt(),e=Sb(),t=at(),r=Qe(),i=t("species");return Rc=function(s){var o=n(s);r&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},Rc}var Cc,uO;function hF(){if(uO)return Cc;uO=1;var n=Ds(),e=Sb(),t=b3(),r=Lo(),i=dF(),s=Ps(),o=Db(),a=Eb(),l=$b(),u=_3(),d=Qe(),c=aF().fastKey,h=As(),f=h.set,v=h.getterFor;return Cc={getConstructor:function(y,b,g,p){var $=y(function(_,E){i(_,m),f(_,{type:b,index:n(null),first:null,last:null,size:0}),d||(_.size=0),s(E)||o(E,_[p],{that:_,AS_ENTRIES:g})}),m=$.prototype,S=v(b),O=function(_,E,T){var P=S(_),R=x(_,E),C,A;return R?R.value=T:(P.last=R={index:A=c(E,!0),key:E,value:T,previous:C=P.last,next:null,removed:!1},P.first||(P.first=R),C&&(C.next=R),d?P.size++:_.size++,A!=="F"&&(P.index[A]=R)),_},x=function(_,E){var T=S(_),P=c(E),R;if(P!=="F")return T.index[P];for(R=T.first;R;R=R.next)if(R.key===E)return R};return t(m,{clear:function(){for(var E=this,T=S(E),P=T.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=null),P=P.next;T.first=T.last=null,T.index=n(null),d?T.size=0:E.size=0},delete:function(_){var E=this,T=S(E),P=x(E,_);if(P){var R=P.next,C=P.previous;delete T.index[P.index],P.removed=!0,C&&(C.next=R),R&&(R.previous=C),T.first===P&&(T.first=R),T.last===P&&(T.last=C),d?T.size--:E.size--}return!!P},forEach:function(E){for(var T=S(this),P=r(E,arguments.length>1?arguments[1]:void 0),R;R=R?R.next:T.first;)for(P(R.value,R.key,this);R&&R.removed;)R=R.previous},has:function(E){return!!x(this,E)}}),t(m,g?{get:function(E){var T=x(this,E);return T&&T.value},set:function(E,T){return O(this,E===0?0:E,T)}}:{add:function(E){return O(this,E=E===0?0:E,E)}}),d&&e(m,"size",{configurable:!0,get:function(){return S(this).size}}),$},setStrong:function(y,b,g){var p=b+" Iterator",$=v(b),m=v(p);a(y,b,function(S,O){f(this,{type:p,target:S,state:$(S),kind:O,last:null})},function(){for(var S=m(this),O=S.kind,x=S.last;x&&x.removed;)x=x.previous;return!S.target||!(S.last=x=x?x.next:S.state.first)?(S.target=null,l(void 0,!0)):l(O==="keys"?x.key:O==="values"?x.value:[x.key,x.value],!1)},g?"entries":"values",!g,!0),u(b)}},Cc}var dO;function w3(){if(dO)return Y$;dO=1;var n=cF(),e=hF();return n("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),Y$}var cO;function S3(){return cO||(cO=1,w3()),K$}var hO={},qc,fO;function fF(){return fO||(fO=1,qc=function(n,e){return e===1?function(t,r){return t[n](r)}:function(t,r,i){return t[n](r,i)}}),qc}var kc,vO;function E3(){if(vO)return kc;vO=1;var n=kt(),e=fF(),t=n("Map");return kc={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},kc}var pO;function $3(){if(pO)return hO;pO=1;var n=he(),e=Pe(),t=Dr(),r=Di(),i=Db(),s=E3(),o=Pn(),a=Oe(),l=s.Map,u=s.has,d=s.get,c=s.set,h=e([].push),f=o||a(function(){return l.groupBy("ab",function(v){return v}).get("a").length!==1});return n({target:"Map",stat:!0,forced:o||f},{groupBy:function(y,b){r(y),t(b);var g=new l,p=0;return i(y,function($){var m=b($,p++);u(g,m)?h(d(g,m),$):c(g,m,[$])}),g}}),hO}var Dc,gO;function O3(){if(gO)return Dc;gO=1,oi(),S3(),$3(),Ko();var n=rt();return Dc=n.Map,Dc}var Mc,yO;function I3(){if(yO)return Mc;yO=1;var n=O3();return ai(),Mc=n,Mc}var Ac,mO;function x3(){return mO||(mO=1,Ac=I3()),Ac}var T3=x3(),vF=me(T3),bO={},_O;function P3(){if(_O)return bO;_O=1;var n=he(),e=Dn().some,t=Yo(),r=t("some");return n({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),bO}var Fc,wO;function R3(){if(wO)return Fc;wO=1,P3();var n=Pt();return Fc=n("Array","some"),Fc}var Nc,SO;function C3(){if(SO)return Nc;SO=1;var n=st(),e=R3(),t=Array.prototype;return Nc=function(r){var i=r.some;return r===t||n(t,r)&&i===t.some?e:i},Nc}var Bc,EO;function q3(){if(EO)return Bc;EO=1;var n=C3();return Bc=n,Bc}var jc,$O;function k3(){return $O||($O=1,jc=q3()),jc}var D3=k3(),M3=me(D3),Lc,OO;function A3(){if(OO)return Lc;OO=1,oi();var n=Pt();return Lc=n("Array","keys"),Lc}var zc,IO;function F3(){if(IO)return zc;IO=1;var n=A3();return zc=n,zc}var Wc,xO;function N3(){if(xO)return Wc;xO=1,ai();var n=ni(),e=ot(),t=st(),r=F3(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Wc=function(o){var a=o.keys;return o===i||t(i,o)&&a===i.keys||e(s,n(o))?r:a},Wc}var Hc,TO;function B3(){return TO||(TO=1,Hc=N3()),Hc}var j3=B3(),rn=me(j3),PO={},Vc,RO;function L3(){if(RO)return Vc;RO=1;var n=kn(),e=Math.floor,t=function(r,i){var s=r.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=r[o];l&&i(r[l-1],a)>0;)r[l]=r[--l];l!==o++&&(r[l]=a)}else for(var u=e(s/2),d=t(n(r,0,u),i),c=t(n(r,u),i),h=d.length,f=c.length,v=0,y=0;v<h||y<f;)r[v+y]=v<h&&y<f?i(d[v],c[y])<=0?d[v++]:c[y++]:v<h?d[v++]:c[y++];return r};return Vc=t,Vc}var Uc,CO;function z3(){if(CO)return Uc;CO=1;var n=In(),e=n.match(/firefox\/(\d+)/i);return Uc=!!e&&+e[1],Uc}var Gc,qO;function W3(){if(qO)return Gc;qO=1;var n=In();return Gc=/MSIE|Trident/.test(n),Gc}var Kc,kO;function H3(){if(kO)return Kc;kO=1;var n=In(),e=n.match(/AppleWebKit\/(\d+)\./);return Kc=!!e&&+e[1],Kc}var DO;function V3(){if(DO)return PO;DO=1;var n=he(),e=Pe(),t=Dr(),r=er(),i=ii(),s=R2(),o=si(),a=Oe(),l=L3(),u=Yo(),d=z3(),c=W3(),h=Rs(),f=H3(),v=[],y=e(v.sort),b=e(v.push),g=a(function(){v.sort(void 0)}),p=a(function(){v.sort(null)}),$=u("sort"),m=!a(function(){if(h)return h<70;if(!(d&&d>3)){if(c)return!0;if(f)return f<603;var x="",_,E,T,P;for(_=65;_<76;_++){switch(E=String.fromCharCode(_),_){case 66:case 69:case 70:case 72:T=3;break;case 68:case 71:T=4;break;default:T=2}for(P=0;P<47;P++)v.push({k:E+P,v:T})}for(v.sort(function(R,C){return C.v-R.v}),P=0;P<v.length;P++)E=v[P].k.charAt(0),x.charAt(x.length-1)!==E&&(x+=E);return x!=="DGBEFHACIJK"}}),S=g||!p||!$||!m,O=function(x){return function(_,E){return E===void 0?-1:_===void 0?1:x!==void 0?+x(_,E)||0:o(_)>o(E)?1:-1}};return n({target:"Array",proto:!0,forced:S},{sort:function(_){_!==void 0&&t(_);var E=r(this);if(m)return _===void 0?y(E):y(E,_);var T=[],P=i(E),R,C;for(C=0;C<P;C++)C in E&&b(T,E[C]);for(l(T,O(_)),R=i(T),C=0;C<R;)E[C]=T[C++];for(;C<P;)s(E,C++);return E}}),PO}var Yc,MO;function U3(){if(MO)return Yc;MO=1,V3();var n=Pt();return Yc=n("Array","sort"),Yc}var Xc,AO;function G3(){if(AO)return Xc;AO=1;var n=st(),e=U3(),t=Array.prototype;return Xc=function(r){var i=r.sort;return r===t||n(t,r)&&i===t.sort?e:i},Xc}var Jc,FO;function K3(){if(FO)return Jc;FO=1;var n=G3();return Jc=n,Jc}var Zc,NO;function Y3(){return NO||(NO=1,Zc=K3()),Zc}var X3=Y3(),Zm=me(X3),Qc,BO;function J3(){if(BO)return Qc;BO=1,oi();var n=Pt();return Qc=n("Array","values"),Qc}var eh,jO;function Z3(){if(jO)return eh;jO=1;var n=J3();return eh=n,eh}var th,LO;function Q3(){if(LO)return th;LO=1,ai();var n=ni(),e=ot(),t=st(),r=Z3(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return th=function(o){var a=o.values;return o===i||t(i,o)&&a===i.values||e(s,n(o))?r:a},th}var rh,zO;function e4(){return zO||(zO=1,rh=Q3()),rh}var t4=e4(),WO=me(t4),ih,HO;function r4(){return HO||(HO=1,ih=I2()),ih}var i4=r4(),cn=me(i4),nh,VO;function n4(){if(VO)return nh;VO=1,oi();var n=Pt();return nh=n("Array","entries"),nh}var sh,UO;function s4(){if(UO)return sh;UO=1;var n=n4();return sh=n,sh}var oh,GO;function o4(){if(GO)return oh;GO=1,ai();var n=ni(),e=ot(),t=st(),r=s4(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return oh=function(o){var a=o.entries;return o===i||t(i,o)&&a===i.entries||e(s,n(o))?r:a},oh}var ah,KO;function a4(){return KO||(KO=1,ah=o4()),ah}var l4=a4(),u4=me(l4);const ct=[];for(let n=0;n<256;++n)ct.push((n+256).toString(16).slice(1));function d4(n,e=0){return(ct[n[e+0]]+ct[n[e+1]]+ct[n[e+2]]+ct[n[e+3]]+"-"+ct[n[e+4]]+ct[n[e+5]]+"-"+ct[n[e+6]]+ct[n[e+7]]+"-"+ct[n[e+8]]+ct[n[e+9]]+"-"+ct[n[e+10]]+ct[n[e+11]]+ct[n[e+12]]+ct[n[e+13]]+ct[n[e+14]]+ct[n[e+15]]).toLowerCase()}let lh;const c4=new Uint8Array(16);function h4(){if(!lh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lh=crypto.getRandomValues.bind(crypto)}return lh(c4)}const f4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var YO={randomUUID:f4};function v4(n,e,t){var i;n=n||{};const r=n.random??((i=n.rng)==null?void 0:i.call(n))??h4();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,d4(r)}function p4(n,e,t){return YO.randomUUID&&!n?YO.randomUUID():v4(n)}function XO(n){return typeof n=="string"||typeof n=="number"}class Mb{constructor(e){Kr(this,"_queue",[]),Kr(this,"_timeout",null),Kr(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const r=new Mb(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{r.flush()};const i=[{name:"flush",original:void 0}];if(t&&t.replace)for(let s=0;s<t.replace.length;s++){const o=t.replace[s];i.push({name:o,original:e[o]}),r.replace(e,o)}return r._extended={object:e,methods:i},r}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let r=0;r<t.length;r++){const i=t[r];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,t){const r=this,i=e[t];if(!i)throw new Error("Method "+t+" undefined");e[t]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];r.queue({args:o,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Zz(()=>{this.flush()},this.delay))}flush(){var e,t;Ii(e=C2(t=this._queue).call(t,0)).call(e,r=>{r.fn.apply(r.context||r.fn,r.args||[])})}}class xo{constructor(){Kr(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Kr(this,"subscribe",xo.prototype.on),Kr(this,"unsubscribe",xo.prototype.off)}_trigger(e,t,r){var i;if(e==="*")throw new Error("Cannot trigger event *");Ii(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,t,r??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){var r;this._subscribers[e]=ln(r=this._subscribers[e]).call(r,i=>i!==t)}}var JO={},ZO={},QO;function g4(){if(QO)return ZO;QO=1;var n=cF(),e=hF();return n("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),ZO}var eI;function y4(){return eI||(eI=1,g4()),JO}var tI={},uh,rI;function Ni(){if(rI)return uh;rI=1;var n=Tn(),e=TypeError;return uh=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(n(t)+" is not a set")},uh}var dh,iI;function Bi(){if(iI)return dh;iI=1;var n=kt(),e=fF(),t=n("Set"),r=t.prototype;return dh={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},dh}var ch,nI;function ji(){if(nI)return ch;nI=1;var n=Tt();return ch=function(e,t,r){for(var i=r?e:e.iterator,s=e.next,o,a;!(o=n(s,i)).done;)if(a=t(o.value),a!==void 0)return a},ch}var hh,sI;function zs(){if(sI)return hh;sI=1;var n=ji();return hh=function(e,t,r){return r?n(e.keys(),t,!0):e.forEach(t)},hh}var fh,oI;function Ab(){if(oI)return fh;oI=1;var n=Bi(),e=zs(),t=n.Set,r=n.add;return fh=function(i){var s=new t;return e(i,function(o){r(s,o)}),s},fh}var vh,aI;function Ws(){return aI||(aI=1,vh=function(n){return n.size}),vh}var ph,lI;function m4(){return lI||(lI=1,ph=function(n){return{iterator:n,next:n.next,done:!1}}),ph}var gh,uI;function Li(){if(uI)return gh;uI=1;var n=Dr(),e=Mr(),t=Tt(),r=qn(),i=m4(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,u=function(d,c){this.set=d,this.size=l(c,0),this.has=n(d.has),this.keys=n(d.keys)};return u.prototype={getIterator:function(){return i(e(t(this.keys,this.set)))},includes:function(d){return t(this.has,this.set,d)}},gh=function(d){e(d);var c=+d.size;if(c!==c)throw new a(s);var h=r(c);if(h<0)throw new o(s);return new u(d,h)},gh}var yh,dI;function b4(){if(dI)return yh;dI=1;var n=Ni(),e=Bi(),t=Ab(),r=Ws(),i=Li(),s=zs(),o=ji(),a=e.has,l=e.remove;return yh=function(d){var c=n(this),h=i(d),f=t(c);return r(c)<=h.size?s(c,function(v){h.includes(v)&&l(f,v)}):o(h.getIterator(),function(v){a(f,v)&&l(f,v)}),f},yh}var mh,cI;function zi(){return cI||(cI=1,mh=function(){return!1}),mh}var hI;function _4(){if(hI)return tI;hI=1;var n=he(),e=b4(),t=Oe(),r=zi(),i=!r("difference",function(o){return o.size===0}),s=i||t(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return a.has(1)&&a.clear(),{done:u,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return n({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),tI}var fI={},bh,vI;function w4(){if(vI)return bh;vI=1;var n=Ni(),e=Bi(),t=Ws(),r=Li(),i=zs(),s=ji(),o=e.Set,a=e.add,l=e.has;return bh=function(d){var c=n(this),h=r(d),f=new o;return t(c)>h.size?s(h.getIterator(),function(v){l(c,v)&&a(f,v)}):i(c,function(v){h.includes(v)&&a(f,v)}),f},bh}var pI;function S4(){if(pI)return fI;pI=1;var n=he(),e=Oe(),t=w4(),r=zi(),i=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return n({target:"Set",proto:!0,real:!0,forced:i},{intersection:t}),fI}var gI={},_h,yI;function E4(){if(yI)return _h;yI=1;var n=Ni(),e=Bi().has,t=Ws(),r=Li(),i=zs(),s=ji(),o=kb();return _h=function(l){var u=n(this),d=r(l);if(t(u)<=d.size)return i(u,function(h){if(d.includes(h))return!1},!0)!==!1;var c=d.getIterator();return s(c,function(h){if(e(u,h))return o(c,"normal",!1)})!==!1},_h}var mI;function $4(){if(mI)return gI;mI=1;var n=he(),e=E4(),t=zi(),r=!t("isDisjointFrom",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),gI}var bI={},wh,_I;function O4(){if(_I)return wh;_I=1;var n=Ni(),e=Ws(),t=zs(),r=Li();return wh=function(s){var o=n(this),a=r(s);return e(o)>a.size?!1:t(o,function(l){if(!a.includes(l))return!1},!0)!==!1},wh}var wI;function I4(){if(wI)return bI;wI=1;var n=he(),e=O4(),t=zi(),r=!t("isSubsetOf",function(i){return i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),bI}var SI={},Sh,EI;function x4(){if(EI)return Sh;EI=1;var n=Ni(),e=Bi().has,t=Ws(),r=Li(),i=ji(),s=kb();return Sh=function(a){var l=n(this),u=r(a);if(t(l)<u.size)return!1;var d=u.getIterator();return i(d,function(c){if(!e(l,c))return s(d,"normal",!1)})!==!1},Sh}var $I;function T4(){if($I)return SI;$I=1;var n=he(),e=x4(),t=zi(),r=!t("isSupersetOf",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),SI}var OI={},Eh,II;function P4(){if(II)return Eh;II=1;var n=Ni(),e=Bi(),t=Ab(),r=Li(),i=ji(),s=e.add,o=e.has,a=e.remove;return Eh=function(u){var d=n(this),c=r(u).getIterator(),h=t(d);return i(c,function(f){o(d,f)?a(h,f):s(h,f)}),h},Eh}var $h,xI;function pF(){return xI||(xI=1,$h=function(n){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[n](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),$h}var TI;function R4(){if(TI)return OI;TI=1;var n=he(),e=P4(),t=pF(),r=zi(),i=!r("symmetricDifference")||!t("symmetricDifference");return n({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),OI}var PI={},Oh,RI;function C4(){if(RI)return Oh;RI=1;var n=Ni(),e=Bi().add,t=Ab(),r=Li(),i=ji();return Oh=function(o){var a=n(this),l=r(o).getIterator(),u=t(a);return i(l,function(d){e(u,d)}),u},Oh}var CI;function q4(){if(CI)return PI;CI=1;var n=he(),e=C4(),t=pF(),r=zi(),i=!r("union")||!t("union");return n({target:"Set",proto:!0,real:!0,forced:i},{union:e}),PI}var Ih,qI;function k4(){if(qI)return Ih;qI=1,oi(),y4(),_4(),S4(),$4(),I4(),T4(),R4(),q4(),Ko();var n=rt();return Ih=n.Set,Ih}var xh,kI;function D4(){if(kI)return xh;kI=1;var n=k4();return ai(),xh=n,xh}var Th,DI;function M4(){return DI||(DI=1,Th=D4()),Th}var A4=M4(),Ph=me(A4),Rh,MI;function F4(){if(MI)return Rh;MI=1,oi(),Ko();var n=uF();return Rh=n,Rh}var Ch,AI;function N4(){if(AI)return Ch;AI=1;var n=F4();return ai(),Ch=n,Ch}var qh,FI;function B4(){if(FI)return qh;FI=1;var n=N4();return qh=n,qh}var kh,NI;function j4(){if(NI)return kh;NI=1;var n=B4();return kh=n,kh}var Dh,BI;function L4(){return BI||(BI=1,Dh=j4()),Dh}var Mh,jI;function z4(){return jI||(jI=1,Mh=L4()),Mh}var W4=z4(),Ah=me(W4);class yi{constructor(e){this._pairs=e}*[cn](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Xt(e=[...this._pairs]).call(e,t=>t[0])}toItemArray(){var e;return Xt(e=[...this._pairs]).call(e,t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Mz(null);for(const[t,r]of this._pairs)e[t]=r;return e}toMap(){return new vF(this._pairs)}toIdSet(){return new Ph(this.toIdArray())}toItemSet(){return new Ph(this.toItemArray())}cache(){return new yi([...this._pairs])}distinct(e){const t=new Ph;for(const[r,i]of this._pairs)t.add(e(i,r));return t}filter(e){const t=this._pairs;return new yi({*[cn](){for(const[r,i]of t)e(i,r)&&(yield[r,i])}})}forEach(e){for(const[t,r]of this._pairs)e(r,t)}map(e){const t=this._pairs;return new yi({*[cn](){for(const[r,i]of t)yield[r,e(i,r)]}})}max(e){const t=Ah(this._pairs);let r=t.next();if(r.done)return null;let i=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,l=e(a,o);l>s&&(s=l,i=a)}return i}min(e){const t=Ah(this._pairs);let r=t.next();if(r.done)return null;let i=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,l=e(a,o);l<s&&(s=l,i=a)}return i}reduce(e,t){for(const[r,i]of this._pairs)t=e(t,i,r);return t}sort(e){return new yi({[cn]:()=>{var t;return Ah(Zm(t=[...this._pairs]).call(t,(r,i)=>{let[s,o]=r,[a,l]=i;return e(o,l,s,a)}))}})}}function LI(n,e){var t=Ob(n);if(R$){var r=R$(n);e&&(r=ln(r).call(r,function(i){return oF(n,i).enumerable})),t.push.apply(t,r)}return t}function zI(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?Ii(t=LI(Object(i),!0)).call(t,function(s){Kr(n,s,i[s])}):L$?c3(n,L$(i)):Ii(r=LI(Object(i))).call(r,function(s){v3(n,s,oF(i,s))})}return n}function H4(n,e){return n[e]==null&&(n[e]=p4()),n}class To extends xo{get idProp(){return this._idProp}constructor(e,t){super(),Kr(this,"_queue",null),e&&!nr(e)&&(t=e,e=[]),this._options=t||{},this._data=new vF,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(t)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Mb.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,t){const r=[];let i;if(nr(e)){const s=Xt(e).call(e,o=>o[this._idProp]);if(M3(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)i=this._addItem(e[o]),r.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),r.push(i);else throw new Error("Unknown dataType");return r.length&&this._trigger("add",{items:r},t),r}update(e,t){const r=[],i=[],s=[],o=[],a=this._idProp,l=u=>{const d=u[a];if(d!=null&&this._data.has(d)){const c=u,h=Ez({},this._data.get(d)),f=this._updateItem(c);i.push(f),o.push(c),s.push(h)}else{const c=this._addItem(u);r.push(c)}};if(nr(e))for(let u=0,d=e.length;u<d;u++)e[u]&&typeof e[u]=="object"?l(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(r.length&&this._trigger("add",{items:r},t),i.length){const u={items:i,oldData:s,data:o};this._trigger("update",u,t)}return Pz(r).call(r,i)}updateOnly(e,t){var r;nr(e)||(e=[e]);const i=Xt(r=Xt(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(r,s=>{let{oldData:o,update:a}=s;const l=o[this._idProp],u=z5(o,a);return this._data.set(l,u),{id:l,oldData:o,updatedData:u}});if(i.length){const s={items:Xt(i).call(i,o=>o.id),oldData:Xt(i).call(i,o=>o.oldData),data:Xt(i).call(i,o=>o.updatedData)};return this._trigger("update",s,t),s.items}else return[]}get(e,t){let r,i,s;XO(e)?(r=e,s=t):nr(e)?(i=e,s=t):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&ln(s),l=[];let u,d,c;if(r!=null)u=this._data.get(r),u&&a&&!a(u)&&(u=void 0);else if(i!=null)for(let f=0,v=i.length;f<v;f++)u=this._data.get(i[f]),u!=null&&(!a||a(u))&&l.push(u);else{var h;d=[...rn(h=this._data).call(h)];for(let f=0,v=d.length;f<v;f++)c=d[f],u=this._data.get(c),u!=null&&(!a||a(u))&&l.push(u)}if(s&&s.order&&r==null&&this._sort(l,s.order),s&&s.fields){const f=s.fields;if(r!=null&&u!=null)u=this._filterFields(u,f);else for(let v=0,y=l.length;v<y;v++)l[v]=this._filterFields(l[v],f)}if(o=="Object"){const f={};for(let v=0,y=l.length;v<y;v++){const b=l[v],g=b[this._idProp];f[g]=b}return f}else return r!=null?u??null:l}getIds(e){const t=this._data,r=e&&ln(e),i=e&&e.order,s=[...rn(t).call(t)],o=[];if(r)if(i){const a=[];for(let l=0,u=s.length;l<u;l++){const d=s[l],c=this._data.get(d);c!=null&&r(c)&&a.push(c)}this._sort(a,i);for(let l=0,u=a.length;l<u;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const u=s[a],d=this._data.get(u);d!=null&&r(d)&&o.push(d[this._idProp])}else if(i){const a=[];for(let l=0,u=s.length;l<u;l++){const d=s[l];a.push(t.get(d))}this._sort(a,i);for(let l=0,u=a.length;l<u;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const u=s[a],d=t.get(u);d!=null&&o.push(d[this._idProp])}return o}getDataSet(){return this}forEach(e,t){const r=t&&ln(t),i=this._data,s=[...rn(i).call(i)];if(t&&t.order){const o=this.get(t);for(let a=0,l=o.length;a<l;a++){const u=o[a],d=u[this._idProp];e(u,d)}}else for(let o=0,a=s.length;o<a;o++){const l=s[o],u=this._data.get(l);u!=null&&(!r||r(u))&&e(u,l)}}map(e,t){const r=t&&ln(t),i=[],s=this._data,o=[...rn(s).call(s)];for(let a=0,l=o.length;a<l;a++){const u=o[a],d=this._data.get(u);d!=null&&(!r||r(d))&&i.push(e(d,u))}return t&&t.order&&this._sort(i,t.order),i}_filterFields(e,t){var r;return e&&cL(r=nr(t)?t:Ob(t)).call(r,(i,s)=>(i[s]=e[s],i),{})}_sort(e,t){if(typeof t=="string"){const r=t;Zm(e).call(e,(i,s)=>{const o=i[r],a=s[r];return o>a?1:o<a?-1:0})}else if(typeof t=="function")Zm(e).call(e,t);else throw new TypeError("Order must be a function or a string")}remove(e,t){const r=[],i=[],s=nr(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const l=this._remove(s[o]);if(l){const u=l[this._idProp];u!=null&&(r.push(u),i.push(l))}}return r.length&&this._trigger("remove",{items:r,oldData:i},t),r}_remove(e){let t;if(XO(e)?t=e:e&&typeof e=="object"&&(t=e[this._idProp]),t!=null&&this._data.has(t)){const r=this._data.get(t)||null;return this._data.delete(t),--this.length,r}return null}clear(e){var t;const r=[...rn(t=this._data).call(t)],i=[];for(let s=0,o=r.length;s<o;s++)i.push(this._data.get(r[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:r,oldData:i},e),r}max(e){let t=null,r=null;for(const s of WO(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(r==null||o>r)&&(t=s,r=o)}return t||null}min(e){let t=null,r=null;for(const s of WO(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(r==null||o<r)&&(t=s,r=o)}return t||null}distinct(e){const t=this._data,r=[...rn(t).call(t)],i=[];let s=0;for(let o=0,a=r.length;o<a;o++){const l=r[o],d=t.get(l)[e];let c=!1;for(let h=0;h<s;h++)if(i[h]==d){c=!0;break}!c&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const t=H4(e,this._idProp),r=t[this._idProp];if(this._data.has(r))throw new Error("Cannot add item: item with id "+r+" already exists");return this._data.set(r,t),++this.length,r}_updateItem(e){const t=e[this._idProp];if(t==null)throw new Error("Cannot update item: item has no id (item: "+Hz(e)+")");const r=this._data.get(t);if(!r)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,zI(zI({},r),e)),t}stream(e){if(e){const r=this._data;return new yi({*[cn](){for(const i of e){const s=r.get(i);s!=null&&(yield[i,s])}}})}else{var t;return new yi({[cn]:x2(t=u4(this._data)).call(t,this._data)})}}}function V4(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof Ii(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Xt(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function gF(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof Ii(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Xt(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&V4(n,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var WI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ue(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var HI={},ts,VI;function Ne(){if(VI)return ts;VI=1;var n=function(e){return e&&e.Math===Math&&e};return ts=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof WI=="object"&&WI)||n(typeof ts=="object"&&ts)||(function(){return this})()||Function("return this")(),ts}var Fh,UI;function be(){return UI||(UI=1,Fh=function(n){try{return!!n()}catch{return!0}}),Fh}var Nh,GI;function Hs(){if(GI)return Nh;GI=1;var n=be();return Nh=!n(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Nh}var Bh,KI;function Zo(){if(KI)return Bh;KI=1;var n=Hs(),e=Function.prototype,t=e.apply,r=e.call;return Bh=typeof Reflect=="object"&&Reflect.apply||(n?r.bind(t):function(){return r.apply(t,arguments)}),Bh}var jh,YI;function _e(){if(YI)return jh;YI=1;var n=Hs(),e=Function.prototype,t=e.call,r=n&&e.bind.bind(t,t);return jh=n?r:function(i){return function(){return t.apply(i,arguments)}},jh}var Lh,XI;function hr(){if(XI)return Lh;XI=1;var n=_e(),e=n({}.toString),t=n("".slice);return Lh=function(r){return t(e(r),8,-1)},Lh}var zh,JI;function Fb(){if(JI)return zh;JI=1;var n=hr(),e=_e();return zh=function(t){if(n(t)==="Function")return e(t)},zh}var Wh,ZI;function lt(){if(ZI)return Wh;ZI=1;var n=typeof document=="object"&&document.all;return Wh=typeof n>"u"&&n!==void 0?function(e){return typeof e=="function"||e===n}:function(e){return typeof e=="function"},Wh}var Hh={},Vh,QI;function Ke(){if(QI)return Vh;QI=1;var n=be();return Vh=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Vh}var Uh,ex;function Rt(){if(ex)return Uh;ex=1;var n=Hs(),e=Function.prototype.call;return Uh=n?e.bind(e):function(){return e.apply(e,arguments)},Uh}var Gh={},tx;function Qo(){if(tx)return Gh;tx=1;var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!n.call({1:2},1);return Gh.f=t?function(i){var s=e(this,i);return!!s&&s.enumerable}:n,Gh}var Kh,rx;function Vs(){return rx||(rx=1,Kh=function(n,e){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:e}}),Kh}var Yh,ix;function ea(){if(ix)return Yh;ix=1;var n=_e(),e=be(),t=hr(),r=Object,i=n("".split);return Yh=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?i(s,""):r(s)}:r,Yh}var Xh,nx;function Fn(){return nx||(nx=1,Xh=function(n){return n==null}),Xh}var Jh,sx;function Ar(){if(sx)return Jh;sx=1;var n=Fn(),e=TypeError;return Jh=function(t){if(n(t))throw new e("Can't call method on "+t);return t},Jh}var Zh,ox;function tr(){if(ox)return Zh;ox=1;var n=ea(),e=Ar();return Zh=function(t){return n(e(t))},Zh}var Qh,ax;function ut(){if(ax)return Qh;ax=1;var n=lt();return Qh=function(e){return typeof e=="object"?e!==null:n(e)},Qh}var ef,lx;function Ie(){return lx||(lx=1,ef={}),ef}var tf,ux;function Dt(){if(ux)return tf;ux=1;var n=Ie(),e=Ne(),t=lt(),r=function(i){return t(i)?i:void 0};return tf=function(i,s){return arguments.length<2?r(n[i])||r(e[i]):n[i]&&n[i][s]||e[i]&&e[i][s]},tf}var rf,dx;function et(){if(dx)return rf;dx=1;var n=_e();return rf=n({}.isPrototypeOf),rf}var nf,cx;function Nn(){if(cx)return nf;cx=1;var n=Ne(),e=n.navigator,t=e&&e.userAgent;return nf=t?String(t):"",nf}var sf,hx;function Us(){if(hx)return sf;hx=1;var n=Ne(),e=Nn(),t=n.process,r=n.Deno,i=t&&t.versions||r&&r.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),sf=a,sf}var of,fx;function Bn(){if(fx)return of;fx=1;var n=Us(),e=be(),t=Ne(),r=t.String;return of=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!r(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&n&&n<41}),of}var af,vx;function yF(){if(vx)return af;vx=1;var n=Bn();return af=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol",af}var lf,px;function Gs(){if(px)return lf;px=1;var n=Dt(),e=lt(),t=et(),r=yF(),i=Object;return lf=r?function(s){return typeof s=="symbol"}:function(s){var o=n("Symbol");return e(o)&&t(o.prototype,i(s))},lf}var uf,gx;function jn(){if(gx)return uf;gx=1;var n=String;return uf=function(e){try{return n(e)}catch{return"Object"}},uf}var df,yx;function Fr(){if(yx)return df;yx=1;var n=lt(),e=jn(),t=TypeError;return df=function(r){if(n(r))return r;throw new t(e(r)+" is not a function")},df}var cf,mx;function Nb(){if(mx)return cf;mx=1;var n=Fr(),e=Fn();return cf=function(t,r){var i=t[r];return e(i)?void 0:n(i)},cf}var hf,bx;function U4(){if(bx)return hf;bx=1;var n=Rt(),e=lt(),t=ut(),r=TypeError;return hf=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!t(a=n(o,i))||e(o=i.valueOf)&&!t(a=n(o,i))||s!=="string"&&e(o=i.toString)&&!t(a=n(o,i)))return a;throw new r("Can't convert object to primitive value")},hf}var ff={exports:{}},vf,_x;function Ln(){return _x||(_x=1,vf=!0),vf}var pf,wx;function G4(){if(wx)return pf;wx=1;var n=Ne(),e=Object.defineProperty;return pf=function(t,r){try{e(n,t,{value:r,configurable:!0,writable:!0})}catch{n[t]=r}return r},pf}var Sx;function Bb(){if(Sx)return ff.exports;Sx=1;var n=Ln(),e=Ne(),t=G4(),r="__core-js_shared__",i=ff.exports=e[r]||t(r,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:n?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),ff.exports}var gf,Ex;function zn(){if(Ex)return gf;Ex=1;var n=Bb();return gf=function(e,t){return n[e]||(n[e]=t||{})},gf}var yf,$x;function Mt(){if($x)return yf;$x=1;var n=Ar(),e=Object;return yf=function(t){return e(n(t))},yf}var mf,Ox;function ft(){if(Ox)return mf;Ox=1;var n=_e(),e=Mt(),t=n({}.hasOwnProperty);return mf=Object.hasOwn||function(i,s){return t(e(i),s)},mf}var bf,Ix;function ta(){if(Ix)return bf;Ix=1;var n=_e(),e=0,t=Math.random(),r=n(1.1.toString);return bf=function(i){return"Symbol("+(i===void 0?"":i)+")_"+r(++e+t,36)},bf}var _f,xx;function tt(){if(xx)return _f;xx=1;var n=Ne(),e=zn(),t=ft(),r=ta(),i=Bn(),s=yF(),o=n.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||r;return _f=function(u){return t(a,u)||(a[u]=i&&t(o,u)?o[u]:l("Symbol."+u)),a[u]},_f}var wf,Tx;function mF(){if(Tx)return wf;Tx=1;var n=Rt(),e=ut(),t=Gs(),r=Nb(),i=U4(),s=tt(),o=TypeError,a=s("toPrimitive");return wf=function(l,u){if(!e(l)||t(l))return l;var d=r(l,a),c;if(d){if(u===void 0&&(u="default"),c=n(d,l,u),!e(c)||t(c))return c;throw new o("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},wf}var Sf,Px;function jb(){if(Px)return Sf;Px=1;var n=mF(),e=Gs();return Sf=function(t){var r=n(t,"string");return e(r)?r:r+""},Sf}var Ef,Rx;function bF(){if(Rx)return Ef;Rx=1;var n=Ne(),e=ut(),t=n.document,r=e(t)&&e(t.createElement);return Ef=function(i){return r?t.createElement(i):{}},Ef}var $f,Cx;function _F(){if(Cx)return $f;Cx=1;var n=Ke(),e=be(),t=bF();return $f=!n&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),$f}var qx;function ra(){if(qx)return Hh;qx=1;var n=Ke(),e=Rt(),t=Qo(),r=Vs(),i=tr(),s=jb(),o=ft(),a=_F(),l=Object.getOwnPropertyDescriptor;return Hh.f=n?l:function(d,c){if(d=i(d),c=s(c),a)try{return l(d,c)}catch{}if(o(d,c))return r(!e(t.f,d,c),d[c])},Hh}var Of,kx;function K4(){if(kx)return Of;kx=1;var n=be(),e=lt(),t=/#|\.prototype\./,r=function(l,u){var d=s[i(l)];return d===a?!0:d===o?!1:e(u)?n(u):!!u},i=r.normalize=function(l){return String(l).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return Of=r,Of}var If,Dx;function ia(){if(Dx)return If;Dx=1;var n=Fb(),e=Fr(),t=Hs(),r=n(n.bind);return If=function(i,s){return e(i),s===void 0?i:t?r(i,s):function(){return i.apply(s,arguments)}},If}var xf={},Tf,Mx;function wF(){if(Mx)return Tf;Mx=1;var n=Ke(),e=be();return Tf=n&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Tf}var Pf,Ax;function fr(){if(Ax)return Pf;Ax=1;var n=ut(),e=String,t=TypeError;return Pf=function(r){if(n(r))return r;throw new t(e(r)+" is not an object")},Pf}var Fx;function Wt(){if(Fx)return xf;Fx=1;var n=Ke(),e=_F(),t=wF(),r=fr(),i=jb(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",d="writable";return xf.f=n?t?function(h,f,v){if(r(h),f=i(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&d in v&&!v[d]){var y=a(h,f);y&&y[d]&&(h[f]=v.value,v={configurable:u in v?v[u]:y[u],enumerable:l in v?v[l]:y[l],writable:!1})}return o(h,f,v)}:o:function(h,f,v){if(r(h),f=i(f),r(v),e)try{return o(h,f,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(h[f]=v.value),h},xf}var Rf,Nx;function Wn(){if(Nx)return Rf;Nx=1;var n=Ke(),e=Wt(),t=Vs();return Rf=n?function(r,i,s){return e.f(r,i,t(1,s))}:function(r,i,s){return r[i]=s,r},Rf}var Cf,Bx;function ee(){if(Bx)return Cf;Bx=1;var n=Ne(),e=Zo(),t=Fb(),r=lt(),i=ra().f,s=K4(),o=Ie(),a=ia(),l=Wn(),u=ft(),d=function(c){var h=function(f,v,y){if(this instanceof h){switch(arguments.length){case 0:return new c;case 1:return new c(f);case 2:return new c(f,v)}return new c(f,v,y)}return e(c,this,arguments)};return h.prototype=c.prototype,h};return Cf=function(c,h){var f=c.target,v=c.global,y=c.stat,b=c.proto,g=v?n:y?n[f]:n[f]&&n[f].prototype,p=v?o:o[f]||l(o,f,{})[f],$=p.prototype,m,S,O,x,_,E,T,P,R;for(x in h)m=s(v?x:f+(y?".":"#")+x,c.forced),S=!m&&g&&u(g,x),E=p[x],S&&(c.dontCallGetSet?(R=i(g,x),T=R&&R.value):T=g[x]),_=S&&T?T:h[x],!(!m&&!b&&typeof E==typeof _)&&(c.bind&&S?P=a(_,n):c.wrap&&S?P=d(_):b&&r(_)?P=t(_):P=_,(c.sham||_&&_.sham||E&&E.sham)&&l(P,"sham",!0),l(p,x,P),b&&(O=f+"Prototype",u(o,O)||l(o,O,{}),l(o[O],x,_),c.real&&$&&(m||!$[x])&&l($,x,_)))},Cf}var qf,jx;function Y4(){if(jx)return qf;jx=1;var n=Math.ceil,e=Math.floor;return qf=Math.trunc||function(r){var i=+r;return(i>0?e:n)(i)},qf}var kf,Lx;function Hn(){if(Lx)return kf;Lx=1;var n=Y4();return kf=function(e){var t=+e;return t!==t||t===0?0:n(t)},kf}var Df,zx;function na(){if(zx)return Df;zx=1;var n=Hn(),e=Math.max,t=Math.min;return Df=function(r,i){var s=n(r);return s<0?e(s+i,0):t(s,i)},Df}var Mf,Wx;function SF(){if(Wx)return Mf;Wx=1;var n=Hn(),e=Math.min;return Mf=function(t){var r=n(t);return r>0?e(r,9007199254740991):0},Mf}var Af,Hx;function Nr(){if(Hx)return Af;Hx=1;var n=SF();return Af=function(e){return n(e.length)},Af}var Ff,Vx;function Lb(){if(Vx)return Ff;Vx=1;var n=tr(),e=na(),t=Nr(),r=function(i){return function(s,o,a){var l=n(s),u=t(l);if(u===0)return!i&&-1;var d=e(a,u),c;if(i&&o!==o){for(;u>d;)if(c=l[d++],c!==c)return!0}else for(;u>d;d++)if((i||d in l)&&l[d]===o)return i||d||0;return!i&&-1}};return Ff={includes:r(!0),indexOf:r(!1)},Ff}var Nf,Ux;function Ks(){return Ux||(Ux=1,Nf={}),Nf}var Bf,Gx;function EF(){if(Gx)return Bf;Gx=1;var n=_e(),e=ft(),t=tr(),r=Lb().indexOf,i=Ks(),s=n([].push);return Bf=function(o,a){var l=t(o),u=0,d=[],c;for(c in l)!e(i,c)&&e(l,c)&&s(d,c);for(;a.length>u;)e(l,c=a[u++])&&(~r(d,c)||s(d,c));return d},Bf}var jf,Kx;function zb(){return Kx||(Kx=1,jf=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),jf}var Lf,Yx;function Ys(){if(Yx)return Lf;Yx=1;var n=EF(),e=zb();return Lf=Object.keys||function(r){return n(r,e)},Lf}var zf={},Xx;function sa(){return Xx||(Xx=1,zf.f=Object.getOwnPropertySymbols),zf}var Wf,Jx;function X4(){if(Jx)return Wf;Jx=1;var n=Ke(),e=_e(),t=Rt(),r=be(),i=Ys(),s=sa(),o=Qo(),a=Mt(),l=ea(),u=Object.assign,d=Object.defineProperty,c=e([].concat);return Wf=!u||r(function(){if(n&&u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),y="abcdefghijklmnopqrst";return h[v]=7,y.split("").forEach(function(b){f[b]=b}),u({},h)[v]!==7||i(u({},f)).join("")!==y})?function(f,v){for(var y=a(f),b=arguments.length,g=1,p=s.f,$=o.f;b>g;)for(var m=l(arguments[g++]),S=p?c(i(m),p(m)):i(m),O=S.length,x=0,_;O>x;)_=S[x++],(!n||t($,m,_))&&(y[_]=m[_]);return y}:u,Wf}var Zx;function J4(){if(Zx)return HI;Zx=1;var n=ee(),e=X4();return n({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),HI}var Hf,Qx;function Z4(){if(Qx)return Hf;Qx=1,J4();var n=Ie();return Hf=n.Object.assign,Hf}var Vf,eT;function Q4(){if(eT)return Vf;eT=1;var n=Z4();return Vf=n,Vf}var Uf,tT;function eW(){return tT||(tT=1,Uf=Q4()),Uf}var tW=eW(),Xe=ue(tW),rT={},Gf,iT;function Vn(){if(iT)return Gf;iT=1;var n=_e();return Gf=n([].slice),Gf}var Kf,nT;function rW(){if(nT)return Kf;nT=1;var n=_e(),e=Fr(),t=ut(),r=ft(),i=Vn(),s=Hs(),o=Function,a=n([].concat),l=n([].join),u={},d=function(c,h,f){if(!r(u,h)){for(var v=[],y=0;y<h;y++)v[y]="a["+y+"]";u[h]=o("C,a","return new C("+l(v,",")+")")}return u[h](c,f)};return Kf=s?o.bind:function(h){var f=e(this),v=f.prototype,y=i(arguments,1),b=function(){var p=a(y,i(arguments));return this instanceof b?d(f,p.length,p):f.apply(h,p)};return t(v)&&(b.prototype=v),b},Kf}var sT;function iW(){if(sT)return rT;sT=1;var n=ee(),e=rW();return n({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),rT}var Yf,oT;function vt(){if(oT)return Yf;oT=1;var n=Ne(),e=Ie();return Yf=function(t,r){var i=e[t+"Prototype"],s=i&&i[r];if(s)return s;var o=n[t],a=o&&o.prototype;return a&&a[r]},Yf}var Xf,aT;function nW(){if(aT)return Xf;aT=1,iW();var n=vt();return Xf=n("Function","bind"),Xf}var Jf,lT;function sW(){if(lT)return Jf;lT=1;var n=et(),e=nW(),t=Function.prototype;return Jf=function(r){var i=r.bind;return r===t||n(t,r)&&i===t.bind?e:i},Jf}var Zf,uT;function oW(){if(uT)return Zf;uT=1;var n=sW();return Zf=n,Zf}var Qf,dT;function aW(){return dT||(dT=1,Qf=oW()),Qf}var lW=aW(),B=ue(lW);function Wb(n,e,t,r){n.beginPath(),n.arc(e,t,r,0,2*Math.PI,!1),n.closePath()}function uW(n,e,t,r){n.beginPath(),n.rect(e-r,t-r,r*2,r*2),n.closePath()}function dW(n,e,t,r){n.beginPath(),r*=1.15,t+=.275*r;const i=r*2,s=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-s*s);n.moveTo(e,t-(a-o)),n.lineTo(e+s,t+o),n.lineTo(e-s,t+o),n.lineTo(e,t-(a-o)),n.closePath()}function cW(n,e,t,r){n.beginPath(),r*=1.15,t-=.275*r;const i=r*2,s=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-s*s);n.moveTo(e,t+(a-o)),n.lineTo(e+s,t-o),n.lineTo(e-s,t-o),n.lineTo(e,t+(a-o)),n.closePath()}function hW(n,e,t,r){n.beginPath(),r*=.82,t+=.1*r;for(let i=0;i<10;i++){const s=i%2===0?r*1.3:r*.5;n.lineTo(e+s*Math.sin(i*2*Math.PI/10),t-s*Math.cos(i*2*Math.PI/10))}n.closePath()}function fW(n,e,t,r){n.beginPath(),n.lineTo(e,t+r),n.lineTo(e+r,t),n.lineTo(e,t-r),n.lineTo(e-r,t),n.closePath()}function $F(n,e,t,r,i,s){const o=Math.PI/180;r-2*s<0&&(s=r/2),i-2*s<0&&(s=i/2),n.beginPath(),n.moveTo(e+s,t),n.lineTo(e+r-s,t),n.arc(e+r-s,t+s,s,o*270,o*360,!1),n.lineTo(e+r,t+i-s),n.arc(e+r-s,t+i-s,s,0,o*90,!1),n.lineTo(e+s,t+i),n.arc(e+s,t+i-s,s,o*90,o*180,!1),n.lineTo(e,t+s),n.arc(e+s,t+s,s,o*180,o*270,!1),n.closePath()}function Qm(n,e,t,r,i){const s=.5522848,o=r/2*s,a=i/2*s,l=e+r,u=t+i,d=e+r/2,c=t+i/2;n.beginPath(),n.moveTo(e,c),n.bezierCurveTo(e,c-a,d-o,t,d,t),n.bezierCurveTo(d+o,t,l,c-a,l,c),n.bezierCurveTo(l,c+a,d+o,u,d,u),n.bezierCurveTo(d-o,u,e,c+a,e,c),n.closePath()}function OF(n,e,t,r,i){const s=.3333333333333333,o=r,a=i*s,l=.5522848,u=o/2*l,d=a/2*l,c=e+o,h=t+a,f=e+o/2,v=t+a/2,y=t+(i-a/2),b=t+i;n.beginPath(),n.moveTo(c,v),n.bezierCurveTo(c,v+d,f+u,h,f,h),n.bezierCurveTo(f-u,h,e,v+d,e,v),n.bezierCurveTo(e,v-d,f-u,t,f,t),n.bezierCurveTo(f+u,t,c,v-d,c,v),n.lineTo(c,y),n.bezierCurveTo(c,y+d,f+u,b,f,b),n.bezierCurveTo(f-u,b,e,y+d,e,y),n.lineTo(e,v)}function IF(n,e,t,r,i,s){n.beginPath(),n.moveTo(e,t);const o=s.length,a=r-e,l=i-t,u=l/a;let d=Math.sqrt(a*a+l*l),c=0,h=!0,f=0,v=+s[0];for(;d>=.1;)v=+s[c++%o],v>d&&(v=d),f=Math.sqrt(v*v/(1+u*u)),f=a<0?-f:f,e+=f,t+=u*f,h===!0?n.lineTo(e,t):n.moveTo(e,t),d-=v,h=!h}function vW(n,e,t,r){n.beginPath();const i=6,s=Math.PI*2/i;n.moveTo(e+r,t);for(let o=1;o<i;o++)n.lineTo(e+r*Math.cos(s*o),t+r*Math.sin(s*o));n.closePath()}const cT={circle:Wb,dashedLine:IF,database:OF,diamond:fW,ellipse:Qm,ellipse_vis:Qm,hexagon:vW,roundRect:$F,square:uW,star:hW,triangle:dW,triangleDown:cW};function pW(n){return Object.prototype.hasOwnProperty.call(cT,n)?cT[n]:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];CanvasRenderingContext2D.prototype[n].call(e,r)}}var ev={exports:{}},hT;function gW(){return hT||(hT=1,(function(n){n.exports=e;function e(r){if(r)return t(r)}function t(r){for(var i in e.prototype)r[i]=e.prototype[i];return r}e.prototype.on=e.prototype.addEventListener=function(r,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(i),this},e.prototype.once=function(r,i){function s(){this.off(r,s),i.apply(this,arguments)}return s.fn=i,this.on(r,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===i||o.fn===i){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+r],this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+r],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,i)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length}})(ev)),ev.exports}var yW=gW(),xF=ue(yW),fT={},tv,vT;function Wi(){if(vT)return tv;vT=1;var n=hr();return tv=Array.isArray||function(t){return n(t)==="Array"},tv}var rv,pT;function TF(){if(pT)return rv;pT=1;var n=TypeError,e=9007199254740991;return rv=function(t){if(t>e)throw n("Maximum allowed index exceeded");return t},rv}var iv,gT;function oa(){if(gT)return iv;gT=1;var n=Ke(),e=Wt(),t=Vs();return iv=function(r,i,s){n?e.f(r,i,t(0,s)):r[i]=s},iv}var nv,yT;function Hb(){if(yT)return nv;yT=1;var n=tt(),e=n("toStringTag"),t={};return t[e]="z",nv=String(t)==="[object z]",nv}var sv,mT;function Un(){if(mT)return sv;mT=1;var n=Hb(),e=lt(),t=hr(),r=tt(),i=r("toStringTag"),s=Object,o=t((function(){return arguments})())==="Arguments",a=function(l,u){try{return l[u]}catch{}};return sv=n?t:function(l){var u,d,c;return l===void 0?"Undefined":l===null?"Null":typeof(d=a(u=s(l),i))=="string"?d:o?t(u):(c=t(u))==="Object"&&e(u.callee)?"Arguments":c},sv}var ov,bT;function mW(){if(bT)return ov;bT=1;var n=_e(),e=lt(),t=Bb(),r=n(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(i){return r(i)}),ov=t.inspectSource,ov}var av,_T;function PF(){if(_T)return av;_T=1;var n=_e(),e=be(),t=lt(),r=Un(),i=Dt(),s=mW(),o=function(){},a=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=n(l.exec),d=!l.test(o),c=function(v){if(!t(v))return!1;try{return a(o,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!u(l,s(v))}catch{return!0}};return h.sham=!0,av=!a||e(function(){var f;return c(c.call)||!c(Object)||!c(function(){f=!0})||f})?h:c,av}var lv,wT;function bW(){if(wT)return lv;wT=1;var n=Wi(),e=PF(),t=ut(),r=tt(),i=r("species"),s=Array;return lv=function(o){var a;return n(o)&&(a=o.constructor,e(a)&&(a===s||n(a.prototype))?a=void 0:t(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},lv}var uv,ST;function Vb(){if(ST)return uv;ST=1;var n=bW();return uv=function(e,t){return new(n(e))(t===0?0:t)},uv}var dv,ET;function Xs(){if(ET)return dv;ET=1;var n=be(),e=tt(),t=Us(),r=e("species");return dv=function(i){return t>=51||!n(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[i](Boolean).foo!==1})},dv}var $T;function RF(){if($T)return fT;$T=1;var n=ee(),e=be(),t=Wi(),r=ut(),i=Mt(),s=Nr(),o=TF(),a=oa(),l=Vb(),u=Xs(),d=tt(),c=Us(),h=d("isConcatSpreadable"),f=c>=51||!e(function(){var b=[];return b[h]=!1,b.concat()[0]!==b}),v=function(b){if(!r(b))return!1;var g=b[h];return g!==void 0?!!g:t(b)},y=!f||!u("concat");return n({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var p=i(this),$=l(p,0),m=0,S,O,x,_,E;for(S=-1,x=arguments.length;S<x;S++)if(E=S===-1?p:arguments[S],v(E))for(_=s(E),o(m+_),O=0;O<_;O++,m++)O in E&&a($,m,E[O]);else o(m+1),a($,m++,E);return $.length=m,$}}),fT}var OT={},IT={},cv,xT;function Ht(){if(xT)return cv;xT=1;var n=Un(),e=String;return cv=function(t){if(n(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},cv}var hv={},TT;function Ub(){if(TT)return hv;TT=1;var n=Ke(),e=wF(),t=Wt(),r=fr(),i=tr(),s=Ys();return hv.f=n&&!e?Object.defineProperties:function(a,l){r(a);for(var u=i(l),d=s(l),c=d.length,h=0,f;c>h;)t.f(a,f=d[h++],u[f]);return a},hv}var fv,PT;function _W(){if(PT)return fv;PT=1;var n=Dt();return fv=n("document","documentElement"),fv}var vv,RT;function aa(){if(RT)return vv;RT=1;var n=zn(),e=ta(),t=n("keys");return vv=function(r){return t[r]||(t[r]=e(r))},vv}var pv,CT;function Js(){if(CT)return pv;CT=1;var n=fr(),e=Ub(),t=zb(),r=Ks(),i=_W(),s=bF(),o=aa(),a=">",l="<",u="prototype",d="script",c=o("IE_PROTO"),h=function(){},f=function(p){return l+d+a+p+l+"/"+d+a},v=function(p){p.write(f("")),p.close();var $=p.parentWindow.Object;return p=null,$},y=function(){var p=s("iframe"),$="java"+d+":",m;return p.style.display="none",i.appendChild(p),p.src=String($),m=p.contentWindow.document,m.open(),m.write(f("document.F=Object")),m.close(),m.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?v(b):y():v(b);for(var p=t.length;p--;)delete g[u][t[p]];return g()};return r[c]=!0,pv=Object.create||function($,m){var S;return $!==null?(h[u]=n($),S=new h,h[u]=null,S[c]=$):S=g(),m===void 0?S:e.f(S,m)},pv}var gv={},qT;function la(){if(qT)return gv;qT=1;var n=EF(),e=zb(),t=e.concat("length","prototype");return gv.f=Object.getOwnPropertyNames||function(i){return n(i,t)},gv}var yv={},kT;function Gb(){if(kT)return yv;kT=1;var n=hr(),e=tr(),t=la().f,r=Vn(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(i)}};return yv.f=function(a){return i&&n(a)==="Window"?s(a):t(e(a))},yv}var mv,DT;function Zs(){if(DT)return mv;DT=1;var n=Wn();return mv=function(e,t,r,i){return i&&i.enumerable?e[t]=r:n(e,t,r),e},mv}var bv,MT;function Kb(){if(MT)return bv;MT=1;var n=Wt();return bv=function(e,t,r){return n.f(e,t,r)},bv}var _v={},AT;function ua(){if(AT)return _v;AT=1;var n=tt();return _v.f=n,_v}var wv,FT;function Le(){if(FT)return wv;FT=1;var n=Ie(),e=ft(),t=ua(),r=Wt().f;return wv=function(i){var s=n.Symbol||(n.Symbol={});e(s,i)||r(s,i,{value:t.f(i)})},wv}var Sv,NT;function CF(){if(NT)return Sv;NT=1;var n=Rt(),e=Dt(),t=tt(),r=Zs();return Sv=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(l){return n(o,this)},{arity:1})},Sv}var Ev,BT;function wW(){if(BT)return Ev;BT=1;var n=Hb(),e=Un();return Ev=n?{}.toString:function(){return"[object "+e(this)+"]"},Ev}var $v,jT;function Hi(){if(jT)return $v;jT=1;var n=Hb(),e=Wt().f,t=Wn(),r=ft(),i=wW(),s=tt(),o=s("toStringTag");return $v=function(a,l,u,d){var c=u?a:a&&a.prototype;c&&(r(c,o)||e(c,o,{configurable:!0,value:l}),d&&!n&&t(c,"toString",i))},$v}var Ov,LT;function qF(){if(LT)return Ov;LT=1;var n=Ne(),e=lt(),t=n.WeakMap;return Ov=e(t)&&/native code/.test(String(t)),Ov}var Iv,zT;function Vi(){if(zT)return Iv;zT=1;var n=qF(),e=Ne(),t=ut(),r=Wn(),i=ft(),s=Bb(),o=aa(),a=Ks(),l="Object already initialized",u=e.TypeError,d=e.WeakMap,c,h,f,v=function(p){return f(p)?h(p):c(p,{})},y=function(p){return function($){var m;if(!t($)||(m=h($)).type!==p)throw new u("Incompatible receiver, "+p+" required");return m}};if(n||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,c=function(p,$){if(b.has(p))throw new u(l);return $.facade=p,b.set(p,$),$},h=function(p){return b.get(p)||{}},f=function(p){return b.has(p)}}else{var g=o("state");a[g]=!0,c=function(p,$){if(i(p,g))throw new u(l);return $.facade=p,r(p,g,$),$},h=function(p){return i(p,g)?p[g]:{}},f=function(p){return i(p,g)}}return Iv={set:c,get:h,has:f,enforce:v,getterFor:y},Iv}var xv,WT;function li(){if(WT)return xv;WT=1;var n=ia(),e=_e(),t=ea(),r=Mt(),i=Nr(),s=Vb(),o=e([].push),a=function(l){var u=l===1,d=l===2,c=l===3,h=l===4,f=l===6,v=l===7,y=l===5||f;return function(b,g,p,$){for(var m=r(b),S=t(m),O=i(S),x=n(g,p),_=0,E=$||s,T=u?E(b,O):d||v?E(b,0):void 0,P,R;O>_;_++)if((y||_ in S)&&(P=S[_],R=x(P,_,m),l))if(u)T[_]=R;else if(R)switch(l){case 3:return!0;case 5:return P;case 6:return _;case 2:o(T,P)}else switch(l){case 4:return!1;case 7:o(T,P)}return f?-1:c||h?h:T}};return xv={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},xv}var HT;function SW(){if(HT)return IT;HT=1;var n=ee(),e=Ne(),t=Rt(),r=_e(),i=Ln(),s=Ke(),o=Bn(),a=be(),l=ft(),u=et(),d=fr(),c=tr(),h=jb(),f=Ht(),v=Vs(),y=Js(),b=Ys(),g=la(),p=Gb(),$=sa(),m=ra(),S=Wt(),O=Ub(),x=Qo(),_=Zs(),E=Kb(),T=zn(),P=aa(),R=Ks(),C=ta(),A=tt(),L=ua(),ne=Le(),V=CF(),ae=Hi(),de=Vi(),fe=li().forEach,G=P("hidden"),pe="Symbol",ce="prototype",we=de.set,Z=de.getterFor(pe),D=Object[ce],K=e.Symbol,xe=K&&K[ce],vr=e.RangeError,Qi=e.TypeError,pr=e.QObject,gr=m.f,ke=S.f,ci=p.f,en=x.f,ge=r([].push),Me=T("symbols"),Ct=T("op-symbols"),tn=T("wks"),At=!pr||!pr[ce]||!pr[ce].findChild,hi=function(re,W,H){var U=gr(D,W);U&&delete D[W],ke(re,W,H),U&&re!==D&&ke(D,W,U)},yr=s&&a(function(){return y(ke({},"a",{get:function(){return ke(this,"a",{value:7}).a}})).a!==7})?hi:ke,mr=function(re,W){var H=Me[re]=y(xe);return we(H,{type:pe,tag:re,description:W}),s||(H.description=W),H},Ut=function(W,H,U){W===D&&Ut(Ct,H,U),d(W);var ie=h(H);return d(U),l(Me,ie)?(U.enumerable?(l(W,G)&&W[G][ie]&&(W[G][ie]=!1),U=y(U,{enumerable:v(0,!1)})):(l(W,G)||ke(W,G,v(1,y(null))),W[G][ie]=!0),yr(W,ie,U)):ke(W,ie,U)},br=function(W,H){d(W);var U=c(H),ie=b(U).concat(wr(U));return fe(ie,function(Se){(!s||t(rr,U,Se))&&Ut(W,Se,U[Se])}),W},Qn=function(W,H){return H===void 0?y(W):br(y(W),H)},rr=function(W){var H=h(W),U=t(en,this,H);return this===D&&l(Me,H)&&!l(Ct,H)?!1:U||!l(this,H)||!l(Me,H)||l(this,G)&&this[G][H]?U:!0},Br=function(W,H){var U=c(W),ie=h(H);if(!(U===D&&l(Me,ie)&&!l(Ct,ie))){var Se=gr(U,ie);return Se&&l(Me,ie)&&!(l(U,G)&&U[G][ie])&&(Se.enumerable=!0),Se}},_r=function(W){var H=ci(c(W)),U=[];return fe(H,function(ie){!l(Me,ie)&&!l(R,ie)&&ge(U,ie)}),U},wr=function(re){var W=re===D,H=ci(W?Ct:c(re)),U=[];return fe(H,function(ie){l(Me,ie)&&(!W||l(D,ie))&&ge(U,Me[ie])}),U};return o||(K=function(){if(u(xe,this))throw new Qi("Symbol is not a constructor");var W=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),H=C(W),U=function(ie){var Se=this===void 0?e:this;Se===D&&t(U,Ct,ie),l(Se,G)&&l(Se[G],H)&&(Se[G][H]=!1);var fi=v(1,ie);try{yr(Se,H,fi)}catch(jr){if(!(jr instanceof vr))throw jr;hi(Se,H,fi)}};return s&&At&&yr(D,H,{configurable:!0,set:U}),mr(H,W)},xe=K[ce],_(xe,"toString",function(){return Z(this).tag}),_(K,"withoutSetter",function(re){return mr(C(re),re)}),x.f=rr,S.f=Ut,O.f=br,m.f=Br,g.f=p.f=_r,$.f=wr,L.f=function(re){return mr(A(re),re)},s&&(E(xe,"description",{configurable:!0,get:function(){return Z(this).description}}),i||_(D,"propertyIsEnumerable",rr,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:K}),fe(b(tn),function(re){ne(re)}),n({target:pe,stat:!0,forced:!o},{useSetter:function(){At=!0},useSimple:function(){At=!1}}),n({target:"Object",stat:!0,forced:!o,sham:!s},{create:Qn,defineProperty:Ut,defineProperties:br,getOwnPropertyDescriptor:Br}),n({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:_r}),V(),ae(K,pe),R[G]=!0,IT}var VT={},Tv,UT;function kF(){if(UT)return Tv;UT=1;var n=Bn();return Tv=n&&!!Symbol.for&&!!Symbol.keyFor,Tv}var GT;function EW(){if(GT)return VT;GT=1;var n=ee(),e=Dt(),t=ft(),r=Ht(),i=zn(),s=kF(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=r(l);if(t(o,u))return o[u];var d=e("Symbol")(u);return o[u]=d,a[d]=u,d}}),VT}var KT={},YT;function $W(){if(YT)return KT;YT=1;var n=ee(),e=ft(),t=Gs(),r=jn(),i=zn(),s=kF(),o=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!t(l))throw new TypeError(r(l)+" is not a symbol");if(e(o,l))return o[l]}}),KT}var XT={},Pv,JT;function OW(){if(JT)return Pv;JT=1;var n=_e(),e=Wi(),t=lt(),r=hr(),i=Ht(),s=n([].push);return Pv=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,l=[],u=0;u<a;u++){var d=o[u];typeof d=="string"?s(l,d):(typeof d=="number"||r(d)==="Number"||r(d)==="String")&&s(l,i(d))}var c=l.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var y=0;y<c;y++)if(l[y]===f)return v}}},Pv}var ZT;function DF(){if(ZT)return XT;ZT=1;var n=ee(),e=Dt(),t=Zo(),r=Rt(),i=_e(),s=be(),o=lt(),a=Gs(),l=Vn(),u=OW(),d=Bn(),c=String,h=e("JSON","stringify"),f=i(/./.exec),v=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),p=/[\uD800-\uDFFF]/g,$=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,S=!d||s(function(){var E=e("Symbol")("stringify detection");return h([E])!=="[null]"||h({a:E})!=="{}"||h(Object(E))!=="{}"}),O=s(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),x=function(E,T){var P=l(arguments),R=u(T);if(!(!o(R)&&(E===void 0||a(E))))return P[1]=function(C,A){if(o(R)&&(A=r(R,this,c(C),A)),!a(A))return A},t(h,null,P)},_=function(E,T,P){var R=v(P,T-1),C=v(P,T+1);return f($,E)&&!f(m,C)||f(m,E)&&!f($,R)?"\\u"+g(y(E,0),16):E};return h&&n({target:"JSON",stat:!0,arity:3,forced:S||O},{stringify:function(T,P,R){var C=l(arguments),A=t(S?x:h,null,C);return O&&typeof A=="string"?b(A,p,_):A}}),XT}var QT={},eP;function IW(){if(eP)return QT;eP=1;var n=ee(),e=Bn(),t=be(),r=sa(),i=Mt(),s=!e||t(function(){r.f(1)});return n({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=r.f;return l?l(i(a)):[]}}),QT}var tP;function MF(){return tP||(tP=1,SW(),EW(),$W(),DF(),IW()),OT}var rP={},iP;function AF(){if(iP)return rP;iP=1;var n=Le();return n("asyncDispose"),rP}var nP={},sP;function xW(){if(sP)return nP;sP=1;var n=Le();return n("asyncIterator"),nP}var oP={},aP;function FF(){if(aP)return oP;aP=1;var n=Le();return n("dispose"),oP}var lP={},uP;function TW(){if(uP)return lP;uP=1;var n=Le();return n("hasInstance"),lP}var dP={},cP;function PW(){if(cP)return dP;cP=1;var n=Le();return n("isConcatSpreadable"),dP}var hP={},fP;function NF(){if(fP)return hP;fP=1;var n=Le();return n("iterator"),hP}var vP={},pP;function RW(){if(pP)return vP;pP=1;var n=Le();return n("match"),vP}var gP={},yP;function CW(){if(yP)return gP;yP=1;var n=Le();return n("matchAll"),gP}var mP={},bP;function qW(){if(bP)return mP;bP=1;var n=Le();return n("replace"),mP}var _P={},wP;function kW(){if(wP)return _P;wP=1;var n=Le();return n("search"),_P}var SP={},EP;function DW(){if(EP)return SP;EP=1;var n=Le();return n("species"),SP}var $P={},OP;function MW(){if(OP)return $P;OP=1;var n=Le();return n("split"),$P}var IP={},xP;function BF(){if(xP)return IP;xP=1;var n=Le(),e=CF();return n("toPrimitive"),e(),IP}var TP={},PP;function AW(){if(PP)return TP;PP=1;var n=Dt(),e=Le(),t=Hi();return e("toStringTag"),t(n("Symbol"),"Symbol"),TP}var RP={},CP;function FW(){if(CP)return RP;CP=1;var n=Le();return n("unscopables"),RP}var qP={},kP;function NW(){if(kP)return qP;kP=1;var n=Ne(),e=Hi();return e(n.JSON,"JSON",!0),qP}var Rv,DP;function BW(){if(DP)return Rv;DP=1,RF(),MF(),AF(),xW(),FF(),TW(),PW(),NF(),RW(),CW(),qW(),kW(),DW(),MW(),BF(),AW(),FW(),NW();var n=Ie();return Rv=n.Symbol,Rv}var MP={},Cv,AP;function Yb(){return AP||(AP=1,Cv=function(){}),Cv}var qv,FP;function Gn(){return FP||(FP=1,qv={}),qv}var kv,NP;function jW(){if(NP)return kv;NP=1;var n=Ke(),e=ft(),t=Function.prototype,r=n&&Object.getOwnPropertyDescriptor,i=e(t,"name"),s=i&&(function(){}).name==="something",o=i&&(!n||n&&r(t,"name").configurable);return kv={EXISTS:i,PROPER:s,CONFIGURABLE:o},kv}var Dv,BP;function jF(){if(BP)return Dv;BP=1;var n=be();return Dv=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Dv}var Mv,jP;function da(){if(jP)return Mv;jP=1;var n=ft(),e=lt(),t=Mt(),r=aa(),i=jF(),s=r("IE_PROTO"),o=Object,a=o.prototype;return Mv=i?o.getPrototypeOf:function(l){var u=t(l);if(n(u,s))return u[s];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof o?a:null},Mv}var Av,LP;function LF(){if(LP)return Av;LP=1;var n=be(),e=lt(),t=ut(),r=Js(),i=da(),s=Zs(),o=tt(),a=Ln(),l=o("iterator"),u=!1,d,c,h;[].keys&&(h=[].keys(),"next"in h?(c=i(i(h)),c!==Object.prototype&&(d=c)):u=!0);var f=!t(d)||n(function(){var v={};return d[l].call(v)!==v});return f?d={}:a&&(d=r(d)),e(d[l])||s(d,l,function(){return this}),Av={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},Av}var Fv,zP;function LW(){if(zP)return Fv;zP=1;var n=LF().IteratorPrototype,e=Js(),t=Vs(),r=Hi(),i=Gn(),s=function(){return this};return Fv=function(o,a,l,u){var d=a+" Iterator";return o.prototype=e(n,{next:t(+!u,l)}),r(o,d,!1,!0),i[d]=s,o},Fv}var Nv,WP;function zW(){if(WP)return Nv;WP=1;var n=_e(),e=Fr();return Nv=function(t,r,i){try{return n(e(Object.getOwnPropertyDescriptor(t,r)[i]))}catch{}},Nv}var Bv,HP;function WW(){if(HP)return Bv;HP=1;var n=ut();return Bv=function(e){return n(e)||e===null},Bv}var jv,VP;function HW(){if(VP)return jv;VP=1;var n=WW(),e=String,t=TypeError;return jv=function(r){if(n(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},jv}var Lv,UP;function VW(){if(UP)return Lv;UP=1;var n=zW(),e=ut(),t=Ar(),r=HW();return Lv=Object.setPrototypeOf||("__proto__"in{}?(function(){var i=!1,s={},o;try{o=n(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(l,u){return t(l),r(u),e(l)&&(i?o(l,u):l.__proto__=u),l}})():void 0),Lv}var zv,GP;function Xb(){if(GP)return zv;GP=1;var n=ee(),e=Rt(),t=Ln(),r=jW(),i=lt(),s=LW(),o=da(),a=VW(),l=Hi(),u=Wn(),d=Zs(),c=tt(),h=Gn(),f=LF(),v=r.PROPER,y=r.CONFIGURABLE,b=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,p=c("iterator"),$="keys",m="values",S="entries",O=function(){return this};return zv=function(x,_,E,T,P,R,C){s(E,_,T);var A=function(we){if(we===P&&de)return de;if(!g&&we&&we in V)return V[we];switch(we){case $:return function(){return new E(this,we)};case m:return function(){return new E(this,we)};case S:return function(){return new E(this,we)}}return function(){return new E(this)}},L=_+" Iterator",ne=!1,V=x.prototype,ae=V[p]||V["@@iterator"]||P&&V[P],de=!g&&ae||A(P),fe=_==="Array"&&V.entries||ae,G,pe,ce;if(fe&&(G=o(fe.call(new x)),G!==Object.prototype&&G.next&&(!t&&o(G)!==b&&(a?a(G,b):i(G[p])||d(G,p,O)),l(G,L,!0,!0),t&&(h[L]=O))),v&&P===m&&ae&&ae.name!==m&&(!t&&y?u(V,"name",m):(ne=!0,de=function(){return e(ae,this)})),P)if(pe={values:A(m),keys:R?de:A($),entries:A(S)},C)for(ce in pe)(g||ne||!(ce in V))&&d(V,ce,pe[ce]);else n({target:_,proto:!0,forced:g||ne},pe);return(!t||C)&&V[p]!==de&&d(V,p,de,{name:P}),h[_]=de,pe},zv}var Wv,KP;function Jb(){return KP||(KP=1,Wv=function(n,e){return{value:n,done:e}}),Wv}var Hv,YP;function Kn(){if(YP)return Hv;YP=1;var n=tr(),e=Yb(),t=Gn(),r=Vi(),i=Wt().f,s=Xb(),o=Jb(),a=Ln(),l=Ke(),u="Array Iterator",d=r.set,c=r.getterFor(u);Hv=s(Array,"Array",function(f,v){d(this,{type:u,target:n(f),index:0,kind:v})},function(){var f=c(this),v=f.target,y=f.index++;if(!v||y>=v.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(y,!1);case"values":return o(v[y],!1)}return o([y,v[y]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&h.name!=="values")try{i(h,"name",{value:"values"})}catch{}return Hv}var Vv,XP;function UW(){return XP||(XP=1,Vv={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Vv}var JP;function Yn(){if(JP)return MP;JP=1,Kn();var n=UW(),e=Ne(),t=Hi(),r=Gn();for(var i in n)t(e[i],i),r[i]=r.Array;return MP}var Uv,ZP;function zF(){if(ZP)return Uv;ZP=1;var n=BW();return Yn(),Uv=n,Uv}var Gv,QP;function GW(){return QP||(QP=1,Gv=zF()),Gv}var KW=GW(),YW=ue(KW),eR={},tR;function XW(){if(tR)return eR;tR=1;var n=ee(),e=Wi(),t=PF(),r=ut(),i=na(),s=Nr(),o=tr(),a=oa(),l=tt(),u=Xs(),d=Vn(),c=u("slice"),h=l("species"),f=Array,v=Math.max;return n({target:"Array",proto:!0,forced:!c},{slice:function(b,g){var p=o(this),$=s(p),m=i(b,$),S=i(g===void 0?$:g,$),O,x,_;if(e(p)&&(O=p.constructor,t(O)&&(O===f||e(O.prototype))?O=void 0:r(O)&&(O=O[h],O===null&&(O=void 0)),O===f||O===void 0))return d(p,m,S);for(x=new(O===void 0?f:O)(v(S-m,0)),_=0;m<S;m++,_++)m in p&&a(x,_,p[m]);return x.length=_,x}}),eR}var Kv,rR;function JW(){if(rR)return Kv;rR=1,XW();var n=vt();return Kv=n("Array","slice"),Kv}var Yv,iR;function ZW(){if(iR)return Yv;iR=1;var n=et(),e=JW(),t=Array.prototype;return Yv=function(r){var i=r.slice;return r===t||n(t,r)&&i===t.slice?e:i},Yv}var Xv,nR;function QW(){if(nR)return Xv;nR=1;var n=ZW();return Xv=n,Xv}var Jv,sR;function eH(){return sR||(sR=1,Jv=QW()),Jv}var tH=eH(),sr=ue(tH),Zv,oR;function rH(){if(oR)return Zv;oR=1;var n=Dt(),e=_e(),t=la(),r=sa(),i=fr(),s=e([].concat);return Zv=n("Reflect","ownKeys")||function(a){var l=t.f(i(a)),u=r.f;return u?s(l,u(a)):l},Zv}var aR={},lR;function iH(){if(lR)return aR;lR=1;var n=ee(),e=Wi();return n({target:"Array",stat:!0},{isArray:e}),aR}var Qv,uR;function nH(){if(uR)return Qv;uR=1,iH();var n=Ie();return Qv=n.Array.isArray,Qv}var ep,dR;function sH(){if(dR)return ep;dR=1;var n=nH();return ep=n,ep}var tp,cR;function oH(){return cR||(cR=1,tp=sH()),tp}var aH=oH(),Ue=ue(aH),hR={},fR;function lH(){if(fR)return hR;fR=1;var n=ee(),e=li().map,t=Xs(),r=t("map");return n({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),hR}var rp,vR;function uH(){if(vR)return rp;vR=1,lH();var n=vt();return rp=n("Array","map"),rp}var ip,pR;function dH(){if(pR)return ip;pR=1;var n=et(),e=uH(),t=Array.prototype;return ip=function(r){var i=r.map;return r===t||n(t,r)&&i===t.map?e:i},ip}var np,gR;function cH(){if(gR)return np;gR=1;var n=dH();return np=n,np}var sp,yR;function hH(){return yR||(yR=1,sp=cH()),sp}var fH=hH(),wn=ue(fH),mR={},bR;function vH(){if(bR)return mR;bR=1;var n=ee(),e=Mt(),t=Ys(),r=be(),i=r(function(){t(1)});return n({target:"Object",stat:!0,forced:i},{keys:function(o){return t(e(o))}}),mR}var op,_R;function pH(){if(_R)return op;_R=1,vH();var n=Ie();return op=n.Object.keys,op}var ap,wR;function gH(){if(wR)return ap;wR=1;var n=pH();return ap=n,ap}var lp,SR;function yH(){return SR||(SR=1,lp=gH()),lp}var mH=yH(),Ve=ue(mH),ER={},$R;function bH(){if($R)return ER;$R=1;var n=ee(),e=_e(),t=Date,r=e(t.prototype.getTime);return n({target:"Date",stat:!0},{now:function(){return r(new t)}}),ER}var up,OR;function _H(){if(OR)return up;OR=1,bH();var n=Ie();return up=n.Date.now,up}var dp,IR;function wH(){if(IR)return dp;IR=1;var n=_H();return dp=n,dp}var cp,xR;function SH(){return xR||(xR=1,cp=wH()),cp}var EH=SH(),Po=ue(EH),TR={},hp,PR;function Xn(){if(PR)return hp;PR=1;var n=be();return hp=function(e,t){var r=[][e];return!!r&&n(function(){r.call(null,t||function(){return 1},1)})},hp}var fp,RR;function $H(){if(RR)return fp;RR=1;var n=li().forEach,e=Xn(),t=e("forEach");return fp=t?[].forEach:function(i){return n(this,i,arguments.length>1?arguments[1]:void 0)},fp}var CR;function OH(){if(CR)return TR;CR=1;var n=ee(),e=$H();return n({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),TR}var vp,qR;function IH(){if(qR)return vp;qR=1,OH();var n=vt();return vp=n("Array","forEach"),vp}var pp,kR;function xH(){if(kR)return pp;kR=1;var n=IH();return pp=n,pp}var gp,DR;function TH(){if(DR)return gp;DR=1;var n=Un(),e=ft(),t=et(),r=xH(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return gp=function(o){var a=o.forEach;return o===i||t(i,o)&&a===i.forEach||e(s,n(o))?r:a},gp}var yp,MR;function PH(){return MR||(MR=1,yp=TH()),yp}var RH=PH(),Te=ue(RH),AR={},FR;function CH(){if(FR)return AR;FR=1;var n=ee(),e=_e(),t=Wi(),r=e([].reverse),i=[1,2];return n({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),AR}var mp,NR;function qH(){if(NR)return mp;NR=1,CH();var n=vt();return mp=n("Array","reverse"),mp}var bp,BR;function kH(){if(BR)return bp;BR=1;var n=et(),e=qH(),t=Array.prototype;return bp=function(r){var i=r.reverse;return r===t||n(t,r)&&i===t.reverse?e:i},bp}var _p,jR;function DH(){if(jR)return _p;jR=1;var n=kH();return _p=n,_p}var wp,LR;function MH(){return LR||(LR=1,wp=DH()),wp}var AH=MH(),Si=ue(AH),zR={},Sp,WR;function FH(){if(WR)return Sp;WR=1;var n=Ke(),e=Wi(),t=TypeError,r=Object.getOwnPropertyDescriptor,i=n&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}})();return Sp=i?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Sp}var Ep,HR;function WF(){if(HR)return Ep;HR=1;var n=jn(),e=TypeError;return Ep=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+n(r)+" of "+n(t))},Ep}var VR;function NH(){if(VR)return zR;VR=1;var n=ee(),e=Mt(),t=na(),r=Hn(),i=Nr(),s=FH(),o=TF(),a=Vb(),l=oa(),u=WF(),d=Xs(),c=d("splice"),h=Math.max,f=Math.min;return n({target:"Array",proto:!0,forced:!c},{splice:function(y,b){var g=e(this),p=i(g),$=t(y,p),m=arguments.length,S,O,x,_,E,T;for(m===0?S=O=0:m===1?(S=0,O=p-$):(S=m-2,O=f(h(r(b),0),p-$)),o(p+S-O),x=a(g,O),_=0;_<O;_++)E=$+_,E in g&&l(x,_,g[E]);if(x.length=O,S<O){for(_=$;_<p-O;_++)E=_+O,T=_+S,E in g?g[T]=g[E]:u(g,T);for(_=p;_>p-O+S;_--)u(g,_-1)}else if(S>O)for(_=p-O;_>$;_--)E=_+O-1,T=_+S-1,E in g?g[T]=g[E]:u(g,T);for(_=0;_<S;_++)g[_+$]=arguments[_+2];return s(g,p-O+S),x}}),zR}var $p,UR;function BH(){if(UR)return $p;UR=1,NH();var n=vt();return $p=n("Array","splice"),$p}var Op,GR;function jH(){if(GR)return Op;GR=1;var n=et(),e=BH(),t=Array.prototype;return Op=function(r){var i=r.splice;return r===t||n(t,r)&&i===t.splice?e:i},Op}var Ip,KR;function LH(){if(KR)return Ip;KR=1;var n=jH();return Ip=n,Ip}var xp,YR;function zH(){return YR||(YR=1,xp=LH()),xp}var WH=zH(),Tr=ue(WH),XR={},JR;function HH(){if(JR)return XR;JR=1;var n=ee(),e=Lb().includes,t=be(),r=Yb(),i=t(function(){return!Array(1).includes()});return n({target:"Array",proto:!0,forced:i},{includes:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),r("includes"),XR}var Tp,ZR;function VH(){if(ZR)return Tp;ZR=1,HH();var n=vt();return Tp=n("Array","includes"),Tp}var QR={},Pp,eC;function UH(){if(eC)return Pp;eC=1;var n=ut(),e=hr(),t=tt(),r=t("match");return Pp=function(i){var s;return n(i)&&((s=i[r])!==void 0?!!s:e(i)==="RegExp")},Pp}var Rp,tC;function GH(){if(tC)return Rp;tC=1;var n=UH(),e=TypeError;return Rp=function(t){if(n(t))throw new e("The method doesn't accept regular expressions");return t},Rp}var Cp,rC;function KH(){if(rC)return Cp;rC=1;var n=tt(),e=n("match");return Cp=function(t){var r=/./;try{"/./"[t](r)}catch{try{return r[e]=!1,"/./"[t](r)}catch{}}return!1},Cp}var iC;function YH(){if(iC)return QR;iC=1;var n=ee(),e=_e(),t=GH(),r=Ar(),i=Ht(),s=KH(),o=e("".indexOf);return n({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~o(i(r(this)),i(t(l)),arguments.length>1?arguments[1]:void 0)}}),QR}var qp,nC;function XH(){if(nC)return qp;nC=1,YH();var n=vt();return qp=n("String","includes"),qp}var kp,sC;function JH(){if(sC)return kp;sC=1;var n=et(),e=VH(),t=XH(),r=Array.prototype,i=String.prototype;return kp=function(s){var o=s.includes;return s===r||n(r,s)&&o===r.includes?e:typeof s=="string"||s===i||n(i,s)&&o===i.includes?t:o},kp}var Dp,oC;function ZH(){if(oC)return Dp;oC=1;var n=JH();return Dp=n,Dp}var Mp,aC;function QH(){return aC||(aC=1,Mp=ZH()),Mp}var eV=QH(),Xr=ue(eV),lC={},uC;function tV(){if(uC)return lC;uC=1;var n=ee(),e=be(),t=Mt(),r=da(),i=jF(),s=e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(a){return r(t(a))}}),lC}var Ap,dC;function rV(){if(dC)return Ap;dC=1,tV();var n=Ie();return Ap=n.Object.getPrototypeOf,Ap}var Fp,cC;function iV(){if(cC)return Fp;cC=1;var n=rV();return Fp=n,Fp}var Np,hC;function nV(){return hC||(hC=1,Np=iV()),Np}var sV=nV(),fC=ue(sV),Bp,vC;function oV(){if(vC)return Bp;vC=1,RF();var n=vt();return Bp=n("Array","concat"),Bp}var jp,pC;function aV(){if(pC)return jp;pC=1;var n=et(),e=oV(),t=Array.prototype;return jp=function(r){var i=r.concat;return r===t||n(t,r)&&i===t.concat?e:i},jp}var Lp,gC;function lV(){if(gC)return Lp;gC=1;var n=aV();return Lp=n,Lp}var zp,yC;function uV(){return yC||(yC=1,zp=lV()),zp}var dV=uV(),cV=ue(dV),mC={},bC;function hV(){if(bC)return mC;bC=1;var n=ee(),e=li().filter,t=Xs(),r=t("filter");return n({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),mC}var Wp,_C;function fV(){if(_C)return Wp;_C=1,hV();var n=vt();return Wp=n("Array","filter"),Wp}var Hp,wC;function vV(){if(wC)return Hp;wC=1;var n=et(),e=fV(),t=Array.prototype;return Hp=function(r){var i=r.filter;return r===t||n(t,r)&&i===t.filter?e:i},Hp}var Vp,SC;function pV(){if(SC)return Vp;SC=1;var n=vV();return Vp=n,Vp}var Up,EC;function gV(){return EC||(EC=1,Up=pV()),Up}var yV=gV(),Ot=ue(yV),$C={},Gp,OC;function mV(){if(OC)return Gp;OC=1;var n=Ke(),e=be(),t=_e(),r=da(),i=Ys(),s=tr(),o=Qo().f,a=t(o),l=t([].push),u=n&&e(function(){var c=Object.create(null);return c[2]=2,!a(c,2)}),d=function(c){return function(h){for(var f=s(h),v=i(f),y=u&&r(f)===null,b=v.length,g=0,p=[],$;b>g;)$=v[g++],(!n||(y?$ in f:a(f,$)))&&l(p,c?[$,f[$]]:f[$]);return p}};return Gp={entries:d(!0),values:d(!1)},Gp}var IC;function bV(){if(IC)return $C;IC=1;var n=ee(),e=mV().values;return n({target:"Object",stat:!0},{values:function(r){return e(r)}}),$C}var Kp,xC;function _V(){if(xC)return Kp;xC=1,bV();var n=Ie();return Kp=n.Object.values,Kp}var Yp,TC;function wV(){if(TC)return Yp;TC=1;var n=_V();return Yp=n,Yp}var Xp,PC;function SV(){return PC||(PC=1,Xp=wV()),Xp}var EV=SV(),$V=ue(EV),RC={},Jp,CC;function Zb(){return CC||(CC=1,Jp=`	
\v\f\r Â áââââââââââââ¯âã\u2028\u2029\uFEFF`),Jp}var Zp,qC;function HF(){if(qC)return Zp;qC=1;var n=_e(),e=Ar(),t=Ht(),r=Zb(),i=n("".replace),s=RegExp("^["+r+"]+"),o=RegExp("(^|[^"+r+"])["+r+"]+$"),a=function(l){return function(u){var d=t(e(u));return l&1&&(d=i(d,s,"")),l&2&&(d=i(d,o,"$1")),d}};return Zp={start:a(1),end:a(2),trim:a(3)},Zp}var Qp,kC;function OV(){if(kC)return Qp;kC=1;var n=Ne(),e=be(),t=_e(),r=Ht(),i=HF().trim,s=Zb(),o=n.parseInt,a=n.Symbol,l=a&&a.iterator,u=/^[+-]?0x/i,d=t(u.exec),c=o(s+"08")!==8||o(s+"0x16")!==22||l&&!e(function(){o(Object(l))});return Qp=c?function(f,v){var y=i(r(f));return o(y,v>>>0||(d(u,y)?16:10))}:o,Qp}var DC;function IV(){if(DC)return RC;DC=1;var n=ee(),e=OV();return n({global:!0,forced:parseInt!==e},{parseInt:e}),RC}var eg,MC;function xV(){if(MC)return eg;MC=1,IV();var n=Ie();return eg=n.parseInt,eg}var tg,AC;function TV(){if(AC)return tg;AC=1;var n=xV();return tg=n,tg}var rg,FC;function PV(){return FC||(FC=1,rg=TV()),rg}var RV=PV(),Jt=ue(RV),NC={},BC;function CV(){if(BC)return NC;BC=1;var n=ee(),e=Fb(),t=Lb().indexOf,r=Xn(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,o=s||!r("indexOf");return n({target:"Array",proto:!0,forced:o},{indexOf:function(l){var u=arguments.length>1?arguments[1]:void 0;return s?i(this,l,u)||0:t(this,l,u)}}),NC}var ig,jC;function qV(){if(jC)return ig;jC=1,CV();var n=vt();return ig=n("Array","indexOf"),ig}var ng,LC;function kV(){if(LC)return ng;LC=1;var n=et(),e=qV(),t=Array.prototype;return ng=function(r){var i=r.indexOf;return r===t||n(t,r)&&i===t.indexOf?e:i},ng}var sg,zC;function DV(){if(zC)return sg;zC=1;var n=kV();return sg=n,sg}var og,WC;function MV(){return WC||(WC=1,og=DV()),og}var AV=MV(),$e=ue(AV),HC={},VC;function FV(){if(VC)return HC;VC=1;var n=ee(),e=Ke(),t=Js();return n({target:"Object",stat:!0,sham:!e},{create:t}),HC}var ag,UC;function NV(){if(UC)return ag;UC=1,FV();var n=Ie(),e=n.Object;return ag=function(r,i){return e.create(r,i)},ag}var lg,GC;function BV(){if(GC)return lg;GC=1;var n=NV();return lg=n,lg}var ug,KC;function jV(){return KC||(KC=1,ug=BV()),ug}var LV=jV(),Ei=ue(LV),YC={},dg,XC;function zV(){if(XC)return dg;XC=1;var n=Hn(),e=Ht(),t=Ar(),r=RangeError;return dg=function(s){var o=e(t(this)),a="",l=n(s);if(l<0||l===1/0)throw new r("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},dg}var cg,JC;function WV(){if(JC)return cg;JC=1;var n=_e(),e=SF(),t=Ht(),r=zV(),i=Ar(),s=n(r),o=n("".slice),a=Math.ceil,l=function(u){return function(d,c,h){var f=t(i(d)),v=e(c),y=f.length,b=h===void 0?" ":t(h),g,p;return v<=y||b===""?f:(g=v-y,p=s(b,a(g/b.length)),p.length>g&&(p=o(p,0,g)),u?f+p:p+f)}};return cg={start:l(!1),end:l(!0)},cg}var hg,ZC;function HV(){if(ZC)return hg;ZC=1;var n=_e(),e=be(),t=WV().start,r=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=n(o.getTime),u=n(o.getUTCDate),d=n(o.getUTCFullYear),c=n(o.getUTCHours),h=n(o.getUTCMilliseconds),f=n(o.getUTCMinutes),v=n(o.getUTCMonth),y=n(o.getUTCSeconds);return hg=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(l(this)))throw new r("Invalid time value");var g=this,p=d(g),$=h(g),m=p<0?"-":p>9999?"+":"";return m+t(s(p),m?6:4,0)+"-"+t(v(g)+1,2,0)+"-"+t(u(g),2,0)+"T"+t(c(g),2,0)+":"+t(f(g),2,0)+":"+t(y(g),2,0)+"."+t($,3,0)+"Z"}:a,hg}var QC;function VV(){if(QC)return YC;QC=1;var n=ee(),e=Rt(),t=Mt(),r=mF(),i=HV(),s=hr(),o=be(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return n({target:"Date",proto:!0,forced:a},{toJSON:function(u){var d=t(this),c=r(d,"number");return typeof c=="number"&&!isFinite(c)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),YC}var fg,eq;function UV(){if(eq)return fg;eq=1,VV(),DF();var n=Ie(),e=Zo();return n.JSON||(n.JSON={stringify:JSON.stringify}),fg=function(r,i,s){return e(n.JSON.stringify,null,arguments)},fg}var vg,tq;function GV(){if(tq)return vg;tq=1;var n=UV();return vg=n,vg}var pg,rq;function KV(){return rq||(rq=1,pg=GV()),pg}var YV=KV(),Qs=ue(YV),iq={},nq={},gg,sq;function VF(){if(sq)return gg;sq=1;var n=Ne(),e=Nn(),t=hr(),r=function(i){return e.slice(0,i.length)===i};return gg=(function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":n.Bun&&typeof Bun.version=="string"?"BUN":n.Deno&&typeof Deno.version=="object"?"DENO":t(n.process)==="process"?"NODE":n.window&&n.document?"BROWSER":"REST"})(),gg}var yg,oq;function XV(){if(oq)return yg;oq=1;var n=TypeError;return yg=function(e,t){if(e<t)throw new n("Not enough arguments");return e},yg}var mg,aq;function UF(){if(aq)return mg;aq=1;var n=Ne(),e=Zo(),t=lt(),r=VF(),i=Nn(),s=Vn(),o=XV(),a=n.Function,l=/MSIE .\./.test(i)||r==="BUN"&&(function(){var u=n.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")})();return mg=function(u,d){var c=d?2:1;return l?function(h,f){var v=o(arguments.length,1)>c,y=t(h)?h:a(h),b=v?s(arguments,c):[],g=v?function(){e(y,this,b)}:y;return d?u(g,f):u(g)}:u},mg}var lq;function JV(){if(lq)return nq;lq=1;var n=ee(),e=Ne(),t=UF(),r=t(e.setInterval,!0);return n({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),nq}var uq={},dq;function ZV(){if(dq)return uq;dq=1;var n=ee(),e=Ne(),t=UF(),r=t(e.setTimeout,!0);return n({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),uq}var cq;function GF(){return cq||(cq=1,JV(),ZV()),iq}var bg,hq;function QV(){if(hq)return bg;hq=1,GF();var n=Ie();return bg=n.setTimeout,bg}var _g,fq;function eU(){return fq||(fq=1,_g=QV()),_g}var tU=eU(),Pr=ue(tU),vq={},wg,pq;function rU(){if(pq)return wg;pq=1;var n=Mt(),e=na(),t=Nr();return wg=function(i){for(var s=n(this),o=t(s),a=arguments.length,l=e(a>1?arguments[1]:void 0,o),u=a>2?arguments[2]:void 0,d=u===void 0?o:e(u,o);d>l;)s[l++]=i;return s},wg}var gq;function iU(){if(gq)return vq;gq=1;var n=ee(),e=rU(),t=Yb();return n({target:"Array",proto:!0},{fill:e}),t("fill"),vq}var Sg,yq;function nU(){if(yq)return Sg;yq=1,iU();var n=vt();return Sg=n("Array","fill"),Sg}var Eg,mq;function sU(){if(mq)return Eg;mq=1;var n=et(),e=nU(),t=Array.prototype;return Eg=function(r){var i=r.fill;return r===t||n(t,r)&&i===t.fill?e:i},Eg}var $g,bq;function oU(){if(bq)return $g;bq=1;var n=sU();return $g=n,$g}var Og,_q;function aU(){return _q||(_q=1,Og=oU()),Og}var lU=aU(),eo=ue(lU);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Qt(){return Qt=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qt.apply(this,arguments)}function Vt(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function po(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var eb;typeof Object.assign!="function"?eb=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t}:eb=Object.assign;var Ri=eb,wq=["","webkit","Moz","MS","ms","o"],uU=typeof document>"u"?{style:{}}:document.createElement("div"),dU="function",hn=Math.round,Ci=Math.abs,Qb=Date.now;function ca(n,e){for(var t,r,i=e[0].toUpperCase()+e.slice(1),s=0;s<wq.length;){if(t=wq[s],r=t?t+i:e,r in n)return r;s++}}var Rr;typeof window>"u"?Rr={}:Rr=window;var KF=ca(uU.style,"touchAction"),YF=KF!==void 0;function cU(){if(!YF)return!1;var n={},e=Rr.CSS&&Rr.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return n[t]=e?Rr.CSS.supports("touch-action",t):!0}),n}var XF="compute",JF="auto",tb="manipulation",$i="none",ws="pan-x",Ss="pan-y",go=cU(),hU=/mobile|tablet|ip(ad|hone|od)|android/i,ZF="ontouchstart"in Rr,fU=ca(Rr,"PointerEvent")!==void 0,vU=ZF&&hU.test(navigator.userAgent),to="touch",pU="pen",e1="mouse",gU="kinect",yU=25,wt=1,Ui=2,Je=4,xt=8,Ro=1,ro=2,io=4,no=8,Sn=16,dr=ro|io,Oi=no|Sn,QF=dr|Oi,eN=["x","y"],Co=["clientX","clientY"];function Cr(n,e,t){var r;if(n)if(n.forEach)n.forEach(e,t);else if(n.length!==void 0)for(r=0;r<n.length;)e.call(t,n[r],r,n),r++;else for(r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r,n)}function ha(n,e){return typeof n===dU?n.apply(e&&e[0]||void 0,e):n}function mi(n,e){return n.indexOf(e)>-1}function mU(n){if(mi(n,$i))return $i;var e=mi(n,ws),t=mi(n,Ss);return e&&t?$i:e||t?e?ws:Ss:mi(n,tb)?tb:JF}var tN=(function(){function n(t,r){this.manager=t,this.set(r)}var e=n.prototype;return e.set=function(r){r===XF&&(r=this.compute()),YF&&this.manager.element.style&&go[r]&&(this.manager.element.style[KF]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return Cr(this.manager.recognizers,function(i){ha(i.options.enable,[i])&&(r=r.concat(i.getTouchAction()))}),mU(r.join(" "))},e.preventDefaults=function(r){var i=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=mi(o,$i)&&!go[$i],l=mi(o,Ss)&&!go[Ss],u=mi(o,ws)&&!go[ws];if(a){var d=r.pointers.length===1,c=r.distance<2,h=r.deltaTime<250;if(d&&c&&h)return}if(!(u&&l)&&(a||l&&s&dr||u&&s&Oi))return this.preventSrc(i)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},n})();function t1(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function rN(n){var e=n.length;if(e===1)return{x:hn(n[0].clientX),y:hn(n[0].clientY)};for(var t=0,r=0,i=0;i<e;)t+=n[i].clientX,r+=n[i].clientY,i++;return{x:hn(t/e),y:hn(r/e)}}function Sq(n){for(var e=[],t=0;t<n.pointers.length;)e[t]={clientX:hn(n.pointers[t].clientX),clientY:hn(n.pointers[t].clientY)},t++;return{timeStamp:Qb(),pointers:e,center:rN(e),deltaX:n.deltaX,deltaY:n.deltaY}}function qo(n,e,t){t||(t=eN);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.sqrt(r*r+i*i)}function rb(n,e,t){t||(t=eN);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.atan2(i,r)*180/Math.PI}function iN(n,e){return n===e?Ro:Ci(n)>=Ci(e)?n<0?ro:io:e<0?no:Sn}function bU(n,e){var t=e.center,r=n.offsetDelta||{},i=n.prevDelta||{},s=n.prevInput||{};(e.eventType===wt||s.eventType===Je)&&(i=n.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=n.offsetDelta={x:t.x,y:t.y}),e.deltaX=i.x+(t.x-r.x),e.deltaY=i.y+(t.y-r.y)}function nN(n,e,t){return{x:e/n||0,y:t/n||0}}function _U(n,e){return qo(e[0],e[1],Co)/qo(n[0],n[1],Co)}function wU(n,e){return rb(e[1],e[0],Co)+rb(n[1],n[0],Co)}function SU(n,e){var t=n.lastInterval||e,r=e.timeStamp-t.timeStamp,i,s,o,a;if(e.eventType!==xt&&(r>yU||t.velocity===void 0)){var l=e.deltaX-t.deltaX,u=e.deltaY-t.deltaY,d=nN(r,l,u);s=d.x,o=d.y,i=Ci(d.x)>Ci(d.y)?d.x:d.y,a=iN(l,u),n.lastInterval=e}else i=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function EU(n,e){var t=n.session,r=e.pointers,i=r.length;t.firstInput||(t.firstInput=Sq(e)),i>1&&!t.firstMultiple?t.firstMultiple=Sq(e):i===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,l=e.center=rN(r);e.timeStamp=Qb(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=rb(a,l),e.distance=qo(a,l),bU(t,e),e.offsetDirection=iN(e.deltaX,e.deltaY);var u=nN(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=Ci(u.x)>Ci(u.y)?u.x:u.y,e.scale=o?_U(o.pointers,r):1,e.rotation=o?wU(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,SU(t,e);var d=n.element,c=e.srcEvent,h;c.composedPath?h=c.composedPath()[0]:c.path?h=c.path[0]:h=c.target,t1(h,d)&&(d=h),e.target=d}function $U(n,e,t){var r=t.pointers.length,i=t.changedPointers.length,s=e&wt&&r-i===0,o=e&(Je|xt)&&r-i===0;t.isFirst=!!s,t.isFinal=!!o,s&&(n.session={}),t.eventType=e,EU(n,t),n.emit("hammer.input",t),n.recognize(t),n.session.prevInput=t}function Es(n){return n.trim().split(/\s+/g)}function ds(n,e,t){Cr(Es(e),function(r){n.addEventListener(r,t,!1)})}function cs(n,e,t){Cr(Es(e),function(r){n.removeEventListener(r,t,!1)})}function Eq(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var Jn=(function(){function n(t,r){var i=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){ha(t.options.enable,[t])&&i.handler(s)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&ds(this.element,this.evEl,this.domHandler),this.evTarget&&ds(this.target,this.evTarget,this.domHandler),this.evWin&&ds(Eq(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&cs(this.element,this.evEl,this.domHandler),this.evTarget&&cs(this.target,this.evTarget,this.domHandler),this.evWin&&cs(Eq(this.element),this.evWin,this.domHandler)},n})();function qi(n,e,t){if(n.indexOf&&!t)return n.indexOf(e);for(var r=0;r<n.length;){if(t&&n[r][t]==e||!t&&n[r]===e)return r;r++}return-1}var OU={pointerdown:wt,pointermove:Ui,pointerup:Je,pointercancel:xt,pointerout:xt},IU={2:to,3:pU,4:e1,5:gU},sN="pointerdown",oN="pointermove pointerup pointercancel";Rr.MSPointerEvent&&!Rr.PointerEvent&&(sN="MSPointerDown",oN="MSPointerMove MSPointerUp MSPointerCancel");var aN=(function(n){Vt(e,n);function e(){var r,i=e.prototype;return i.evEl=sN,i.evWin=oN,r=n.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),l=OU[a],u=IU[i.pointerType]||i.pointerType,d=u===to,c=qi(s,i.pointerId,"pointerId");l&wt&&(i.button===0||d)?c<0&&(s.push(i),c=s.length-1):l&(Je|xt)&&(o=!0),!(c<0)&&(s[c]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),o&&s.splice(c,1))},e})(Jn);function $s(n){return Array.prototype.slice.call(n,0)}function r1(n,e,t){for(var r=[],i=[],s=0;s<n.length;){var o=e?n[s][e]:n[s];qi(i,o)<0&&r.push(n[s]),i[s]=o,s++}return t&&(e?r=r.sort(function(a,l){return a[e]>l[e]}):r=r.sort()),r}var xU={touchstart:wt,touchmove:Ui,touchend:Je,touchcancel:xt},TU="touchstart touchmove touchend touchcancel",i1=(function(n){Vt(e,n);function e(){var r;return e.prototype.evTarget=TU,r=n.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(i){var s=xU[i.type],o=PU.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:to,srcEvent:i})},e})(Jn);function PU(n,e){var t=$s(n.touches),r=this.targetIds;if(e&(wt|Ui)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var i,s,o=$s(n.changedTouches),a=[],l=this.target;if(s=t.filter(function(u){return t1(u.target,l)}),e===wt)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&a.push(o[i]),e&(Je|xt)&&delete r[o[i].identifier],i++;if(a.length)return[r1(s.concat(a),"identifier",!0),a]}var RU={mousedown:wt,mousemove:Ui,mouseup:Je},CU="mousedown",qU="mousemove mouseup",n1=(function(n){Vt(e,n);function e(){var r,i=e.prototype;return i.evEl=CU,i.evWin=qU,r=n.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(i){var s=RU[i.type];s&wt&&i.button===0&&(this.pressed=!0),s&Ui&&i.which!==1&&(s=Je),this.pressed&&(s&Je&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:e1,srcEvent:i}))},e})(Jn),kU=2500,$q=25;function Oq(n){var e=n.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},i=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=i.indexOf(r);a>-1&&i.splice(a,1)};setTimeout(s,kU)}}function DU(n,e){n&wt?(this.primaryTouch=e.changedPointers[0].identifier,Oq.call(this,e)):n&(Je|xt)&&Oq.call(this,e)}function MU(n){for(var e=n.srcEvent.clientX,t=n.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(e-i.x),o=Math.abs(t-i.y);if(s<=$q&&o<=$q)return!0}return!1}var lN=(function(){var n=(function(e){Vt(t,e);function t(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,l,u){var d=u.pointerType===to,c=u.pointerType===e1;if(!(c&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(d)DU.call(po(po(o)),l,u);else if(c&&MU.call(po(po(o)),u))return;o.callback(a,l,u)}},o.touch=new i1(o.manager,o.handler),o.mouse=new n1(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t})(Jn);return n})();function AU(n){var e,t=n.options.inputClass;return t?e=t:fU?e=aN:vU?e=i1:ZF?e=lN:e=n1,new e(n,$U)}function fn(n,e,t){return Array.isArray(n)?(Cr(n,t[e],t),!0):!1}var _o=1,jt=2,En=4,Jr=8,qr=Jr,Os=16,ar=32,FU=1;function NU(){return FU++}function yo(n,e){var t=e.manager;return t?t.get(n):n}function Iq(n){return n&Os?"cancel":n&Jr?"end":n&En?"move":n&jt?"start":""}var so=(function(){function n(t){t===void 0&&(t={}),this.options=Qt({enable:!0},t),this.id=NU(),this.manager=null,this.state=_o,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(r){return Ri(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(fn(r,"recognizeWith",this))return this;var i=this.simultaneous;return r=yo(r,this),i[r.id]||(i[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return fn(r,"dropRecognizeWith",this)?this:(r=yo(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(fn(r,"requireFailure",this))return this;var i=this.requireFail;return r=yo(r,this),qi(i,r)===-1&&(i.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(fn(r,"dropRequireFailure",this))return this;r=yo(r,this);var i=qi(this.requireFail,r);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var i=this,s=this.state;function o(a){i.manager.emit(a,r)}s<Jr&&o(i.options.event+Iq(s)),o(i.options.event),r.additionalEvent&&o(r.additionalEvent),s>=Jr&&o(i.options.event+Iq(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=ar},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(ar|_o)))return!1;r++}return!0},e.recognize=function(r){var i=Ri({},r);if(!ha(this.options.enable,[this,i])){this.reset(),this.state=ar;return}this.state&(qr|Os|ar)&&(this.state=_o),this.state=this.process(i),this.state&(jt|En|Jr|Os)&&this.tryEmit(i)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},n})(),ib=(function(n){Vt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Qt({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var t=e.prototype;return t.getTouchAction=function(){return[tb]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime<o.time;if(this.reset(),i.eventType&wt&&this.count===0)return this.failTimeout();if(l&&u&&a){if(i.eventType!==Je)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<o.interval:!0,c=!this.pCenter||qo(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!c||!d?this.count=1:this.count+=1,this._input=i;var h=this.count%o.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=qr,s.tryEmit()},o.interval),jt):qr}return ar},t.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=ar},this.options.interval),ar},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===qr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e})(so),$n=(function(n){Vt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Qt({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},t.process=function(i){var s=this.state,o=i.eventType,a=s&(jt|En),l=this.attrTest(i);return a&&(o&xt||!l)?s|Os:a||l?o&Je?s|Jr:s&jt?s|En:jt:ar},e})(so);function uN(n){return n===Sn?"down":n===no?"up":n===ro?"left":n===io?"right":""}var s1=(function(n){Vt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Qt({event:"pan",threshold:10,pointers:1,direction:QF},r))||this,i.pX=null,i.pY=null,i}var t=e.prototype;return t.getTouchAction=function(){var i=this.options.direction,s=[];return i&dr&&s.push(Ss),i&Oi&&s.push(ws),s},t.directionTest=function(i){var s=this.options,o=!0,a=i.distance,l=i.direction,u=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&dr?(l=u===0?Ro:u<0?ro:io,o=u!==this.pX,a=Math.abs(i.deltaX)):(l=d===0?Ro:d<0?no:Sn,o=d!==this.pY,a=Math.abs(i.deltaY))),i.direction=l,o&&a>s.threshold&&l&s.direction},t.attrTest=function(i){return $n.prototype.attrTest.call(this,i)&&(this.state&jt||!(this.state&jt)&&this.directionTest(i))},t.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=uN(i.direction);s&&(i.additionalEvent=this.options.event+s),n.prototype.emit.call(this,i)},e})($n),dN=(function(n){Vt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Qt({event:"swipe",threshold:10,velocity:.3,direction:dr|Oi,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return s1.prototype.getTouchAction.call(this)},t.attrTest=function(i){var s=this.options.direction,o;return s&(dr|Oi)?o=i.overallVelocity:s&dr?o=i.overallVelocityX:s&Oi&&(o=i.overallVelocityY),n.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Ci(o)>this.options.velocity&&i.eventType&Je},t.emit=function(i){var s=uN(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e})($n),cN=(function(n){Vt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Qt({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[$i]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&jt)},t.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}n.prototype.emit.call(this,i)},e})($n),hN=(function(n){Vt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Qt({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[$i]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&jt)},e})($n),fN=(function(n){Vt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Qt({event:"press",pointers:1,time:251,threshold:9},r))||this,i._timer=null,i._input=null,i}var t=e.prototype;return t.getTouchAction=function(){return[JF]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime>o.time;if(this._input=i,!l||!a||i.eventType&(Je|xt)&&!u)this.reset();else if(i.eventType&wt)this.reset(),this._timer=setTimeout(function(){s.state=qr,s.tryEmit()},o.time);else if(i.eventType&Je)return qr;return ar},t.reset=function(){clearTimeout(this._timer)},t.emit=function(i){this.state===qr&&(i&&i.eventType&Je?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=Qb(),this.manager.emit(this.options.event,this._input)))},e})(so),vN={domEvents:!1,touchAction:XF,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},xq=[[hN,{enable:!1}],[cN,{enable:!1},["rotate"]],[dN,{direction:dr}],[s1,{direction:dr},["swipe"]],[ib],[ib,{event:"doubletap",taps:2},["tap"]],[fN]],BU=1,Tq=2;function Pq(n,e){var t=n.element;if(t.style){var r;Cr(n.options.cssProps,function(i,s){r=ca(t.style,s),e?(n.oldCssProps[r]=t.style[r],t.style[r]=i):t.style[r]=n.oldCssProps[r]||""}),e||(n.oldCssProps={})}}function jU(n,e){var t=document.createEvent("Event");t.initEvent(n,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var Rq=(function(){function n(t,r){var i=this;this.options=Ri({},vN,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=AU(this),this.touchAction=new tN(this,this.options.touchAction),Pq(this,!0),Cr(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=n.prototype;return e.set=function(r){return Ri(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?Tq:BU},e.recognize=function(r){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&qr)&&(i.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],i.stopped!==Tq&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(jt|En|Jr)&&(i.curRecognizer=s,a=s),l++}},e.get=function(r){if(r instanceof so)return r;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===r)return i[s];return null},e.add=function(r){if(fn(r,"add",this))return this;var i=this.get(r.options.event);return i&&this.remove(i),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(fn(r,"remove",this))return this;var i=this.get(r);if(r){var s=this.recognizers,o=qi(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,i){if(r===void 0||i===void 0)return this;var s=this.handlers;return Cr(Es(r),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(r,i){if(r===void 0)return this;var s=this.handlers;return Cr(Es(r),function(o){i?s[o]&&s[o].splice(qi(s[o],i),1):delete s[o]}),this},e.emit=function(r,i){this.options.domEvents&&jU(r,i);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){i.type=r,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&Pq(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n})(),LU={touchstart:wt,touchmove:Ui,touchend:Je,touchcancel:xt},zU="touchstart",WU="touchstart touchmove touchend touchcancel",HU=(function(n){Vt(e,n);function e(){var r,i=e.prototype;return i.evTarget=zU,i.evWin=WU,r=n.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(i){var s=LU[i.type];if(s===wt&&(this.started=!0),!!this.started){var o=VU.call(this,i,s);s&(Je|xt)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:to,srcEvent:i})}},e})(Jn);function VU(n,e){var t=$s(n.touches),r=$s(n.changedTouches);return e&(Je|xt)&&(t=r1(t.concat(r),"identifier",!0)),[t,r]}function pN(n,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),n.apply(this,arguments)}}var gN=pN(function(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;)(!t||t&&n[r[i]]===void 0)&&(n[r[i]]=e[r[i]]),i++;return n},"extend","Use `assign`."),UU=pN(function(n,e){return gN(n,e,!0)},"merge","Use `assign`.");function GU(n,e,t){var r=e.prototype,i;i=n.prototype=Object.create(r),i.constructor=n,i._super=r,t&&Ri(i,t)}function Cq(n,e){return function(){return n.apply(e,arguments)}}var yN=(function(){var n=function(t,r){return r===void 0&&(r={}),new Rq(t,Qt({recognizers:xq.concat()},r))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=QF,n.DIRECTION_DOWN=Sn,n.DIRECTION_LEFT=ro,n.DIRECTION_RIGHT=io,n.DIRECTION_UP=no,n.DIRECTION_HORIZONTAL=dr,n.DIRECTION_VERTICAL=Oi,n.DIRECTION_NONE=Ro,n.DIRECTION_DOWN=Sn,n.INPUT_START=wt,n.INPUT_MOVE=Ui,n.INPUT_END=Je,n.INPUT_CANCEL=xt,n.STATE_POSSIBLE=_o,n.STATE_BEGAN=jt,n.STATE_CHANGED=En,n.STATE_ENDED=Jr,n.STATE_RECOGNIZED=qr,n.STATE_CANCELLED=Os,n.STATE_FAILED=ar,n.Manager=Rq,n.Input=Jn,n.TouchAction=tN,n.TouchInput=i1,n.MouseInput=n1,n.PointerEventInput=aN,n.TouchMouseInput=lN,n.SingleTouchInput=HU,n.Recognizer=so,n.AttrRecognizer=$n,n.Tap=ib,n.Pan=s1,n.Swipe=dN,n.Pinch=cN,n.Rotate=hN,n.Press=fN,n.on=ds,n.off=cs,n.each=Cr,n.merge=UU,n.extend=gN,n.bindFn=Cq,n.assign=Ri,n.inherit=GU,n.bindFn=Cq,n.prefixed=ca,n.toArray=$s,n.inArray=qi,n.uniqueArray=r1,n.splitStr=Es,n.boolOrFn=ha,n.hasParent=t1,n.addEventListeners=ds,n.removeEventListeners=cs,n.defaults=Ri({},vN,{preset:xq}),n})();yN.defaults;YW("DELETE");function fa(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return KU(e.length?e:[Po()])}function KU(n){let[e,t,r]=YU(n),i=1;const s=()=>{const o=2091639*e+i*23283064365386963e-26;return e=t,t=r,r=o-(i=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=n,s.version="0.9",s}function YU(){const n=XU();let e=n(" "),t=n(" "),r=n(" ");for(let i=0;i<arguments.length;i++)e-=n(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),t-=n(i<0||arguments.length<=i?void 0:arguments[i]),t<0&&(t+=1),r-=n(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1);return[e,t,r]}function XU(){let n=4022871197;return function(e){const t=e.toString();for(let r=0;r<t.length;r++){n+=t.charCodeAt(r);let i=.02519603282416938*n;n=i>>>0,i-=n,i*=n,n=i>>>0,i-=n,n+=i*4294967296}return(n>>>0)*23283064365386963e-26}}function JU(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}const o1=typeof window<"u"?window.Hammer||yN:function(){return JU()};function lr(n){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=o1(this._dom.overlay);t.on("tap",B(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{t.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Te(r).call(r,i=>{t.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{ZU(i.target,n)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}xF(lr.prototype);lr.current=null;lr.prototype.destroy=function(){this.deactivate();for(const t of Si(n=Tr(e=this._cleanupQueue).call(e,0)).call(n)){var n,e;t()}};lr.prototype.activate=function(){lr.current&&lr.current.deactivate(),lr.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};lr.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};lr.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};function ZU(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const QU=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,eG=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,tG=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,rG=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Hr(n){if(n)for(;n.hasChildNodes()===!0;){const e=n.firstChild;e&&(Hr(e),n.removeChild(e))}}function vn(n){return n instanceof String||typeof n=="string"}function qq(n){return typeof n=="object"&&n!==null}function ki(n,e,t,r){let i=!1;r===!0&&(i=e[t]===null&&n[t]!==void 0),i?delete n[t]:n[t]=e[t]}function mN(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const r in n)if(e[r]!==void 0)if(e[r]===null||typeof e[r]!="object")ki(n,e,r,t);else{const i=n[r],s=e[r];qq(i)&&qq(s)&&mN(i,s,t)}}function Zn(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ue(t))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<n.length;i++){const s=n[i];if(Object.prototype.hasOwnProperty.call(t,s))if(t[s]&&t[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?Ce(e[s],t[s],!1,r):ki(e,t,s,r);else{if(Ue(t[s]))throw new TypeError("Arrays are not supported by deepExtend");ki(e,t,s,r)}}return e}function ko(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ue(t))throw new TypeError("Arrays are not supported by deepExtend");for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&!Xr(n).call(n,i))if(t[i]&&t[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?Ce(e[i],t[i]):ki(e,t,i,r);else if(Ue(t[i])){e[i]=[];for(let s=0;s<t[i].length;s++)e[i].push(t[i][s])}else ki(e,t,i,r);return e}function Ce(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||t===!0)if(typeof e[s]=="object"&&e[s]!==null&&fC(e[s])===Object.prototype)n[s]===void 0?n[s]=Ce({},e[s],t):typeof n[s]=="object"&&n[s]!==null&&fC(n[s])===Object.prototype?Ce(n[s],e[s],t):ki(n,e,s,r);else if(Ue(e[s])){var i;n[s]=sr(i=e[s]).call(i)}else ki(n,e,s,r);return n}function Do(n,e){return[...n,e]}function iG(n){return sr(n).call(n)}function nG(n){return n.getBoundingClientRect().left}function sG(n){return n.getBoundingClientRect().top}function ye(n,e){if(Ue(n)){const t=n.length;for(let r=0;r<t;r++)e(n[r],r,n)}else for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(n[t],t,n)}function a1(n){let e;switch(n.length){case 3:case 4:return e=eG.exec(n),e?{r:Jt(e[1]+e[1],16),g:Jt(e[2]+e[2],16),b:Jt(e[3]+e[3],16)}:null;case 6:case 7:return e=QU.exec(n),e?{r:Jt(e[1],16),g:Jt(e[2],16),b:Jt(e[3],16)}:null;default:return null}}function Nt(n,e){if(Xr(n).call(n,"rgba"))return n;if(Xr(n).call(n,"rgb")){const t=n.substr($e(n).call(n,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{const t=a1(n);return t==null?n:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function bN(n,e,t){var r;return"#"+sr(r=((1<<24)+(n<<16)+(e<<8)+t).toString(16)).call(r,1)}function nb(n,e){if(vn(n)){let r=n;if(wN(r)){var t;const i=wn(t=r.substr(4).substr(0,r.length-5).split(",")).call(t,function(s){return Jt(s)});r=bN(i[0],i[1],i[2])}if(_N(r)===!0){const i=oG(r),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},o={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},a=sb(o.h,o.s,o.v),l=sb(s.h,s.s,s.v);return{background:r,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else return{background:r,border:r,highlight:{background:r,border:r},hover:{background:r,border:r}}}else return{background:n.background||void 0,border:n.border||void 0,highlight:vn(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||void 0,border:n.highlight&&n.highlight.border||void 0},hover:vn(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||void 0,background:n.hover&&n.hover.background||void 0}}}function ns(n,e,t){n=n/255,e=e/255,t=t/255;const r=Math.min(n,Math.min(e,t)),i=Math.max(n,Math.max(e,t));if(r===i)return{h:0,s:0,v:r};const s=n===r?e-t:t===r?n-e:t-n,a=60*((n===r?3:t===r?1:5)-s/(i-r))/360,l=(i-r)/i;return{h:a,s:l,v:i}}function wo(n,e,t){let r,i,s;const o=Math.floor(n*6),a=n*6-o,l=t*(1-e),u=t*(1-a*e),d=t*(1-(1-a)*e);switch(o%6){case 0:r=t,i=d,s=l;break;case 1:r=u,i=t,s=l;break;case 2:r=l,i=t,s=d;break;case 3:r=l,i=u,s=t;break;case 4:r=d,i=l,s=t;break;case 5:r=t,i=l,s=u;break}return{r:Math.floor(r*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function sb(n,e,t){const r=wo(n,e,t);return bN(r.r,r.g,r.b)}function oG(n){const e=a1(n);if(!e)throw new TypeError("'".concat(n,"' is not a valid color."));return ns(e.r,e.g,e.b)}function _N(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}function wN(n){return tG.test(n)}function aG(n){return rG.test(n)}function Zr(n){if(n===null||typeof n!="object")return null;if(n instanceof Element)return n;const e=Ei(n);for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&typeof n[t]=="object"&&(e[t]=Zr(n[t]));return e}function Ft(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(f){return f!=null},s=function(f){return f!==null&&typeof f=="object"},o=function(f){for(const v in f)if(Object.prototype.hasOwnProperty.call(f,v))return!1;return!0};if(!s(n))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(t))throw new Error("Parameter option must have a value");if(!s(r))throw new Error("Parameter globalOptions must be an object");const a=function(f,v,y){s(f[y])||(f[y]={});const b=v[y],g=f[y];for(const p in b)Object.prototype.hasOwnProperty.call(b,p)&&(g[p]=b[p])},l=e[t],d=s(r)&&!o(r)?r[t]:void 0,c=d?d.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(n[t])||(n[t]={}),n[t].enabled=l;return}if(l===null&&!s(n[t]))if(i(d))n[t]=Ei(d);else return;if(!s(l))return;let h=!0;l.enabled!==void 0?h=l.enabled:c!==void 0&&(h=d.enabled),a(n,e,t),n[t].enabled=h}const lG={linear(n){return n},easeInQuad(n){return n*n},easeOutQuad(n){return n*(2-n)},easeInOutQuad(n){return n<.5?2*n*n:-1+(4-2*n)*n},easeInCubic(n){return n*n*n},easeOutCubic(n){return--n*n*n+1},easeInOutCubic(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart(n){return n*n*n*n},easeOutQuart(n){return 1- --n*n*n*n},easeInOutQuart(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint(n){return n*n*n*n*n},easeOutQuint(n){return 1+--n*n*n*n*n},easeInOutQuint(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};function Vr(n,e){let t;Ue(e)||(e=[e]);for(const r of n)if(r){t=r[e[0]];for(let i=1;i<e.length;i++)t&&(t=t[e[i]]);if(typeof t<"u")break}return t}const uG={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let dG=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return uG[e]}setColor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let r;const i=this._isColorString(e);if(i!==void 0&&(e=i),vn(e)===!0){if(wN(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if(aG(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(_N(e)===!0){const s=a1(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Qs(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Xe({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Pr(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Xe({},e)),this.color=e;const r=ns(e.r,e.g,e.b),i=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(i*r.h),a=this.centerCoordinates.y+s*Math.cos(i*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=ns(this.color.r,this.color.g,this.color.b);t.v=e/100;const r=wo(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const t=ns(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,i,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),eo(r).call(r),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,t,r,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=B(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=B(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=B(r=this._save).call(r,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=B(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new o1(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let i,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;const l=2*Math.PI/360,u=1/360,d=1/this.r;let c;for(o=0;o<360;o++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),c=wo(o*u,a*d,1),e.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,i=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,l=i-s,u=Math.atan2(a,l),d=.98*Math.min(Math.sqrt(a*a+l*l),o),c=Math.cos(u)*d+s,h=Math.sin(u)*d+o;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";let f=u/(2*Math.PI);f=f<0?f+1:f;const v=d/this.r,y=ns(this.color.r,this.color.g,this.color.b);y.h=f,y.s=v;const b=wo(y.h,y.s,y.v);b.a=this.color.a,this.color=b,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function ob(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const r=document.createElement(e[0]);return r.appendChild(ob(...sr(e).call(e,1))),r}}let cG=class{constructor(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Xe(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new dG(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Ue(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Ot(e)!==void 0&&(this.options.filter=Ot(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);Ot(this.options)===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=Ot(this.options);let t=0,r=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(i,[]),r=r||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||$e(e).call(e,i)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Te(r).call(r,o=>{s.appendChild(o)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(ob("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,t,r){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;t!==void 0&&$e(e).call(e,t)!==-1&&(s=$e(e).call(e,t));for(let l=0;l<e.length;l++){const u=document.createElement("option");u.value=e[l],l===s&&(u.selected="selected"),u.innerText=e[l],i.appendChild(u)}const o=this;i.onchange=function(){o._update(this.value,r)};const a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,i)}_makeRange(e,t,r){const i=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let u="",d=0;t!==void 0?(t<0&&t*1.2<s?(l.min=Math.ceil(t*1.2),d=l.min,u="range increased"):t/1.2<s&&(l.min=Math.ceil(t/1.2),d=l.min,u="range increased"),t*1.2>o&&o!==1&&(l.max=Math.ceil(t*1.2),d=l.max,u="range increased"),l.value=t):l.value=i;const c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=l.value;const h=this;l.onchange=function(){c.value=this.value,h._update(Number(this.value),r)},l.oninput=function(){c.value=this.value};const f=this._makeLabel(r[r.length-1],r),v=this._makeItem(r,f,l,c);u!==""&&this.popupHistory[v]!==d&&(this.popupHistory[v]=d,this._setupPopup(u,v))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=e,r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Pr(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Pr(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,t!==void 0&&(i.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));const s=this;i.onchange=function(){s._update(this.checked,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeTextInput(e,t,r){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=t,t!==e&&this.changedOptions.push({path:r,value:t});const s=this;i.onchange=function(){s._update(this.value,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeColorField(e,t,r){const i=e[1],s=document.createElement("div");t=t===void 0?i:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?i:t,s.onclick=()=>{this._showColorPicker(t,s,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=Ot(this.options);let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){i=!0;const l=e[a],u=Do(t,a);if(typeof s=="function"&&(i=s(a,t),i===!1&&!Ue(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,u,!0),this.allowCreation=r===!1)),i!==!1){o=!0;const d=this._getValue(u);if(Ue(l))this._handleArray(l,d,u);else if(typeof l=="string")this._makeTextInput(l,d,u);else if(typeof l=="boolean")this._makeCheckbox(l,d,u);else if(l instanceof Object){if(!this.hideOption(t,a,this.moduleOptions))if(l.enabled!==void 0){const c=Do(u,"enabled"),h=this._getValue(c);if(h===!0){const f=this._makeLabel(a,u,!0);this._makeItem(u,f),o=this._handleObject(l,u)||o}else this._makeCheckbox(l,h,u)}else{const c=this._makeLabel(a,u,!0);this._makeItem(u,c),o=this._handleObject(l,u)||o}}else console.error("dont know how to handle",l,a,u)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){const r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(i[t[s]]===void 0&&(i[t[s]]={}),s!==t.length-1?i=i[t[s]]:i[t[s]]=e);return r}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(ob("pre","const options = "+Qs(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},hG=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=Jt(e),this.y=Jt(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const t=this.frame.clientHeight,r=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let l=!1,u=!0;this.y-t<this.padding&&(u=!1),this.x+r>s-this.padding&&(l=!0),l?o=this.x-r:o=this.x,u?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>i&&(a=i-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},rs=!1,kq;const ab="background: #FFeeee; color: #dd0000";let fG=class He{static validate(e,t,r){rs=!1,kq=t;let i=t;return r!==void 0&&(i=t[r]),He.parse(e,i,[]),rs}static parse(e,t,r){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&He.check(i,e,t,r)}static check(e,t,r,i){if(r[e]===void 0&&r.__any__===void 0){He.getSuggestion(e,r,i);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=He.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),He.checkFields(e,t,r,s,a,i)}static checkFields(e,t,r,i,s,o){const a=function(d){console.error("%c"+d+He.printLocation(o,e),ab)},l=He.getType(t[e]),u=s[l];u!==void 0?He.getType(u)==="array"&&$e(u).call(u,t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+He.print(u)+' not "'+t[e]+'". '),rs=!0):l==="object"&&i!=="__any__"&&(o=Do(o,e),He.parse(t[e],r[i],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+He.print(Ve(s))+". Received ["+l+'] "'+t[e]+'"'),rs=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Ue(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){const i=He.findInOptions(e,t,r,!1),s=He.findInOptions(e,kq,[],!0),o=8,a=4;let l;i.indexMatch!==void 0?l=" in "+He.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=a&&i.distance>s.distance?l=" in "+He.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+He.printLocation(s.path,s.closestMatch,""):i.distance<=o?l='. Did you mean "'+i.closestMatch+'"?'+He.printLocation(i.path,e):l=". Did you mean one of these: "+He.print(Ve(t))+He.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+l,ab),rs=!0}static findInOptions(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",a=[];const l=e.toLowerCase();let u;for(const c in t){let h;if(t[c].__type__!==void 0&&i===!0){const f=He.findInOptions(e,t[c],Do(r,c));s>f.distance&&(o=f.closestMatch,a=f.path,s=f.distance,u=f.indexMatch)}else{var d;$e(d=c.toLowerCase()).call(d,l)!==-1&&(u=c),h=He.levenshteinDistance(e,c),s>h&&(o=c,a=iG(r),s=h)}}return{closestMatch:o,path:a,distance:s,indexMatch:u}}static printLocation(e,t){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Qs(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const r=[];let i;for(i=0;i<=t.length;i++)r[i]=[i];let s;for(s=0;s<=e.length;s++)r[0][s]=s;for(i=1;i<=t.length;i++)for(s=1;s<=e.length;s++)t.charAt(i-1)==e.charAt(s-1)?r[i][s]=r[i-1][s-1]:r[i][s]=Math.min(r[i-1][s-1]+1,Math.min(r[i][s-1]+1,r[i-1][s]+1));return r[t.length][e.length]}};const vG=lr,pG=cG,pn=o1,gG=hG,SN=ab,yG=fG;function mG(n){return Gr=n,SG()}var EN={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},l1=Ei(EN);l1.color="color.color";l1.style="dashes";var yt={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},Dq={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Gr="",On=0,ve="",se="",$t=yt.NULL;function bG(){On=0,ve=Gr.charAt(0)}function it(){On++,ve=Gr.charAt(On)}function nn(){return Gr.charAt(On+1)}function Mq(n){var e=n.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function ei(n,e){if(n||(n={}),e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function _G(n,e,t){for(var r=e.split("."),i=n;r.length;){var s=r.shift();r.length?(i[s]||(i[s]={}),i=i[s]):i[s]=t}}function $N(n,e){for(var t,r,i=null,s=[n],o=n;o.parent;)s.push(o.parent),o=o.parent;if(o.nodes){for(t=0,r=o.nodes.length;t<r;t++)if(e.id===o.nodes[t].id){i=o.nodes[t];break}}for(i||(i={id:e.id},n.node&&(i.attr=ei(i.attr,n.node))),t=s.length-1;t>=0;t--){var a,l=s[t];l.nodes||(l.nodes=[]),$e(a=l.nodes).call(a,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=ei(i.attr,e.attr))}function wG(n,e){if(n.edges||(n.edges=[]),n.edges.push(e),n.edge){var t=ei({},n.edge);e.attr=ei(t,e.attr)}}function ON(n,e,t,r,i){var s={from:e,to:t,type:r};return n.edge&&(s.attr=ei({},n.edge)),s.attr=ei(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function qe(){for($t=yt.NULL,se="";ve===" "||ve==="	"||ve===`
`||ve==="\r";)it();do{var n=!1;if(ve==="#"){for(var e=On-1;Gr.charAt(e)===" "||Gr.charAt(e)==="	";)e--;if(Gr.charAt(e)===`
`||Gr.charAt(e)===""){for(;ve!=""&&ve!=`
`;)it();n=!0}}if(ve==="/"&&nn()==="/"){for(;ve!=""&&ve!=`
`;)it();n=!0}if(ve==="/"&&nn()==="*"){for(;ve!="";)if(ve==="*"&&nn()==="/"){it(),it();break}else it();n=!0}for(;ve===" "||ve==="	"||ve===`
`||ve==="\r";)it()}while(n);if(ve===""){$t=yt.DELIMITER;return}var t=ve+nn();if(Dq[t]){$t=yt.DELIMITER,se=t,it(),it();return}if(Dq[ve]){$t=yt.DELIMITER,se=ve,it();return}if(Mq(ve)||ve==="-"){for(se+=ve,it();Mq(ve);)se+=ve,it();se==="false"?se=!1:se==="true"?se=!0:isNaN(Number(se))||(se=Number(se)),$t=yt.IDENTIFIER;return}if(ve==='"'){for(it();ve!=""&&(ve!='"'||ve==='"'&&nn()==='"');)ve==='"'?(se+=ve,it()):ve==="\\"&&nn()==="n"?(se+=`
`,it()):se+=ve,it();if(ve!='"')throw mt('End of string " expected');it(),$t=yt.IDENTIFIER;return}for($t=yt.UNKNOWN;ve!="";)se+=ve,it();throw new SyntaxError('Syntax error in part "'+PN(se,30)+'"')}function SG(){var n={};if(bG(),qe(),se==="strict"&&(n.strict=!0,qe()),(se==="graph"||se==="digraph")&&(n.type=se,qe()),$t===yt.IDENTIFIER&&(n.id=se,qe()),se!="{")throw mt("Angle bracket { expected");if(qe(),IN(n),se!="}")throw mt("Angle bracket } expected");if(qe(),se!=="")throw mt("End of file expected");return qe(),delete n.node,delete n.edge,delete n.graph,n}function IN(n){for(;se!==""&&se!="}";)EG(n),se===";"&&qe()}function EG(n){var e=xN(n);if(e){TN(n,e);return}var t=$G(n);if(!t){if($t!=yt.IDENTIFIER)throw mt("Identifier expected");var r=se;if(qe(),se==="="){if(qe(),$t!=yt.IDENTIFIER)throw mt("Identifier expected");n[r]=se,qe()}else OG(n,r)}}function xN(n){var e=null;if(se==="subgraph"&&(e={},e.type="subgraph",qe(),$t===yt.IDENTIFIER&&(e.id=se,qe())),se==="{"){if(qe(),e||(e={}),e.parent=n,e.node=n.node,e.edge=n.edge,e.graph=n.graph,IN(e),se!="}")throw mt("Angle bracket } expected");qe(),delete e.node,delete e.edge,delete e.graph,delete e.parent,n.subgraphs||(n.subgraphs=[]),n.subgraphs.push(e)}return e}function $G(n){return se==="node"?(qe(),n.node=hs(),"node"):se==="edge"?(qe(),n.edge=hs(),"edge"):se==="graph"?(qe(),n.graph=hs(),"graph"):null}function OG(n,e){var t={id:e},r=hs();r&&(t.attr=r),$N(n,t),TN(n,e)}function TN(n,e){for(;se==="->"||se==="--";){var t,r=se;qe();var i=xN(n);if(i)t=i;else{if($t!=yt.IDENTIFIER)throw mt("Identifier or subgraph expected");t=se,$N(n,{id:t}),qe()}var s=hs(),o=ON(n,e,t,r,s);wG(n,o),e=t}}function hs(){for(var n,e=null,t={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;se==="[";){for(qe(),e={};se!==""&&se!="]";){if($t!=yt.IDENTIFIER)throw mt("Attribute name expected");var o=se;if(qe(),se!="=")throw mt("Equal sign = expected");if(qe(),$t!=yt.IDENTIFIER)throw mt("Attribute value expected");var a=se;o==="style"&&(a=t[a]);var l;o==="arrowhead"&&(l=r[a],o="arrows",a={to:{enabled:!0,type:l}}),o==="arrowtail"&&(l=r[a],o="arrows",a={from:{enabled:!0,type:l}}),i.push({attr:e,name:o,value:a}),s.push(o),qe(),se==","&&qe()}if(se!="]")throw mt("Bracket ] expected");qe()}if(Xr(s).call(s,"dir")){var u={};for(u.arrows={},n=0;n<i.length;n++)if(i[n].name==="arrows")if(i[n].value.to!=null)u.arrows.to=n;else if(i[n].value.from!=null)u.arrows.from=n;else throw mt("Invalid value of arrows");else i[n].name==="dir"&&(u.dir=n);var d=i[u.dir].value;if(!Xr(s).call(s,"arrows"))if(d==="both")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1,i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[u.dir].attr,name:"arrows",value:""}),u.arrows.to=i.length-1;else throw mt('Invalid dir type "'+d+'"');var c,h;if(d==="both")u.arrows.to&&u.arrows.from?(h=i[u.arrows.to].value.to.type,c=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}},Tr(i).call(i,u.arrows.from,1)):u.arrows.to?(h=i[u.arrows.to].value.to.type,c="arrow",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.from&&(h="arrow",c=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}});else if(d==="back")u.arrows.to&&u.arrows.from?(h="",c=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.to?(h="",c="arrow",u.arrows.from=u.arrows.to,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.from&&(h="",c=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{from:{enabled:!0,type:i[u.arrows.from].value.from.type}}};else if(d==="none"){var f;u.arrows.to?f=u.arrows.to:f=u.arrows.from,i[f]={attr:i[f].attr,name:i[f].name,value:""}}else if(d==="forward")u.arrows.to&&u.arrows.from?(h=i[u.arrows.to].value.to.type,c="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.to?(h=i[u.arrows.to].value.to.type,c="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.from&&(h="arrow",c="",u.arrows.to=u.arrows.from,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:i[u.arrows.to].value.to.type}}};else throw mt('Invalid dir type "'+d+'"');Tr(i).call(i,u.dir,1)}var v;if(Xr(s).call(s,"penwidth")){var y=[];for(v=i.length,n=0;n<v;n++)i[n].name!=="width"&&(i[n].name==="penwidth"&&(i[n].name="width"),y.push(i[n]));i=y}for(v=i.length,n=0;n<v;n++)_G(i[n].attr,i[n].name,i[n].value);return e}function mt(n){return new SyntaxError(n+', got "'+PN(se,30)+'" (char '+On+")")}function PN(n,e){return n.length<=e?n:n.substr(0,27)+"..."}function IG(n,e,t){Ue(n)?Te(n).call(n,function(r){Ue(e)?Te(e).call(e,function(i){t(r,i)}):t(r,e)}):Ue(e)?Te(e).call(e,function(r){t(n,r)}):t(n,e)}function Ig(n,e,t){for(var r=e.split("."),i=r.pop(),s=n,o=0;o<r.length;o++){var a=r[o];a in s||(s[a]={}),s=s[a]}return s[i]=t,n}function Aq(n,e){var t={};for(var r in n)if(n.hasOwnProperty(r)){var i=e[r];Ue(i)?Te(i).call(i,function(s){Ig(t,s,n[r])}):typeof i=="string"?Ig(t,i,n[r]):Ig(t,r,n[r])}return t}function xG(n){var e=mG(n),t={nodes:[],edges:[],options:{}};if(e.nodes){var r;Te(r=e.nodes).call(r,function(o){var a={id:o.id,label:String(o.label||o.id)};ei(a,Aq(o.attr,EN)),a.image&&(a.shape="image"),t.nodes.push(a)})}if(e.edges){var i,s=function(o){var a={from:o.from,to:o.to};return ei(a,Aq(o.attr,l1)),a.arrows==null&&o.type==="->"&&(a.arrows="to"),a};Te(i=e.edges).call(i,function(o){var a,l;if(o.from instanceof Object?a=o.from.nodes:a={id:o.from},o.to instanceof Object?l=o.to.nodes:l={id:o.to},o.from instanceof Object&&o.from.edges){var u;Te(u=o.from.edges).call(u,function(c){var h=s(c);t.edges.push(h)})}if(IG(a,l,function(c,h){var f=ON(t,c.id,h.id,o.type,o.attr),v=s(f);t.edges.push(v)}),o.to instanceof Object&&o.to.edges){var d;Te(d=o.to.edges).call(d,function(c){var h=s(c);t.edges.push(h)})}})}return e.attr&&(t.options=e.attr),t}function TG(n,e){var t;const r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(r.nodes.fixed=e.fixed),e.parseColor!=null&&(r.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(r.edges.inheritColor=e.inheritColor));const i=n.edges,s=wn(i).call(i,a=>{const l={from:a.source,id:a.id,to:a.target};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.type==="Directed"&&(l.arrows="to"),a.color&&r.edges.inheritColor===!1&&(l.color=a.color),l});return{nodes:wn(t=n.nodes).call(t,a=>{const l={id:a.id,fixed:r.nodes.fixed&&a.x!=null&&a.y!=null};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.size!=null&&(l.size=a.size),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.title!=null&&(l.title=a.title),a.x!=null&&(l.x=a.x),a.y!=null&&(l.y=a.y),a.color!=null&&(r.nodes.parseColor===!0?l.color=a.color:l.color={background:a.color,border:a.color,highlight:{background:a.color,border:a.color},hover:{background:a.color,border:a.color}}),l}),edges:s}}const PG={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},RG={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufÃ¼gen",addNode:"Knoten hinzufÃ¼gen",back:"ZurÃ¼ck",close:"SchlieÃen",createEdgeError:"Es ist nicht mÃ¶glich, Kanten mit Clustern zu verbinden.",del:"LÃ¶sche Auswahl",deleteClusterError:"Cluster kÃ¶nnen nicht gelÃ¶scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster kÃ¶nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},CG={addDescription:"Haga clic en un lugar vacÃ­o para colocar un nuevo nodo.",addEdge:"AÃ±adir arista",addNode:"AÃ±adir nodo",back:"AtrÃ¡s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecciÃ³n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},qG={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},kG={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},DG={addDescription:"Clique em um espaÃ§o em branco para adicionar um novo nÃ³",addEdge:"Adicionar aresta",addNode:"Adicionar nÃ³",back:"Voltar",close:"Fechar",createEdgeError:"NÃ£o foi possÃ­vel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters nÃ£o puderam ser removidos.",edgeDescription:"Clique em um nÃ³ e arraste a aresta atÃ© outro nÃ³ para conectÃ¡-los",edit:"Editar",editClusterError:"Clusters nÃ£o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nÃ³ para conectÃ¡-los",editNode:"Editar nÃ³"},MG={addDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð² ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ðµ Ð¼ÐµÑÑÐ¾, ÑÑÐ¾Ð±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÐ¹ ÑÐ·ÐµÐ».",addEdge:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ±ÑÐ¾",addNode:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ·ÐµÐ»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÑÐ²Ð°ÑÑ",createEdgeError:"ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ ÑÐµÐ±ÑÐ° Ð² ÐºÐ»Ð°ÑÑÐµÑ.",del:"Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ðµ",deleteClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½Ðµ Ð¼Ð¾Ð³ÑÑ Ð±ÑÑÑ ÑÐ´Ð°Ð»ÐµÐ½Ñ",edgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÑÐ·ÐµÐ» Ð¸ Ð¿ÑÐ¾ÑÑÐ½Ð¸ÑÐµ ÑÐµÐ±ÑÐ¾ Ðº Ð´ÑÑÐ³Ð¾Ð¼Ñ ÑÐ·Ð»Ñ, ÑÑÐ¾Ð±Ñ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ Ð¸Ñ.",edit:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ",editClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ.",editEdge:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐµÐ±ÑÐ¾",editEdgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½ÑÐµ ÑÐ¾ÑÐºÐ¸ Ð¸ Ð¿ÐµÑÐµÑÐ°ÑÐ¸ÑÐµ Ð¸Ñ Ð² ÑÐ·ÐµÐ», ÑÑÐ¾Ð±Ñ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ¸ÑÑÑÑ Ðº Ð½ÐµÐ¼Ñ.",editNode:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐ·ÐµÐ»"},AG={addDescription:"åå»ç©ºç½å¤æ¾ç½®æ°èç¹ã",addEdge:"æ·»å è¿æ¥çº¿",addNode:"æ·»å èç¹",back:"è¿å",close:"éé",createEdgeError:"æ æ³å°è¿æ¥çº¿è¿æ¥å°ç¾¤éã",del:"å é¤éå®",deleteClusterError:"æ æ³å é¤ç¾¤éã",edgeDescription:"åå»æä¸ªèç¹å¹¶å°è¯¥è¿æ¥çº¿æå¨å°å¦ä¸ä¸ªèç¹ä»¥è¿æ¥å®ä»¬ã",edit:"ç¼è¾",editClusterError:"æ æ³ç¼è¾ç¾¤éã",editEdge:"ç¼è¾è¿æ¥çº¿",editEdgeDescription:"åå»æ§å¶èç¹å¹¶å°å®ä»¬æå°èç¹ä¸è¿æ¥ã",editNode:"ç¼è¾èç¹"},FG={addDescription:"KÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ»ÑÐ½Ðµ Ð¼ÑÑÑÐµ, ÑÐ¾Ð± Ð´Ð¾Ð´Ð°ÑÐ¸ Ð½Ð¾Ð²Ð¸Ð¹ Ð²ÑÐ·Ð¾Ð».",addEdge:"ÐÐ¾Ð´Ð°ÑÐ¸ ÐºÑÐ°Ð¹",addNode:"ÐÐ¾Ð´Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÐ¸ÑÐ¸",createEdgeError:"ÐÐµ Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ Ð¾Ð±'ÑÐ´Ð½Ð°ÑÐ¸ ÐºÑÐ°Ñ Ð² Ð³ÑÑÐ¿Ñ.",del:"ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¾Ð±ÑÐ°Ð½Ðµ",deleteClusterError:"ÐÑÑÐ¿Ð¸ Ð½Ðµ Ð¼Ð¾Ð¶ÑÑÑ Ð±ÑÑÐ¸ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ñ.",edgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ·Ð¾Ð» Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÐºÑÐ°Ð¹ Ð´Ð¾ ÑÐ½ÑÐ¾Ð³Ð¾ Ð²ÑÐ·Ð»Ð°, ÑÐ¾Ð± ÑÑ Ð·'ÑÐ´Ð½Ð°ÑÐ¸.",edit:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸",editClusterError:"ÐÑÑÐ¿Ð¸ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°Ð³ÑÐ²Ð°Ð½Ð½Ñ.",editEdge:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ ÐºÑÐ°Ð¹",editEdgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½Ñ ÑÐ¾ÑÐºÐ¸ Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÑÑ Ñ Ð²ÑÐ·Ð¾Ð», ÑÐ¾Ð± Ð¿ÑÐ´ÐºÐ»ÑÑÐ¸ÑÐ¸ÑÑ Ð´Ð¾ Ð½ÑÐ¾Ð³Ð¾.",editNode:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»"},NG={addDescription:"Cliquez dans un endroit vide pour placer un nÅud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nÅud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crÃ©er un lien vers un cluster.",del:"Effacer la sÃ©lection",deleteClusterError:"Les clusters ne peuvent pas Ãªtre effacÃ©s.",edgeDescription:"Cliquez sur un nÅud et glissez le lien vers un autre nÅud pour les connecter.",edit:"Ãditer",editClusterError:"Les clusters ne peuvent pas Ãªtre Ã©ditÃ©s.",editEdge:"Ãditer le lien",editEdgeDescription:"Cliquez sur les points de contrÃ´le et glissez-les pour connecter un nÅud.",editNode:"Ãditer le nÅud"},BG={addDescription:"KluknutÃ­m do prÃ¡zdnÃ©ho prostoru mÅ¯Å¾ete pÅidat novÃ½ vrchol.",addEdge:"PÅidat hranu",addNode:"PÅidat vrchol",back:"ZpÄt",close:"ZavÅÃ­t",createEdgeError:"Nelze pÅipojit hranu ke shluku.",del:"Smazat vÃ½bÄr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"PÅetaÅ¾enÃ­m z jednoho vrcholu do druhÃ©ho mÅ¯Å¾ete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"PÅetaÅ¾enÃ­m kontrolnÃ­ho vrcholu hrany ji mÅ¯Å¾ete pÅipojit k jinÃ©mu vrcholu.",editNode:"Upravit vrchol"};var jG=Object.freeze({__proto__:null,cn:AG,cs:BG,de:RG,en:PG,es:CG,fr:NG,it:qG,nl:kG,pt:DG,ru:MG,uk:FG});function LG(n,e){try{const[r,i]=e.split(/[-_ /]/,2),s=r!=null?r.toLowerCase():null,o=i!=null?i.toUpperCase():null;if(s&&o){const a=s+"-"+o;if(Object.prototype.hasOwnProperty.call(n,a))return a;var t;console.warn(cV(t="Unknown variant ".concat(o," of language ")).call(t,s,"."))}if(s){const a=s;if(Object.prototype.hasOwnProperty.call(n,a))return a;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(r){return console.error(r),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class zG{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,t=this.image.height;this.width=e,this.height=t;const r=Math.floor(t/2),i=Math.floor(t/4),s=Math.floor(t/8),o=Math.floor(t/16),a=Math.floor(e/2),l=Math.floor(e/4),u=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=r,this.coordinates=[[0,0,a,r],[a,0,l,i],[a,i,u,s],[5*u,i,d,o]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(let r=1;r<this.NUM_ITERATIONS;r++){const i=this.coordinates[r-1],s=this.coordinates[r];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,t,r,i,s,o){if(this.initialized())if(t>2){t*=.5;let a=0;for(;t>2&&a<this.NUM_ITERATIONS;)t*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);const l=this.coordinates[a];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],r,i,s,o)}else e.drawImage(this.image,r,i,s,o)}}class WG{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,t,r){if(!(e===void 0||r===void 0)){if(t===void 0){console.warn("No broken url image defined");return}r.image.onerror=()=>{console.error("Could not load brokenImage:",t)},r.image.src=t}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,t){const r=this.images[e];if(r)return r;const i=new zG;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,t,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var Fq={},Nq={},xg={exports:{}},Tg,Bq;function HG(){if(Bq)return Tg;Bq=1;var n=be();return Tg=n(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Tg}var Pg,jq;function VG(){if(jq)return Pg;jq=1;var n=be(),e=ut(),t=hr(),r=HG(),i=Object.isExtensible,s=n(function(){});return Pg=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,Pg}var Rg,Lq;function RN(){if(Lq)return Rg;Lq=1;var n=be();return Rg=!n(function(){return Object.isExtensible(Object.preventExtensions({}))}),Rg}var zq;function va(){if(zq)return xg.exports;zq=1;var n=ee(),e=_e(),t=Ks(),r=ut(),i=ft(),s=Wt().f,o=la(),a=Gb(),l=VG(),u=ta(),d=RN(),c=!1,h=u("meta"),f=0,v=function(m){s(m,h,{value:{objectID:"O"+f++,weakData:{}}})},y=function(m,S){if(!r(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!i(m,h)){if(!l(m))return"F";if(!S)return"E";v(m)}return m[h].objectID},b=function(m,S){if(!i(m,h)){if(!l(m))return!0;if(!S)return!1;v(m)}return m[h].weakData},g=function(m){return d&&c&&l(m)&&!i(m,h)&&v(m),m},p=function(){$.enable=function(){},c=!0;var m=o.f,S=e([].splice),O={};O[h]=1,m(O).length&&(o.f=function(x){for(var _=m(x),E=0,T=_.length;E<T;E++)if(_[E]===h){S(_,E,1);break}return _},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},$=xg.exports={enable:p,fastKey:y,getWeakData:b,onFreeze:g};return t[h]=!0,xg.exports}var Cg,Wq;function UG(){if(Wq)return Cg;Wq=1;var n=tt(),e=Gn(),t=n("iterator"),r=Array.prototype;return Cg=function(i){return i!==void 0&&(e.Array===i||r[t]===i)},Cg}var qg,Hq;function CN(){if(Hq)return qg;Hq=1;var n=Un(),e=Nb(),t=Fn(),r=Gn(),i=tt(),s=i("iterator");return qg=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[n(o)]},qg}var kg,Vq;function GG(){if(Vq)return kg;Vq=1;var n=Rt(),e=Fr(),t=fr(),r=jn(),i=CN(),s=TypeError;return kg=function(o,a){var l=arguments.length<2?i(o):a;if(e(l))return t(n(l,o));throw new s(r(o)+" is not iterable")},kg}var Dg,Uq;function u1(){if(Uq)return Dg;Uq=1;var n=Rt(),e=fr(),t=Nb();return Dg=function(r,i,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(i==="throw")throw s;return s}o=n(o,r)}catch(l){a=!0,o=l}if(i==="throw")throw s;if(a)throw o;return e(o),s},Dg}var Mg,Gq;function pa(){if(Gq)return Mg;Gq=1;var n=ia(),e=Rt(),t=fr(),r=jn(),i=UG(),s=Nr(),o=et(),a=GG(),l=CN(),u=u1(),d=TypeError,c=function(f,v){this.stopped=f,this.result=v},h=c.prototype;return Mg=function(f,v,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),p=!!(y&&y.IS_RECORD),$=!!(y&&y.IS_ITERATOR),m=!!(y&&y.INTERRUPTED),S=n(v,b),O,x,_,E,T,P,R,C=function(L){return O&&u(O,"normal"),new c(!0,L)},A=function(L){return g?(t(L),m?S(L[0],L[1],C):S(L[0],L[1])):m?S(L,C):S(L)};if(p)O=f.iterator;else if($)O=f;else{if(x=l(f),!x)throw new d(r(f)+" is not iterable");if(i(x)){for(_=0,E=s(f);E>_;_++)if(T=A(f[_]),T&&o(h,T))return T;return new c(!1)}O=a(f,x)}for(P=p?f.next:O.next;!(R=e(P,O)).done;){try{T=A(R.value)}catch(L){u(O,"throw",L)}if(typeof T=="object"&&T&&o(h,T))return T}return new c(!1)},Mg}var Ag,Kq;function d1(){if(Kq)return Ag;Kq=1;var n=et(),e=TypeError;return Ag=function(t,r){if(n(r,t))return t;throw new e("Incorrect invocation")},Ag}var Fg,Yq;function c1(){if(Yq)return Fg;Yq=1;var n=ee(),e=Ne(),t=va(),r=be(),i=Wn(),s=pa(),o=d1(),a=lt(),l=ut(),u=Fn(),d=Hi(),c=Wt().f,h=li().forEach,f=Ke(),v=Vi(),y=v.set,b=v.getterFor;return Fg=function(g,p,$){var m=g.indexOf("Map")!==-1,S=g.indexOf("Weak")!==-1,O=m?"set":"add",x=e[g],_=x&&x.prototype,E={},T;if(!f||!a(x)||!(S||_.forEach&&!r(function(){new x().entries().next()})))T=$.getConstructor(p,g,m,O),t.enable();else{T=p(function(C,A){y(o(C,P),{type:g,collection:new x}),u(A)||s(A,C[O],{that:C,AS_ENTRIES:m})});var P=T.prototype,R=b(g);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(C){var A=C==="add"||C==="set";C in _&&!(S&&C==="clear")&&i(P,C,function(L,ne){var V=R(this).collection;if(!A&&S&&!l(L))return C==="get"?void 0:!1;var ae=V[C](L===0?0:L,ne);return A?this:ae})}),S||c(P,"size",{configurable:!0,get:function(){return R(this).collection.size}})}return d(T,g,!1,!0),E[g]=T,n({global:!0,forced:!0},E),S||$.setStrong(T,g,m),T},Fg}var Ng,Xq;function h1(){if(Xq)return Ng;Xq=1;var n=Zs();return Ng=function(e,t,r){for(var i in t)r&&r.unsafe&&e[i]?e[i]=t[i]:n(e,i,t[i],r);return e},Ng}var Bg,Jq;function KG(){if(Jq)return Bg;Jq=1;var n=Dt(),e=Kb(),t=tt(),r=Ke(),i=t("species");return Bg=function(s){var o=n(s);r&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},Bg}var jg,Zq;function qN(){if(Zq)return jg;Zq=1;var n=Js(),e=Kb(),t=h1(),r=ia(),i=d1(),s=Fn(),o=pa(),a=Xb(),l=Jb(),u=KG(),d=Ke(),c=va().fastKey,h=Vi(),f=h.set,v=h.getterFor;return jg={getConstructor:function(y,b,g,p){var $=y(function(_,E){i(_,m),f(_,{type:b,index:n(null),first:null,last:null,size:0}),d||(_.size=0),s(E)||o(E,_[p],{that:_,AS_ENTRIES:g})}),m=$.prototype,S=v(b),O=function(_,E,T){var P=S(_),R=x(_,E),C,A;return R?R.value=T:(P.last=R={index:A=c(E,!0),key:E,value:T,previous:C=P.last,next:null,removed:!1},P.first||(P.first=R),C&&(C.next=R),d?P.size++:_.size++,A!=="F"&&(P.index[A]=R)),_},x=function(_,E){var T=S(_),P=c(E),R;if(P!=="F")return T.index[P];for(R=T.first;R;R=R.next)if(R.key===E)return R};return t(m,{clear:function(){for(var E=this,T=S(E),P=T.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=null),P=P.next;T.first=T.last=null,T.index=n(null),d?T.size=0:E.size=0},delete:function(_){var E=this,T=S(E),P=x(E,_);if(P){var R=P.next,C=P.previous;delete T.index[P.index],P.removed=!0,C&&(C.next=R),R&&(R.previous=C),T.first===P&&(T.first=R),T.last===P&&(T.last=C),d?T.size--:E.size--}return!!P},forEach:function(E){for(var T=S(this),P=r(E,arguments.length>1?arguments[1]:void 0),R;R=R?R.next:T.first;)for(P(R.value,R.key,this);R&&R.removed;)R=R.previous},has:function(E){return!!x(this,E)}}),t(m,g?{get:function(E){var T=x(this,E);return T&&T.value},set:function(E,T){return O(this,E===0?0:E,T)}}:{add:function(E){return O(this,E=E===0?0:E,E)}}),d&&e(m,"size",{configurable:!0,get:function(){return S(this).size}}),$},setStrong:function(y,b,g){var p=b+" Iterator",$=v(b),m=v(p);a(y,b,function(S,O){f(this,{type:p,target:S,state:$(S),kind:O,last:null})},function(){for(var S=m(this),O=S.kind,x=S.last;x&&x.removed;)x=x.previous;return!S.target||!(S.last=x=x?x.next:S.state.first)?(S.target=null,l(void 0,!0)):l(O==="keys"?x.key:O==="values"?x.value:[x.key,x.value],!1)},g?"entries":"values",!g,!0),u(b)}},jg}var Qq;function YG(){if(Qq)return Nq;Qq=1;var n=c1(),e=qN();return n("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),Nq}var ek;function XG(){return ek||(ek=1,YG()),Fq}var tk={},Lg,rk;function kN(){return rk||(rk=1,Lg=function(n,e){return e===1?function(t,r){return t[n](r)}:function(t,r,i){return t[n](r,i)}}),Lg}var zg,ik;function JG(){if(ik)return zg;ik=1;var n=Dt(),e=kN(),t=n("Map");return zg={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},zg}var nk;function ZG(){if(nk)return tk;nk=1;var n=ee(),e=_e(),t=Fr(),r=Ar(),i=pa(),s=JG(),o=Ln(),a=be(),l=s.Map,u=s.has,d=s.get,c=s.set,h=e([].push),f=o||a(function(){return l.groupBy("ab",function(v){return v}).get("a").length!==1});return n({target:"Map",stat:!0,forced:o||f},{groupBy:function(y,b){r(y),t(b);var g=new l,p=0;return i(y,function($){var m=b($,p++);u(g,m)?h(d(g,m),$):c(g,m,[$])}),g}}),tk}var sk={},Wg,ok;function QG(){if(ok)return Wg;ok=1;var n=_e(),e=Hn(),t=Ht(),r=Ar(),i=n("".charAt),s=n("".charCodeAt),o=n("".slice),a=function(l){return function(u,d){var c=t(r(u)),h=e(d),f=c.length,v,y;return h<0||h>=f?l?"":void 0:(v=s(c,h),v<55296||v>56319||h+1===f||(y=s(c,h+1))<56320||y>57343?l?i(c,h):v:l?o(c,h,h+2):(v-55296<<10)+(y-56320)+65536)}};return Wg={codeAt:a(!1),charAt:a(!0)},Wg}var ak;function f1(){if(ak)return sk;ak=1;var n=QG().charAt,e=Ht(),t=Vi(),r=Xb(),i=Jb(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var u=a(this),d=u.string,c=u.index,h;return c>=d.length?i(void 0,!0):(h=n(d,c),u.index+=h.length,i(h,!1))}),sk}var Hg,lk;function e8(){if(lk)return Hg;lk=1,Kn(),XG(),ZG(),f1();var n=Ie();return Hg=n.Map,Hg}var Vg,uk;function t8(){if(uk)return Vg;uk=1;var n=e8();return Yn(),Vg=n,Vg}var Ug,dk;function r8(){return dk||(dk=1,Ug=t8()),Ug}var i8=r8(),v1=ue(i8);class n8{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Xe(this.options,this.defaultOptions)}setOptions(e){const t=["useDefaultGroups"];if(e!==void 0){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&$e(t).call(t,r)===-1){const i=e[r];this.add(r,i)}}}clear(){this._groups=new v1,this._groupNames=[]}get(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this._groups.get(e);if(r===void 0&&t)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,r={},r.color=this._groups.get(this._groupNames[i]),this._groups.set(e,r)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,r={},r.color=this._defaultGroups[i],this._groups.set(e,r)}return r}add(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}var ck={},hk;function s8(){if(hk)return ck;hk=1;var n=ee();return n({target:"Number",stat:!0},{isNaN:function(t){return t!==t}}),ck}var Gg,fk;function o8(){if(fk)return Gg;fk=1,s8();var n=Ie();return Gg=n.Number.isNaN,Gg}var Kg,vk;function a8(){if(vk)return Kg;vk=1;var n=o8();return Kg=n,Kg}var Yg,pk;function l8(){return pk||(pk=1,Yg=a8()),Yg}var u8=l8(),lb=ue(u8),gk={},Xg,yk;function d8(){if(yk)return Xg;yk=1;var n=Ne(),e=n.isFinite;return Xg=Number.isFinite||function(r){return typeof r=="number"&&e(r)},Xg}var mk;function c8(){if(mk)return gk;mk=1;var n=ee(),e=d8();return n({target:"Number",stat:!0},{isFinite:e}),gk}var Jg,bk;function h8(){if(bk)return Jg;bk=1,c8();var n=Ie();return Jg=n.Number.isFinite,Jg}var Zg,_k;function f8(){if(_k)return Zg;_k=1;var n=h8();return Zg=n,Zg}var Qg,wk;function v8(){return wk||(wk=1,Qg=f8()),Qg}var p8=v8(),bi=ue(p8),Sk={},Ek;function g8(){if(Ek)return Sk;Ek=1;var n=ee(),e=li().some,t=Xn(),r=t("some");return n({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),Sk}var ey,$k;function y8(){if($k)return ey;$k=1,g8();var n=vt();return ey=n("Array","some"),ey}var ty,Ok;function m8(){if(Ok)return ty;Ok=1;var n=et(),e=y8(),t=Array.prototype;return ty=function(r){var i=r.some;return r===t||n(t,r)&&i===t.some?e:i},ty}var ry,Ik;function b8(){if(Ik)return ry;Ik=1;var n=m8();return ry=n,ry}var iy,xk;function _8(){return xk||(xk=1,iy=b8()),iy}var w8=_8(),S8=ue(w8),ny={exports:{}},Tk={},Pk;function E8(){if(Pk)return Tk;Pk=1;var n=ee(),e=Ke(),t=Wt().f;return n({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),Tk}var Rk;function $8(){if(Rk)return ny.exports;Rk=1,E8();var n=Ie(),e=n.Object,t=ny.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(t.sham=!0),ny.exports}var sy,Ck;function DN(){if(Ck)return sy;Ck=1;var n=$8();return sy=n,sy}var oy,qk;function O8(){if(qk)return oy;qk=1;var n=DN();return oy=n,oy}var ay,kk;function I8(){if(kk)return ay;kk=1;var n=O8();return ay=n,ay}var ly,Dk;function x8(){return Dk||(Dk=1,ly=I8()),ly}var T8=x8(),P8=ue(T8),Mk={},Ak;function R8(){if(Ak)return Mk;Ak=1;var n=tt(),e=Wt().f,t=n("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),Mk}var Fk={},Nk;function C8(){return Nk||(Nk=1,AF()),Fk}var Bk={},jk;function q8(){return jk||(jk=1,FF()),Bk}var Lk={},zk;function k8(){if(zk)return Lk;zk=1;var n=Le();return n("metadata"),Lk}var uy,Wk;function D8(){if(Wk)return uy;Wk=1;var n=zF();return R8(),C8(),q8(),k8(),uy=n,uy}var Hk={},dy,Vk;function MN(){if(Vk)return dy;Vk=1;var n=Dt(),e=_e(),t=n("Symbol"),r=t.keyFor,i=e(t.prototype.valueOf);return dy=t.isRegisteredSymbol||function(o){try{return r(i(o))!==void 0}catch{return!1}},dy}var Uk;function M8(){if(Uk)return Hk;Uk=1;var n=ee(),e=MN();return n({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Hk}var Gk={},cy,Kk;function AN(){if(Kk)return cy;Kk=1;for(var n=zn(),e=Dt(),t=_e(),r=Gs(),i=tt(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=t(s.prototype.valueOf),u=n("wks"),d=0,c=a(s),h=c.length;d<h;d++)try{var f=c[d];r(s[f])&&i(f)}catch{}return cy=function(y){if(o&&o(y))return!0;try{for(var b=l(y),g=0,p=a(u),$=p.length;g<$;g++)if(u[p[g]]==b)return!0}catch{}return!1},cy}var Yk;function A8(){if(Yk)return Gk;Yk=1;var n=ee(),e=AN();return n({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Gk}var Xk={},Jk;function F8(){if(Jk)return Xk;Jk=1;var n=Le();return n("customMatcher"),Xk}var Zk={},Qk;function N8(){if(Qk)return Zk;Qk=1;var n=Le();return n("observable"),Zk}var eD={},tD;function B8(){if(tD)return eD;tD=1;var n=ee(),e=MN();return n({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),eD}var rD={},iD;function j8(){if(iD)return rD;iD=1;var n=ee(),e=AN();return n({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),rD}var nD={},sD;function L8(){if(sD)return nD;sD=1;var n=Le();return n("matcher"),nD}var oD={},aD;function z8(){if(aD)return oD;aD=1;var n=Le();return n("metadataKey"),oD}var lD={},uD;function W8(){if(uD)return lD;uD=1;var n=Le();return n("patternMatch"),lD}var dD={},cD;function H8(){if(cD)return dD;cD=1;var n=Le();return n("replaceAll"),dD}var hy,hD;function V8(){if(hD)return hy;hD=1;var n=D8();return M8(),A8(),F8(),N8(),B8(),j8(),L8(),z8(),W8(),H8(),hy=n,hy}var fy,fD;function U8(){return fD||(fD=1,fy=V8()),fy}var G8=U8(),mo=ue(G8),vy,vD;function K8(){if(vD)return vy;vD=1,Kn(),f1(),NF();var n=ua();return vy=n.f("iterator"),vy}var py,pD;function Y8(){if(pD)return py;pD=1;var n=K8();return Yn(),py=n,py}var gy,gD;function X8(){if(gD)return gy;gD=1;var n=Y8();return gy=n,gy}var yy,yD;function J8(){if(yD)return yy;yD=1;var n=X8();return yy=n,yy}var my,mD;function Z8(){return mD||(mD=1,my=J8()),my}var Q8=Z8(),e6=ue(Q8);function Is(n){"@babel/helpers - typeof";return Is=typeof mo=="function"&&typeof e6=="symbol"?function(e){return typeof e}:function(e){return e&&typeof mo=="function"&&e.constructor===mo&&e!==mo.prototype?"symbol":typeof e},Is(n)}var by,bD;function t6(){if(bD)return by;bD=1,BF();var n=ua();return by=n.f("toPrimitive"),by}var _y,_D;function r6(){if(_D)return _y;_D=1;var n=t6();return _y=n,_y}var wy,wD;function i6(){if(wD)return wy;wD=1;var n=r6();return wy=n,wy}var Sy,SD;function n6(){if(SD)return Sy;SD=1;var n=i6();return Sy=n,Sy}var Ey,ED;function s6(){return ED||(ED=1,Ey=n6()),Ey}var o6=s6(),a6=ue(o6);function l6(n,e){if(Is(n)!="object"||!n)return n;var t=n[a6];if(t!==void 0){var r=t.call(n,e);if(Is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function u6(n){var e=l6(n,"string");return Is(e)=="symbol"?e:e+""}function $r(n,e,t){return(e=u6(e))in n?P8(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var $D={},$y,OD;function d6(){if(OD)return $y;OD=1;var n=Ne(),e=be(),t=_e(),r=Ht(),i=HF().trim,s=Zb(),o=t("".charAt),a=n.parseFloat,l=n.Symbol,u=l&&l.iterator,d=1/a(s+"-0")!==-1/0||u&&!e(function(){a(Object(u))});return $y=d?function(h){var f=i(r(h)),v=a(f);return v===0&&o(f,0)==="-"?-0:v}:a,$y}var ID;function c6(){if(ID)return $D;ID=1;var n=ee(),e=d6();return n({global:!0,forced:parseFloat!==e},{parseFloat:e}),$D}var Oy,xD;function h6(){if(xD)return Oy;xD=1,c6();var n=Ie();return Oy=n.parseFloat,Oy}var Iy,TD;function f6(){if(TD)return Iy;TD=1;var n=h6();return Iy=n,Iy}var xy,PD;function v6(){return PD||(PD=1,xy=f6()),xy}var p6=v6(),FN=ue(p6),RD={},CD;function g6(){if(CD)return RD;CD=1;var n=ee(),e=be(),t=Gb().f,r=e(function(){return!Object.getOwnPropertyNames(1)});return n({target:"Object",stat:!0,forced:r},{getOwnPropertyNames:t}),RD}var Ty,qD;function y6(){if(qD)return Ty;qD=1,g6();var n=Ie(),e=n.Object;return Ty=function(r){return e.getOwnPropertyNames(r)},Ty}var Py,kD;function m6(){if(kD)return Py;kD=1;var n=y6();return Py=n,Py}var Ry,DD;function b6(){return DD||(DD=1,Ry=m6()),Ry}var _6=b6(),w6=ue(_6),Cy,MD;function S6(){if(MD)return Cy;MD=1,MF();var n=Ie();return Cy=n.Object.getOwnPropertySymbols,Cy}var qy,AD;function E6(){if(AD)return qy;AD=1;var n=S6();return qy=n,qy}var ky,FD;function $6(){return FD||(FD=1,ky=E6()),ky}var O6=$6(),ti=ue(O6),Dy={exports:{}},ND={},BD;function I6(){if(BD)return ND;BD=1;var n=ee(),e=be(),t=tr(),r=ra().f,i=Ke(),s=!i||e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,l){return r(t(a),l)}}),ND}var jD;function x6(){if(jD)return Dy.exports;jD=1,I6();var n=Ie(),e=n.Object,t=Dy.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),Dy.exports}var My,LD;function T6(){if(LD)return My;LD=1;var n=x6();return My=n,My}var Ay,zD;function P6(){return zD||(zD=1,Ay=T6()),Ay}var R6=P6(),ui=ue(R6),WD={},HD;function C6(){if(HD)return WD;HD=1;var n=ee(),e=Ke(),t=rH(),r=tr(),i=ra(),s=oa();return n({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=r(a),u=i.f,d=t(l),c={},h=0,f,v;d.length>h;)v=u(l,f=d[h++]),v!==void 0&&s(c,f,v);return c}}),WD}var Fy,VD;function q6(){if(VD)return Fy;VD=1,C6();var n=Ie();return Fy=n.Object.getOwnPropertyDescriptors,Fy}var Ny,UD;function k6(){if(UD)return Ny;UD=1;var n=q6();return Ny=n,Ny}var By,GD;function D6(){return GD||(GD=1,By=k6()),By}var M6=D6(),ri=ue(M6),jy={exports:{}},KD={},YD;function A6(){if(YD)return KD;YD=1;var n=ee(),e=Ke(),t=Ub().f;return n({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),KD}var XD;function F6(){if(XD)return jy.exports;XD=1,A6();var n=Ie(),e=n.Object,t=jy.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(t.sham=!0),jy.exports}var Ly,JD;function N6(){if(JD)return Ly;JD=1;var n=F6();return Ly=n,Ly}var zy,ZD;function B6(){return ZD||(ZD=1,zy=N6()),zy}var j6=B6(),ga=ue(j6),Wy,QD;function L6(){return QD||(QD=1,Wy=DN()),Wy}var z6=L6(),ya=ue(z6);function p1(n,e){const t=["node","edge","label"];let r=!0;const i=Vr(e,"chosen");if(typeof i=="boolean")r=i;else if(typeof i=="object"){if($e(t).call(t,n)===-1)throw new Error("choosify: subOption '"+n+"' should be one of '"+t.join("', '")+"'");const s=Vr(e,["chosen",n]);(typeof s=="boolean"||typeof s=="function")&&(r=s)}return r}function ub(n,e,t){if(n.width<=0||n.height<=0)return!1;if(t!==void 0){const s={x:e.x-t.x,y:e.y-t.y};if(t.angle!==0){const o=-t.angle;e={x:Math.cos(o)*s.x-Math.sin(o)*s.y,y:Math.sin(o)*s.x+Math.cos(o)*s.y}}else e=s}const r=n.x+n.width,i=n.y+n.width;return n.left<e.x&&r>e.x&&n.top<e.y&&i>e.y}function Mo(n){return typeof n=="string"&&n!==""}function NN(n,e,t,r){let i=r.x,s=r.y;if(typeof r.distanceToBorder=="function"){const o=r.distanceToBorder(n,e),a=Math.sin(e)*o,l=Math.cos(e)*o;l===o?(i+=o,s=r.y):a===o?(i=r.x,s-=o):(i+=l,s-=a)}else r.shape.width>r.shape.height?(i=r.x+r.shape.width*.5,s=r.y-t):(i=r.x+t,s=r.y-r.shape.height*.5);return{x:i,y:s}}var Hy,eM;function W6(){if(eM)return Hy;eM=1,Kn();var n=vt();return Hy=n("Array","values"),Hy}var Vy,tM;function H6(){if(tM)return Vy;tM=1;var n=W6();return Vy=n,Vy}var Uy,rM;function V6(){if(rM)return Uy;rM=1,Yn();var n=Un(),e=ft(),t=et(),r=H6(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Uy=function(o){var a=o.values;return o===i||t(i,o)&&a===i.values||e(s,n(o))?r:a},Uy}var Gy,iM;function U6(){return iM||(iM=1,Gy=V6()),Gy}var G6=U6(),BN=ue(G6);class K6{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=t;(t===void 0||t==="")&&(i=" ");const s=this.measureText(i,r),o=Xe({},BN(s));o.text=t,o.width=s.width,o.mod=r,(t===void 0||t==="")&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t)}newLine(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const t=this.lines[e];let r=0;if(t.blocks!==void 0)for(let i=0;i<t.blocks.length;i++){const s=t.blocks[i];r<s.height&&(r=s.height)}t.height=r}}determineLabelSize(){let e=0,t=0;for(let r=0;r<this.lines.length;r++){const i=this.lines[r];i.width>e&&(e=i.width),t+=i.height}this.width=e,this.height=t}removeEmptyBlocks(){const e=[];for(let t=0;t<this.lines.length;t++){const r=this.lines[t];if(r.blocks.length===0||t===this.lines.length-1&&r.width===0)continue;const i={};Xe(i,r),i.blocks=[];let s;const o=[];for(let a=0;a<r.blocks.length;a++){const l=r.blocks[a];l.width!==0?o.push(l):s===void 0&&(s=l)}o.length===0&&s!==void 0&&o.push(s),i.blocks=o,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const Y6={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class nM{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,t){return!this.mono&&!this[e]&&this.match(t)?(this.setTag(e),!0):!1}match(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[r,i]=this.prepareRegExp(e),s=r.test(this.text.substr(this.position,i));return s&&t&&(this.position+=i-1),s}parseEndTag(e,t,r){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(t)?(r!==void 0?(this.position===this.text.length-1||this.match(r,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,t){return this.match(e)?(this.add(t),this.position+=length-1,!0):!1}prepareRegExp(e){let t,r;if(e instanceof RegExp)r=e,t=1;else{const i=Y6[e];i!==void 0?r=i:r=new RegExp(e),t=e.length}return[r,t]}}class X6{constructor(e,t,r,i){this.ctx=e,this.parent=t,this.selected=r,this.hover=i;const s=(o,a)=>{if(o===void 0)return 0;const l=this.parent.getFormattingValues(e,r,i,a);let u=0;return o!==""&&(u=this.ctx.measureText(o).width),{width:u,values:l}};this.lines=new K6(s)}process(e){if(!Mo(e))return this.lines.finalize();const t=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const r=String(e).split(`
`),i=r.length;if(t.multi)for(let s=0;s<i;s++){const o=this.splitBlocks(r[s],t.multi);if(o!==void 0){if(o.length===0){this.lines.newLine("");continue}if(t.maxWdt>0)for(let a=0;a<o.length;a++){const l=o[a].mod,u=o[a].text;this.splitStringIntoLines(u,l,!0)}else for(let a=0;a<o.length;a++){const l=o[a].mod,u=o[a].text;this.lines.append(u,l)}this.lines.newLine()}}else if(t.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(r[s]);else for(let s=0;s<i;s++)this.lines.newLine(r[s]);return this.lines.finalize()}decodeMarkupSystem(e){let t="none";return e==="markdown"||e==="md"?t="markdown":(e===!0||e==="html")&&(t="html"),t}splitHtmlBlocks(e){const t=new nM(e),r=i=>/&/.test(i)?(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0):!1;for(;t.position<t.text.length;){const i=t.text.charAt(t.position);t.parseWS(i)||/</.test(i)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||r(i)||t.add(i),t.position++}return t.emitBlock(),t.blocks}splitMarkdownBlocks(e){const t=new nM(e);let r=!0;const i=s=>/\\/.test(s)?(t.position<this.text.length+1&&(t.position++,s=this.text.charAt(t.position),/ \t/.test(s)?t.spacing=!0:(t.add(s),r=!1)),!0):!1;for(;t.position<t.text.length;){const s=t.text.charAt(t.position);t.parseWS(s)||i(s)||(r||t.spacing)&&(t.parseStartTag("bold","*")||t.parseStartTag("ital","_")||t.parseStartTag("mono","`"))||t.parseEndTag("bold","*","afterBold")||t.parseEndTag("ital","_","afterItal")||t.parseEndTag("mono","`","afterMono")||(t.add(s),r=!1),t.position++}return t.emitBlock(),t.blocks}splitBlocks(e,t){const r=this.decodeMarkupSystem(t);if(r==="none")return[{text:e,mod:"normal"}];if(r==="markdown")return this.splitMarkdownBlocks(e);if(r==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}getLongestFit(e){let t="",r=0;for(;r<e.length;){const s=t+(t===""?"":" ")+e[r];if(this.overMaxWidth(s))break;t=s,r++}return r}getLongestFitWord(e){let t=0;for(;t<e.length&&!this.overMaxWidth(sr(e).call(e,0,t));)t++;return t}splitStringIntoLines(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const o=i[0],a=this.getLongestFitWord(o);this.lines.newLine(sr(o).call(o,0,a),t),i[0]=sr(o).call(o,a)}else{let o=s;i[s-1]===" "?s--:i[o]===" "&&o++;const a=sr(i).call(i,0,s).join("");s==i.length&&r?this.lines.append(a,t):this.lines.newLine(a,t),i=sr(i).call(i,o)}}}}const is=["bold","ital","boldital","mono"];class gn{constructor(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Mo(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const t=e.font.size;t!==void 0&&(this.baseSize=t)}}}initFontOptions(e){if(ye(is,t=>{this.fontOptions[t]={}}),gn.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}ye(e,(t,r)=>{t!=null&&typeof t!="object"&&(this.fontOptions[r]=t)})}static parseFontString(e,t){if(!t||typeof t!="string")return!1;const r=t.split(" ");return e.size=+r[0].replace("px",""),e.face=r[1],e.color=r[2],!0}constrain(e){const t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},r=Vr(e,"widthConstraint");if(typeof r=="number")t.maxWdt=Number(r),t.minWdt=Number(r);else if(typeof r=="object"){const s=Vr(e,["widthConstraint","maximum"]);typeof s=="number"&&(t.maxWdt=Number(s));const o=Vr(e,["widthConstraint","minimum"]);typeof o=="number"&&(t.minWdt=Number(o))}const i=Vr(e,"heightConstraint");if(typeof i=="number")t.minHgt=Number(i);else if(typeof i=="object"){const s=Vr(e,["heightConstraint","minimum"]);typeof s=="number"&&(t.minHgt=Number(s));const o=Vr(e,["heightConstraint","valign"]);typeof o=="string"&&(o==="top"||o==="bottom")&&(t.valign=o)}return t}update(e,t){this.setOptions(e,!0),this.propagateFonts(t),Ce(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=p1("label",t)}adjustSizes(e){const t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);const r=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=r)}addFontOptionsToPile(e,t){for(let r=0;r<t.length;++r)this.addFontToPile(e,t[r])}addFontToPile(e,t){if(t===void 0||t.font===void 0||t.font===null)return;const r=t.font;e.push(r)}getBasicOptions(e){const t={};for(let r=0;r<e.length;++r){let i=e[r];const s={};gn.parseFontString(s,i)&&(i=s),ye(i,(o,a)=>{o!==void 0&&(Object.prototype.hasOwnProperty.call(t,a)||($e(is).call(is,a)!==-1?t[a]={}:t[a]=o))})}return t}getFontOption(e,t,r){let i;for(let s=0;s<e.length;++s){const o=e[s];if(Object.prototype.hasOwnProperty.call(o,t)){if(i=o[t],i==null)continue;const a={};if(gn.parseFontString(a,i)&&(i=a),Object.prototype.hasOwnProperty.call(i,r))return i[r]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,r))return this.fontOptions[r];throw new Error("Did not find value for multi-font for property: '"+r+"'")}getFontOptions(e,t){const r={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const o=i[s];r[o]=this.getFontOption(e,t,o)}return r}propagateFonts(e){const t=[];this.addFontOptionsToPile(t,e),this.fontOptions=this.getBasicOptions(t);for(let r=0;r<is.length;++r){const i=is[r],s=this.fontOptions[i],o=this.getFontOptions(t,i);ye(o,(a,l)=>{s[l]=a}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,t,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,t,r,o),this._drawBackground(e),this._drawText(e,t,this.size.yLine,o,a))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}_drawText(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[t,r]=this._setAlignment(e,t,r,i),e.textAlign="left",t=t-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(r-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(r+=(this.size.height-this.size.labelHeight)/2));for(let o=0;o<this.lineCount;o++){const a=this.lines[o];if(a&&a.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-a.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-a.width);for(let u=0;u<a.blocks.length;u++){const d=a.blocks[u];e.font=d.font;const[c,h]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=h,e.lineJoin="round"),e.fillStyle=c,d.strokeWidth>0&&e.strokeText(d.text,t+l,r+d.vadjust),e.fillText(d.text,t+l,r+d.vadjust),l+=d.width}r+=a.height}}}_setAlignment(e,t,r,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){t=0,r=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",r-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",r+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[t,r]}_getColor(e,t,r){let i=e||"#000000",s=r||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){const o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));i=Nt(i,o),s=Nt(s,o)}return[i,s]}getTextSize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,t,r),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let t=this.size.left,r=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":t=s,r=-this.size.height*.5;break;case"top":t=s,r=-(this.size.height+2);break;case"bottom":t=s,r=2;break}}return{left:t,top:r,width:this.size.width,height:this.size.height}}calculateLabelSize(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,t,r),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,o==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,t,r,i){const s=function(l,u,d){return u==="normal"?d==="mod"?"":l[d]:l[u][d]!==void 0?l[u][d]:l[d]},o={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||r)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?o.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(o,this.elementOptions.id,t,r));let a="";return o.mod!==void 0&&o.mod!==""&&(a+=o.mod+" "),a+=o.size+"px "+o.face,e.font=a.replace(/"/g,""),o.font=e.font,o.height=o.size,o}differentState(e,t){return e!==this.selectedState||t!==this.hoverState}_processLabelText(e,t,r,i){return new X6(e,this,t,r).process(i)}_processLabel(e,t,r){if(this.labelDirty===!1&&!this.differentState(t,r))return;const i=this._processLabelText(e,t,r,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=t,this.hoverState=r,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class Gi{constructor(e,t,r){this.body=t,this.labelModule=r,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,t){const r=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}enableShadow(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,t){if(t.borderDashes!==!1)if(e.setLineDash!==void 0){let r=t.borderDashes;r===!0&&(r=[5,15]),e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}disableBorderDashes(e,t){t.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}needsRefresh(e,t){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,t)}initContextForDraw(e,t){const r=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,r),e.strokeStyle=t.borderColor,e.fillStyle=t.color}performStroke(e,t){const r=t.borderWidth/this.body.view.scale;e.save(),r>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}performFill(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),eo(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,t,r,i,s){r!==void 0&&this.resize(r,i,s),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,t,r,i,s){this._updateBoundingBox(e,t,r,i,s)}getDimensionsFromLabel(e,t,r){this.textSize=this.labelModule.getTextSize(e,t,r);let i=this.textSize.width,s=this.textSize.height;const o=14;return i===0&&(i=o,s=o),{width:i,height:s}}}let J6=class extends Gi{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const i=this.getDimensionsFromLabel(e,t,r);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,o),$F(e,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(t,r,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,t,r,i,s){this._updateBoundingBox(e,t,r,i,s);const o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}distanceToBorder(e,t){e&&this.resize(e);const r=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}};class g1 extends Gi{constructor(e,t,r){super(e,t,r),this.labelOffset=0,this.selected=!1}setOptions(e,t,r){this.options=e,t===void 0&&r===void 0||this.setImages(t,r)}setImages(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}switchImages(e){const t=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&t){const r=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=r}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const t=this.options.imagePadding;typeof t=="object"?(e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left):(e.top=t,e.right=t,e.bottom=t,e.left=t)}return e}_resizeImage(){let e,t;if(this.options.shapeProperties.useImageSize===!1){let r=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?r=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*r,t=this.options.size*2*i}else{const r=this._getImagePadding();e=this.imageObj.width+r.left+r.right,t=this.imageObj.height+r.top+r.bottom}this.width=e,this.height=t,this.radius=.5*this.width}_drawRawCircle(e,t,r,i){this.initContextForDraw(e,i),Wb(e,t,r,i.size),this.performFill(e,i)}_drawImageAtPosition(e,t){if(this.imageObj.width!=0){e.globalAlpha=t.opacity!==void 0?t.opacity:1,this.enableShadow(e,t);let r=1;this.options.shapeProperties.interpolation===!0&&(r=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,o=this.top+i.top,a=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,r,s,o,a,l),this.disableShadow(e,t)}}_drawImageLabel(e,t,r,i,s){let o=0;if(this.height!==void 0){o=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(o+=l.height/2)}const a=r+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(e,t,a,i,s,"hanging")}}let Z6=class extends g1{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const i=this.getDimensionsFromLabel(e,t,r),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width/2,this.top=r-this.height/2,this._drawRawCircle(e,t,r,o),this.updateBoundingBox(t,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,r,i,s)}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class Q6 extends g1{constructor(e,t,r,i,s){super(e,t,r),this.setImages(i,s)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,i,s,o){this.switchImages(i),this.resize();let a=t,l=r;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,l+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this._drawRawCircle(e,a,l,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,a,l,i,s),this.updateBoundingBox(t,r)}updateBoundingBox(e,t){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=t,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=t+this.options.size*2):(this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class di extends Gi{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,r)){var s,o;this.labelModule.getTextSize(e,t,r);const a=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:a,this.height=(o=this.customSizeHeight)!==null&&o!==void 0?o:a,this.radius=.5*this.width}}_drawShape(e,t,r,i,s,o,a,l){return this.resize(e,o,a,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),pW(t)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,o,a,i,s,"hanging");const u=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,u,o,a,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function sM(n,e){var t=Ve(n);if(ti){var r=ti(n);e&&(r=Ot(r).call(r,function(i){return ui(n,i).enumerable})),t.push.apply(t,r)}return t}function eK(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?Te(t=sM(Object(i),!0)).call(t,function(s){$r(n,s,i[s])}):ri?ga(n,ri(i)):Te(r=sM(Object(i))).call(r,function(s){ya(n,s,ui(i,s))})}return n}class tK extends di{constructor(e,t,r,i){super(e,t,r,i),this.ctxRenderer=i}draw(e,t,r,i,s,o){this.resize(e,i,s,o),this.left=t-this.width/2,this.top=r-this.height/2,e.save();const a=this.ctxRenderer({ctx:e,id:this.options.id,x:t,y:r,state:{selected:i,hover:s},style:eK({},o),label:this.options.label});if(a.drawNode!=null&&a.drawNode(),e.restore(),a.drawExternalLabel){const l=a.drawExternalLabel;a.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class rK extends Gi{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){if(this.needsRefresh(t,r)){const s=this.getDimensionsFromLabel(e,t,r).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,o),OF(e,t-this.width/2,r-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,r,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let iK=class extends di{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"diamond",4,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class nK extends di{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"circle",2,t,r,i,s,o)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class oM extends Gi{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const i=this.getDimensionsFromLabel(e,t,r);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width*.5,this.top=r-this.height*.5,this.initContextForDraw(e,o),Qm(e,this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,r,e,i,s),this.labelModule.draw(e,t,r,i,s)}distanceToBorder(e,t){e&&this.resize(e);const r=this.width*.5,i=this.height*.5,s=Math.sin(t)*r,o=Math.cos(t)*i;return r*i/Math.sqrt(s*s+o*o)}}class sK extends Gi{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,i,s,o){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=r-this.height/2,this._icon(e,t,r,i,s,o),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,r+this.height/2+5,i),this.updateBoundingBox(t,r)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=t+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,t,r,i,s,o){const a=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,t,r),this.disableShadow(e,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let oK=class extends g1{constructor(e,t,r,i,s){super(e,t,r),this.setImages(i,s)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,i,s,o){e.save(),this.switchImages(i),this.resize();let a=t,l=r;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,l+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const u=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,c=(i?d:u)/this.body.view.scale;e.lineWidth=Math.min(this.width,c),e.beginPath();let h=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,f=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;o.opacity!==void 0&&(h=Nt(h,o.opacity),f=Nt(f,o.opacity)),e.strokeStyle=h,e.fillStyle=f,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),eo(e).call(e),this.performStroke(e,o),e.closePath()}this._drawImageAtPosition(e,o),this._drawImageLabel(e,a,l,i,s),this.updateBoundingBox(t,r),e.restore()}updateBoundingBox(e,t){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=t):(this.left=e-this.width/2,this.top=t-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class aK extends di{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"square",2,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class lK extends di{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"hexagon",4,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class uK extends di{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"star",4,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class dK extends Gi{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.textSize=this.labelModule.getTextSize(e,t,r),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width/2,this.top=r-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,o),this.updateBoundingBox(t,r,e,i,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let cK=class extends di{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"triangle",3,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class hK extends di{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"triangleDown",3,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}function aM(n,e){var t=Ve(n);if(ti){var r=ti(n);e&&(r=Ot(r).call(r,function(i){return ui(n,i).enumerable})),t.push.apply(t,r)}return t}function lM(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?Te(t=aM(Object(i),!0)).call(t,function(s){$r(n,s,i[s])}):ri?ga(n,ri(i)):Te(r=aM(Object(i))).call(r,function(s){ya(n,s,ui(i,s))})}return n}class Fe{constructor(e,t,r,i,s,o){this.options=Zr(s),this.globalOptions=s,this.defaultOptions=o,this.body=t,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new gn(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var t;$e(t=this.edges).call(t,e)===-1&&this.edges.push(e)}detachEdge(e){var t;const r=$e(t=this.edges).call(t,e);if(r!=-1){var i;Tr(i=this.edges).call(i,r,1)}}setOptions(e){const t=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");Fe.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Jt(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Jt(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=FN(e.value)),Fe.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const r=[e,this.options,this.defaultOptions];return this.chooser=p1("node",r),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&Fe.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,t,r){var i;if(r===void 0)return;const s=e.group;if(t!==void 0&&t.group!==void 0&&s!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const a=r.get(s);a.opacity!==void 0&&t.opacity===void 0&&(Fe.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));const l=Ot(i=w6(t)).call(i,u=>t[u]!=null);l.push("font"),ko(l,e,a),e.color=nb(e.color)}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(ko(["color","fixed","shadow"],e,t,r),Fe.checkMass(t),e.opacity!==void 0&&(Fe.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),t.opacity!==void 0&&(Fe.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!Fe.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),Ft(e,t,"shadow",i),t.color!==void 0&&t.color!==null){const a=nb(t.color);mN(e.color,a)}else r===!0&&t.color===null&&(e.color=Zr(i.color));t.fixed!==void 0&&t.fixed!==null&&(typeof t.fixed=="boolean"?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(t.fixed.x!==void 0&&typeof t.fixed.x=="boolean"&&(e.fixed.x=t.fixed.x),t.fixed.y!==void 0&&typeof t.fixed.y=="boolean"&&(e.fixed.y=t.fixed.y))),r===!0&&t.font===null&&(e.font=Zr(i.font)),Fe.updateGroupOptions(e,t,s),t.scaling!==void 0&&Ft(e.scaling,t.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const t=this.options.opacity;e.borderColor=Nt(e.borderColor,t),e.color=Nt(e.color,t),e.shadowColor=Nt(e.shadowColor,t)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),Fe.updateGroupOptions(this.options,lM(lM({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const t=this.grouplist.get(this.options.group,!1),r=[e,this.options,t,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new J6(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Z6(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Q6(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new tK(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new rK(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new iK(this.options,this.body,this.labelModule);break;case"dot":this.shape=new nK(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new oM(this.options,this.body,this.labelModule);break;case"icon":this.shape=new sK(this.options,this.body,this.labelModule);break;case"image":this.shape=new oK(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new aK(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new lK(this.options,this.body,this.labelModule);break;case"star":this.shape=new uK(this.options,this.body,this.labelModule);break;case"text":this.shape=new dK(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new cK(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new hK(this.options,this.body,this.labelModule);break;default:this.shape=new oM(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,t){return this.shape.distanceToBorder(e,t)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,t,r){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}getItemsOnPoint(e){const t=[];return this.labelModule.visible()&&ub(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),ub(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,t){if(e.mass!==void 0&&e.mass<=0){let r="";t!==void 0&&(r=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+r+", setting mass to 1.",SN),e.mass=1}}}class fK{constructor(e,t,r,i){var s;if(this.body=e,this.images=t,this.groups=r,this.layoutEngine=i,this.body.functions.createNode=B(s=this.create).call(s,this),this.nodesListeners={add:(o,a)=>{this.add(a.items)},update:(o,a)=>{this.update(a.items,a.data,a.oldData)},remove:(o,a)=>{this.remove(a.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,a,l,u){if(a===o)return .5;{const d=1/(a-o);return Math.max(0,(u-o)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Zr(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,t;this.body.emitter.on("refreshNodes",B(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",B(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",()=>{ye(this.nodesListeners,(r,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,r)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(Fe.parseOptions(this.options,e),e.opacity!==void 0&&(lb(e.opacity)||!bi(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const t of Ve(this.body.nodes))this.body.nodes[t].updateLabelModule(),this.body.nodes[t].needsRefresh();if(e.size!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.nodes;if(gF("id",e))this.body.data.nodes=e;else if(Ue(e))this.body.data.nodes=new To,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new To;else throw new TypeError("Array or DataSet expected");if(r&&ye(this.nodesListeners,function(i,s){r.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;ye(this.nodesListeners,function(o,a){i.body.data.nodes.on(a,o)});const s=this.body.data.nodes.getIds();this.add(s,!0)}t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;const i=[];for(let s=0;s<e.length;s++){r=e[s];const o=this.body.data.nodes.get(r),a=this.create(o);i.push(a),this.body.nodes[r]=a}this.layoutEngine.positionInitially(i),t===!1&&this.body.emitter.emit("_dataChanged")}update(e,t,r){const i=this.body.nodes;let s=!1;for(let o=0;o<e.length;o++){const a=e[o];let l=i[a];const u=t[o];l!==void 0?l.setOptions(u)&&(s=!0):(s=!0,l=this.create(u),i[a]=l)}!s&&r!==void 0&&(s=S8(t).call(t,function(o,a){const l=r[a];return l&&l.level!==o.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const t=this.body.nodes;for(let r=0;r<e.length;r++){const i=e[r];delete t[i]}this.body.emitter.emit("_dataChanged")}create(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fe;return new t(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ye(this.body.nodes,(t,r)=>{const i=this.body.data.nodes.get(r);i!==void 0&&(e===!0&&t.setOptions({x:null,y:null}),t.setOptions({fixed:!1}),t.setOptions(i))})}getPositions(e){const t={};if(e!==void 0){if(Ue(e)===!0){for(let r=0;r<e.length;r++)if(this.body.nodes[e[r]]!==void 0){const i=this.body.nodes[e[r]];t[e[r]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];t[e]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(let r=0;r<this.body.nodeIndices.length;r++){const i=this.body.nodes[this.body.nodeIndices[r]];t[this.body.nodeIndices[r]]={x:Math.round(i.x),y:Math.round(i.y)}}return t}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],t=this.body.data.nodes.getDataSet();for(const r of t.get()){const i=r.id,s=this.body.nodes[i],o=Math.round(s.x),a=Math.round(s.y);(r.x!==o||r.y!==a)&&e.push({id:i,x:o,y:a})}t.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,t){const r=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let o=0;o<i.edges.length;o++){const a=i.edges[o];t!=="to"&&a.toId==i.id?s[a.fromId]===void 0&&(r.push(a.fromId),s[a.fromId]=!0):t!=="from"&&a.fromId==i.id&&s[a.toId]===void 0&&(r.push(a.toId),s[a.toId]=!0)}}return r}getConnectedEdges(e){const t=[];if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];for(let i=0;i<r.edges.length;i++)t.push(r.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}moveNode(e,t,r){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(r),Pr(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var uM={},dM;function vK(){if(dM)return uM;dM=1;var n=ee(),e=Math.hypot,t=Math.abs,r=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return n({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(o,a){for(var l=0,u=0,d=arguments.length,c=0,h,f;u<d;)h=t(arguments[u++]),c<h?(f=c/h,l=l*f*f+1,c=h):h>0?(f=h/c,l+=f*f):l+=h;return c===1/0?1/0:c*r(l)}}),uM}var Ky,cM;function pK(){if(cM)return Ky;cM=1,vK();var n=Ie();return Ky=n.Math.hypot,Ky}var Yy,hM;function gK(){if(hM)return Yy;hM=1;var n=pK();return Yy=n,Yy}var Xy,fM;function yK(){return fM||(fM=1,Xy=gK()),Xy}var mK=yK(),bK=ue(mK);class Ge{static transform(e,t){Ue(e)||(e=[e]);const r=t.point.x,i=t.point.y,s=t.angle,o=t.length;for(let a=0;a<e.length;++a){const l=e[a],u=l.x*Math.cos(s)-l.y*Math.sin(s),d=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=r+o*u,l.y=i+o*d}}static drawPath(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length;++r)e.lineTo(t[r].x,t[r].y);e.closePath()}}let _K=class extends Ge{static draw(e,t){if(t.image){e.save(),e.translate(t.point.x,t.point.y),e.rotate(Math.PI/2+t.angle);const r=t.imageWidth!=null?t.imageWidth:t.image.width,i=t.imageHeight!=null?t.imageHeight:t.image.height;t.image.drawImageAtPosition(e,1,-r/2,0,r,i),e.restore()}return!1}};class wK extends Ge{static draw(e,t){const r=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}class SK{static draw(e,t){const r=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}class EK{static draw(e,t){const r={x:-.4,y:0};Ge.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=t.angle-i/2,o=t.angle+i/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,s,o,!1),e.stroke(),!0}}class $K{static draw(e,t){const r={x:-.3,y:0};Ge.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=t.angle+i/2,o=t.angle+3*i/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,s,o,!1),e.stroke(),!0}}class OK{static draw(e,t){const r=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}class IK{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}class xK{static draw(e,t){const r={x:-.4,y:0};return Ge.transform(r,t),Wb(e,r.x,r.y,t.length*.4),!0}}class TK{static draw(e,t){const r=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}class PK{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}class RK{static draw(e,t){const r=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}class CK{static draw(e,t){const r=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}class jN{static draw(e,t){let r;switch(t.type&&(r=t.type.toLowerCase()),r){case"image":return _K.draw(e,t);case"circle":return xK.draw(e,t);case"box":return PK.draw(e,t);case"crow":return SK.draw(e,t);case"curve":return EK.draw(e,t);case"diamond":return RK.draw(e,t);case"inv_curve":return $K.draw(e,t);case"triangle":return OK.draw(e,t);case"inv_triangle":return IK.draw(e,t);case"bar":return TK.draw(e,t);case"vee":return CK.draw(e,t);case"arrow":default:return wK.draw(e,t)}}}function vM(n,e){var t=Ve(n);if(ti){var r=ti(n);e&&(r=Ot(r).call(r,function(i){return ui(n,i).enumerable})),t.push.apply(t,r)}return t}function pM(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?Te(t=vM(Object(i),!0)).call(t,function(s){$r(n,s,i[s])}):ri?ga(n,ri(i)):Te(r=vM(Object(i))).call(r,function(s){ya(n,s,ui(i,s))})}return n}class LN{constructor(e,t,r){$r(this,"color",{}),$r(this,"colorDirty",!0),$r(this,"hoverWidth",1.5),$r(this,"selectionWidth",2),this._body=t,this._labelModule=r,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,t,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,t.dashes!==!1?this._drawDashedLine(e,t,s):this._drawLine(e,t,s)}_drawLine(e,t,r,i,s){if(this.from!=this.to)this._line(e,t,r,i,s);else{const[o,a,l]=this._getCircleData(e);this._circle(e,t,o,a,l)}}_drawDashedLine(e,t,r,i,s){e.lineCap="round";const o=Ue(t.dashes)?t.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,r);else{const[a,l,u]=this._getCircleData(e);this._circle(e,t,a,l,u)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)IF(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{const[a,l,u]=this._getCircleData(e);this._circle(e,t,a,l,u)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}findBorderPosition(e,t,r){return this.from!=this.to?this._findBorderPosition(e,t,r):this._findBorderPositionCircle(e,t,r)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var t;const[r,i]=sr(t=this._getCircleData(e)).call(t,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const t=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const r=NN(e,this.options.selfReference.angle,t,this.from);return[r.x,r.y,t]}_pointOnCircle(e,t,r,i){const s=i*2*Math.PI;return{x:e+r*Math.cos(s),y:t-r*Math.sin(s)}}_findBorderPositionCircle(e,t,r){const i=r.x,s=r.y;let o=r.low,a=r.high;const l=r.direction,u=10,d=this.options.selfReference.size,c=.05;let h,f=(o+a)*.5,v=0;this.options.arrowStrikethrough===!0&&(l===-1?v=this.options.endPointOffset.from:l===1&&(v=this.options.endPointOffset.to));let y=0;do{f=(o+a)*.5,h=this._pointOnCircle(i,s,d,f);const b=Math.atan2(e.y-h.y,e.x-h.x),g=e.distanceToBorder(t,b)+v,p=Math.sqrt(Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2)),$=g-p;if(Math.abs($)<c)break;$>0?l>0?o=f:a=f:l>0?a=f:o=f,++y}while(o<=a&&y<u);return pM(pM({},h),{},{t:f})}getLineWidth(e,t){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):t===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,t){if(t.inheritsColor!==!1){if(t.inheritsColor==="both"&&this.from.id!==this.to.id){const r=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=Nt(this.from.options.color.border,t.opacity),s=Nt(this.to.options.color.border,t.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),r.addColorStop(0,i),r.addColorStop(1,s),r}return t.inheritsColor==="to"?Nt(this.to.options.color.border,t.opacity):Nt(this.from.options.color.border,t.opacity)}else return Nt(t.color,t.opacity)}_circle(e,t,r,i,s){this.enableShadow(e,t);let o=0,a=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,u=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:l,high:u,direction:-1}),c=this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:l,high:u,direction:1});o=Math.atan2(d.y-i,d.x-r),a=Math.atan2(c.y-i,c.x-r)}e.beginPath(),e.arc(r,i,s,o,a,!1),e.stroke(),this.disableShadow(e,t)}getDistanceToEdge(e,t,r,i,s,o){if(this.from!=this.to)return this._getDistanceToEdge(e,t,r,i,s,o);{const[a,l,u]=this._getCircleData(void 0),d=a-s,c=l-o;return Math.abs(Math.sqrt(d*d+c*c)-u)}}_getDistanceToLine(e,t,r,i,s,o){const a=r-e,l=i-t,u=a*a+l*l;let d=((s-e)*a+(o-t)*l)/u;d>1?d=1:d<0&&(d=0);const c=e+d*a,h=t+d*l,f=c-s,v=h-o;return Math.sqrt(f*f+v*v)}getArrowData(e,t,r,i,s,o){let a,l,u,d,c,h,f;const v=o.width;t==="from"?(u=this.from,d=this.to,c=o.fromArrowScale<0,h=Math.abs(o.fromArrowScale),f=o.fromArrowType):t==="to"?(u=this.to,d=this.from,c=o.toArrowScale<0,h=Math.abs(o.toArrowScale),f=o.toArrowType):(u=this.to,d=this.from,c=o.middleArrowScale<0,h=Math.abs(o.middleArrowScale),f=o.middleArrowType);const y=15*h+3*v;if(u!=d){const $=bK(u.x-d.x,u.y-d.y),m=y/$;if(t!=="middle")if(this.options.smooth.enabled===!0){const S=this._findBorderPosition(u,e,{via:r}),O=this.getPoint(S.t+m*(t==="from"?1:-1),r);a=Math.atan2(S.y-O.y,S.x-O.x),l=S}else a=Math.atan2(u.y-d.y,u.x-d.x),l=this._findBorderPosition(u,e);else{const S=(c?-m:m)/2,O=this.getPoint(.5+S,r),x=this.getPoint(.5-S,r);a=Math.atan2(O.y-x.y,O.x-x.x),l=this.getPoint(.5,r)}}else{const[$,m,S]=this._getCircleData(e);if(t==="from"){const O=this.options.selfReference.angle,x=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,e,{x:$,y:m,low:O,high:x,direction:-1});a=_.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=_}else if(t==="to"){const O=this.options.selfReference.angle,x=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,e,{x:$,y:m,low:O,high:x,direction:1});a=_.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=_}else{const O=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle($,m,S,O),a=O*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const b=l.x-y*.9*Math.cos(a),g=l.y-y*.9*Math.sin(a);return{point:l,core:{x:b,y:g},angle:a,length:y,type:f}}drawArrowHead(e,t,r,i,s){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,jN.draw(e,s)&&(this.enableShadow(e,t),eo(e).call(e),this.disableShadow(e,t))}enableShadow(e,t){t.shadow===!0&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,t){if(t.background!==!1){const r={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=r.strokeStyle,e.lineWidth=r.lineWidth,e.dashes=r.dashes,this.setStrokeDashed(e,t.dashes)}}setStrokeDashed(e,t){if(t!==!1)if(e.setLineDash!==void 0){const r=Ue(t)?t:[5,5];e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function gM(n,e){var t=Ve(n);if(ti){var r=ti(n);e&&(r=Ot(r).call(r,function(i){return ui(n,i).enumerable})),t.push.apply(t,r)}return t}function yM(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?Te(t=gM(Object(i),!0)).call(t,function(s){$r(n,s,i[s])}):ri?ga(n,ri(i)):Te(r=gM(Object(i))).call(r,function(s){ya(n,s,ui(i,s))})}return n}class y1 extends LN{constructor(e,t,r){super(e,t,r)}_findBorderPositionBezier(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let o=!1,a=1,l=0,u=this.to,d,c,h=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(u=this.from,o=!0,h=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(h=0);let f=0;do{c=(l+a)*.5,d=this.getPoint(c,r);const v=Math.atan2(u.y-d.y,u.x-d.x),y=u.distanceToBorder(t,v)+h,b=Math.sqrt(Math.pow(d.x-u.x,2)+Math.pow(d.y-u.y,2)),g=y-b;if(Math.abs(g)<s)break;g<0?o===!1?l=c:a=c:o===!1?a=c:l=c,++f}while(l<=a&&f<i);return yM(yM({},d),{},{t:c})}_getDistanceToBezierEdge(e,t,r,i,s,o,a){let l=1e9,u,d,c,h,f,v=e,y=t;for(d=1;d<10;d++)c=.1*d,h=Math.pow(1-c,2)*e+2*c*(1-c)*a.x+Math.pow(c,2)*r,f=Math.pow(1-c,2)*t+2*c*(1-c)*a.y+Math.pow(c,2)*i,d>0&&(u=this._getDistanceToLine(v,y,h,f,s,o),l=u<l?u:l),v=h,y=f;return l}_bezierCurve(e,t,r,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),r!=null&&r.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(r.x,r.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(r.x,r.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,t),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){return this._getViaCoordinates()}}class mM extends y1{constructor(e,t,r){super(e,t,r),$r(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),t===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,t=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,t,r){this._bezierCurve(e,t,r)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[r,i,s]=this._getCircleData(),o=2*Math.PI*(1-e);return{x:r+s*Math.sin(o),y:i+s-s*(1-Math.cos(o))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*t.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*t.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t,this.via)}_getDistanceToEdge(e,t,r,i,s,o){return this._getDistanceToBezierEdge(e,t,r,i,s,o,this.via)}}class bM extends y1{constructor(e,t,r){super(e,t,r)}_line(e,t,r){this._bezierCurve(e,t,r)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,t=this.options.smooth.type;let r=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(t==="discrete"||t==="diagonalCross"){let s,o;r<=i?s=o=e*i:s=o=e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,l=this.from.y+o;return t==="discrete"&&(r<=i?a=r<e*i?this.from.x:a:l=i<e*r?this.from.y:l),{x:a,y:l}}else if(t==="straightCross"){let s=(1-e)*r,o=(1-e)*i;return r<=i?(s=0,this.from.y<this.to.y&&(o=-o)):(this.from.x<this.to.x&&(s=-s),o=0),{x:this.to.x+s,y:this.to.y+o}}else if(t==="horizontal"){let s=(1-e)*r;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(t==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(t==="curvedCW"){r=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(r*r+i*i),o=Math.PI,l=(Math.atan2(i,r)+(e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(t==="curvedCCW"){r=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(r*r+i*i),o=Math.PI,l=(Math.atan2(i,r)+(-e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,o;r<=i?s=o=e*i:s=o=e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,l=this.from.y+o;return r<=i?this.from.x<=this.to.x?a=this.to.x<a?this.to.x:a:a=this.to.x>a?this.to.x:a:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:a,y:l}}}_findBorderPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,t,r.via)}_getDistanceToEdge(e,t,r,i,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,r,i,s,o,a)}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const r=e,i=Math.pow(1-r,2)*this.fromPoint.x+2*r*(1-r)*t.x+Math.pow(r,2)*this.toPoint.x,s=Math.pow(1-r,2)*this.fromPoint.y+2*r*(1-r)*t.y+Math.pow(r,2)*this.toPoint.y;return{x:i,y:s}}}class qK extends y1{constructor(e,t,r){super(e,t,r)}_getDistanceToBezierEdge2(e,t,r,i,s,o,a,l){let u=1e9,d=e,c=t;const h=[0,0,0,0];for(let f=1;f<10;f++){const v=.1*f;h[0]=Math.pow(1-v,3),h[1]=3*v*Math.pow(1-v,2),h[2]=3*Math.pow(v,2)*(1-v),h[3]=Math.pow(v,3);const y=h[0]*e+h[1]*a.x+h[2]*l.x+h[3]*r,b=h[0]*t+h[1]*a.y+h[2]*l.y+h[3]*i;if(f>0){const g=this._getDistanceToLine(d,c,y,b,s,o);u=g<u?g:u}d=y,c=b}return u}}class _M extends qK{constructor(e,t,r){super(e,t,r)}_line(e,t,r){const i=r[0],s=r[1];this._bezierCurve(e,t,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,t=this.from.y-this.to.y;let r,i,s,o;const a=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(t)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,o=this.to.y,r=this.from.x-a*e,s=this.to.x+a*e):(i=this.from.y-a*t,o=this.to.y+a*t,r=this.from.x,s=this.to.x),[{x:r,y:i},{x:s,y:o}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t)}_getDistanceToEdge(e,t,r,i,s,o){let[a,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,t,r,i,s,o,a,l)}getPoint(e){let[t,r]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],o=s[0]*this.fromPoint.x+s[1]*t.x+s[2]*r.x+s[3]*this.toPoint.x,a=s[0]*this.fromPoint.y+s[1]*t.y+s[2]*r.y+s[3]*this.toPoint.y;return{x:o,y:a}}}class wM extends LN{constructor(e,t,r){super(e,t,r)}_line(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,t){let r=this.to,i=this.from;e.id===this.from.id&&(r=this.from,i=this.to);const s=Math.atan2(r.y-i.y,r.x-i.x),o=r.x-i.x,a=r.y-i.y,l=Math.sqrt(o*o+a*a),u=e.distanceToBorder(t,s),d=(l-u)/l;return{x:(1-d)*i.x+d*r.x,y:(1-d)*i.y+d*r.y,t:0}}_getDistanceToEdge(e,t,r,i,s,o){return this._getDistanceToLine(e,t,r,i,s,o)}}class Qr{constructor(e,t,r,i,s){if(t===void 0)throw new Error("No body provided");this.options=Zr(i),this.globalOptions=i,this.defaultOptions=s,this.body=t,this.imagelist=r,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new gn(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let t=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;Qr.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=FN(e.value));const r=[e,this.options,this.defaultOptions];return this.chooser=p1("edge",r),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Zn(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,r),t.endPointOffset!==void 0&&t.endPointOffset.from!==void 0&&(bi(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),t.endPointOffset!==void 0&&t.endPointOffset.to!==void 0&&(bi(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Mo(t.label)?e.label=t.label:Mo(e.label)||(e.label=void 0),Ft(e,t,"smooth",i),Ft(e,t,"shadow",i),Ft(e,t,"background",i),t.dashes!==void 0&&t.dashes!==null?e.dashes=t.dashes:r===!0&&t.dashes===null&&(e.dashes=Ei(i.dashes)),t.scaling!==void 0&&t.scaling!==null?(t.scaling.min!==void 0&&(e.scaling.min=t.scaling.min),t.scaling.max!==void 0&&(e.scaling.max=t.scaling.max),Ft(e.scaling,t.scaling,"label",i.scaling)):r===!0&&t.scaling===null&&(e.scaling=Ei(i.scaling)),t.arrows!==void 0&&t.arrows!==null)if(typeof t.arrows=="string"){const a=t.arrows.toLowerCase();e.arrows.to.enabled=$e(a).call(a,"to")!=-1,e.arrows.middle.enabled=$e(a).call(a,"middle")!=-1,e.arrows.from.enabled=$e(a).call(a,"from")!=-1}else if(typeof t.arrows=="object")Ft(e.arrows,t.arrows,"to",i.arrows),Ft(e.arrows,t.arrows,"middle",i.arrows),Ft(e.arrows,t.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Qs(t.arrows));else r===!0&&t.arrows===null&&(e.arrows=Ei(i.arrows));if(t.color!==void 0&&t.color!==null){const a=vn(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,l=e.color;if(s)Ce(l,i.color,!1,r);else for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&delete l[u];if(vn(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,a.opacity===void 0&&(l.opacity=1);else{let u=!1;a.color!==void 0&&(l.color=a.color,u=!0),a.highlight!==void 0&&(l.highlight=a.highlight,u=!0),a.hover!==void 0&&(l.hover=a.hover,u=!0),a.inherit!==void 0&&(l.inherit=a.inherit),a.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,a.opacity))),u===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else r===!0&&t.color===null&&(e.color=Zr(i.color));r===!0&&t.font===null&&(e.font=Zr(i.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,t=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,r=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:r,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const o=this.options.selectionWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const o=this.options.hoverWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let t=!1,r=!0;return this.edgeType!==void 0&&((this.edgeType instanceof mM&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof _M&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof bM&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof wM&&e.type.enabled===!1)&&(r=!1),r===!0&&(t=this.cleanup())),r===!0?e.enabled===!0?e.type==="dynamic"?(t=!0,this.edgeType=new mM(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new _M(this.options,this.body,this.labelModule):this.edgeType=new bM(this.options,this.body,this.labelModule):this.edgeType=new wM(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,t,r){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,r),this.drawLabel(e,r)}drawArrows(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),t.fromArrowSrc&&(i.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(i.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(i.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),t.toArrowSrc&&(i.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(i.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(i.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",r,this.selected,this.hover,t),t.middleArrowSrc&&(i.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(i.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(i.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.to)}drawLabel(e,t){if(this.options.label!==void 0){const r=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(r.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,t),e.save();const o=this._getRotation(e);o.angle!=0&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const o=NN(e,this.options.selfReference.angle,this.options.selfReference.size,r);s=this._pointOnCircle(o.x,o.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const t=[];if(this.labelModule.visible()){const i=this._getRotation();ub(this.labelModule.getSize(),e,i)&&t.push({edgeId:this.id,labelId:0})}const r={left:e.x,top:e.y};return this.isOverlappingWith(r)&&t.push({edgeId:this.id}),t}isOverlappingWith(e){if(this.connected){const r=this.from.x,i=this.from.y,s=this.to.x,o=this.to.y,a=e.left,l=e.top;return this.edgeType.getDistanceToEdge(r,i,s,o,a,l)<10}else return!1}_getRotation(e){const t=this.edgeType.getViaNode(),r=this.edgeType.getPoint(.5,t);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,r.x,r.y);const i={x:r.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,o=this.from.x-this.to.x;let a=Math.atan2(s,o);return(a<-1&&o<0||a>0&&o<0)&&(a+=Math.PI),i.angle=a,i}_pointOnCircle(e,t,r,i){return{x:e+r*Math.cos(i),y:t-r*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class kK{constructor(e,t,r){var i;this.body=e,this.images=t,this.groups=r,this.body.functions.createEdge=B(i=this.create).call(i,this),this.edgesListeners={add:(s,o)=>{this.add(o.items)},update:(s,o)=>{this.update(o.items)},remove:(s,o)=>{this.remove(o.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,o,a,l){if(o===s)return .5;{const u=1/(o-s);return Math.max(0,(l-s)*u)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Ce(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,t,r;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let o=!1;for(const a in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,a)){const l=e.body.edges[a],u=e.body.data.edges.get(a);if(u!=null){const d=u.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),o=!0)}}s===!0&&o===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",B(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",B(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{ye(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){Qr.parseOptions(this.options,e,!0,this.defaultOptions,!0);let t=!1;if(e.smooth!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&(t=this.body.edges[r].updateEdgeType()||t);if(e.font!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&this.body.edges[r].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||t===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.edges;if(gF("id",e))this.body.data.edges=e;else if(Ue(e))this.body.data.edges=new To,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new To;else throw new TypeError("Array or DataSet expected");if(r&&ye(this.edgesListeners,(i,s)=>{r.off(s,i)}),this.body.edges={},this.body.data.edges){ye(this.edgesListeners,(s,o)=>{this.body.data.edges.on(o,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const o=e[s],a=r[o];a&&a.disconnect();const l=i.get(o,{showInternalIds:!0});r[o]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}update(e){const t=this.body.edges,r=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const o=e[s],a=r.get(o),l=t[o];l!==void 0?(l.disconnect(),i=l.setOptions(a)||i,l.connect()):(this.body.edges[o]=this.create(a),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const r=this.body.edges;ye(e,i=>{const s=r[i];s!==void 0&&s.remove()}),t&&this.body.emitter.emit("_dataChanged")}refresh(){ye(this.body.edges,(e,t)=>{const r=this.body.data.edges.get(t);r!==void 0&&e.setOptions(r)})}create(e){return new Qr(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const t=this.body.nodes,r=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const i=r[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const t=[];if(this.body.edges[e]!==void 0){const r=this.body.edges[e];r.fromId!==void 0&&t.push(r.fromId),r.toId!==void 0&&t.push(r.toId)}return t}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];ye(this.body.edges,(t,r)=>{const i=this.body.nodes[t.toId],s=this.body.nodes[t.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(r)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const t=this.body.edges,r=[];Te(e).call(e,(i,s)=>{t[s]===void 0&&r.push(s)}),this.add(r,!0)}}class zN{constructor(e,t,r){this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(r),this._rng=fa("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const t=this.body.nodes,r=this.physicsBody.physicsNodeIndices,i=r.length,s=this._formBarnesHutTree(t,r);this.barnesHutTree=s;for(let o=0;o<i;o++)e=t[r[o]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}_getForceContribution(e,t){if(e.childrenCount>0){const r=e.centerOfMass.x-t.x,i=e.centerOfMass.y-t.y,s=Math.sqrt(r*r+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,r,i,t,e):e.childrenCount===4?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(s,r,i,t,e)}}_calculateForces(e,t,r,i,s){e===0&&(e=.1,t=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const o=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),a=t*o,l=r*o;this.physicsBody.forces[i.id].x+=a,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,t){let r;const i=t.length;let s=e[t[0]].x,o=e[t[0]].y,a=e[t[0]].x,l=e[t[0]].y;for(let b=1;b<i;b++){const g=e[t[b]],p=g.x,$=g.y;g.options.mass>0&&(p<s&&(s=p),p>a&&(a=p),$<o&&(o=$),$>l&&(l=$))}const u=Math.abs(a-s)-Math.abs(l-o);u>0?(o-=.5*u,l+=.5*u):(s+=.5*u,a-=.5*u);const c=Math.max(1e-5,Math.abs(a-s)),h=.5*c,f=.5*(s+a),v=.5*(o+l),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-h,maxX:f+h,minY:v-h,maxY:v+h},size:c,calcSize:1/c,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let b=0;b<i;b++)r=e[t[b]],r.options.mass>0&&this._placeInTree(y.root,r);return y}_updateBranchMass(e,t){const r=e.centerOfMass,i=e.mass+t.options.mass,s=1/i;r.x=r.x*e.mass+t.x*t.options.mass,r.x*=s,r.y=r.y*e.mass+t.y*t.options.mass,r.y*=s,e.mass=i;const o=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}_placeInTree(e,t,r){(r!=!0||r===void 0)&&this._updateBranchMass(e,t);const i=e.children.NW.range;let s;i.maxX>t.x?i.maxY>t.y?s="NW":s="SW":i.maxY>t.y?s="NE":s="SE",this._placeInRegion(e,t,s)}_placeInRegion(e,t,r){const i=e.children[r];switch(i.childrenCount){case 0:i.children.data=t,i.childrenCount=1,this._updateBranchMass(i,t);break;case 1:i.children.data.x===t.x&&i.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,t));break;case 4:this._placeInTree(i,t);break}}_splitBranch(e){let t=null;e.childrenCount===1&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),t!=null&&this._placeInTree(e,t)}_insertRegion(e,t){let r,i,s,o;const a=.5*e.size;switch(t){case"NW":r=e.range.minX,i=e.range.minX+a,s=e.range.minY,o=e.range.minY+a;break;case"NE":r=e.range.minX+a,i=e.range.maxX,s=e.range.minY,o=e.range.minY+a;break;case"SW":r=e.range.minX,i=e.range.minX+a,s=e.range.minY+a,o=e.range.maxY;break;case"SE":r=e.range.minX+a,i=e.range.maxX,s=e.range.minY+a,o=e.range.maxY;break}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:r,maxX:i,minY:s,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,t){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}_drawBranch(e,t,r){r===void 0&&(r="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=r,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}class DK{constructor(e,t,r){this._rng=fa("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,i,s,o,a,l;const u=this.body.nodes,d=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,h=this.options.nodeDistance,f=-2/3/h,v=4/3;for(let y=0;y<d.length-1;y++){a=u[d[y]];for(let b=y+1;b<d.length;b++)l=u[d[b]],e=l.x-a.x,t=l.y-a.y,r=Math.sqrt(e*e+t*t),r===0&&(r=.1*this._rng(),e=r),r<2*h&&(r<.5*h?o=1:o=f*r+v,o=o/r,i=e*o,s=t*o,c[a.id].x-=i,c[a.id].y-=s,c[l.id].x+=i,c[l.id].y+=s)}}}class MK{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<t.length-1;s++){const o=e[t[s]];for(let a=s+1;a<t.length;a++){const l=e[t[a]];if(o.level===l.level){const u=i+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(l.shape.radius||0)/2),d=l.x-o.x,c=l.y-o.y,h=Math.sqrt(d*d+c*c),f=.05;let v;h<u?v=-Math.pow(f*h,2)+Math.pow(f*u,2):v=0,h!==0&&(v=v/h);const y=d*v,b=c*v;r[o.id].x-=y,r[o.id].y-=b,r[l.id].x+=y,r[l.id].y+=b}}}}}class Jy{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t;const r=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,o,a;for(let l=0;l<r.length;l++)t=i[r[l]],t.connected===!0&&t.toId!==t.fromId&&this.body.nodes[t.toId]!==void 0&&this.body.nodes[t.fromId]!==void 0&&(t.edgeType.via!==void 0?(e=t.options.length===void 0?this.options.springLength:t.options.length,s=t.to,o=t.edgeType.via,a=t.from,this._calculateSpringForce(s,o,.5*e),this._calculateSpringForce(o,a,.5*e)):(e=t.options.length===void 0?this.options.springLength*1.5:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}_calculateSpringForce(e,t,r){const i=e.x-t.x,s=e.y-t.y,o=Math.max(Math.sqrt(i*i+s*s),.01),a=this.options.springConstant*(r-o)/o,l=i*a,u=s*a;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=u),this.physicsBody.forces[t.id]!==void 0&&(this.physicsBody.forces[t.id].x-=l,this.physicsBody.forces[t.id].y-=u)}}class AK{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,i,s,o,a,l;const u=this.body.edges,d=.5,c=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces;for(let m=0;m<h.length;m++){const S=h[m];f[S].springFx=0,f[S].springFy=0}for(let m=0;m<c.length;m++)t=u[c[m]],t.connected===!0&&(e=t.options.length===void 0?this.options.springLength:t.options.length,r=t.from.x-t.to.x,i=t.from.y-t.to.y,l=Math.sqrt(r*r+i*i),l=l===0?.01:l,a=this.options.springConstant*(e-l)/l,s=r*a,o=i*a,t.to.level!=t.from.level?(f[t.toId]!==void 0&&(f[t.toId].springFx-=s,f[t.toId].springFy-=o),f[t.fromId]!==void 0&&(f[t.fromId].springFx+=s,f[t.fromId].springFy+=o)):(f[t.toId]!==void 0&&(f[t.toId].x-=d*s,f[t.toId].y-=d*o),f[t.fromId]!==void 0&&(f[t.fromId].x+=d*s,f[t.fromId].y+=d*o)));a=1;let v,y;for(let m=0;m<h.length;m++){const S=h[m];v=Math.min(a,Math.max(-a,f[S].springFx)),y=Math.min(a,Math.max(-a,f[S].springFy)),f[S].x+=v,f[S].y+=y}let b=0,g=0;for(let m=0;m<h.length;m++){const S=h[m];b+=f[S].x,g+=f[S].y}const p=b/h.length,$=g/h.length;for(let m=0;m<h.length;m++){const S=h[m];f[S].x-=p,f[S].y-=$}}}class So{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,i;const s=this.body.nodes,o=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces;for(let l=0;l<o.length;l++){const u=o[l];i=s[u],e=-i.x,t=-i.y,r=Math.sqrt(e*e+t*t),this._calculateForces(r,e,t,a,i)}}_calculateForces(e,t,r,i,s){const o=e===0?0:this.options.centralGravity/e;i[s.id].x=t*o,i[s.id].y=r*o}}class FK extends zN{constructor(e,t,r){super(e,t,r),this._rng=fa("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,t,r,i,s){e===0&&(e=.1*this._rng(),t=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const o=i.edges.length+1,a=this.options.gravitationalConstant*s.mass*i.options.mass*o/Math.pow(e,2),l=t*a,u=r*a;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=u}}class NK extends So{constructor(e,t,r){super(e,t,r)}_calculateForces(e,t,r,i,s){if(e>0){const o=s.edges.length+1,a=this.options.centralGravity*o*s.options.mass;i[s.id].x=t*a,i[s.id].y=r*a}}}class BK{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Xe(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,ko(["stabilization"],this.options,e),Ft(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const t=this.options.wind;t&&((typeof t.x!="number"||lb(t.x))&&(t.x=0),(typeof t.y!="number"||lb(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new FK(this.body,this.physicsBody,e),this.edgesSolver=new Jy(this.body,this.physicsBody,e),this.gravitySolver=new NK(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new DK(this.body,this.physicsBody,e),this.edgesSolver=new Jy(this.body,this.physicsBody,e),this.gravitySolver=new So(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new MK(this.body,this.physicsBody,e),this.edgesSolver=new AK(this.body,this.physicsBody,e),this.gravitySolver=new So(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new zN(this.body,this.physicsBody,e),this.edgesSolver=new Jy(this.body,this.physicsBody,e),this.gravitySolver=new So(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=B(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Po();this.physicsTick(),(Po()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Pr(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,t=this.body.edges;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[r].id);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&t[r].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(t[r].id);for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const i=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const r in this.physicsBody.velocities)e[r]===void 0&&delete this.physicsBody.velocities[r]}revert(){const e=Ve(this.previousStates),t=this.body.nodes,r=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];t[s]!==void 0?t[s].options.physics===!0&&(this.referenceState[s]={positions:{x:t[s].x,y:t[s].y}},r[s].x=this.previousStates[s].vx,r[s].y=this.previousStates[s].vy,t[s].x=this.previousStates[s].x,t[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,t,r;const i=this.body.nodes,s=this.referenceState,o=.3;for(const a in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,a)&&i[a]!==void 0&&(e=i[a].x-s[a].positions.x,t=i[a].y-s[a].positions.y,r=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),r>o))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let t=0,r=0;const i=5;for(let s=0;s<e.length;s++){const o=e[s],a=this._performStep(o);t=Math.max(t,a),r+=a}this.adaptiveTimestepEnabled=r/e.length<i,this.stabilized=t<this.options.minVelocity}calculateComponentVelocity(e,t,r){const i=this.modelOptions.damping*e,s=(t-i)/r;e+=s*this.timestep;const o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}_performStep(e){const t=this.body.nodes[e],r=this.physicsBody.forces[e];this.options.wind&&(r.x+=this.options.wind.x,r.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:i.x,vy:i.y},t.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,r.x,t.options.mass),t.x+=i.x*this.timestep):(r.x=0,i.x=0),t.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,r.y,t.options.mass),t.y+=i.y*this.timestep):(r.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){const r=e[t].options.fixed;this.freezeCache[t]={x:r.x,y:r.y},r.x=!0,r.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.freezeCache[t]!==void 0&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Pr(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,t=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&t();let r=0;for(;e()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;if(t(),e()){var i;Pr(B(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let t=0;t<this.physicsBody.physicsNodeIndices.length;t++){const r=this.physicsBody.physicsNodeIndices[t],i=this.body.nodes[r],s=this.physicsBody.forces[r],o=20,a=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),u=Math.min(Math.max(5,l),15),d=3*u,c=sb((180-Math.min(1,Math.max(0,a*l))*180)/360,1,1),h={x:i.x+o*s.x,y:i.y+o*s.y};e.lineWidth=u,e.strokeStyle=c,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(h.x,h.y),e.stroke();const f=Math.atan2(s.y,s.x);e.fillStyle=c,jN.draw(e,{type:"arrow",point:h,angle:f,length:d}),eo(e).call(e)}}}const ht=[];for(let n=0;n<256;++n)ht.push((n+256).toString(16).slice(1));function jK(n,e=0){return(ht[n[e+0]]+ht[n[e+1]]+ht[n[e+2]]+ht[n[e+3]]+"-"+ht[n[e+4]]+ht[n[e+5]]+"-"+ht[n[e+6]]+ht[n[e+7]]+"-"+ht[n[e+8]]+ht[n[e+9]]+"-"+ht[n[e+10]]+ht[n[e+11]]+ht[n[e+12]]+ht[n[e+13]]+ht[n[e+14]]+ht[n[e+15]]).toLowerCase()}let Zy;const LK=new Uint8Array(16);function zK(){if(!Zy){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Zy=crypto.getRandomValues.bind(crypto)}return Zy(LK)}const WK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var SM={randomUUID:WK};function HK(n,e,t){var i;n=n||{};const r=n.random??((i=n.rng)==null?void 0:i.call(n))??zK();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,jK(r)}function fs(n,e,t){return SM.randomUUID&&!n?SM.randomUUID():HK(n)}class bt{constructor(){}static getRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,i=-1e9,s=1e9,o=-1e9,a;if(t.length>0)for(let l=0;l<t.length;l++)a=e[t[l]],s>a.shape.boundingBox.left&&(s=a.shape.boundingBox.left),o<a.shape.boundingBox.right&&(o=a.shape.boundingBox.right),r>a.shape.boundingBox.top&&(r=a.shape.boundingBox.top),i<a.shape.boundingBox.bottom&&(i=a.shape.boundingBox.bottom);return s===1e9&&o===-1e9&&r===1e9&&i===-1e9&&(r=0,i=0,s=0,o=0),{minX:s,maxX:o,minY:r,maxY:i}}static getRangeCore(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,i=-1e9,s=1e9,o=-1e9,a;if(t.length>0)for(let l=0;l<t.length;l++)a=e[t[l]],s>a.x&&(s=a.x),o<a.x&&(o=a.x),r>a.y&&(r=a.y),i<a.y&&(i=a.y);return s===1e9&&o===-1e9&&r===1e9&&i===-1e9&&(r=0,i=0,s=0,o=0),{minX:s,maxX:o,minY:r,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,t){const r={};return t===void 0||t==="node"?(Ce(r,e.options,!0),r.x=e.x,r.y=e.y,r.amountOfConnections=e.edges.length):Ce(r,e.options,!0),r}}class VK extends Fe{constructor(e,t,r,i,s,o){super(e,t,r,i,s,o),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const t=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!t.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],ye(t.edges,r=>{delete this.containedEdges[r.id]}),ye(t.containedNodes,(r,i)=>{this.containedNodes[i]=r}),t.containedNodes={},ye(t.containedEdges,(r,i)=>{this.containedEdges[i]=r}),t.containedEdges={},ye(t.edges,r=>{ye(this.edges,i=>{var s,o;const a=$e(s=i.clusteringEdgeReplacingIds).call(s,r.id);a!==-1&&(ye(r.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),Tr(o=i.clusteringEdgeReplacingIds).call(o,a,1))})}),t.edges=[]}}class UK{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Xe(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,t){e===void 0?e=this._getHubSize():typeof e=="object"&&(t=this._checkOptions(e),e=this._getHubSize());const r=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&r.push(s.id)}for(let i=0;i<r.length;i++)this.clusterByConnection(r[i],t,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const r={},i={};ye(this.body.nodes,(s,o)=>{s.options&&e.joinCondition(s.options)===!0&&(r[o]=s,ye(s.edges,a=>{this.clusteredEdges[a.id]===void 0&&(i[a.id]=a)}))}),this._cluster(r,i,e,t)}clusterByEdgeCount(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;t=this._checkOptions(t);const i=[],s={};let o,a,l;for(let u=0;u<this.body.nodeIndices.length;u++){const d={},c={},h=this.body.nodeIndices[u],f=this.body.nodes[h];if(s[h]===void 0){l=0,a=[];for(let v=0;v<f.edges.length;v++)o=f.edges[v],this.clusteredEdges[o.id]===void 0&&(o.toId!==o.fromId&&l++,a.push(o));if(l===e){const v=function(b){if(t.joinCondition===void 0||t.joinCondition===null)return!0;const g=bt.cloneOptions(b);return t.joinCondition(g)};let y=!0;for(let b=0;b<a.length;b++){o=a[b];const g=this._getConnectedId(o,h);if(v(f))c[o.id]=o,d[h]=f,d[g]=this.body.nodes[g],s[h]=!0;else{y=!1;break}}if(Ve(d).length>0&&Ve(c).length>0&&y===!0){const g=function(){for(let p=0;p<i.length;++p)for(const $ in d)if(i[p].nodes[$]!==void 0)return i[p]}();if(g!==void 0){for(const p in d)g.nodes[p]===void 0&&(g.nodes[p]=d[p]);for(const p in c)g.edges[p]===void 0&&(g.edges[p]=c[p])}else i.push({nodes:d,edges:c})}}}}for(let u=0;u<i.length;u++)this._cluster(i[u].nodes,i[u].edges,t,!1);r===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,t)}clusterBridges(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,t)}clusterByConnection(e,t){var r;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];t=this._checkOptions(t,s),t.clusterNodeProperties.x===void 0&&(t.clusterNodeProperties.x=s.x),t.clusterNodeProperties.y===void 0&&(t.clusterNodeProperties.y=s.y),t.clusterNodeProperties.fixed===void 0&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=s.options.fixed.x,t.clusterNodeProperties.fixed.y=s.options.fixed.y);const o={},a={},l=s.id,u=bt.cloneOptions(s);o[l]=s;for(let c=0;c<s.edges.length;c++){const h=s.edges[c];if(this.clusteredEdges[h.id]===void 0){const f=this._getConnectedId(h,l);if(this.clusteredNodes[f]===void 0)if(f!==l)if(t.joinCondition===void 0)a[h.id]=h,o[f]=this.body.nodes[f];else{const v=bt.cloneOptions(this.body.nodes[f]);t.joinCondition(u,v)===!0&&(a[h.id]=h,o[f]=this.body.nodes[f])}else a[h.id]=h}}const d=wn(r=Ve(o)).call(r,function(c){return o[c].id});for(const c in o){if(!Object.prototype.hasOwnProperty.call(o,c))continue;const h=o[c];for(let f=0;f<h.edges.length;f++){const v=h.edges[f];$e(d).call(d,this._getConnectedId(v,h.id))>-1&&(a[v.id]=v)}}this._cluster(o,a,t,i)}_createClusterEdges(e,t,r,i){let s,o,a,l,u,d;const c=Ve(e),h=[];for(let y=0;y<c.length;y++){o=c[y],a=e[o];for(let b=0;b<a.edges.length;b++)s=a.edges[b],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?t[s.id]=s:s.toId==o?(l=r.id,u=s.fromId,d=u):(l=s.toId,u=r.id,d=l),e[d]===void 0&&h.push({edge:s,fromId:u,toId:l}))}const f=[],v=function(y){for(let b=0;b<f.length;b++){const g=f[b],p=y.fromId===g.fromId&&y.toId===g.toId,$=y.fromId===g.toId&&y.toId===g.fromId;if(p||$)return g}return null};for(let y=0;y<h.length;y++){const b=h[y],g=b.edge;let p=v(b);p===null?(p=this._createClusteredEdge(b.fromId,b.toId,g,i),f.push(p)):p.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=p.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(Ve(e).length==0||Ve(e).length==1&&r.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let o=Ce({},r.clusterNodeProperties);if(r.processProperties!==void 0){const d=[];for(const h in e)if(Object.prototype.hasOwnProperty.call(e,h)){const f=bt.cloneOptions(e[h]);d.push(f)}const c=[];for(const h in t)if(Object.prototype.hasOwnProperty.call(t,h)&&h.substr(0,12)!=="clusterEdge:"){const f=bt.cloneOptions(t[h],"edge");c.push(f)}if(o=r.processProperties(o,d,c),!o)throw new Error("The processProperties function does not return properties!")}o.id===void 0&&(o.id="cluster:"+fs());const a=o.id;o.label===void 0&&(o.label="cluster");let l;o.x===void 0&&(l=this._getClusterPosition(e),o.x=l.x),o.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),o.y=l.y),o.id=a;const u=this.body.functions.createNode(o,VK);u.containedNodes=e,u.containedEdges=t,u.clusterEdgeProperties=r.clusterEdgeProperties,this.body.nodes[o.id]=u,this._clusterEdges(e,t,o,r.clusterEdgeProperties),o.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const t=this.clusteredEdges[e.id];t!==void 0&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const t=Ve(e);let r=e[t[0]].x,i=e[t[0]].x,s=e[t[0]].y,o=e[t[0]].y,a;for(let l=1;l<t.length;l++)a=e[t[l]],r=a.x<r?a.x:r,i=a.x>i?a.x:i,s=a.y<s?a.y:s,o=a.y>o?a.y:o;return{x:.5*(r+i),y:.5*(s+o)}}openCluster(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),o=$e(s).call(s,e)-1;if(o>=0){const d=s[o];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged");return}const a=i.containedNodes,l=i.containedEdges;if(t!==void 0&&t.releaseFunction!==void 0&&typeof t.releaseFunction=="function"){const d={},c={x:i.x,y:i.y};for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];d[f]={x:v.x,y:v.y}}const h=t.releaseFunction(c,d);for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];h[f]!==void 0&&(v.x=h[f].x===void 0?i.x:h[f].x,v.y=h[f].y===void 0?i.y:h[f].y)}}else ye(a,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)){const c=this.body.nodes[d];c.vx=i.vx,c.vy=i.vy,c.setOptions({physics:!0}),delete this.clusteredNodes[d]}const u=[];for(let d=0;d<i.edges.length;d++)u.push(i.edges[d]);for(let d=0;d<u.length;d++){const c=u[d],h=this._getConnectedId(c,e),f=this.clusteredNodes[h];for(let v=0;v<c.clusteringEdgeReplacingIds.length;v++){const y=c.clusteringEdgeReplacingIds[v],b=this.body.edges[y];if(b!==void 0)if(f!==void 0){const g=this.body.nodes[f.clusterId];g.containedEdges[b.id]=b,delete l[b.id];let p=b.fromId,$=b.toId;b.toId==h?$=f.clusterId:p=f.clusterId,this._createClusteredEdge(p,$,b,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(b)}c.remove()}for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&this._restoreEdge(l[d]);delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const t=[];if(this.isCluster(e)===!0){const r=this.body.nodes[e].containedNodes;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.push(this.body.nodes[i].id)}return t}findNode(e){const t=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];t.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(t.push(s.id),Si(t).call(t),t)}updateClusteredNode(e,t){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(t===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}updateEdge(e,t){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(t===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const r=this.getClusteredEdges(e);for(let i=0;i<r.length;i++)this.body.edges[r[i]].setOptions(t);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const t=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return Si(t).call(t),t}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const t=[e],r=[],i=[],s=100;let o=0;for(;t.length>0&&o<s;){const a=t.pop();if(a===void 0)continue;const l=this.body.edges[a];if(l===void 0)continue;o++;const u=l.clusteringEdgeReplacingIds;if(u===void 0)i.push(a);else for(let d=0;d<u.length;++d){const c=u[d];$e(t).call(t,u)!==-1||$e(r).call(r,u)!==-1||t.push(c)}r.push(a)}return i}_getConnectedId(e,t){return e.toId!=t?e.toId:(e.fromId!=t,e.fromId)}_getHubSize(){let e=0,t=0,r=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const u=this.body.nodes[this.body.nodeIndices[l]];u.edges.length>i&&(i=u.edges.length),e+=u.edges.length,t+=Math.pow(u.edges.length,2),r+=1}e=e/r,t=t/r;const s=t-Math.pow(e,2),o=Math.sqrt(s);let a=Math.floor(e+2*o);return a>i&&(a=i),a}_createClusteredEdge(e,t,r,i,s){const o=bt.cloneOptions(r,"edge");Ce(o,i),o.from=e,o.to=t,o.id="clusterEdge:"+fs(),s!==void 0&&Ce(o,s);const a=this.body.functions.createEdge(o);return a.clusteringEdgeReplacingIds=[r.id],a.connect(),this.body.edges[a.id]=a,a}_clusterEdges(e,t,r,i){if(t instanceof Qr){const s=t,o={};o[s.id]=s,t=o}if(e instanceof Fe){const s=e,o={};o[s.id]=s,e=o}if(r==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=r.clusterEdgeProperties),this._createClusterEdges(e,t,r,i);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&this.body.edges[s]!==void 0){const o=this.body.edges[s];this._backupEdgeOptions(o),o.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:r.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const t=this.clusteredNodes[e];if(t===void 0)return;const r=t.clusterId;if(r!==void 0)return this.body.nodes[r]}_filter(e,t){const r=[];return ye(e,i=>{t(i)&&r.push(i)}),r}_updateState(){let e;const t=[],r={},i=l=>{ye(this.body.nodes,u=>{u.isCluster===!0&&l(u)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&t.push(e)}i(function(l){for(let u=0;u<t.length;u++)delete l.containedNodes[t[u]]});for(let l=0;l<t.length;l++)delete this.clusteredNodes[t[l]];ye(this.clusteredEdges,l=>{const u=this.body.edges[l];(u===void 0||!u.endPointsValid())&&(r[l]=l)}),i(function(l){ye(l.containedEdges,(u,d)=>{!u.endPointsValid()&&!r[d]&&(r[d]=d)})}),ye(this.body.edges,(l,u)=>{let d=!0;const c=l.clusteringEdgeReplacingIds;if(c!==void 0){let h=0;ye(c,f=>{const v=this.body.edges[f];v!==void 0&&v.endPointsValid()&&(h+=1)}),d=h>0}(!l.endPointsValid()||!d)&&(r[u]=u)}),i(l=>{ye(r,u=>{delete l.containedEdges[u],ye(l.edges,(d,c)=>{if(d.id===u){l.edges[c]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(h){return!r[h]})}),l.edges=this._filter(l.edges,function(d){return d!==null})})}),ye(r,l=>{delete this.clusteredEdges[l]}),ye(r,l=>{delete this.body.edges[l]});const s=Ve(this.body.edges);ye(s,l=>{const u=this.body.edges[l],d=this._isClusteredNode(u.fromId)||this._isClusteredNode(u.toId);if(d!==this._isClusteredEdge(u.id))if(d){const c=this._getClusterNodeForNode(u.fromId);c!==void 0&&this._clusterEdges(this.body.nodes[u.fromId],u,c);const h=this._getClusterNodeForNode(u.toId);h!==void 0&&this._clusterEdges(this.body.nodes[u.toId],u,h)}else delete this._clusterEdges[l],this._restoreEdge(u)});let o=!1,a=!0;for(;a;){const l=[];i(function(u){const d=Ve(u.containedNodes).length,c=u.options.allowSingleNodeCluster===!0;(c&&d<1||!c&&d<2)&&l.push(u.id)});for(let u=0;u<l.length;++u)this.openCluster(l[u],{},!1);a=l.length>0,o=o||a}o&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class GK{constructor(e,t){this.body=e,this.canvas=t,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Xe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Pr(()=>{var t;this.zooming=!1,B(t=this._requestRedraw).call(t,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",B(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&Zn(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(B(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const t={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const r=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(r.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(r.save(),r.translate(this.body.view.translation.x,this.body.view.translation.y),r.scale(this.body.view.scale,this.body.view.scale),r.beginPath(),this.body.emitter.emit("beforeDrawing",r),r.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(r),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:o}=this._drawNodes(r,e);t.drawExternalLabels=o}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(r),t.drawExternalLabels!=null&&t.drawExternalLabels(),e===!1&&this._drawSelectionBox(r),r.beginPath(),this.body.emitter.emit("afterDrawing",r),r.closePath(),r.restore(),e===!0&&r.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const t=this.body.nodes;let r;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r=t[i],r.resize(e),r.updateBoundingBox(e,r.selected));e.restore()}_drawNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.nodes,i=this.body.nodeIndices;let s;const o=[],a=[],l=20,u=this.canvas.DOMtoCanvas({x:-l,y:-l}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),c={top:u.y,left:u.x,bottom:d.y,right:d.x},h=[];for(let b=0;b<i.length;b++)if(s=r[i[b]],s.hover)a.push(i[b]);else if(s.isSelected())o.push(i[b]);else if(t===!0){const g=s.draw(e);g.drawExternalLabel!=null&&h.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(c)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&h.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let f;const v=o.length,y=a.length;for(f=0;f<v;f++){s=r[o[f]];const b=s.draw(e);b.drawExternalLabel!=null&&h.push(b.drawExternalLabel)}for(f=0;f<y;f++){s=r[a[f]];const b=s.draw(e);b.drawExternalLabel!=null&&h.push(b.drawExternalLabel)}return{drawExternalLabels:()=>{for(const b of h)b()}}}_drawEdges(e){const t=this.body.edges,r=this.body.edgeIndices;for(let i=0;i<r.length;i++){const s=t[r[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const t=this.body.edges,r=this.body.edgeIndices;for(let i=0;i<r.length;i++){const s=t[r[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,r=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var Qy,EM;function KK(){if(EM)return Qy;EM=1,GF();var n=Ie();return Qy=n.setInterval,Qy}var em,$M;function YK(){return $M||($M=1,em=KK()),em}var XK=YK(),JK=ue(XK);function Ao(n,e){e.inputHandler=function(t){t.isFirst&&e(t)},n.on("hammer.input",e.inputHandler)}function WN(n,e){return e.inputHandler=function(t){t.isFinal&&e(t)},n.on("hammer.input",e.inputHandler)}class ZK{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Xe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",t=>{t.width!==0&&(this.body.view.translation.x=t.width*.5),t.height!==0&&(this.body.view.translation.y=t.height*.5)}),this.body.emitter.on("setSize",B(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&Zn(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var t;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=JK(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const r=B(t=this._onResize).call(t,this);window.addEventListener("resize",r),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",r)})}}_cleanUp(){var e,t,r;Te(e=Si(t=Tr(r=this._cleanupCallbacks).call(r,0)).call(t)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let r=this.cameraState.scale;e!=1&&t!=1?r=this.cameraState.scale*.5*(e+t):e!=1?r=this.cameraState.scale*e:t!=1&&(r=this.cameraState.scale*t),this.body.view.scale=r;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if($e(e).call(e,"%")!==-1||$e(e).call(e,"px")!==-1)return e;if($e(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new pn(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:pn.DIRECTION_ALL}),Ao(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new pn(this.frame),WN(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);let r=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},r=!0;else{const a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==l)&&this._getCameraState(o),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,r=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,r=!0)}return r===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,r}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let t=1;typeof window<"u"&&(t=window.devicePixelRatio||1);const r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function QK(n,e){const t=Xe({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},n??{});if(!Ue(t.nodes))throw new TypeError("Nodes has to be an array of ids.");if(t.nodes.length===0&&(t.nodes=e),!(typeof t.minZoomLevel=="number"&&t.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof t.maxZoomLevel=="number"&&t.minZoomLevel<=t.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return t}class e7{constructor(e,t){var r,i;this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",B(r=this.fit).call(r,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",B(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=QK(e,this.body.nodeIndices);const r=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,o;if(r===0||i===0)o=1,s=bt.getRange(this.body.nodes,e.nodes);else if(t===!0){let u=0;for(const h in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,h)&&this.body.nodes[h].predefinedPosition===!0&&(u+=1);if(u>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=bt.getRange(this.body.nodes,e.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const c=Math.min(r/600,i/600);o*=c}else{this.body.emitter.emit("_resizeNodes"),s=bt.getRange(this.body.nodes,e.nodes);const u=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,c=r/u,h=i/d;o=c<=h?c:h}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);const l={position:bt.findCenter(s),scale:o,animation:e.animation};this.moveTo(l)}focus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const r={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=r,t.lockedOnNode=e,this.moveTo(t)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!bi(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!bi(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!bi(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!bi(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.position.x,y:t.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+r.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+r.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=B(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=B(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.x,y:t.y-e.y},i=this.body.view.translation,s={x:i.x+r.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+r.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const t=lG[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var r;this.viewFunction=B(r=this._lockedRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function OM(n){var e=n&&n.preventDefault||!1,t=n&&n.container||window,r={},i={keydown:{},keyup:{}},s={},o;for(o=97;o<=122;o++)s[String.fromCharCode(o)]={code:65+(o-97),shift:!1};for(o=65;o<=90;o++)s[String.fromCharCode(o)]={code:o,shift:!0};for(o=0;o<=9;o++)s[""+o]={code:48+o,shift:!1};for(o=1;o<=12;o++)s["F"+o]={code:111+o,shift:!1};for(o=0;o<=9;o++)s["num"+o]={code:96+o,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(d){u(d,"keydown")},l=function(d){u(d,"keyup")},u=function(d,c){if(i[c][d.keyCode]!==void 0){for(var h=i[c][d.keyCode],f=0;f<h.length;f++)(h[f].shift===void 0||h[f].shift==!0&&d.shiftKey==!0||h[f].shift==!1&&d.shiftKey==!1)&&h[f].fn(d);e==!0&&d.preventDefault()}};return r.bind=function(d,c,h){if(h===void 0&&(h="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[h][s[d].code]===void 0&&(i[h][s[d].code]=[]),i[h][s[d].code].push({fn:c,shift:s[d].shift})},r.bindAll=function(d,c){c===void 0&&(c="keydown");for(var h in s)s.hasOwnProperty(h)&&r.bind(h,d,c)},r.getKey=function(d){for(var c in s)if(s.hasOwnProperty(c)){if(d.shiftKey==!0&&s[c].shift==!0&&d.keyCode==s[c].code)return c;if(d.shiftKey==!1&&s[c].shift==!1&&d.keyCode==s[c].code)return c;if(d.keyCode==s[c].code&&c=="shift")return c}return"unknown key, currently not supported"},r.unbind=function(d,c,h){if(h===void 0&&(h="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(c!==void 0){var f=[],v=i[h][s[d].code];if(v!==void 0)for(var y=0;y<v.length;y++)v[y].fn==c&&v[y].shift==s[d].shift||f.push(i[h][s[d].code][y]);i[h][s[d].code]=f}else i[h][s[d].code]=[]},r.reset=function(){i={keydown:{},keyup:{}}},r.destroy=function(){i={keydown:{},keyup:{}},t.removeEventListener("keydown",a,!0),t.removeEventListener("keyup",l,!0)},t.addEventListener("keydown",a,!0),t.addEventListener("keyup",l,!0),r}class t7{constructor(e,t){this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],t=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);const a=new pn(this.navigationDOM[e[o]]);if(t[o]==="_fit"){var r;Ao(a,B(r=this._fit).call(r,this))}else{var i;Ao(a,B(i=this.bindToRedraw).call(i,this,t[o]))}this.navigationHammers.push(a)}const s=new pn(this.canvas.frame);WN(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var t;this.boundFunctions[e]=B(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,i=t/e,s=(1-i)*this.canvas.canvasViewCenter.x+r.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+r.y*i;this.body.view.scale=t,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,i=t/e,s=(1-i)*this.canvas.canvasViewCenter.x+r.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+r.y*i;this.body.view.scale=t,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=OM({container:window,preventDefault:!0}):this.keycharm=OM({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,t,r,i,s,o,a,l,u,d,c,h,f,v,y,b,g,p,$,m,S,O,x,_;B(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),B(t=this.keycharm).call(t,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),B(r=this.keycharm).call(r,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),B(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),B(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),B(o=this.keycharm).call(o,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),B(a=this.keycharm).call(a,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),B(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),B(u=this.keycharm).call(u,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),B(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),B(c=this.keycharm).call(c,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),B(h=this.keycharm).call(h,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),B(f=this.keycharm).call(f,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),B(v=this.keycharm).call(v,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),B(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),B(b=this.keycharm).call(b,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),B(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),B(p=this.keycharm).call(p,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),B($=this.keycharm).call($,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),B(m=this.keycharm).call(m,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),B(S=this.keycharm).call(S,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),B(O=this.keycharm).call(O,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),B(x=this.keycharm).call(x,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),B(_=this.keycharm).call(_,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class r7{constructor(e,t,r){var i,s,o,a,l,u,d,c,h,f,v,y,b;this.body=e,this.canvas=t,this.selectionHandler=r,this.navigationHandler=new t7(e,t),this.body.eventListeners.onTap=B(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=B(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=B(o=this.onDoubleTap).call(o,this),this.body.eventListeners.onHold=B(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=B(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=B(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=B(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=B(c=this.onMouseWheel).call(c,this),this.body.eventListeners.onPinch=B(h=this.onPinch).call(h,this),this.body.eventListeners.onMouseMove=B(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=B(v=this.onRelease).call(v,this),this.body.eventListeners.onContext=B(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=B(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Xe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(ko(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Ft(this.options,e,"keyboard"),e.tooltip&&(Xe(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=nb(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-nG(this.canvas.frame.canvas),y:e.y-sG(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}onDoubleTap(e){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}onHold(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=new Date().valueOf()}}onContext(e){const t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,t){const r=function(i,s){const o=[];for(let a=0;a<i.length;a++){const l=i[a];$e(s).call(s,l)===-1&&o.push(l)}return o};return{nodes:r(e.nodes,t.nodes),edges:r(e.edges,t.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Xe({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const r=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)}}else if(t!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=t.id,t.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const r of this.selectionHandler.getSelectedNodes()){const i={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const t=this.getPointer(e.center),r=this.drag.selection;if(r&&r.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,t);const i=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;Te(r).call(r,o=>{const a=o.node;o.xFixed===!1&&(a.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(o.x)+i)),o.yFixed===!1&&(a.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(o.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(t.x),y:this.canvas._YconvertDOMtoCanvas(t.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var t;this.body.selectionBox.show=!1;const r=this.body.selectionBox.position,i={minX:Math.min(r.start.x,r.end.x),minY:Math.min(r.start.y,r.end.y),maxX:Math.max(r.start.x,r.end.x),maxY:Math.max(r.start.y,r.end.y)},s=Ot(t=this.body.nodeIndices).call(t,a=>{const l=this.body.nodes[a];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});Te(s).call(s,a=>this.selectionHandler.selectObject(this.body.nodes[a]));const o=this.getPointer(e.center);this.selectionHandler.commitAndEmit(o,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const r=this.drag.selection;r&&r.length?(Te(r).call(r,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const t=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const r=this.pinch.scale*e.scale;this.zoom(r,t)}zoom(e,t){if(this.options.zoomView===!0){const r=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,o=e/r,a=(1-o)*t.x+s.x*o,l=(1-o)*t.y+s.y*o;if(this.body.view.scale=e,this.body.view.translation={x:a,y:l},i!=null){const u=this.canvas.canvasToDOM(i);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),r<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let t=this.body.view.scale;t*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const r=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,r)}e.preventDefault()}}onMouseMove(e){const t=this.getPointer({x:e.clientX,y:e.clientY});let r=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(t),this.popup.hidden===!1&&(r=!0,this.popup.setPosition(t.x+3,t.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),r===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Pr(()=>this._checkShowPopup(t),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,t)}_checkShowPopup(e){const t=this.canvas._XconvertDOMtoCanvas(e.x),r=this.canvas._YconvertDOMtoCanvas(e.y),i={left:t,top:r,right:t,bottom:r},s=this.popupObj===void 0?void 0:this.popupObj.id;let o=!1,a="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,u=this.body.nodes;let d;const c=[];for(let h=0;h<l.length;h++)d=u[l[h]],d.isOverlappingWith(i)===!0&&(o=!0,d.getTitle()!==void 0&&c.push(l[h]));c.length>0&&(this.popupObj=u[c[c.length-1]],o=!0)}if(this.popupObj===void 0&&o===!1){const l=this.body.edgeIndices,u=this.body.edges;let d;const c=[];for(let h=0;h<l.length;h++)d=u[l[h]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&c.push(l[h]);c.length>0&&(this.popupObj=u[c[c.length-1]],a="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new gG(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const t=this.selectionHandler._pointerToPositionObject(e);let r=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(r=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t),r===!0)){const i=this.selectionHandler.getNodeAt(e);r=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(r=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));r===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var IM={},xM={},TM;function i7(){if(TM)return xM;TM=1;var n=c1(),e=qN();return n("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),xM}var PM;function n7(){return PM||(PM=1,i7()),IM}var RM={},tm,CM;function Ki(){if(CM)return tm;CM=1;var n=jn(),e=TypeError;return tm=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(n(t)+" is not a set")},tm}var rm,qM;function Yi(){if(qM)return rm;qM=1;var n=Dt(),e=kN(),t=n("Set"),r=t.prototype;return rm={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},rm}var im,kM;function Xi(){if(kM)return im;kM=1;var n=Rt();return im=function(e,t,r){for(var i=r?e:e.iterator,s=e.next,o,a;!(o=n(s,i)).done;)if(a=t(o.value),a!==void 0)return a},im}var nm,DM;function oo(){if(DM)return nm;DM=1;var n=Xi();return nm=function(e,t,r){return r?n(e.keys(),t,!0):e.forEach(t)},nm}var sm,MM;function m1(){if(MM)return sm;MM=1;var n=Yi(),e=oo(),t=n.Set,r=n.add;return sm=function(i){var s=new t;return e(i,function(o){r(s,o)}),s},sm}var om,AM;function ao(){return AM||(AM=1,om=function(n){return n.size}),om}var am,FM;function s7(){return FM||(FM=1,am=function(n){return{iterator:n,next:n.next,done:!1}}),am}var lm,NM;function Ji(){if(NM)return lm;NM=1;var n=Fr(),e=fr(),t=Rt(),r=Hn(),i=s7(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,u=function(d,c){this.set=d,this.size=l(c,0),this.has=n(d.has),this.keys=n(d.keys)};return u.prototype={getIterator:function(){return i(e(t(this.keys,this.set)))},includes:function(d){return t(this.has,this.set,d)}},lm=function(d){e(d);var c=+d.size;if(c!==c)throw new a(s);var h=r(c);if(h<0)throw new o(s);return new u(d,h)},lm}var um,BM;function o7(){if(BM)return um;BM=1;var n=Ki(),e=Yi(),t=m1(),r=ao(),i=Ji(),s=oo(),o=Xi(),a=e.has,l=e.remove;return um=function(d){var c=n(this),h=i(d),f=t(c);return r(c)<=h.size?s(c,function(v){h.includes(v)&&l(f,v)}):o(h.getIterator(),function(v){a(f,v)&&l(f,v)}),f},um}var dm,jM;function Zi(){return jM||(jM=1,dm=function(){return!1}),dm}var LM;function a7(){if(LM)return RM;LM=1;var n=ee(),e=o7(),t=be(),r=Zi(),i=!r("difference",function(o){return o.size===0}),s=i||t(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return a.has(1)&&a.clear(),{done:u,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return n({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),RM}var zM={},cm,WM;function l7(){if(WM)return cm;WM=1;var n=Ki(),e=Yi(),t=ao(),r=Ji(),i=oo(),s=Xi(),o=e.Set,a=e.add,l=e.has;return cm=function(d){var c=n(this),h=r(d),f=new o;return t(c)>h.size?s(h.getIterator(),function(v){l(c,v)&&a(f,v)}):i(c,function(v){h.includes(v)&&a(f,v)}),f},cm}var HM;function u7(){if(HM)return zM;HM=1;var n=ee(),e=be(),t=l7(),r=Zi(),i=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return n({target:"Set",proto:!0,real:!0,forced:i},{intersection:t}),zM}var VM={},hm,UM;function d7(){if(UM)return hm;UM=1;var n=Ki(),e=Yi().has,t=ao(),r=Ji(),i=oo(),s=Xi(),o=u1();return hm=function(l){var u=n(this),d=r(l);if(t(u)<=d.size)return i(u,function(h){if(d.includes(h))return!1},!0)!==!1;var c=d.getIterator();return s(c,function(h){if(e(u,h))return o(c,"normal",!1)})!==!1},hm}var GM;function c7(){if(GM)return VM;GM=1;var n=ee(),e=d7(),t=Zi(),r=!t("isDisjointFrom",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),VM}var KM={},fm,YM;function h7(){if(YM)return fm;YM=1;var n=Ki(),e=ao(),t=oo(),r=Ji();return fm=function(s){var o=n(this),a=r(s);return e(o)>a.size?!1:t(o,function(l){if(!a.includes(l))return!1},!0)!==!1},fm}var XM;function f7(){if(XM)return KM;XM=1;var n=ee(),e=h7(),t=Zi(),r=!t("isSubsetOf",function(i){return i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),KM}var JM={},vm,ZM;function v7(){if(ZM)return vm;ZM=1;var n=Ki(),e=Yi().has,t=ao(),r=Ji(),i=Xi(),s=u1();return vm=function(a){var l=n(this),u=r(a);if(t(l)<u.size)return!1;var d=u.getIterator();return i(d,function(c){if(!e(l,c))return s(d,"normal",!1)})!==!1},vm}var QM;function p7(){if(QM)return JM;QM=1;var n=ee(),e=v7(),t=Zi(),r=!t("isSupersetOf",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),JM}var eA={},pm,tA;function g7(){if(tA)return pm;tA=1;var n=Ki(),e=Yi(),t=m1(),r=Ji(),i=Xi(),s=e.add,o=e.has,a=e.remove;return pm=function(u){var d=n(this),c=r(u).getIterator(),h=t(d);return i(c,function(f){o(d,f)?a(h,f):s(h,f)}),h},pm}var gm,rA;function HN(){return rA||(rA=1,gm=function(n){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[n](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),gm}var iA;function y7(){if(iA)return eA;iA=1;var n=ee(),e=g7(),t=HN(),r=Zi(),i=!r("symmetricDifference")||!t("symmetricDifference");return n({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),eA}var nA={},ym,sA;function m7(){if(sA)return ym;sA=1;var n=Ki(),e=Yi().add,t=m1(),r=Ji(),i=Xi();return ym=function(o){var a=n(this),l=r(o).getIterator(),u=t(a);return i(l,function(d){e(u,d)}),u},ym}var oA;function b7(){if(oA)return nA;oA=1;var n=ee(),e=m7(),t=HN(),r=Zi(),i=!r("union")||!t("union");return n({target:"Set",proto:!0,real:!0,forced:i},{union:e}),nA}var mm,aA;function _7(){if(aA)return mm;aA=1,Kn(),n7(),a7(),u7(),c7(),f7(),p7(),y7(),b7(),f1();var n=Ie();return mm=n.Set,mm}var bm,lA;function w7(){if(lA)return bm;lA=1;var n=_7();return Yn(),bm=n,bm}var _m,uA;function S7(){return uA||(uA=1,_m=w7()),_m}var E7=S7(),Ur=ue(E7),dA={},cA={},wm,hA;function $7(){if(hA)return wm;hA=1;var n=_e(),e=h1(),t=va().getWeakData,r=d1(),i=fr(),s=Fn(),o=ut(),a=pa(),l=li(),u=ft(),d=Vi(),c=d.set,h=d.getterFor,f=l.find,v=l.findIndex,y=n([].splice),b=0,g=function(m){return m.frozen||(m.frozen=new p)},p=function(){this.entries=[]},$=function(m,S){return f(m.entries,function(O){return O[0]===S})};return p.prototype={get:function(m){var S=$(this,m);if(S)return S[1]},has:function(m){return!!$(this,m)},set:function(m,S){var O=$(this,m);O?O[1]=S:this.entries.push([m,S])},delete:function(m){var S=v(this.entries,function(O){return O[0]===m});return~S&&y(this.entries,S,1),!!~S}},wm={getConstructor:function(m,S,O,x){var _=m(function(R,C){r(R,E),c(R,{type:S,id:b++,frozen:null}),s(C)||a(C,R[x],{that:R,AS_ENTRIES:O})}),E=_.prototype,T=h(S),P=function(R,C,A){var L=T(R),ne=t(i(C),!0);return ne===!0?g(L).set(C,A):ne[L.id]=A,R};return e(E,{delete:function(R){var C=T(this);if(!o(R))return!1;var A=t(R);return A===!0?g(C).delete(R):A&&u(A,C.id)&&delete A[C.id]},has:function(C){var A=T(this);if(!o(C))return!1;var L=t(C);return L===!0?g(A).has(C):L&&u(L,A.id)}}),e(E,O?{get:function(C){var A=T(this);if(o(C)){var L=t(C);if(L===!0)return g(A).get(C);if(L)return L[A.id]}},set:function(C,A){return P(this,C,A)}}:{add:function(C){return P(this,C,!0)}}),_}},wm}var fA;function O7(){if(fA)return cA;fA=1;var n=RN(),e=Ne(),t=_e(),r=h1(),i=va(),s=c1(),o=$7(),a=ut(),l=Vi().enforce,u=be(),d=qF(),c=Object,h=Array.isArray,f=c.isExtensible,v=c.isFrozen,y=c.isSealed,b=c.freeze,g=c.seal,p=!e.ActiveXObject&&"ActiveXObject"in e,$,m=function(R){return function(){return R(this,arguments.length?arguments[0]:void 0)}},S=s("WeakMap",m,o),O=S.prototype,x=t(O.set),_=function(){return n&&u(function(){var R=b([]);return x(new S,R,1),!v(R)})};if(d)if(p){$=o.getConstructor(m,"WeakMap",!0),i.enable();var E=t(O.delete),T=t(O.has),P=t(O.get);r(O,{delete:function(R){if(a(R)&&!f(R)){var C=l(this);return C.frozen||(C.frozen=new $),E(this,R)||C.frozen.delete(R)}return E(this,R)},has:function(C){if(a(C)&&!f(C)){var A=l(this);return A.frozen||(A.frozen=new $),T(this,C)||A.frozen.has(C)}return T(this,C)},get:function(C){if(a(C)&&!f(C)){var A=l(this);return A.frozen||(A.frozen=new $),T(this,C)?P(this,C):A.frozen.get(C)}return P(this,C)},set:function(C,A){if(a(C)&&!f(C)){var L=l(this);L.frozen||(L.frozen=new $),T(this,C)?x(this,C,A):L.frozen.set(C,A)}else x(this,C,A);return this}})}else _()&&r(O,{set:function(C,A){var L;return h(C)&&(v(C)?L=b:y(C)&&(L=g)),x(this,C,A),L&&L(C),this}});return cA}var vA;function I7(){return vA||(vA=1,O7()),dA}var Sm,pA;function x7(){if(pA)return Sm;pA=1,Kn(),I7();var n=Ie();return Sm=n.WeakMap,Sm}var Em,gA;function T7(){if(gA)return Em;gA=1;var n=x7();return Yn(),Em=n,Em}var $m,yA;function P7(){return yA||(yA=1,$m=T7()),$m}var R7=P7(),lo=ue(R7);function vs(n,e,t){C7(n,e),e.set(n,t)}function C7(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function db(n,e,t){return n.set(VN(n,e),t),t}function Re(n,e){return n.get(VN(n,e))}function VN(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function mA(n,e){const t=new Ur;for(const r of e)n.has(r)||t.add(r);return t}var sn=new lo,Kt=new lo;class bA{constructor(){vs(this,sn,new Ur),vs(this,Kt,new Ur)}get size(){return Re(Kt,this).size}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const i of t)Re(Kt,this).add(i)}delete(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const i of t)Re(Kt,this).delete(i)}clear(){Re(Kt,this).clear()}getSelection(){return[...Re(Kt,this)]}getChanges(){return{added:[...mA(Re(sn,this),Re(Kt,this))],deleted:[...mA(Re(Kt,this),Re(sn,this))],previous:[...new Ur(Re(sn,this))],current:[...new Ur(Re(Kt,this))]}}commit(){const e=this.getChanges();db(sn,this,Re(Kt,this)),db(Kt,this,new Ur(Re(sn,this)));for(const t of e.added)t.select();for(const t of e.deleted)t.unselect();return e}}var vi=new lo,pi=new lo,Om=new lo;class q7{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};vs(this,vi,new bA),vs(this,pi,new bA),vs(this,Om,void 0),db(Om,this,e)}get sizeNodes(){return Re(vi,this).size}get sizeEdges(){return Re(pi,this).size}getNodes(){return Re(vi,this).getSelection()}getEdges(){return Re(pi,this).getSelection()}addNodes(){Re(vi,this).add(...arguments)}addEdges(){Re(pi,this).add(...arguments)}deleteNodes(e){Re(vi,this).delete(e)}deleteEdges(e){Re(pi,this).delete(e)}clear(){Re(vi,this).clear(),Re(pi,this).clear()}commit(){const e={nodes:Re(vi,this).commit(),edges:Re(pi,this).commit()};for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Re(Om,this).call(this,e,...r),e}}class k7{constructor(e,t){this.body=e,this.canvas=t,this._selectionAccumulator=new q7,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Xe(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&Zn(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),r!==void 0&&(t=this.selectObject(r)),this.body.emitter.emit("_requestRedraw")}return t}selectAdditionalOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);r!==void 0&&(t=!0,r.isSelected()===!0?this.deselectObject(r):this.selectObject(r),this.body.emitter.emit("_requestRedraw"))}return t}_initBaseEvent(e,t){const r={};return r.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},r.event=e,r}generateClickEvent(e,t,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const o=this._initBaseEvent(t,r);if(s===!0)o.nodes=[],o.edges=[];else{const a=this.getSelection();o.nodes=a.nodes,o.edges=a.edges}i!==void 0&&(o.previousSelection=i),e=="click"&&(o.items=this.getClickedItems(r)),t.controlEdge!==void 0&&(o.controlEdge=t.controlEdge),this.body.emitter.emit(e,o)}selectObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof Fe?(t===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const t=[],r=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];r[s].isOverlappingWith(e)&&t.push(s)}return t}_pointerToPositionObject(e){const t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}getNodeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(r);if(i.length>0)return t===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,t){const r=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];r[s].isOverlappingWith(e)&&t.push(s)}}_getAllEdgesOverlappingWith(e){const t=[];return this._getEdgesOverlappingWith(e,t),t}getEdgeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this.canvas.DOMtoCanvas(e);let i=10,s=null;const o=this.body.edges;for(let a=0;a<this.body.edgeIndices.length;a++){const l=this.body.edgeIndices[a],u=o[l];if(u.connected){const d=u.from.x,c=u.from.y,h=u.to.x,f=u.to.y,v=u.edgeType.getDistanceToEdge(d,c,h,f,r.x,r.y);v<i&&(s=l,i=v)}}if(s!==null)return t===!0?this.body.edges[s]:s}_addToHover(e){e instanceof Fe?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof Fe?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let t=0;t<e.edges.length;t++){const r=e.edges[t];r.hover=!0,this._addToHover(r)}}emitBlurEvent(e,t,r){const i=this._initBaseEvent(e,t);r.hover===!0&&(r.hover=!1,r instanceof Fe?(i.node=r.id,this.body.emitter.emit("blurNode",i)):(i.edge=r.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,t,r){const i=this._initBaseEvent(e,t);let s=!1;return r.hover===!1&&(r.hover=!0,this._addToHover(r),s=!0,r instanceof Fe?(i.node=r.id,this.body.emitter.emit("hoverNode",i)):(i.edge=r.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,t){let r=this.getNodeAt(t);r===void 0&&(r=this.getEdgeAt(t));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(r===void 0||r instanceof Fe&&r.id!=s||r instanceof Qr)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(r===void 0||r instanceof Qr&&r.id!=s||r instanceof Fe&&!r.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(r!==void 0){const s=Ve(this.hoverObj.edges).length,o=Ve(this.hoverObj.nodes).length,a=r instanceof Qr&&s===0&&o===0,l=r instanceof Fe&&s===0&&o===0;(i||a||l)&&(i=this.emitHoverEvent(e,t,r)),r instanceof Fe&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(r)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,t){let r=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,s),r=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,s),r=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),r=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),r=!0),r===!0&&this.generateClickEvent("select",t,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return wn(e=this._selectionAccumulator.getNodes()).call(e,t=>t.id)}getSelectedEdgeIds(){var e;return wn(e=this._selectionAccumulator.getEdges()).call(e,t=>t.id)}setSelection(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||t.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const r of e.nodes){const i=this.body.nodes[r];if(!i)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(i,t.highlightEdges)}if(e.edges)for(const r of e.edges){const i=this.body.edges[r];if(!i)throw new RangeError('Edge with id "'+r+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const t=this.canvas.DOMtoCanvas(e),r=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const d=s[i[l]].getItemsOnPoint(t);r.push.apply(r,d)}const o=this.body.edgeIndices,a=this.body.edges;for(let l=o.length-1;l>=0;l--){const d=a[o[l]].getItemsOnPoint(t);r.push.apply(r,d)}return r}}var _A={},Im,wA;function D7(){if(wA)return Im;wA=1;var n=Vn(),e=Math.floor,t=function(r,i){var s=r.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=r[o];l&&i(r[l-1],a)>0;)r[l]=r[--l];l!==o++&&(r[l]=a)}else for(var u=e(s/2),d=t(n(r,0,u),i),c=t(n(r,u),i),h=d.length,f=c.length,v=0,y=0;v<h||y<f;)r[v+y]=v<h&&y<f?i(d[v],c[y])<=0?d[v++]:c[y++]:v<h?d[v++]:c[y++];return r};return Im=t,Im}var xm,SA;function M7(){if(SA)return xm;SA=1;var n=Nn(),e=n.match(/firefox\/(\d+)/i);return xm=!!e&&+e[1],xm}var Tm,EA;function A7(){if(EA)return Tm;EA=1;var n=Nn();return Tm=/MSIE|Trident/.test(n),Tm}var Pm,$A;function F7(){if($A)return Pm;$A=1;var n=Nn(),e=n.match(/AppleWebKit\/(\d+)\./);return Pm=!!e&&+e[1],Pm}var OA;function N7(){if(OA)return _A;OA=1;var n=ee(),e=_e(),t=Fr(),r=Mt(),i=Nr(),s=WF(),o=Ht(),a=be(),l=D7(),u=Xn(),d=M7(),c=A7(),h=Us(),f=F7(),v=[],y=e(v.sort),b=e(v.push),g=a(function(){v.sort(void 0)}),p=a(function(){v.sort(null)}),$=u("sort"),m=!a(function(){if(h)return h<70;if(!(d&&d>3)){if(c)return!0;if(f)return f<603;var x="",_,E,T,P;for(_=65;_<76;_++){switch(E=String.fromCharCode(_),_){case 66:case 69:case 70:case 72:T=3;break;case 68:case 71:T=4;break;default:T=2}for(P=0;P<47;P++)v.push({k:E+P,v:T})}for(v.sort(function(R,C){return C.v-R.v}),P=0;P<v.length;P++)E=v[P].k.charAt(0),x.charAt(x.length-1)!==E&&(x+=E);return x!=="DGBEFHACIJK"}}),S=g||!p||!$||!m,O=function(x){return function(_,E){return E===void 0?-1:_===void 0?1:x!==void 0?+x(_,E)||0:o(_)>o(E)?1:-1}};return n({target:"Array",proto:!0,forced:S},{sort:function(_){_!==void 0&&t(_);var E=r(this);if(m)return _===void 0?y(E):y(E,_);var T=[],P=i(E),R,C;for(C=0;C<P;C++)C in E&&b(T,E[C]);for(l(T,O(_)),R=i(T),C=0;C<R;)E[C]=T[C++];for(;C<P;)s(E,C++);return E}}),_A}var Rm,IA;function B7(){if(IA)return Rm;IA=1,N7();var n=vt();return Rm=n("Array","sort"),Rm}var Cm,xA;function j7(){if(xA)return Cm;xA=1;var n=et(),e=B7(),t=Array.prototype;return Cm=function(r){var i=r.sort;return r===t||n(t,r)&&i===t.sort?e:i},Cm}var qm,TA;function L7(){if(TA)return qm;TA=1;var n=j7();return qm=n,qm}var km,PA;function z7(){return PA||(PA=1,km=L7()),km}var W7=z7(),yn=ue(W7),RA={},Dm,CA;function H7(){if(CA)return Dm;CA=1;var n=Fr(),e=Mt(),t=ea(),r=Nr(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,u,d,c){var h=e(l),f=t(h),v=r(h);if(n(u),v===0&&d<2)throw new i(s);var y=a?v-1:0,b=a?-1:1;if(d<2)for(;;){if(y in f){c=f[y],y+=b;break}if(y+=b,a?y<0:v<=y)throw new i(s)}for(;a?y>=0:v>y;y+=b)y in f&&(c=u(c,f[y],y,h));return c}};return Dm={left:o(!1),right:o(!0)},Dm}var Mm,qA;function V7(){if(qA)return Mm;qA=1;var n=VF();return Mm=n==="NODE",Mm}var kA;function U7(){if(kA)return RA;kA=1;var n=ee(),e=H7().left,t=Xn(),r=Us(),i=V7(),s=!i&&r>79&&r<83,o=s||!t("reduce");return n({target:"Array",proto:!0,forced:o},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),RA}var Am,DA;function G7(){if(DA)return Am;DA=1,U7();var n=vt();return Am=n("Array","reduce"),Am}var Fm,MA;function K7(){if(MA)return Fm;MA=1;var n=et(),e=G7(),t=Array.prototype;return Fm=function(r){var i=r.reduce;return r===t||n(t,r)&&i===t.reduce?e:i},Fm}var Nm,AA;function Y7(){if(AA)return Nm;AA=1;var n=K7();return Nm=n,Nm}var Bm,FA;function X7(){return FA||(FA=1,Bm=Y7()),Bm}var J7=X7(),UN=ue(J7);class GN{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,t,r),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,t){this.fake_use(e,t),this.abstract()}shift(e,t){this.fake_use(e,t),this.abstract()}}class Z7 extends GN{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.x=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}sort(e){yn(e).call(e,function(t,r){return t.x-r.x})}fix(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}shift(e,t){this.layout.body.nodes[e].x+=t}}class Q7 extends GN{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.y=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}sort(e){yn(e).call(e,function(t,r){return t.y-r.y})}fix(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}shift(e,t){this.layout.body.nodes[e].y+=t}}var NA={},BA;function e9(){if(BA)return NA;BA=1;var n=ee(),e=li().every,t=Xn(),r=t("every");return n({target:"Array",proto:!0,forced:!r},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),NA}var jm,jA;function t9(){if(jA)return jm;jA=1,e9();var n=vt();return jm=n("Array","every"),jm}var Lm,LA;function r9(){if(LA)return Lm;LA=1;var n=et(),e=t9(),t=Array.prototype;return Lm=function(r){var i=r.every;return r===t||n(t,r)&&i===t.every?e:i},Lm}var zm,zA;function i9(){if(zA)return zm;zA=1;var n=r9();return zm=n,zm}var Wm,WA;function n9(){return WA||(WA=1,Wm=i9()),Wm}var s9=n9(),KN=ue(s9);function o9(n,e){const t=new Ur;return Te(n).call(n,r=>{var i;Te(i=r.edges).call(i,s=>{s.connected&&t.add(s)})}),Te(t).call(t,r=>{const i=r.from.id,s=r.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function a9(n){return YN(e=>{var t,r;return KN(t=Ot(r=e.edges).call(r,i=>n.has(i.toId))).call(t,i=>i.to===e)},(e,t)=>t>e,"from",n)}function l9(n){return YN(e=>{var t,r;return KN(t=Ot(r=e.edges).call(r,i=>n.has(i.toId))).call(t,i=>i.from===e)},(e,t)=>t<e,"to",n)}function YN(n,e,t,r){var i;const s=Ei(null),o=UN(i=[...BN(r).call(r)]).call(i,(c,h)=>c+1+h.edges.length,0),a=t+"Id",l=t==="to"?1:-1;for(const[c,h]of r){if(!r.has(c)||!n(h))continue;s[c]=0;const f=[h];let v=0,y;for(;y=f.pop();){var u,d;if(!r.has(c))continue;const b=s[y.id]+l;if(Te(u=Ot(d=y.edges).call(d,g=>g.connected&&g.to!==g.from&&g[t]!==y&&r.has(g.toId)&&r.has(g.fromId))).call(u,g=>{const p=g[a],$=s[p];($==null||e(b,$))&&(s[p]=b,f.push(g[t]))}),v>o)return o9(r,s);++v}}return s}class u9{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,t){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),this.parentReference[t]===void 0&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,t){t!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const t={},r=i=>{if(t[i]!==void 0)return t[i];let s=this.levels[i];if(this.childrenReference[i]){const o=this.childrenReference[i];if(o.length>0)for(let a=0;a<o.length;a++)s=Math.max(s,r(o[a]))}return t[i]=s,s};return r(e)}levelDownstream(e,t){this.levels[t.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const t=new v1;let r=0;const i=yn(e=[...new Ur($V(this.levels))]).call(e,(s,o)=>s-o);for(const s of i)t.set(s,r++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=t.get(this.levels[s]))}getTreeSize(e,t){let r=1e9,i=-1e9,s=1e9,o=-1e9;for(const a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===t){const l=e[a];r=Math.min(l.x,r),i=Math.max(l.x,i),s=Math.min(l.y,s),o=Math.max(l.y,o)}return{min_x:r,max_x:i,min_y:s,max_y:o}}hasSameParent(e,t){const r=this.parentReference[e.id],i=this.parentReference[t.id];if(r===void 0||i===void 0)return!1;for(let s=0;s<r.length;s++)for(let o=0;o<i.length;o++)if(r[s]==i[o])return!0;return!1}inSameSubNetwork(e,t){return this.trees[e.id]===this.trees[t.id]}getLevels(){return Ve(this.distributionOrdering)}addToOrdering(e,t){this.distributionOrdering[t]===void 0&&(this.distributionOrdering[t]=[]);let r=!1;const i=this.distributionOrdering[t];for(const s in i)if(i[s]===e){r=!0;break}r||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}class d9{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Po()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Xe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,t){if(e!==void 0){const r=this.options.hierarchical,i=r.enabled;if(Zn(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Ft(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),r.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),r.direction==="RL"||r.direction==="DU"?r.levelSeparation>0&&(r.levelSeparation*=-1):r.levelSeparation<0&&(r.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(i===!0)return this.body.emitter.emit("refresh"),Ce(t,this.optionsBackup)}return t}_resetRNG(e){this.initialRandomSeed=e,this._rng=fa(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const t=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:t.enabled===void 0?!0:t.enabled,solver:"hierarchicalRepulsion"},t.enabled=t.enabled===void 0?!0:t.enabled,t.solver=t.solver||"barnesHut"):typeof e.physics=="object"?(t.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let r=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:r};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(r=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:r,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",r)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const t=e.length+50;for(let r=0;r<e.length;r++){const i=e[r],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=t*Math.cos(s)),i.y===void 0&&(i.y=t*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let t=0;for(let r=0;r<e.length;r++)this.body.nodes[e[r]].predefinedPosition===!0&&(t+=1);if(t<.5*e.length){let i=0;const s=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const u=e.length;i%3===0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o);const d=e.length;if(u==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const a=70;for(let l=0;l<e.length;l++){const u=this.body.nodes[e[l]];u.predefinedPosition===!1&&(u.x+=(.5-this._rng())*a,u.y+=(.5-this._rng())*a)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=bt.getRangeCore(this.body.nodes,this.body.nodeIndices),t=bt.findCenter(e);for(let r=0;r<this.body.nodeIndices.length;r++){const i=this.body.nodes[this.body.nodeIndices[r]];i.x-=t.x,i.y-=t.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let t=0;t<this.body.nodeIndices.length;t++)this.body.nodes[this.body.nodeIndices[t]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,t,r=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new u9;for(t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&(e=this.body.nodes[t],e.options.level!==void 0?(r=!0,this.hierarchical.levels[t]=e.options.level):i=!0);if(i===!0&&r===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const o=this.options.hierarchical.sortMethod;o==="hubsize"?this._determineLevelsByHubsize():o==="directed"?this._determineLevelsDirected():o==="custom"&&this._determineLevelsCustomCallback()}for(const o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let t=!1;const r={},i=()=>{const g=o();let p=0;for(let $=0;$<g.length-1;$++){const m=g[$].max-g[$+1].min;p+=m+this.options.hierarchical.treeSpacing,s($+1,p)}},s=(g,p)=>{const $=this.hierarchical.trees;for(const m in $)Object.prototype.hasOwnProperty.call($,m)&&$[m]===g&&this.direction.shift(m,p)},o=()=>{const g=[];for(let p=0;p<this.hierarchical.numTrees();p++)g.push(this.direction.getTreeSize(p));return g},a=(g,p)=>{if(!p[g.id]&&(p[g.id]=!0,this.hierarchical.childrenReference[g.id])){const $=this.hierarchical.childrenReference[g.id];if($.length>0)for(let m=0;m<$.length;m++)a(this.body.nodes[$[m]],p)}},l=function(g){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,$=1e9,m=1e9,S=1e9,O=-1e9;for(const x in g)if(Object.prototype.hasOwnProperty.call(g,x)){const _=e.body.nodes[x],E=e.hierarchical.levels[_.id],T=e.direction.getPosition(_),[P,R]=e._getSpaceAroundNode(_,g);$=Math.min(P,$),m=Math.min(R,m),E<=p&&(S=Math.min(T,S),O=Math.max(T,O))}return[S,O,$,m]},u=(g,p)=>{const $=this.hierarchical.getMaxLevel(g.id),m=this.hierarchical.getMaxLevel(p.id);return Math.min($,m)},d=(g,p,$)=>{const m=this.hierarchical;for(let S=0;S<p.length;S++){const O=p[S],x=m.distributionOrdering[O];if(x.length>1)for(let _=0;_<x.length-1;_++){const E=x[_],T=x[_+1];m.hasSameParent(E,T)&&m.inSameSubNetwork(E,T)&&g(E,T,$)}}},c=function(g,p){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const m=e.direction.getPosition(g),S=e.direction.getPosition(p),O=Math.abs(S-m),x=e.options.hierarchical.nodeSpacing;if(O>x){const _={},E={};a(g,_),a(p,E);const T=u(g,p),P=l(_,T),R=l(E,T),C=P[1],A=R[0],L=R[2];if(Math.abs(C-A)>x){let V=C-A+x;V<-L+x&&(V=-L+x),V<0&&(e._shiftBlock(p.id,V),t=!0,$===!0&&e._centerParent(p))}}},h=(g,p)=>{const $=p.id,m=p.edges,S=this.hierarchical.levels[p.id],O=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,x={},_=[];for(let L=0;L<m.length;L++){const ne=m[L];if(ne.toId!=ne.fromId){const V=ne.toId==$?ne.from:ne.to;x[m[L].id]=V,this.hierarchical.levels[V.id]<S&&_.push(ne)}}const E=(L,ne)=>{let V=0;for(let ae=0;ae<ne.length;ae++)if(x[ne[ae].id]!==void 0){const de=this.direction.getPosition(x[ne[ae].id])-L;V+=de/Math.sqrt(de*de+O)}return V},T=(L,ne)=>{let V=0;for(let ae=0;ae<ne.length;ae++)if(x[ne[ae].id]!==void 0){const de=this.direction.getPosition(x[ne[ae].id])-L;V-=O*Math.pow(de*de+O,-1.5)}return V},P=(L,ne)=>{let V=this.direction.getPosition(p);const ae={};for(let de=0;de<L;de++){const fe=E(V,ne),G=T(V,ne),pe=40,ce=Math.max(-pe,Math.min(pe,Math.round(fe/G)));if(V=V-ce,ae[V]!==void 0)break;ae[V]=de}return V},R=L=>{const ne=this.direction.getPosition(p);if(r[p.id]===void 0){const pe={};a(p,pe),r[p.id]=pe}const V=l(r[p.id]),ae=V[2],de=V[3],fe=L-ne;let G=0;fe>0?G=Math.min(fe,de-this.options.hierarchical.nodeSpacing):fe<0&&(G=-Math.min(-fe,ae-this.options.hierarchical.nodeSpacing)),G!=0&&(this._shiftBlock(p.id,G),t=!0)},C=L=>{const ne=this.direction.getPosition(p),[V,ae]=this._getSpaceAroundNode(p),de=L-ne;let fe=ne;de>0?fe=Math.min(ne+(ae-this.options.hierarchical.nodeSpacing),L):de<0&&(fe=Math.max(ne-(V-this.options.hierarchical.nodeSpacing),L)),fe!==ne&&(this.direction.setPosition(p,fe),t=!0)};let A=P(g,_);R(A),A=P(g,m),C(A)},f=g=>{let p=this.hierarchical.getLevels();p=Si(p).call(p);for(let $=0;$<g;$++){t=!1;for(let m=0;m<p.length;m++){const S=p[m],O=this.hierarchical.distributionOrdering[S];for(let x=0;x<O.length;x++)h(1e3,O[x])}if(t!==!0)break}},v=g=>{let p=this.hierarchical.getLevels();p=Si(p).call(p);for(let $=0;$<g&&(t=!1,d(c,p,!0),t===!0);$++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},b=()=>{let g=this.hierarchical.getLevels();g=Si(g).call(g);for(let p=0;p<g.length;p++){const $=g[p],m=this.hierarchical.distributionOrdering[$];for(let S=0;S<m.length;S++)this._centerParent(m[S])}};this.options.hierarchical.blockShifting===!0&&(v(5),y()),this.options.hierarchical.edgeMinimization===!0&&f(20),this.options.hierarchical.parentCentralization===!0&&b(),i()}_getSpaceAroundNode(e,t){let r=!0;t===void 0&&(r=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[i];let l=1e9,u=1e9;if(s!==0){const d=a[s-1];if(r===!0&&t[d.id]===void 0||r===!1){const c=this.direction.getPosition(d);l=o-c}}if(s!=a.length-1){const d=a[s+1];if(r===!0&&t[d.id]===void 0||r===!1){const c=this.direction.getPosition(d);u=Math.min(u,c-o)}}return[l,u]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const t=this.hierarchical.parentReference[e.id];for(let r=0;r<t.length;r++){const i=t[r],s=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(o!==void 0){const a=this._getCenterPosition(o),l=this.direction.getPosition(s),[u,d]=this._getSpaceAroundNode(s),c=l-a;(c<0&&Math.abs(c)<d-this.options.hierarchical.nodeSpacing||c>0&&Math.abs(c)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,a)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var t;let i=Ve(e[r]);i=this._indexArrayToNodes(i),yn(t=this.direction).call(t,i);let s=0;for(let o=0;o<i.length;o++){const a=i[o];if(this.positionedNodes[a.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let u=l*s;s>0&&(u=this.direction.getPosition(i[o-1])+l),this.direction.setPosition(a,u,r),this._validatePositionAndContinue(a,r,u),s++}}}}_placeBranchNodes(e,t){var r;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let a=0;a<i.length;a++)s.push(this.body.nodes[i[a]]);yn(r=this.direction).call(r,s);for(let a=0;a<s.length;a++){const l=s[a],u=this.hierarchical.levels[l.id];if(u>t&&this.positionedNodes[l.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let c;a===0?c=this.direction.getPosition(this.body.nodes[e]):c=this.direction.getPosition(s[a-1])+d,this.direction.setPosition(l,c,u),this._validatePositionAndContinue(l,u,c)}else return}const o=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],o,t)}_validatePositionAndContinue(e,t,r){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[t]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(r-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-r,o=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(o.withChild,s)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}_indexArrayToNodes(e){const t=[];for(let r=0;r<e.length;r++)t.push(this.body.nodes[e[r]]);return t}_getDistribution(){const e={};let t,r;for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){r=this.body.nodes[t];const i=this.hierarchical.levels[t]===void 0?0:this.hierarchical.levels[t];this.direction.fix(r,i),e[i]===void 0&&(e[i]={}),e[i][t]=r}return e}_getActiveEdges(e){const t=[];return ye(e.edges,r=>{var i;$e(i=this.body.edgeIndices).call(i,r.id)!==-1&&t.push(r)}),t}_getHubSizes(){const e={},t=this.body.nodeIndices;ye(t,i=>{const s=this.body.nodes[i],o=this._getActiveEdges(s).length;e[o]=!0});const r=[];return ye(e,i=>{r.push(Number(i))}),yn(r).call(r,function(i,s){return s-i}),r}_determineLevelsByHubsize(){const e=(r,i)=>{this.hierarchical.levelDownstream(r,i)},t=this._getHubSizes();for(let r=0;r<t.length;++r){const i=t[r];if(i===0)break;ye(this.body.nodeIndices,s=>{const o=this.body.nodes[s];i===this._getActiveEdges(o).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const t=function(i,s,o){},r=(i,s,o)=>{let a=this.hierarchical.levels[i.id];a===void 0&&(a=this.hierarchical.levels[i.id]=1e5);const l=t(bt.cloneOptions(i,"node"),bt.cloneOptions(s,"node"),bt.cloneOptions(o,"edge"));this.hierarchical.levels[s.id]=a+l};this._crawlNetwork(r),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const t=UN(e=this.body.nodeIndices).call(e,(r,i)=>(r.set(i,this.body.nodes[i]),r),new v1);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=l9(t):this.hierarchical.levels=a9(t),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(t,r)=>{this.hierarchical.levels[r.id]>this.hierarchical.levels[t.id]&&this.hierarchical.addRelation(t.id,r.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0;const r={},i=(s,o)=>{if(r[s.id]===void 0){this.hierarchical.setTreeIndex(s,o),r[s.id]=!0;let a;const l=this._getActiveEdges(s);for(let u=0;u<l.length;u++){const d=l[u];d.connected===!0&&(d.toId==s.id?a=d.from:a=d.to,s.id!=a.id&&(e(s,a,d),i(a,o)))}}};if(t===void 0){let s=0;for(let o=0;o<this.body.nodeIndices.length;o++){const a=this.body.nodeIndices[o];if(r[a]===void 0){const l=this.body.nodes[a];i(l,s),s+=1}}}else{const s=this.body.nodes[t];if(s===void 0){console.error("Node not found:",t);return}i(s)}}_shiftBlock(e,t){const r={},i=s=>{if(r[s])return;r[s]=!0,this.direction.shift(s,t);const o=this.hierarchical.childrenReference[s];if(o!==void 0)for(let a=0;a<o.length;a++)i(o[a])};i(e)}_findCommonParent(e,t){const r={},i=(o,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let u=0;u<l.length;u++){const d=l[u];o[d]=!0,i(o,d)}},s=(o,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let u=0;u<l.length;u++){const d=l[u];if(o[d]!==void 0)return{foundParent:d,withChild:a};const c=s(o,d);if(c.foundParent!==null)return c}return{foundParent:null,withChild:a}};return i(r,e),s(r,t)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new Z7(this):this.direction=new Q7(this)}_getCenterPosition(e){let t=1e9,r=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const a=e[i];s=this.body.nodes[a]}const o=this.direction.getPosition(s);t=Math.min(t,o),r=Math.max(r,o)}return .5*(t+r)}}class c9{constructor(e,t,r,i){var s,o;this.body=e,this.canvas=t,this.selectionHandler=r,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Xe(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",B(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",B(o=this._restore).call(o,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,t,r){t!==void 0&&(t.locale!==void 0?this.options.locale=t.locale:this.options.locale=r.locale,t.locales!==void 0?this.options.locales=t.locales:this.options.locales=r.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,Ce(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const r=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=r+i,o=this.options.locales[this.options.locale];let a=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),a=!0),this.options.addEdge!==!1&&(a===!0?this._createSeperator(1):a=!0,this._createAddEdgeButton(o)),r===1&&typeof this.options.editNode=="function"?(a===!0?this._createSeperator(2):a=!0,this._createEditNodeButton(o)):i===1&&r===0&&this.options.editEdge!==!1&&(a===!0?this._createSeperator(3):a=!0,this._createEditEdgeButton(o)),s!==0&&(r>0&&this.options.deleteNode!==!1?(a===!0&&this._createSeperator(4),this._createDeleteButton(o)):r===0&&this.options.deleteEdge!==!1&&(a===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindElementEvents(this.closeDiv,B(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",B(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t;const r=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(r),this._createSeperator(),this._createDescription(r.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,B(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",B(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const t=Ce({},e.options,!1);if(t.x=e.x,t.y=e.y,this.options.editNode.length===2)this.options.editNode(t,r=>{r!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(r),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,t,r,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var o;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,B(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",B(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",B(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",B(r=this._dragControlNode).call(r,this)),this._temporaryBindUI("onRelease",B(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",B(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const o=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(o.from.id,o.to.id);return}if(this.guiEnabled===!0){var e;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,B(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var t,r,i,s;const o=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(o.from.x,o.from.y),l=this._getNewTargetNode(o.to.x,o.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",B(t=this._controlNodeTouch).call(t,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",B(r=this._controlNodeDragStart).call(r,this)),this._temporaryBindUI("onDrag",B(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",B(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",u=>{const d=o.edgeType.findBorderPositions(u);a.selected===!1&&(a.x=d.from.x,a.y=d.from.y),l.selected===!1&&(l.x=d.to.x,l.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),t=this.selectionHandler.getSelectedEdgeIds();let r;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(r=this.options.deleteNode)}else t.length>0&&typeof this.options.deleteEdge=="function"&&(r=this.options.deleteEdge);if(typeof r=="function"){const i={nodes:e,edges:t};if(r.length===2)r(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(t),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,t;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(t=this.options.locales[this.options.locale])===null||t===void 0?void 0:t.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,t){const r=Ce({},this.options.controlNodeStyle);r.id="targetNode"+fs(),r.hidden=!1,r.physics=!1,r.x=e,r.y=t;const i=this.body.functions.createNode(r);return i.shape.boundingBox={left:e,right:e,top:t,bottom:t},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},Hr(this.editModeDiv);const t=this.options.locales[this.options.locale],r=this._createButton("editMode","vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(r),this._bindElementEvents(r,B(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(Hr(this.editModeDiv),Hr(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const t of Tr(e=this._domEventListenerCleanupQueue).call(e,0)){var e;t()}}_removeManipulationDOM(){this._clean(),Hr(this.manipulationDiv),Hr(this.editModeDiv),Hr(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var t;const r=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,B(t=this.addNodeMode).call(t,this))}_createAddEdgeButton(e){var t;const r=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,B(t=this.addEdgeMode).call(t,this))}_createEditNodeButton(e){var t;const r=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,B(t=this.editNode).call(t,this))}_createEditEdgeButton(e){var t;const r=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,B(t=this.editEdgeMode).call(t,this))}_createDeleteButton(e){var t;let r;this.options.rtl?r="vis-delete-rtl":r="vis-delete";const i=this._createButton("delete",r,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,B(t=this.deleteSelected).call(t,this))}_createBackButton(e){var t;const r=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,B(t=this.showManipulatorToolbar).call(t,this))}_createButton(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=r,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}_temporaryBindUI(e,t){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Qs(Ve(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const t=this.temporaryEventFunctions[e].event,r=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,r)}this.temporaryEventFunctions=[]}_bindElementEvents(e,t){const r=new pn(e,{});Ao(r,t),this._domEventListenerCleanupQueue.push(()=>{r.destroy()});const i=s=>{let{keyCode:o,key:a}=s;(a==="Enter"||a===" "||o===13||o===32)&&t()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const o=$e(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(o!==-1){var t;Tr(t=this.body.edgeIndices).call(t,o,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var r;delete this.body.nodes[this.temporaryIds.nodes[s]];const o=$e(r=this.body.nodeIndices).call(r,this.temporaryIds.nodes[s]);if(o!==-1){var i;Tr(i=this.body.nodeIndices).call(i,o,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Xe({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),r=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const o=r.isOverlappingWith(t),a=i.isOverlappingWith(t);o===!0?(this.selectedControlNode=r,s.edgeType.from=r):a===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const t=this.body.functions.getPointer(e.center),r=this.canvas.DOMtoCanvas(t);this.selectedControlNode!==void 0?(this.selectedControlNode.x=r.x,this.selectedControlNode.y=r.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let a=s.length-1;a>=0;a--)if(s[a]!==this.selectedControlNode.id){o=this.body.nodes[s[a]];break}if(o!==void 0&&this.selectedControlNode!==void 0)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,i.to.id):this._performEditEdge(i.from.id,o.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Xe({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const t=this.lastTouch,r=this.selectionHandler.getNodeAt(t);if(r!==void 0)if(r.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(r.x,r.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+fs(),from:r.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let l=s.length-1;l>=0;l--){var a;if($e(a=this.temporaryIds.nodes).call(a,s[l])===-1){o=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(t.x),l.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let l=s.length-1;l>=0;l--){var a;if($e(a=this.temporaryIds.nodes).call(a,s[l])===-1){o=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),o!==void 0&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[o.id]!==void 0&&this._performAddEdge(i,o.id)),e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const t=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,t,void 0,!0)}_performAddNode(e){const t={id:fs(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(t,r=>{r!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(t),this.showManipulatorToolbar()}_performAddEdge(e,t){const r={from:e,to:t};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(r,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,t){const r={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(r,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[r.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const z="string",F="boolean",q="number",ss="array",J="object",XN="dom",h9="any",Hm=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Vm={borderWidth:{number:q},borderWidthSelected:{number:q,undefined:"undefined"},brokenImage:{string:z,undefined:"undefined"},chosen:{label:{boolean:F,function:"function"},node:{boolean:F,function:"function"},__type__:{object:J,boolean:F}},color:{border:{string:z},background:{string:z},highlight:{border:{string:z},background:{string:z},__type__:{object:J,string:z}},hover:{border:{string:z},background:{string:z},__type__:{object:J,string:z}},__type__:{object:J,string:z}},opacity:{number:q,undefined:"undefined"},fixed:{x:{boolean:F},y:{boolean:F},__type__:{object:J,boolean:F}},font:{align:{string:z},color:{string:z},size:{number:q},face:{string:z},background:{string:z},strokeWidth:{number:q},strokeColor:{string:z},vadjust:{number:q},multi:{boolean:F,string:z},bold:{color:{string:z},size:{number:q},face:{string:z},mod:{string:z},vadjust:{number:q},__type__:{object:J,string:z}},boldital:{color:{string:z},size:{number:q},face:{string:z},mod:{string:z},vadjust:{number:q},__type__:{object:J,string:z}},ital:{color:{string:z},size:{number:q},face:{string:z},mod:{string:z},vadjust:{number:q},__type__:{object:J,string:z}},mono:{color:{string:z},size:{number:q},face:{string:z},mod:{string:z},vadjust:{number:q},__type__:{object:J,string:z}},__type__:{object:J,string:z}},group:{string:z,number:q,undefined:"undefined"},heightConstraint:{minimum:{number:q},valign:{string:z},__type__:{object:J,boolean:F,number:q}},hidden:{boolean:F},icon:{face:{string:z},code:{string:z},size:{number:q},color:{string:z},weight:{string:z,number:q},__type__:{object:J}},id:{string:z,number:q},image:{selected:{string:z,undefined:"undefined"},unselected:{string:z,undefined:"undefined"},__type__:{object:J,string:z}},imagePadding:{top:{number:q},right:{number:q},bottom:{number:q},left:{number:q},__type__:{object:J,number:q}},label:{string:z,undefined:"undefined"},labelHighlightBold:{boolean:F},level:{number:q,undefined:"undefined"},margin:{top:{number:q},right:{number:q},bottom:{number:q},left:{number:q},__type__:{object:J,number:q}},mass:{number:q},physics:{boolean:F},scaling:{min:{number:q},max:{number:q},label:{enabled:{boolean:F},min:{number:q},max:{number:q},maxVisible:{number:q},drawThreshold:{number:q},__type__:{object:J,boolean:F}},customScalingFunction:{function:"function"},__type__:{object:J}},shadow:{enabled:{boolean:F},color:{string:z},size:{number:q},x:{number:q},y:{number:q},__type__:{object:J,boolean:F}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:F,array:ss},borderRadius:{number:q},interpolation:{boolean:F},useImageSize:{boolean:F},useBorderWithImage:{boolean:F},coordinateOrigin:{string:["center","top-left"]},__type__:{object:J}},size:{number:q},title:{string:z,dom:XN,undefined:"undefined"},value:{number:q,undefined:"undefined"},widthConstraint:{minimum:{number:q},maximum:{number:q},__type__:{object:J,boolean:F,number:q}},x:{number:q},y:{number:q},__type__:{object:J}},f9={configure:{enabled:{boolean:F},filter:{boolean:F,string:z,array:ss,function:"function"},container:{dom:XN},showButton:{boolean:F},__type__:{object:J,boolean:F,string:z,array:ss,function:"function"}},edges:{arrows:{to:{enabled:{boolean:F},scaleFactor:{number:q},type:{string:Hm},imageHeight:{number:q},imageWidth:{number:q},src:{string:z},__type__:{object:J,boolean:F}},middle:{enabled:{boolean:F},scaleFactor:{number:q},type:{string:Hm},imageWidth:{number:q},imageHeight:{number:q},src:{string:z},__type__:{object:J,boolean:F}},from:{enabled:{boolean:F},scaleFactor:{number:q},type:{string:Hm},imageWidth:{number:q},imageHeight:{number:q},src:{string:z},__type__:{object:J,boolean:F}},__type__:{string:["from","to","middle"],object:J}},endPointOffset:{from:{number:q},to:{number:q},__type__:{object:J,number:q}},arrowStrikethrough:{boolean:F},background:{enabled:{boolean:F},color:{string:z},size:{number:q},dashes:{boolean:F,array:ss},__type__:{object:J,boolean:F}},chosen:{label:{boolean:F,function:"function"},edge:{boolean:F,function:"function"},__type__:{object:J,boolean:F}},color:{color:{string:z},highlight:{string:z},hover:{string:z},inherit:{string:["from","to","both"],boolean:F},opacity:{number:q},__type__:{object:J,string:z}},dashes:{boolean:F,array:ss},font:{color:{string:z},size:{number:q},face:{string:z},background:{string:z},strokeWidth:{number:q},strokeColor:{string:z},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:q},multi:{boolean:F,string:z},bold:{color:{string:z},size:{number:q},face:{string:z},mod:{string:z},vadjust:{number:q},__type__:{object:J,string:z}},boldital:{color:{string:z},size:{number:q},face:{string:z},mod:{string:z},vadjust:{number:q},__type__:{object:J,string:z}},ital:{color:{string:z},size:{number:q},face:{string:z},mod:{string:z},vadjust:{number:q},__type__:{object:J,string:z}},mono:{color:{string:z},size:{number:q},face:{string:z},mod:{string:z},vadjust:{number:q},__type__:{object:J,string:z}},__type__:{object:J,string:z}},hidden:{boolean:F},hoverWidth:{function:"function",number:q},label:{string:z,undefined:"undefined"},labelHighlightBold:{boolean:F},length:{number:q,undefined:"undefined"},physics:{boolean:F},scaling:{min:{number:q},max:{number:q},label:{enabled:{boolean:F},min:{number:q},max:{number:q},maxVisible:{number:q},drawThreshold:{number:q},__type__:{object:J,boolean:F}},customScalingFunction:{function:"function"},__type__:{object:J}},selectionWidth:{function:"function",number:q},selfReferenceSize:{number:q},selfReference:{size:{number:q},angle:{number:q},renderBehindTheNode:{boolean:F},__type__:{object:J}},shadow:{enabled:{boolean:F},color:{string:z},size:{number:q},x:{number:q},y:{number:q},__type__:{object:J,boolean:F}},smooth:{enabled:{boolean:F},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:q},forceDirection:{string:["horizontal","vertical","none"],boolean:F},__type__:{object:J,boolean:F}},title:{string:z,undefined:"undefined"},width:{number:q},widthConstraint:{maximum:{number:q},__type__:{object:J,boolean:F,number:q}},value:{number:q,undefined:"undefined"},__type__:{object:J}},groups:{useDefaultGroups:{boolean:F},__any__:Vm,__type__:{object:J}},interaction:{dragNodes:{boolean:F},dragView:{boolean:F},hideEdgesOnDrag:{boolean:F},hideEdgesOnZoom:{boolean:F},hideNodesOnDrag:{boolean:F},hover:{boolean:F},keyboard:{enabled:{boolean:F},speed:{x:{number:q},y:{number:q},zoom:{number:q},__type__:{object:J}},bindToWindow:{boolean:F},autoFocus:{boolean:F},__type__:{object:J,boolean:F}},multiselect:{boolean:F},navigationButtons:{boolean:F},selectable:{boolean:F},selectConnectedEdges:{boolean:F},hoverConnectedEdges:{boolean:F},tooltipDelay:{number:q},zoomView:{boolean:F},zoomSpeed:{number:q},__type__:{object:J}},layout:{randomSeed:{undefined:"undefined",number:q,string:z},improvedLayout:{boolean:F},clusterThreshold:{number:q},hierarchical:{enabled:{boolean:F},levelSeparation:{number:q},nodeSpacing:{number:q},treeSpacing:{number:q},blockShifting:{boolean:F},edgeMinimization:{boolean:F},parentCentralization:{boolean:F},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:J,boolean:F}},__type__:{object:J}},manipulation:{enabled:{boolean:F},initiallyActive:{boolean:F},addNode:{boolean:F,function:"function"},addEdge:{boolean:F,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:J,boolean:F,function:"function"}},deleteNode:{boolean:F,function:"function"},deleteEdge:{boolean:F,function:"function"},controlNodeStyle:Vm,__type__:{object:J,boolean:F}},nodes:Vm,physics:{enabled:{boolean:F},barnesHut:{theta:{number:q},gravitationalConstant:{number:q},centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:J}},forceAtlas2Based:{theta:{number:q},gravitationalConstant:{number:q},centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:J}},repulsion:{centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},nodeDistance:{number:q},damping:{number:q},__type__:{object:J}},hierarchicalRepulsion:{centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},nodeDistance:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:J}},maxVelocity:{number:q},minVelocity:{number:q},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:F},iterations:{number:q},updateInterval:{number:q},onlyDynamicEdges:{boolean:F},fit:{boolean:F},__type__:{object:J,boolean:F}},timestep:{number:q},adaptiveTimestep:{boolean:F},wind:{x:{number:q},y:{number:q},__type__:{object:J}},__type__:{object:J,boolean:F}},autoResize:{boolean:F},clickToUse:{boolean:F},locale:{string:z},locales:{__any__:{any:h9},__type__:{object:J}},height:{string:z},width:{string:z},__type__:{object:J}},JN={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},v9=(n,e,t)=>{var r;return!!(Xr(n).call(n,"physics")&&Xr(r=JN.physics.solver).call(r,e)&&t.physics.solver!==e&&e!=="wind")};class p9{constructor(){}getDistances(e,t,r){const i={},s=e.edges;for(let a=0;a<t.length;a++){const l=t[a],u={};i[l]=u;for(let d=0;d<t.length;d++)u[t[d]]=a==d?0:1e9}for(let a=0;a<r.length;a++){const l=s[r[a]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const o=t.length;for(let a=0;a<o;a++){const l=t[a],u=i[l];for(let d=0;d<o-1;d++){const c=t[d],h=i[c];for(let f=d+1;f<o;f++){const v=t[f],y=i[v],b=Math.min(h[v],h[l]+u[v]);h[v]=b,y[c]=b}}}return i}}class g9{constructor(e,t,r){this.body=e,this.springLength=t,this.springConstant=r,this.distanceSolver=new p9}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,o=1;let a=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),u=5;let d=1e9,c=0,h=0,f=0,v=0,y=0;for(;d>s&&a<l;)for(a+=1,[c,d,h,f]=this._getHighestEnergyNode(r),v=d,y=0;v>o&&y<u;)y+=1,this._moveNode(c,h,f),[v,h,f]=this._getEnergy(c)}_getHighestEnergyNode(e){const t=this.body.nodeIndices,r=this.body.nodes;let i=0,s=t[0],o=0,a=0;for(let l=0;l<t.length;l++){const u=t[l];if(r[u].predefinedPosition!==!0||r[u].isCluster===!0&&e===!0||r[u].options.fixed.x!==!0||r[u].options.fixed.y!==!0){const[d,c,h]=this._getEnergy(u);i<d&&(i=d,s=u,o=c,a=h)}}return[s,i,o,a]}_getEnergy(e){const[t,r]=this.E_sums[e];return[Math.sqrt(t**2+r**2),t,r]}_moveNode(e,t,r){const i=this.body.nodeIndices,s=this.body.nodes;let o=0,a=0,l=0;const u=s[e].x,d=s[e].y,c=this.K_matrix[e],h=this.L_matrix[e];for(let m=0;m<i.length;m++){const S=i[m];if(S!==e){const O=s[S].x,x=s[S].y,_=c[S],E=h[S],T=1/((u-O)**2+(d-x)**2)**1.5;o+=_*(1-E*(d-x)**2*T),a+=_*(E*(u-O)*(d-x)*T),l+=_*(1-E*(u-O)**2*T)}}const f=o,v=a,y=t,b=l,g=r,p=(y/f+g/v)/(v/f-b/v),$=-(v*p+y)/f;s[e].x+=$,s[e].y+=p,this._updateE_matrix(e)}_createL_matrix(e){const t=this.body.nodeIndices,r=this.springLength;this.L_matrix=[];for(let i=0;i<t.length;i++){this.L_matrix[t[i]]={};for(let s=0;s<t.length;s++)this.L_matrix[t[i]][t[s]]=r*e[t[i]][t[s]]}}_createK_matrix(e){const t=this.body.nodeIndices,r=this.springConstant;this.K_matrix=[];for(let i=0;i<t.length;i++){this.K_matrix[t[i]]={};for(let s=0;s<t.length;s++)this.K_matrix[t[i]][t[s]]=r*e[t[i]][t[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(let r=0;r<e.length;r++)this.E_matrix[e[r]]=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[i].x,o=t[i].y;let a=0,l=0;for(let u=r;u<e.length;u++){const d=e[u];if(d!==i){const c=t[d].x,h=t[d].y,f=1/Math.sqrt((s-c)**2+(o-h)**2);this.E_matrix[i][u]=[this.K_matrix[i][d]*(s-c-this.L_matrix[i][d]*(s-c)*f),this.K_matrix[i][d]*(o-h-this.L_matrix[i][d]*(o-h)*f)],this.E_matrix[d][r]=this.E_matrix[i][u],a+=this.E_matrix[i][u][0],l+=this.E_matrix[i][u][1]}}this.E_sums[i]=[a,l]}}_updateE_matrix(e){const t=this.body.nodeIndices,r=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],o=this.L_matrix[e],a=r[e].x,l=r[e].y;let u=0,d=0;for(let c=0;c<t.length;c++){const h=t[c];if(h!==e){const f=i[c],v=f[0],y=f[1],b=r[h].x,g=r[h].y,p=1/Math.sqrt((a-b)**2+(l-g)**2),$=s[h]*(a-b-o[h]*(a-b)*p),m=s[h]*(l-g-o[h]*(l-g)*p);i[c]=[$,m],u+=$,d+=m;const S=this.E_sums[h];S[0]+=$-v,S[1]+=m-y}}this.E_sums[e]=[u,d]}}function X(n,e,t){var r,i,s,o;if(!(this instanceof X))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:jG,clickToUse:!1},Xe(this.options,this.defaultOptions),this.body={container:n,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:B(r=this.on).call(r,this),off:B(i=this.off).call(i,this),emit:B(s=this.emit).call(s,this),once:B(o=this.once).call(o,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new WG(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new n8,this.canvas=new ZK(this.body),this.selectionHandler=new k7(this.body,this.canvas),this.interactionHandler=new r7(this.body,this.canvas,this.selectionHandler),this.view=new e7(this.body,this.canvas),this.renderer=new GK(this.body,this.canvas),this.physics=new BK(this.body),this.layoutEngine=new d9(this.body),this.clustering=new UK(this.body),this.manipulation=new c9(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new fK(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new kK(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new g9(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}xF(X.prototype);X.prototype.setOptions=function(n){if(n===null&&(n=void 0),n!==void 0){if(yG.validate(n,f9)===!0&&console.error("%cErrors have been found in the supplied options object.",SN),Zn(["locale","locales","clickToUse"],this.options,n),n.locale!==void 0&&(n.locale=LG(n.locales||this.options.locales,n.locale)),n=this.layoutEngine.setOptions(n.layout,n),this.canvas.setOptions(n),this.groups.setOptions(n.groups),this.nodesHandler.setOptions(n.nodes),this.edgesHandler.setOptions(n.edges),this.physics.setOptions(n.physics),this.manipulation.setOptions(n.manipulation,n,this.options),this.interactionHandler.setOptions(n.interaction),this.renderer.setOptions(n.interaction),this.selectionHandler.setOptions(n.interaction),n.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in n&&(this.configurator||(this.configurator=new pG(this,this.body.container,JN,this.canvas.pixelRatio,v9)),this.configurator.setOptions(n.configure)),this.configurator&&this.configurator.options.enabled===!0){const r={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Ce(r.nodes,this.nodesHandler.options),Ce(r.edges,this.edgesHandler.options),Ce(r.layout,this.layoutEngine.options),Ce(r.interaction,this.selectionHandler.options),Ce(r.interaction,this.renderer.options),Ce(r.interaction,this.interactionHandler.options),Ce(r.manipulation,this.manipulation.options),Ce(r.physics,this.physics.options),Ce(r.global,this.canvas.options),Ce(r.global,this.options),this.configurator.setModuleOptions(r)}n.clickToUse!==void 0?n.clickToUse===!0?this.activator===void 0&&(this.activator=new vG(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};X.prototype._updateVisibleIndices=function(){const n=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&!this.clustering._isClusteredNode(t)&&n[t].options.hidden===!1&&this.body.nodeIndices.push(n[t].id);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t],i=n[r.fromId],s=n[r.toId],o=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(t)&&r.options.hidden===!1&&o&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(r.id)}};X.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};X.prototype.setData=function(n){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),n&&n.dot&&(n.nodes||n.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(n&&n.options),n&&n.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=xG(n.dot);this.setData(e);return}else if(n&&n.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=TG(n.gephi);this.setData(e);return}else this.nodesHandler.setData(n&&n.nodes,!0),this.edgesHandler.setData(n&&n.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};X.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const n in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,n)&&delete this.body.nodes[n];for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&delete this.body.edges[n];Hr(this.body.container)};X.prototype._updateValueRange=function(n){let e,t,r,i=0;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const s=n[e].getValue();s!==void 0&&(t=t===void 0?s:Math.min(s,t),r=r===void 0?s:Math.max(s,r),i+=s)}if(t!==void 0&&r!==void 0)for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&n[e].setValueRange(t,r,i)};X.prototype.isActive=function(){return!this.activator||this.activator.active};X.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};X.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};X.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};X.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};X.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};X.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};X.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};X.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};X.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};X.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};X.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};X.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};X.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};X.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};X.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};X.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};X.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};X.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};X.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};X.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};X.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};X.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};X.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};X.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};X.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};X.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};X.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};X.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};X.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};X.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};X.prototype.getConnectedNodes=function(n){return this.body.nodes[n]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};X.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};X.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};X.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};X.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};X.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};X.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};X.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};X.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};X.prototype.getNodeAt=function(){const n=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return n!==void 0&&n.id!==void 0?n.id:n};X.prototype.getEdgeAt=function(){const n=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return n!==void 0&&n.id!==void 0?n.id:n};X.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};X.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};X.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};X.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};X.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};X.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};X.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};X.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};X.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};X.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};X.prototype.getOptionsFromConfigurator=function(){let n={};return this.configurator&&(n=this.configurator.getOptions.apply(this.configurator)),n};const y9={class:"w-full h-full relative border dark:border-gray-700 rounded-lg overflow-hidden group isolate select-none"},m9={class:"flex items-center gap-2 border-b border-gray-100 dark:border-gray-700 pb-2"},b9={class:"font-bold text-sm text-gray-800 dark:text-gray-100 break-words leading-tight"},_9={class:"space-y-1.5 text-xs text-gray-600 dark:text-gray-300"},w9={class:"flex gap-2"},S9={class:"font-medium bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-[10px] uppercase tracking-wide"},E9={class:"flex gap-2"},$9={class:"font-mono opacity-75"},O9={key:0,class:"mt-1"},I9={class:"bg-gray-50 dark:bg-gray-900/50 p-2 rounded border border-gray-100 dark:border-gray-800/50 overflow-hidden"},x9={class:"whitespace-pre-wrap font-mono text-[10px] leading-relaxed text-gray-600 dark:text-gray-400 break-all"},T9={class:"absolute bottom-4 right-4 flex gap-2 opacity-50 group-hover:opacity-100 transition-opacity z-10"},P9=["title"],R9={key:1,class:"absolute inset-0 bg-gray-500/20 backdrop-blur-sm flex items-center justify-center z-20"},C9={class:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl border dark:border-gray-700 flex flex-col items-center gap-3"},q9={class:"animate-spin"},k9={__name:"InteractiveGraphViewer",props:{nodes:{type:Array,default:()=>[]},edges:{type:Array,default:()=>[]},isLoading:{type:Boolean,default:!1}},emits:["node-select","edge-select","deselect"],setup(n,{expose:e,emit:t}){const r=n,i=t,s=cb(),o=te(null);let a=null;const l=te(!0),u=te({visible:!1,x:0,y:0,node:null,color:""}),d={Person:"#FFD700",Organization:"#87CEEB",Location:"#90EE90",Date:"#FFA07A",Product:"#20B2AA",Event:"#FF69B4",Concept:"#9370DB",Technology:"#A9A9A9",default:"#D3D3D3"};function c(g,p){let $=0;for(let x=0;x<g.length;x++)$=g.charCodeAt(x)+(($<<5)-$);return`hsl(${Math.abs($)%360}, 70%, ${p?65:45}%)`}function h(g,p){return d[g]?d[g]:c(g||"default",p)}const f=g=>{const p=g==="dark";return{nodes:{shape:"dot",size:25,font:{size:14,color:p?"#E5E7EB":"#374151",strokeWidth:3,strokeColor:p?"#111827":"#FFFFFF"},borderWidth:2,shadow:{enabled:!0,color:"rgba(0,0,0,0.2)",size:5,x:2,y:2}},edges:{width:2,color:{color:p?"#6B7280":"#9CA3AF",highlight:"#3B82F6",hover:"#60A5FA",opacity:.9,inherit:!1},smooth:{type:"continuous",roundness:.5},arrows:{to:{enabled:!0,scaleFactor:.8}},font:{align:"middle",size:11,color:p?"#9CA3AF":"#4B5563",strokeWidth:2,strokeColor:p?"#111827":"#FFFFFF",background:"transparent"},selectionWidth:3},physics:{enabled:!0,solver:"forceAtlas2Based",forceAtlas2Based:{gravitationalConstant:-30,centralGravity:.005,springLength:200,springConstant:.1,damping:.4,avoidOverlap:.5},maxVelocity:40,minVelocity:.5,stabilization:{enabled:!0,iterations:500,updateInterval:50,onlyDynamicEdges:!1}},interaction:{hover:!0,hoverConnectedEdges:!0,tooltipDelay:0,dragNodes:!0,dragView:!0,zoomView:!0,selectable:!0,selectConnectedEdges:!0}}};function v(){if(!o.value)return;const g=s.currentTheme==="dark",p={nodes:r.nodes.map(m=>{var _,E,T;const S=m.label,O=String(((_=m.properties)==null?void 0:_.identifying_value)||((E=m.properties)==null?void 0:E.name)||((T=m.properties)==null?void 0:T.label)||m.label||m.id),x=h(S,g);return{id:String(m.id),label:O.length>25?O.substring(0,24)+"...":O,title:void 0,color:{background:x,border:x,highlight:{background:x,border:g?"#FFFFFF":"#000000"},hover:{background:x,border:g?"#FFFFFF":"#000000"}},group:S,_raw:m}}),edges:r.edges.map(m=>{const S=m.source??m.source_id??m.from??m.start??m.start_node_id,O=m.target??m.target_id??m.to??m.end??m.end_node_id;return{id:m.id,from:String(S),to:String(O),label:m.label||m.type||"",properties:m.properties}}).filter(m=>m.from&&m.to&&m.from!=="undefined"&&m.to!=="undefined")},$=f(s.currentTheme);a?(a.setOptions($),a.setData(p)):(a=new X(o.value,p,$),a.on("click",m=>{if(m.nodes.length>0){const S=m.nodes[0],O=r.nodes.find(x=>String(x.id)===String(S));O&&i("node-select",O)}else if(m.edges.length>0){const S=m.edges[0],O=r.edges.find(x=>x.id===S);O&&i("edge-select",O)}else i("deselect")}),a.on("hoverNode",m=>{const S=m.node,x=a.getPositions([S])[S];if(!x)return;const _=a.canvasToDOM(x),E=r.nodes.find(P=>String(P.id)===String(S)),T=(E==null?void 0:E.label)||"default";E&&(u.value={visible:!0,x:_.x,y:_.y,node:E,color:h(T,g)})}),a.on("blurNode",()=>{u.value.visible=!1}),a.on("dragStart",()=>{u.value.visible=!1}),a.on("zoom",()=>u.value.visible=!1),a.on("dragEnd",()=>u.value.visible=!1),a.on("hoverNode",function(){o.value.style.cursor="pointer"}),a.on("blurNode",function(){o.value.style.cursor="default"}))}Sr(()=>[r.nodes,r.edges],()=>{tB(()=>{v()})},{deep:!0}),Sr(()=>s.currentTheme,g=>{if(a){const p=f(g);a.setOptions(p),v()}}),hb(()=>{v()}),UA(()=>{a&&(a.destroy(),a=null)});function y(){a&&a.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})}function b(){a&&(l.value=!l.value,a.setOptions({physics:{enabled:l.value}}))}return e({resetView:y}),(g,p)=>(M(),N("div",y9,[w("div",{ref_key:"networkContainer",ref:o,class:"w-full h-full bg-white dark:bg-gray-900 cursor-grab active:cursor-grabbing outline-none"},null,512),u.value.visible&&u.value.node?(M(),N("div",{key:0,class:"absolute pointer-events-none z-50 bg-white dark:bg-gray-800 p-3 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 max-w-sm transition-opacity duration-200 flex flex-col gap-2",style:Um({left:u.value.x+"px",top:u.value.y+"px",transform:"translate(-50%, -100%)",marginTop:"-15px"})},[w("div",m9,[w("span",{class:"w-3 h-3 rounded-full flex-shrink-0 shadow-sm",style:Um({backgroundColor:u.value.color})},null,4),w("span",b9,Y(u.value.node.label),1)]),w("div",_9,[w("div",w9,[p[0]||(p[0]=w("span",{class:"font-semibold text-gray-500 dark:text-gray-400 w-8"},"Type:",-1)),w("span",S9,Y(u.value.node.group),1)]),w("div",E9,[p[1]||(p[1]=w("span",{class:"font-semibold text-gray-500 dark:text-gray-400 w-8"},"ID:",-1)),w("span",$9,Y(u.value.node.id),1)]),u.value.node.properties&&Object.keys(u.value.node.properties).length>0?(M(),N("div",O9,[p[2]||(p[2]=w("span",{class:"font-semibold text-gray-500 dark:text-gray-400 block mb-1"},"Properties:",-1)),w("div",I9,[w("pre",x9,Y(JSON.stringify(u.value.node.properties,null,2)),1)])])):le("",!0)]),p[3]||(p[3]=w("div",{class:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-full w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[6px] border-t-white dark:border-t-gray-800 drop-shadow-sm"},null,-1))],4)):le("",!0),w("div",T9,[w("button",{onClick:y,class:"p-2 bg-white dark:bg-gray-800 rounded-md shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200 border dark:border-gray-700 transition-colors",title:"Fit to View"},[Ee(ZA,{class:"w-5 h-5"})]),w("button",{onClick:b,class:"p-2 bg-white dark:bg-gray-800 rounded-md shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200 border dark:border-gray-700 transition-colors",title:l.value?"Freeze Layout":"Enable Physics"},[l.value?(M(),pt(eB,{key:0,class:"w-5 h-5"})):(M(),pt(QA,{key:1,class:"w-5 h-5"}))],8,P9)]),n.isLoading?(M(),N("div",R9,[w("div",C9,[w("div",q9,[Ee(Yt,{class:"w-8 h-8 text-blue-500 dark:text-blue-400"})]),p[4]||(p[4]=w("span",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200 animate-pulse"},"Processing Graph...",-1))])])):le("",!0)]))}},D9=VA(k9,[["__scopeId","data-v-581152e6"]]),M9={class:"h-full flex flex-col lg:flex-row gap-6"},A9={class:"w-full lg:w-96 lg:flex-shrink-0 space-y-6 h-full overflow-y-auto custom-scrollbar pr-4"},F9={class:"grid grid-cols-2 gap-4"},N9={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3 text-center border dark:border-gray-600"},B9={key:0,class:"text-xl font-bold animate-pulse"},j9={key:1,class:"text-xl font-bold"},L9={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3 text-center border dark:border-gray-600"},z9={key:0,class:"text-xl font-bold animate-pulse"},W9={key:1,class:"text-xl font-bold"},H9={key:0,class:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-100 dark:border-blue-800"},V9={class:"font-semibold text-blue-800 dark:text-blue-200 text-sm flex justify-between"},U9={class:"text-xs opacity-75"},G9={class:"text-xs text-blue-700 dark:text-blue-300 mt-1"},K9={class:"w-full bg-blue-200 dark:bg-blue-800 rounded-full h-1.5 mt-2"},Y9={key:1,class:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 space-y-3"},X9={class:"flex justify-between items-start"},J9={class:"font-semibold text-lg"},Z9={class:"px-2 py-0.5 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs"},Q9={class:"text-xs text-gray-500 font-mono"},eY={class:"bg-gray-50 dark:bg-gray-900 p-2 rounded max-h-40 overflow-auto custom-scrollbar"},tY={class:"text-xs text-gray-700 dark:text-gray-300 whitespace-pre-wrap"},rY={key:2,class:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 space-y-3"},iY={class:"flex items-center justify-between text-sm"},nY={class:"font-medium"},sY={class:"text-xs text-gray-500 space-y-1"},oY={class:"space-y-4 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700"},aY={key:0,class:"flex gap-2"},lY=["disabled"],uY=["disabled"],dY={key:1,class:"dark:border-gray-700"},cY={class:"space-y-2"},hY=["label"],fY=["value"],vY={class:"flex justify-between items-center mb-1"},pY={class:"flex items-center gap-2"},gY={class:"flex gap-2 mb-2"},yY=["value"],mY={class:"h-48 border rounded-md overflow-hidden border-gray-300 dark:border-gray-600"},bY={class:"grid grid-cols-2 gap-3 pt-2"},_Y=["disabled"],wY=["disabled"],SY={class:"pt-2"},EY=["disabled"],$Y={key:3,class:"space-y-4 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700"},OY=["disabled"],IY={key:0,class:"flex justify-center p-4"},xY={key:1,class:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar bg-gray-50 dark:bg-gray-900 p-2 rounded-md"},TY={class:"whitespace-pre-wrap font-sans"},PY={key:2,class:"text-center text-gray-500 text-xs italic"},RY={class:"flex-grow h-[500px] lg:h-full lg:min-h-0 bg-white dark:bg-gray-900 rounded-lg shadow-inner border dark:border-gray-700 p-1 relative"},CY={key:0,class:"absolute inset-0 flex flex-col items-center justify-center bg-gray-50/80 dark:bg-gray-900/80 z-10 p-6 text-center"},qY={class:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg border dark:border-gray-700 max-w-md"},kY={class:"w-16 h-16 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center mx-auto mb-4 text-blue-600 dark:text-blue-400"},DY=["disabled"],MY={key:0,class:"text-xs text-red-500 mt-2"},HA=`{
  "entities": [
    {"name": "Person", "description": "Key individuals mentioned in the text"},
    {"name": "Organization", "description": "Companies, institutions, or groups"},
    {"name": "Location", "description": "Cities, countries, or physical places"},
    {"name": "Date", "description": "Specific points in time or durations"},
    {"name": "Concept", "description": "Abstract ideas, theories, or methodologies"},
    {"name": "Technology", "description": "Software, hardware, or tools"}
  ],
  "relationships": [
    {"source": "Person", "target": "Organization", "label": "WORKS_FOR"},
    {"source": "Person", "target": "Location", "label": "LOCATED_IN"},
    {"source": "Organization", "target": "Location", "label": "HEADQUARTERED_IN"},
    {"source": "Person", "target": "Person", "label": "KNOWS"},
    {"source": "Organization", "target": "Product", "label": "PRODUCES"},
    {"source": "Concept", "target": "Concept", "label": "RELATES_TO"}
  ]
}`,AY={__name:"DataStoreGraphManager",props:{store:{type:Object,required:!0},task:{type:Object,default:null}},setup(n){const e=n,t=GA(),r=cb(),i=KA();YA();const{user:s}=os(i),{availableLLMModelsGrouped:o}=os(t),a=te(null),l=te({nodes:0,edges:0}),u=te({nodes:[],edges:[]}),d=te(!1),c=te(null),h=te({model_binding:"",model_name:"",chunk_size:2048,overlap_size:256,ontology:HA}),f=te(""),v=te(""),y=te([]),b=te(!1),g=te(null),p=te(null),$=te("json"),m=te([]),S=te(null);Sr(f,Z=>{if(Z){const[D,...K]=Z.split("/");h.value.model_binding=D,h.value.model_name=K.join("/")}else h.value.model_binding="",h.value.model_name=""});async function O(){var Z,D;d.value=!0,g.value=null,p.value=null;try{const K=await t.fetchDataStoreGraph(e.store.id);u.value=K||{nodes:[],edges:[]},l.value={nodes:((Z=K==null?void 0:K.nodes)==null?void 0:Z.length)||0,edges:((D=K==null?void 0:K.edges)==null?void 0:D.length)||0}}catch(K){console.error("Failed to fetch graph:",K),u.value={nodes:[],edges:[]},l.value={nodes:0,edges:0}}finally{d.value=!1}}function x(){if(!h.value.model_binding||!h.value.model_name){r.addNotification("Please select a model for generation.","warning");return}t.generateDataStoreGraph({storeId:e.store.id,graphData:h.value})}function _(){if(!h.value.model_binding||!h.value.model_name){r.addNotification("Please select a model for update.","warning");return}t.updateDataStoreGraph({storeId:e.store.id,graphData:h.value})}async function E(){if((await r.showConfirmation({title:"Wipe Knowledge Graph?",message:"This will permanently delete all nodes and edges from this datastore's graph. This action cannot be undone.",confirmText:"Wipe Graph"})).confirmed)try{await t.wipeDataStoreGraph(e.store.id),O(),r.addNotification("Graph wiped successfully","success")}catch{r.addNotification("Failed to wipe graph","error")}}async function T(){if(v.value.trim()){b.value=!0;try{y.value=await t.queryDataStoreGraph({storeId:e.store.id,query:v.value,max_k:10})}finally{b.value=!1}}}function P(Z){g.value=Z,p.value=null}function R(Z){p.value=Z,g.value=null}function C(){g.value=null,p.value=null}function A(){r.openModal("NodeEditModal",{onConfirm:async Z=>{try{await t.addGraphNode({storeId:e.store.id,nodeData:Z}),r.addNotification("Node added successfully","success"),O()}catch(D){r.addNotification("Failed to add node","error"),console.error(D)}}})}function L(){var Z;r.openModal("EdgeEditModal",{sourceId:((Z=g.value)==null?void 0:Z.id)||"",onConfirm:async D=>{try{await t.addGraphEdge({storeId:e.store.id,edgeData:D}),r.addNotification("Edge added successfully","success"),O()}catch(K){r.addNotification("Failed to add edge","error"),console.error(K)}}})}function ne(){g.value&&r.openModal("NodeEditModal",{node:g.value,onConfirm:async Z=>{try{await t.updateGraphNode({storeId:e.store.id,nodeId:g.value.id,nodeData:Z}),r.addNotification("Node updated successfully","success"),O()}catch(D){r.addNotification("Failed to update node","error"),console.error(D)}}})}async function V(){if(!g.value)return;const{confirmed:Z}=await r.showConfirmation({title:"Delete Node?",message:`Delete node "${g.value.label}" (ID: ${g.value.id})? This will also delete connected edges.`});if(Z)try{await t.deleteGraphNode({storeId:e.store.id,nodeId:g.value.id}),r.addNotification("Node deleted","success"),O()}catch{r.addNotification("Failed to delete node","error")}}async function ae(){if(!p.value)return;const{confirmed:Z}=await r.showConfirmation({title:"Delete Edge?",message:`Delete edge "${p.value.label}"?`});if(Z)try{await t.deleteGraphEdge({storeId:e.store.id,edgeId:p.value.id}),r.addNotification("Edge deleted","success"),O()}catch{r.addNotification("Failed to delete edge","error")}}function de(){c.value.click()}async function fe(Z){const D=Z.target.files[0];if(D){r.addNotification("Importing ontology file...","info");try{const K=await t.extractTextFromFile(D);h.value.ontology=K,D.name.endsWith(".json")?$.value="json":D.name.endsWith(".yaml")||D.name.endsWith(".yml")?$.value="yaml":D.name.endsWith(".xml")||D.name.endsWith(".owl")||D.name.endsWith(".rdf")?$.value="xml":D.name.endsWith(".ttl")?$.value="python":$.value="markdown",r.addNotification("Ontology file imported successfully.","success")}catch(K){console.error("Ontology import failed:",K)}finally{c.value&&(c.value.value="")}}}function G(){a.value&&a.value.resetView()}function pe(){const Z=[{name:"Default (JSON)",language:"json",content:HA},{name:"Simple (YAML)",language:"yaml",content:`entities:
  - Person
  - Place
relationships:
  - visited`},{name:"OWL/RDF (Turtle)",language:"python",content:`@prefix : <http://example.org/> .
:Person a :Class .
:knows a :ObjectProperty .`},{name:"Free Text (Markdown)",language:"markdown",content:`Define Entities:
- Person
- Location

Define Relations:
- Person lives in Location`}];try{const D=JSON.parse(localStorage.getItem("lollms_graph_presets")||"[]");m.value=[...Z,...D]}catch{m.value=Z}}function ce(){S.value&&(h.value.ontology=S.value.content,$.value=S.value.language||"json")}async function we(){const Z=prompt("Enter a name for this ontology preset:");if(Z){const D={name:Z,language:$.value,content:h.value.ontology};try{const K=JSON.parse(localStorage.getItem("lollms_graph_presets")||"[]");K.push(D),localStorage.setItem("lollms_graph_presets",JSON.stringify(K)),pe(),S.value=m.value[m.value.length-1],r.addNotification("Preset saved","success")}catch(K){console.error(K),r.addNotification("Failed to save preset","error")}}}return hb(()=>{var Z;O(),pe(),(Z=s.value)!=null&&Z.lollms_model_name&&(f.value=s.value.lollms_model_name),o.value.length===0&&t.fetchAvailableLollmsModels()}),Sr(()=>e.store.id,O),Sr(()=>e.task,(Z,D)=>{D&&(D.status==="running"||D.status==="pending")&&!Z&&O()}),(Z,D)=>(M(),N("div",M9,[w("div",A9,[w("div",F9,[w("div",N9,[D[5]||(D[5]=w("h4",{class:"text-xs font-medium text-gray-500 dark:text-gray-400"},"Nodes",-1)),d.value?(M(),N("p",B9,"...")):(M(),N("p",j9,Y(l.value.nodes),1))]),w("div",L9,[D[6]||(D[6]=w("h4",{class:"text-xs font-medium text-gray-500 dark:text-gray-400"},"Edges",-1)),d.value?(M(),N("p",z9,"...")):(M(),N("p",W9,Y(l.value.edges),1))])]),n.task?(M(),N("div",H9,[w("h4",V9,[Ae(Y(n.task.name)+" ",1),w("span",U9,Y(n.task.progress)+"%",1)]),w("p",G9,Y(n.task.description),1),w("div",K9,[w("div",{class:"bg-blue-600 dark:bg-blue-400 h-1.5 rounded-full transition-all duration-500",style:Um({width:n.task.progress+"%"})},null,4)])])):le("",!0),g.value?(M(),N("div",Y9,[w("div",X9,[w("h3",J9,Y(g.value.label),1),w("span",Z9,Y(g.value.group),1)]),w("div",Q9,"ID: "+Y(g.value.id),1),w("div",eY,[w("pre",tY,Y(JSON.stringify(g.value.properties,null,2)),1)]),w("div",{class:"flex gap-2 pt-2"},[w("button",{onClick:ne,class:"btn btn-secondary btn-sm flex-1"},"Edit Properties"),w("button",{onClick:V,class:"btn btn-danger btn-sm flex-1"},"Delete")])])):le("",!0),p.value?(M(),N("div",rY,[D[9]||(D[9]=w("h3",{class:"font-semibold text-lg border-b pb-2 dark:border-gray-700"},"Relationship",-1)),w("div",iY,[w("span",nY,Y(p.value.label),1)]),w("div",sY,[w("div",null,[D[7]||(D[7]=w("span",{class:"font-semibold"},"Source:",-1)),Ae(" "+Y(p.value.source),1)]),w("div",null,[D[8]||(D[8]=w("span",{class:"font-semibold"},"Target:",-1)),Ae(" "+Y(p.value.target),1)])]),w("div",{class:"flex gap-2 pt-2"},[w("button",{onClick:ae,class:"btn btn-danger btn-sm w-full"},"Delete Relationship")])])):le("",!0),w("div",oY,[D[17]||(D[17]=w("h3",{class:"text-base font-semibold flex items-center gap-2"},[w("span",{class:"w-1 h-4 bg-primary-500 rounded-full"}),Ae(" Graph Actions ")],-1)),l.value.nodes>0?(M(),N("div",aY,[w("button",{onClick:A,disabled:!!n.task,class:"btn btn-secondary btn-sm flex-1"},"Add Node",8,lY),w("button",{onClick:L,disabled:!!n.task,class:"btn btn-secondary btn-sm flex-1"},"Add Edge",8,uY),w("button",{onClick:G,class:"btn btn-ghost btn-sm px-2",title:"Fit Graph"},[Ee(ZA,{class:"w-4 h-4"})])])):le("",!0),l.value.nodes>0?(M(),N("hr",dY)):le("",!0),w("div",cY,[w("div",null,[D[11]||(D[11]=w("label",{for:"model-select",class:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-1"},"LLM Model",-1)),Be(w("select",{id:"model-select","onUpdate:modelValue":D[0]||(D[0]=K=>f.value=K),class:"input-field text-sm"},[D[10]||(D[10]=w("option",{disabled:"",value:""},"Select a model",-1)),(M(!0),N(gt,null,Et(on(o),K=>(M(),N("optgroup",{key:K.label,label:K.label},[(M(!0),N(gt,null,Et(K.items,xe=>(M(),N("option",{key:xe.id,value:xe.id},Y(xe.name),9,fY))),128))],8,hY))),128))],512),[[as,f.value]])]),w("div",null,[w("div",vY,[D[12]||(D[12]=w("label",{class:"block text-xs font-bold uppercase tracking-wider text-gray-500"},"Ontology Schema",-1)),w("div",pY,[w("button",{type:"button",onClick:de,class:"text-xs text-primary-600 hover:text-primary-700 flex items-center gap-1",title:"Import File"},[Ee(XA,{class:"w-3 h-3"})]),w("button",{type:"button",onClick:we,class:"text-xs text-primary-600 hover:text-primary-700 flex items-center gap-1",title:"Save as Preset"},[Ee(rB,{class:"w-3 h-3"})])])]),w("div",gY,[Be(w("select",{"onUpdate:modelValue":D[1]||(D[1]=K=>S.value=K),onChange:ce,class:"input-field text-xs py-1"},[D[13]||(D[13]=w("option",{value:null,disabled:""},"Load Preset...",-1)),(M(!0),N(gt,null,Et(m.value,(K,xe)=>(M(),N("option",{key:xe,value:K},Y(K.name),9,yY))),128))],544),[[as,S.value]]),Be(w("select",{"onUpdate:modelValue":D[2]||(D[2]=K=>$.value=K),class:"input-field text-xs py-1 w-24"},D[14]||(D[14]=[iB('<option value="json">JSON</option><option value="yaml">YAML</option><option value="xml">XML</option><option value="markdown">MD</option><option value="python">Code</option>',5)]),512),[[as,$.value]])]),w("div",mY,[Ee(nB,{modelValue:h.value.ontology,"onUpdate:modelValue":D[3]||(D[3]=K=>h.value.ontology=K),language:$.value,class:"h-full w-full text-xs"},null,8,["modelValue","language"])]),w("input",{type:"file",ref_key:"ontologyFileInput",ref:c,onChange:fe,class:"hidden",accept:".owl,.rdf,.ttl,.jsonld,.pdf,.docx,.txt,.md,.json,.yaml,.yml,.xml"},null,544),D[15]||(D[15]=w("p",{class:"text-[10px] text-gray-400 mt-1"},"Defines the structure for the LLM to extract knowledge.",-1))])]),w("div",bY,[w("button",{onClick:x,disabled:!!n.task,class:"btn btn-primary btn-sm"},Y(l.value.nodes>0?"Re-Generate":"Generate Graph"),9,_Y),w("button",{onClick:_,disabled:!!n.task||l.value.nodes===0,class:"btn btn-secondary btn-sm"}," Update Graph ",8,wY)]),w("div",SY,[w("button",{onClick:E,disabled:!!n.task||l.value.nodes===0,class:"btn btn-ghost text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 w-full btn-sm flex items-center justify-center gap-2"},[Ee(Gm,{class:"w-4 h-4"}),D[16]||(D[16]=Ae(" Wipe All Data "))],8,EY)])]),l.value.nodes>0?(M(),N("div",$Y,[D[18]||(D[18]=w("h3",{class:"text-base font-semibold flex items-center gap-2"},[w("span",{class:"w-1 h-4 bg-green-500 rounded-full"}),Ae(" Query Graph ")],-1)),w("form",{onSubmit:an(T,["prevent"]),class:"flex gap-2"},[Be(w("input",{"onUpdate:modelValue":D[4]||(D[4]=K=>v.value=K),type:"text",placeholder:"Search for concepts...",class:"input-field flex-grow text-sm"},null,512),[[qt,v.value]]),w("button",{type:"submit",disabled:b.value||!v.value.trim(),class:"btn btn-primary btn-sm px-4"},"Find",8,OY)],32),b.value?(M(),N("div",IY,[Ee(Yt,{class:"w-6 h-6 text-primary-500"})])):le("",!0),y.value.length>0?(M(),N("div",xY,[(M(!0),N(gt,null,Et(y.value,(K,xe)=>(M(),N("div",{key:xe,class:"p-2 bg-white dark:bg-gray-800 rounded border dark:border-gray-700 text-xs shadow-sm"},[w("pre",TY,Y(K),1)]))),128))])):!b.value&&v.value&&y.value.length===0?(M(),N("div",PY," No results found. ")):le("",!0)])):le("",!0)]),w("div",RY,[l.value.nodes===0&&!d.value?(M(),N("div",CY,[w("div",qY,[w("div",kY,[Ee(JA,{class:"w-8 h-8"})]),D[20]||(D[20]=w("h3",{class:"text-xl font-bold text-gray-900 dark:text-white mb-2"},"No Graph Built",-1)),D[21]||(D[21]=w("p",{class:"text-gray-500 dark:text-gray-400 text-sm mb-6"},` This Data Store doesn't have a knowledge graph yet. Select a model and ontology schema on the left, then click "Generate Graph" to build one from your documents. `,-1)),w("button",{onClick:x,disabled:!!n.task||!f.value,class:"btn btn-primary w-full flex items-center justify-center gap-2"},[Ee(QA,{class:"w-5 h-5"}),D[19]||(D[19]=Ae(" Generate Graph "))],8,DY),f.value?le("",!0):(M(),N("p",MY,"Please select an LLM Model first."))])])):le("",!0),l.value.nodes>0||d.value?(M(),pt(D9,{key:1,ref_key:"graphViewer",ref:a,nodes:u.value.nodes,edges:u.value.edges,"is-loading":d.value,onNodeSelect:P,onEdgeSelect:R,onDeselect:C},null,8,["nodes","edges","is-loading"])):le("",!0)])]))}},FY={class:"space-y-1 mt-2"},NY=["onClick"],BY={class:"truncate"},jY={class:"space-y-1 mt-2"},LY=["onClick"],zY={class:"truncate"},WY={class:"relative h-full w-full"},HY={key:0,class:"p-4 sm:p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm h-full overflow-y-auto"},VY={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},UY=["label"],GY=["value"],KY={key:0,class:"text-xs text-red-500 mt-1"},YY={key:1,class:"p-4 border dark:border-gray-700 rounded-lg space-y-4"},XY={class:"font-medium text-lg"},JY={class:"text-sm text-gray-500"},ZY={key:0,class:"space-y-4"},QY={key:0},eX=["for"],tX={key:0,class:"text-red-500"},rX={class:"relative mt-1"},iX=["type","onUpdate:modelValue","placeholder"],nX=["onClick","title"],sX={class:"flex justify-end gap-3"},oX=["disabled"],aX={key:1,class:"h-full flex items-center justify-center bg-white dark:bg-gray-800 rounded-lg shadow-sm"},lX={class:"text-center"},uX={key:2,class:"text-center py-20 bg-white dark:bg-gray-800 rounded-lg shadow-sm"},dX={key:3,class:"bg-white dark:bg-gray-800 rounded-lg shadow-md h-full overflow-hidden flex flex-col"},cX={class:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-start flex-wrap gap-4"},hX={class:"text-2xl font-bold text-gray-900 dark:text-white"},fX={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},vX={class:"flex items-center text-xs text-gray-500 dark:text-gray-400 mt-2"},pX={class:"mt-2 text-xs font-mono p-2 bg-gray-100 dark:bg-gray-700/50 rounded-md"},gX={key:0,class:"mt-1"},yX={class:"flex items-center space-x-3 flex-shrink-0"},mX={class:"border-b border-gray-200 dark:border-gray-700 px-6"},bX={class:"-mb-px flex space-x-6","aria-label":"Tabs"},_X={class:"p-6 flex-grow overflow-y-auto space-y-8"},wX={key:0,class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6 space-y-4"},SX={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},EX={class:"relative flex items-start pt-7"},$X={class:"flex h-6 items-center"},OX={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-4"},IX={class:"flex justify-center gap-2 flex-wrap"},xX={class:"border rounded-lg p-6 bg-white dark:bg-gray-800 dark:border-gray-600 flex flex-col min-h-[180px]"},TX={class:"text-sm font-semibold mb-3 flex items-center gap-2"},PX={class:"space-y-3 flex-grow"},RX={class:"flex items-center gap-4"},CX={class:"flex-grow"},qX={class:"self-end"},kX=["disabled"],DX={key:0},MX={key:0,class:"mt-4"},AX={class:"flex items-center gap-4 mt-1"},FX={class:"flex items-center"},NX={class:"flex items-center"},BX={key:1,class:"mt-4"},jX={class:"text-sm font-medium mb-2"},LX={class:"list-disc list-inside text-sm space-y-1 max-h-40 overflow-y-auto mb-4 p-2 bg-gray-100 dark:bg-gray-800 rounded-md"},zX={class:"truncate"},WX=["onClick"],HX={key:2,class:"space-y-4 mt-4 max-h-96 overflow-y-auto"},VX={class:"flex justify-between items-start"},UX={class:"font-semibold text-sm truncate"},GX=["onClick"],KX=["onUpdate:modelValue"],YX={key:3,class:"mt-4"},XX={class:"text-sm font-medium mb-2"},JX={class:"space-y-1 max-h-40 overflow-y-auto"},ZX={class:"truncate"},QX=["onClick"],eJ={key:1,class:"mt-4 text-center text-sm text-gray-500 italic p-4 border-2 border-dashed rounded-lg dark:border-gray-600"},tJ={class:"flex justify-end items-center mt-4"},rJ=["disabled"],iJ={key:1,class:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700 text-sm"},nJ={key:2,class:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-700 text-sm"},sJ={class:"text-xl font-semibold mb-4"},oJ={key:0,class:"flex items-center justify-between bg-gray-50 dark:bg-gray-800/50 p-2 rounded-md mb-2"},aJ={class:"flex items-center"},lJ=["checked","indeterminate"],uJ=["disabled"],dJ={key:1,class:"text-center py-10"},cJ={key:2,class:"text-center py-10 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},hJ={key:3,class:"divide-y divide-gray-200 dark:divide-gray-700"},fJ=["onChange","checked"],vJ={class:"flex-grow min-w-0"},pJ={class:"flex items-center gap-2"},gJ=["onClick"],yJ={key:0,class:"mt-2 text-xs"},mJ={class:"mt-1 p-2 bg-gray-100 dark:bg-gray-700/50 rounded"},bJ={key:0,class:"p-6 flex-grow overflow-y-auto flex flex-col"},_J={class:"flex-shrink-0 space-y-4"},wJ={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},SJ={class:"self-end"},EJ=["disabled"],$J={class:"flex-grow min-h-0 mt-6 border-t dark:border-gray-700 pt-6"},OJ={class:"flex justify-between items-center mb-4"},IJ={class:"text-lg font-semibold"},xJ={key:0,class:"flex items-center gap-2"},TJ={class:"text-sm text-gray-500 font-mono"},PJ={key:0,class:"text-center p-6 text-gray-500"},RJ={key:1,class:"p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-md"},CJ={key:2,class:"text-center p-6 text-gray-500"},qJ={key:3,class:"text-center p-6 text-gray-500"},kJ={key:4,class:"space-y-4 overflow-y-auto custom-scrollbar h-full pb-10"},DJ=["id"],MJ={class:"flex justify-between items-center text-xs text-gray-500 dark:text-gray-400 mb-2"},AJ=["title"],FJ=["title"],NJ=["innerHTML"],BJ={key:1,class:"p-6 flex-grow overflow-y-auto"},jJ={key:4,class:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm rounded-lg"},LJ={key:0,class:"space-y-4"},zJ={class:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 flex flex-col gap-2"},WJ={class:"flex justify-between items-start"},HJ={class:"text-lg font-bold text-gray-900 dark:text-white break-all"},VJ={key:0,class:"text-sm text-gray-500 dark:text-gray-400 font-mono mt-1"},UJ={class:"text-right text-xs text-gray-500 dark:text-gray-400 space-y-1 flex-shrink-0 ml-4"},GJ={title:"Total characters"},KJ={class:"font-semibold"},YJ={title:"Approximate word count"},XJ={class:"font-semibold"},JJ={title:"Estimated tokens (char/4)"},ZJ={class:"font-semibold"},QJ={key:0,class:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700"},eZ={class:"text-sm group"},tZ={class:"mt-2 p-2 bg-white dark:bg-gray-900 rounded border dark:border-gray-700"},rZ={class:"relative group"},iZ={class:"absolute top-2 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10"},nZ={class:"p-4 border rounded-lg dark:border-gray-700 bg-white dark:bg-gray-900 overflow-auto max-h-[60vh] whitespace-pre-wrap font-mono text-sm leading-relaxed"},EZ={__name:"DataStoresView",setup(n){const e=GA(),t=cb(),r=YA();mB();const i=KA();sB();const{user:s}=os(i),{ownedDataStores:o,sharedDataStores:a,availableVectorizers:l}=os(e),{tasks:u}=os(r),d=te(null),c=te(null),h=te("documents"),f=te(!1),v=te({name:"",description:"",selectedVectorizerKey:null,config:{},chunk_size:1024,chunk_overlap:256}),y=te({}),b=te([]),g=te(!1),p=te([]),$=te(null),m=te(null),S=te(null),O=te(null),x=te(null),_=te(!1),E=te(new Set),T=te(""),P=te(0),R=te(!1),C=te(!1),A=te(""),L=te(10),ne=te(50),V=te([]),ae=te(!1),de=te(""),fe=te(""),G=te([]),pe=te(-1),ce=te(null),we=te(null),Z=te("none"),D=te({}),K=te(!0),xe=te("per-file"),vr=te(`title: 
subject: 
authors: `),Qi=zr(()=>b.value.length>0&&E.value.size===b.value.length),pr=zr(()=>E.value.size>0&&!Qi.value),gr=zr(()=>l.value),ke=zr(()=>{if(!v.value.selectedVectorizerKey)return null;const j=v.value.selectedVectorizerKey.split("/");if(j.length<2)return null;const I=j[0],oe=j.slice(1).join("/"),k=gr.value.find(Q=>Q.alias===I);return k?{...k,selectedModelName:oe}:null}),ci=zr(()=>[...o.value,...a.value].sort((j,I)=>j.name.localeCompare(I.name))),en=zr(()=>o.value.sort((j,I)=>j.name.localeCompare(I.name))),ge=zr(()=>ci.value.find(j=>j.id===d.value)),Me=zr(()=>!!S.value||!!O.value||!!x.value);function Ct(j){if(!j)return"";if(!fe.value||G.value.length===0)return j;const I=fe.value,oe=new RegExp(`(${I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return j.replace(oe,'<mark class="bg-yellow-200 dark:bg-yellow-700 rounded">$1</mark>')}let tn;hb(()=>{e.fetchDataStores(),e.fetchAvailableVectorizers(),r.fetchTasks(),tn=setInterval(r.fetchTasks,3e3)}),UA(()=>clearInterval(tn)),Sr(u,j=>{if(!ge.value){S.value=null,O.value=null,x.value=null;return}const I=ge.value.name,oe=Gt=>j.filter(De=>De.name.startsWith(Gt)&&De.name.includes(I)&&(De.status==="running"||De.status==="pending")).sort((De,We)=>new Date(We.created_at)-new Date(De.created_at))[0]||null,k=oe("Add files to DataStore:"),Q=oe("Generate Graph for:")||oe("Update Graph for:"),ze=oe("Scrape URL to DataStore:");(S.value&&!k&&(S.value.status==="running"||S.value.status==="pending")||x.value&&!ze&&(x.value.status==="running"||x.value.status==="pending"))&&wr(ge.value.id),S.value=k,O.value=Q,x.value=ze},{deep:!0}),Sr(d,j=>{f.value=!1,E.value.clear(),j?(h.value="documents",wr(j),A.value="",V.value=[],de.value=""):b.value=[]},{immediate:!0}),Sr(ke,j=>{v.value.config={},j&&(v.value.config={...j.vectorizer_config||{}},j.selectedModelName&&(v.value.config.model_name=j.selectedModelName))},{deep:!0}),Sr(V,()=>{fe.value="",G.value=[],pe.value=-1});function At(j){d.value=j}function hi(){var j,I;f.value=!0,d.value=null,v.value={name:"",description:"",selectedVectorizerKey:null,config:{},chunk_size:((j=s.value)==null?void 0:j.default_chunk_size)||1024,chunk_overlap:((I=s.value)==null?void 0:I.default_chunk_overlap)||256}}async function yr(){if(!v.value.name.trim()||!ke.value){t.addNotification("Name and vectorizer are required.","warning");return}c.value="add_store";try{const j={name:v.value.name,description:v.value.description,vectorizer_name:ke.value.vectorizer_name,vectorizer_config:v.value.config||{},chunk_size:v.value.chunk_size,chunk_overlap:v.value.chunk_overlap},I=await e.addDataStore(j);v.value={name:"",description:"",selectedVectorizerKey:null,config:{},chunk_size:1024,chunk_overlap:256},f.value=!1,await e.fetchDataStores(),I&&I.id&&At(I.id)}finally{c.value=null}}function mr(j){t.openModal("editDataStore",{store:j})}async function Ut(j){const{confirmed:I}=await t.showConfirmation({title:`Delete Data Store '${j.name}'?`,message:"This will permanently delete the data store and all its indexed documents.",confirmText:"Delete"});if(I){c.value=`delete_store_${j.id}`;try{await e.deleteDataStore(j.id),d.value===j.id&&(d.value=null)}finally{c.value=null}}}function br(j){t.openModal("shareDataStore",{store:j})}async function Qn(j){j.preventDefault(),_.value=!1;const I=j.dataTransfer.items,oe=[];function k(De){return new Promise((We,dt)=>{De.readEntries(We,dt)})}async function Q(De){const We=De.createReader();let dt=[],ir;do ir=await k(We),dt=dt.concat(ir);while(ir.length>0);return dt}async function ze(De){if(De.isFile)await new Promise((We,dt)=>De.file(ir=>{oe.push(ir),We()},dt));else if(De.isDirectory){const We=await Q(De);for(const dt of We)await ze(dt)}}const Gt=[];for(let De=0;De<I.length;De++){const We=I[De].webkitGetAsEntry();We&&Gt.push(ze(We))}await Promise.all(Gt),oe.length>0&&Br(oe)}function rr(j){Br(Array.from(j.target.files))}function Br(j){const I=new Set(p.value.map(Q=>Q.name+Q.size)),oe=[],k={};for(const Q of j){const ze=Q.name+Q.size;I.has(ze)||(oe.push(Q),k[Q.name]=`title: 
subject: 
authors: `,I.add(ze))}oe.length>0&&(p.value=[...p.value,...oe],D.value={...D.value,...k}),oe.length<j.length&&t.addNotification(`${j.length-oe.length} duplicate files skipped.`,"info"),$.value&&($.value.value=""),m.value&&(m.value.value="")}function _r(j){const I=p.value.splice(j,1);I.length>0&&delete D.value[I[0].name]}async function wr(j){g.value=!0;try{b.value=await e.fetchStoreFiles(j)}finally{g.value=!1}}async function re(){if(!ge.value||p.value.length===0){t.addNotification("Please select files to upload.","warning");return}if(Me.value){t.addNotification("A task is already running for this Data Store.","warning");return}R.value=!0;try{const j=new FormData;if(p.value.forEach(I=>j.append("files",I)),j.append("metadata_option",Z.value),j.append("vectorize_with_metadata",K.value),Z.value==="manual"){let I={};const oe=k=>{const Q={};if(!k)return Q;const ze=k.split(`
`);for(const Gt of ze){const De=Gt.split(":");if(De.length>=2){const We=De[0].trim(),dt=De.slice(1).join(":").trim();We&&(["authors","tags","keywords"].includes(We.toLowerCase())?Q[We]=dt.split(",").map(ir=>ir.trim()).filter(Boolean):Q[We]=dt)}}return Q};try{if(xe.value==="all"){const k=vr.value.trim()?oe(vr.value):{};for(const Q of p.value)I[Q.name]=k}else for(const k of p.value){const Q=D.value[k.name]||"";I[k.name]=Q.trim()?oe(Q):{}}j.append("manual_metadata_json",JSON.stringify(I))}catch(k){t.addNotification("Invalid metadata format. Please use 'key: value' pairs, with one entry per line.","error"),console.error("Metadata parsing error:",k);return}}await e.uploadFilesToStore({storeId:ge.value.id,formData:j}),p.value=[],D.value={},vr.value=`title: 
subject: 
authors: `}finally{R.value=!1}}async function W(){if(!T.value.trim()){t.addNotification("Please enter a URL.","warning");return}if(Me.value){t.addNotification("A task is already running for this Data Store.","warning");return}C.value=!0;try{const I=(await yB.post(`/api/store/${ge.value.id}/scrape-url`,{url:T.value,depth:P.value})).data;t.addNotification(`Scrape task '${I.name}' started.`,"info"),r.addTask(I),T.value="",P.value=0}catch(j){console.error("Scrape failed:",j)}finally{C.value=!1}}function H(j){return j&&["owner","read_write","revectorize"].includes(j.permission_level)}function U(j){E.value.has(j)?E.value.delete(j):E.value.add(j)}function ie(j){j.target.checked?E.value=new Set(b.value.map(I=>I.filename)):E.value.clear()}async function Se(){if(E.value.size===0)return;const{confirmed:j}=await t.showConfirmation({title:`Delete ${E.value.size} file(s)?`,message:"This will permanently remove the selected documents and their data from the data store.",confirmText:"Delete"});if(j){c.value="delete_selected_files";try{const I=Array.from(E.value);await e.deleteFilesFromStore({storeId:ge.value.id,filenames:I}),await wr(ge.value.id),E.value.clear()}finally{c.value=null}}}async function fi(){if(!(!A.value.trim()||!ge.value)){ae.value=!0,de.value="",V.value=[];try{const j=await e.queryDataStore({storeId:ge.value.id,query:A.value,top_k:L.value,min_similarity_percent:ne.value});V.value=j}catch{de.value="An error occurred during the query."}finally{ae.value=!1}}}function jr(){if(!fe.value){G.value=[],pe.value=-1,document.querySelectorAll(".current-search-highlight").forEach(oe=>oe.classList.remove("current-search-highlight"));return}const j=fe.value,I=[];V.value.forEach((oe,k)=>{const Q=oe.chunk_text||"",ze=new RegExp(j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");let Gt;for(;(Gt=ze.exec(Q))!==null;)I.push({chunkIndex:k,matchIndexInText:Gt.index})}),G.value=I,I.length>0?(pe.value=0,_1(I[0])):(pe.value=-1,t.addNotification("No matches found in results.","info"),document.querySelectorAll(".current-search-highlight").forEach(oe=>oe.classList.remove("current-search-highlight")))}function b1(j){if(G.value.length===0)return;let I=pe.value+j;I<0&&(I=G.value.length-1),I>=G.value.length&&(I=0),pe.value=I,_1(G.value[I])}function _1(j){var oe;const I=document.getElementById(`chunk-${j.chunkIndex}`);if(I){document.querySelectorAll(".current-search-highlight").forEach(Q=>Q.classList.remove("current-search-highlight"));const k=Array.from(I.querySelectorAll("mark"));if(k.length>0){let Q=0;const ze=((oe=V.value[j.chunkIndex])==null?void 0:oe.chunk_text)||"",Gt=fe.value,De=new RegExp(Gt.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");let We=-1;const dt=ze.split(De);let ir=0;for(let Lr=1;Lr<dt.length;Lr+=2){if(ir===j.matchIndexInText){We=Q;break}ir+=(dt[Lr-1]?dt[Lr-1].length:0)+dt[Lr].length,Q++}if(We!==-1&&k[We]){const Lr=k[We];Lr.classList.add("current-search-highlight"),Lr.scrollIntoView({behavior:"smooth",block:"center"})}else I.scrollIntoView({behavior:"smooth",block:"center"})}else I.scrollIntoView({behavior:"smooth",block:"center"})}}async function ZN(j){if(!we.value){we.value=j.filename;try{const I=await e.fetchFileContent(ge.value.id,j.filename);ce.value={filename:j.filename,metadata:j.metadata,content:I},t.openModal("fileContent")}catch{}finally{we.value=null}}}function QN(){ce.value&&ce.value.content&&(navigator.clipboard.writeText(ce.value.content),t.addNotification("Content copied to clipboard","success"))}return(j,I)=>(M(),pt(bB,{title:"Data Studio","title-icon":w1},{sidebar:uo(()=>[w("button",{onClick:hi,class:"w-full flex items-center space-x-3 text-left px-3 py-2.5 rounded-lg text-sm font-medium text-blue-700 dark:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/50 transition-colors"},[Ee(gB,{class:"w-5 h-5 flex-shrink-0"}),I[31]||(I[31]=w("span",null,"New Data Store",-1))]),w("button",{onClick:I[0]||(I[0]=oe=>on(e).fetchDataStores()),class:"w-full flex items-center space-x-3 text-left px-3 py-2.5 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors mt-2"},[Ee(JA,{class:"w-5 h-5 flex-shrink-0"}),I[32]||(I[32]=w("span",null,"Refresh All Stores",-1))]),I[34]||(I[34]=w("h3",{class:"text-sm font-semibold uppercase text-gray-500 dark:text-gray-400 mt-4 px-3"},"Your Stores",-1)),w("ul",FY,[(M(!0),N(gt,null,Et(en.value,oe=>(M(),N("li",{key:oe.id},[w("button",{onClick:k=>At(oe.id),class:Wr(["w-full flex items-center justify-between text-left px-3 py-2 rounded-lg text-sm transition-colors group",{"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":d.value===oe.id,"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700":d.value!==oe.id}])},[w("span",BY,Y(oe.name),1),I[33]||(I[33]=w("span",{class:"ml-2 text-xs px-2 py-0.5 rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"},"Owner",-1))],10,NY)]))),128))]),I[35]||(I[35]=w("h3",{class:"text-sm font-semibold uppercase text-gray-500 dark:text-gray-400 mt-4 px-3"},"Shared With You",-1)),w("ul",jY,[(M(!0),N(gt,null,Et(on(a),oe=>(M(),N("li",{key:oe.id},[w("button",{onClick:k=>At(oe.id),class:Wr(["w-full flex items-center justify-between text-left px-3 py-2 rounded-lg text-sm transition-colors group",{"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":d.value===oe.id,"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700":d.value!==oe.id}])},[w("span",zY,Y(oe.name),1),w("span",{class:Wr(["ml-2 text-xs px-2 py-0.5 rounded-full",{"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":oe.permission_level==="revectorize","bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300":oe.permission_level==="read_write","bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300":oe.permission_level==="read_query"}])},Y(oe.permission_level.replace("_"," ")),3)],10,LY)]))),128))])]),main:uo(()=>{var oe;return[w("div",WY,[f.value?(M(),N("div",HY,[I[44]||(I[44]=w("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Create New Data Store",-1)),I[45]||(I[45]=w("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"A Data Store turns your documents into a queryable knowledge base.",-1)),w("form",{onSubmit:an(yr,["prevent"]),class:"mt-6 space-y-6"},[w("div",null,[I[36]||(I[36]=w("label",{for:"new-ds-name",class:"block text-sm font-medium"},"Name",-1)),Be(w("input",{id:"new-ds-name","onUpdate:modelValue":I[1]||(I[1]=k=>v.value.name=k),type:"text",class:"input-field mt-1",required:""},null,512),[[qt,v.value.name]])]),w("div",null,[I[37]||(I[37]=w("label",{for:"new-ds-desc",class:"block text-sm font-medium"},"Description",-1)),Be(w("textarea",{id:"new-ds-desc","onUpdate:modelValue":I[2]||(I[2]=k=>v.value.description=k),rows:"2",class:"input-field mt-1"},null,512),[[qt,v.value.description]])]),on(s)&&on(s).allow_user_chunking_config?(M(),N("div",VY,[w("div",null,[I[38]||(I[38]=w("label",{for:"new-ds-chunk-size",class:"block text-sm font-medium"},"Chunk Size",-1)),Be(w("input",{id:"new-ds-chunk-size","onUpdate:modelValue":I[3]||(I[3]=k=>v.value.chunk_size=k),type:"number",min:"1",class:"input-field mt-1"},null,512),[[qt,v.value.chunk_size,void 0,{number:!0}]]),I[39]||(I[39]=w("p",{class:"text-xs text-gray-500 mt-1"},"Number of characters per data chunk.",-1))]),w("div",null,[I[40]||(I[40]=w("label",{for:"new-ds-chunk-overlap",class:"block text-sm font-medium"},"Chunk Overlap",-1)),Be(w("input",{id:"new-ds-chunk-overlap","onUpdate:modelValue":I[4]||(I[4]=k=>v.value.chunk_overlap=k),type:"number",min:"0",class:"input-field mt-1"},null,512),[[qt,v.value.chunk_overlap,void 0,{number:!0}]]),I[41]||(I[41]=w("p",{class:"text-xs text-gray-500 mt-1"},"Number of overlapping characters between chunks.",-1))])])):le("",!0),w("div",null,[I[43]||(I[43]=w("label",{for:"new-ds-vectorizer",class:"block text-sm font-medium"},"Vectorizer",-1)),Be(w("select",{id:"new-ds-vectorizer","onUpdate:modelValue":I[5]||(I[5]=k=>v.value.selectedVectorizerKey=k),class:"input-field mt-1"},[I[42]||(I[42]=w("option",{value:null,disabled:""},"-- Select a Vectorizer Model --",-1)),(M(!0),N(gt,null,Et(gr.value,k=>(M(),N("optgroup",{key:k.id,label:k.alias||k.vectorizer_name},[(M(!0),N(gt,null,Et(k.models,Q=>(M(),N("option",{key:`${k.id}-${Q.value}`,value:`${k.alias}/${Q.value}`},Y(Q.name),9,GY))),128))],8,UY))),128))],512),[[as,v.value.selectedVectorizerKey]]),gr.value.length===0?(M(),N("p",KY," No active RAG bindings found. Please configure them in Settings. ")):le("",!0)]),ke.value?(M(),N("div",YY,[w("h4",XY,Y(ke.value.title||ke.value.name),1),w("p",JY,Y(ke.value.description),1),((oe=ke.value.input_parameters)==null?void 0:oe.length)>0?(M(),N("div",ZY,[(M(!0),N(gt,null,Et(ke.value.input_parameters,k=>(M(),N("div",{key:k.name},[k.name!=="model"?(M(),N("div",QY,[w("label",{for:`param-${k.name}`,class:"block text-sm font-medium"},[Ae(Y(k.name)+" ",1),k.mandatory?(M(),N("span",tX,"*")):le("",!0)],8,eX),w("div",rX,[Be(w("input",{type:(k.name.includes("key")||k.name.includes("token"))&&!y.value[k.name]?"password":"text","onUpdate:modelValue":Q=>v.value.config[k.name]=Q,class:"input-field pr-10",placeholder:k.description},null,8,iX),[[oB,v.value.config[k.name]]]),k.name.includes("key")||k.name.includes("token")?(M(),N("button",{key:0,type:"button",onClick:Q=>y.value[k.name]=!y.value[k.name],class:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",title:y.value[k.name]?"Hide":"Show"},[y.value[k.name]?(M(),pt(aB,{key:0,class:"w-5 h-5"})):(M(),pt(lB,{key:1,class:"w-5 h-5"}))],8,nX)):le("",!0)])])):le("",!0)]))),128))])):le("",!0)])):le("",!0),w("div",sX,[w("button",{type:"button",onClick:I[6]||(I[6]=k=>{var Q;f.value=!1,At((Q=en.value[0])==null?void 0:Q.id)}),class:"btn btn-secondary"},"Cancel"),w("button",{type:"submit",class:"btn btn-primary",disabled:c.value==="add_store"},[c.value==="add_store"?(M(),pt(Yt,{key:0,class:"w-5 h-5 mr-2 animate-spin"})):le("",!0),Ae(" "+Y(c.value==="add_store"?"Creating...":"Create Data Store"),1)],8,oX)])],32)])):d.value?ge.value?(M(),N("div",dX,[w("div",cX,[w("div",null,[w("h2",hX,Y(ge.value.name),1),w("p",fX,Y(ge.value.description||"No description provided."),1),w("div",vX,[I[49]||(I[49]=w("span",{class:"mr-1"},"Owner:",-1)),Ee(uB,{username:ge.value.owner_username,"size-class":"h-4 w-4",class:"mr-1"},null,8,["username"]),w("span",null,Y(ge.value.owner_username),1)]),w("div",pX,[w("p",null,[I[50]||(I[50]=w("span",{class:"font-semibold"},"Vectorizer:",-1)),Ae(" "+Y(ge.value.vectorizer_name),1)]),w("p",null,[I[51]||(I[51]=w("span",{class:"font-semibold"},"Chunking:",-1)),Ae(" "+Y(ge.value.chunk_size)+" / "+Y(ge.value.chunk_overlap),1)]),Object.keys(ge.value.vectorizer_config).length>0?(M(),N("details",gX,[I[52]||(I[52]=w("summary",{class:"cursor-pointer text-gray-500"},"View Config",-1)),Ee(ba,{json:ge.value.vectorizer_config,class:"mt-1 text-xs"},null,8,["json"])])):le("",!0)])]),w("div",yX,[ge.value.permission_level==="owner"?(M(),N("button",{key:0,onClick:I[7]||(I[7]=k=>br(ge.value)),class:"btn btn-secondary btn-sm"},[Ee(OB,{class:"w-4 h-4 mr-2"}),I[53]||(I[53]=Ae(" Share"))])):le("",!0),H(ge.value)?(M(),N("button",{key:1,onClick:I[8]||(I[8]=k=>mr(ge.value)),class:"btn btn-secondary btn-sm"},[Ee(dB,{class:"w-4 h-4 mr-2"}),I[54]||(I[54]=Ae(" Edit"))])):le("",!0),ge.value.permission_level==="owner"?(M(),N("button",{key:2,onClick:I[9]||(I[9]=k=>Ut(ge.value)),class:"btn btn-danger btn-sm"},[c.value===`delete_store_${ge.value.id}`?(M(),pt(Yt,{key:0,class:"w-4 h-4 mr-2 animate-spin"})):(M(),pt(Gm,{key:1,class:"w-4 h-4 mr-2"})),I[55]||(I[55]=Ae(" Delete "))])):le("",!0)])]),w("div",mX,[w("nav",bX,[w("button",{onClick:I[10]||(I[10]=k=>h.value="documents"),class:Wr(["tab-button",h.value==="documents"?"active":"inactive"])},"Documents",2),w("button",{onClick:I[11]||(I[11]=k=>h.value="query"),class:Wr(["tab-button",h.value==="query"?"active":"inactive"])},"Query",2),w("button",{onClick:I[12]||(I[12]=k=>h.value="graph"),class:Wr(["tab-button",h.value==="graph"?"active":"inactive"])},"Graph",2)])]),Be(w("div",_X,[H(ge.value)?(M(),N("div",wX,[I[70]||(I[70]=w("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Add Documents",-1)),w("div",SX,[w("div",null,[I[57]||(I[57]=w("label",{for:"metadata-option",class:"block text-sm font-medium"},"Metadata Handling",-1)),Be(w("select",{id:"metadata-option","onUpdate:modelValue":I[13]||(I[13]=k=>Z.value=k),class:"input-field mt-1"},I[56]||(I[56]=[w("option",{value:"none"},"None",-1),w("option",{value:"manual"},"Manual Entry",-1),w("option",{value:"auto-generate"},"Auto-generate for each file",-1),w("option",{value:"rewrite-chunk"},"Rewrite full content with metadata for each chunk",-1)]),512),[[as,Z.value]]),I[58]||(I[58]=w("p",{class:"text-xs text-gray-500 mt-1"},"Choose how to handle metadata for uploaded files.",-1))]),w("div",EX,[w("div",$X,[Be(w("input",{id:"vectorize-with-metadata","onUpdate:modelValue":I[14]||(I[14]=k=>K.value=k),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-600"},null,512),[[cB,K.value]])]),I[59]||(I[59]=w("div",{class:"ml-3 text-sm leading-6"},[w("label",{for:"vectorize-with-metadata",class:"font-medium text-gray-900 dark:text-gray-100"},"Vectorize with Metadata"),w("p",{class:"text-gray-500 dark:text-gray-400"},"Include document metadata in the vectorization process for better context.")],-1))])]),w("div",OX,[w("div",{onDragover:I[17]||(I[17]=an(k=>_.value=!0,["prevent"])),onDragleave:I[18]||(I[18]=an(k=>_.value=!1,["prevent"])),onDrop:an(Qn,["prevent"]),class:Wr(["border-2 border-dashed rounded-lg p-6 text-center transition-colors flex flex-col justify-center min-h-[180px]",{"border-blue-500 bg-blue-50 dark:bg-blue-900/20":_.value,"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500":!_.value}])},[w("input",{type:"file",multiple:"",ref_key:"fileInputRef",ref:$,onChange:rr,class:"hidden",accept:".pdf,.docx,.pptx,.xlsx,.msg,.vcf,.txt,.md,.py,.js,.ts,.html,.css,.c,.cpp,.h,.hpp,.cs,.java,.json,.xml,.sh,.vhd,.v,.rb,.php,.go,.rs,.swift,.kt,.yaml,.yml,.sql,.log,.csv"},null,544),w("input",{type:"file",ref_key:"folderInputRef",ref:m,onChange:rr,class:"hidden",webkitdirectory:"",directory:"",multiple:""},null,544),I[60]||(I[60]=w("p",{class:"text-gray-600 dark:text-gray-300 font-medium mb-4"},"Drag & drop files here",-1)),w("div",IX,[w("button",{type:"button",onClick:I[15]||(I[15]=k=>$.value.click()),class:"btn btn-secondary btn-sm"},"Select File(s)"),w("button",{type:"button",onClick:I[16]||(I[16]=k=>m.value.click()),class:"btn btn-secondary btn-sm"},"Select Folder")])],34),w("div",xX,[w("h4",TX,[Ee(wB,{class:"w-4 h-4"}),I[61]||(I[61]=Ae(" Add from URL "))]),w("div",PX,[Be(w("input",{type:"text","onUpdate:modelValue":I[19]||(I[19]=k=>T.value=k),placeholder:"https://example.com/docs",class:"input-field text-sm"},null,512),[[qt,T.value]]),w("div",RX,[w("div",CX,[I[62]||(I[62]=w("label",{class:"text-xs text-gray-500 uppercase font-bold"},"Depth",-1)),Be(w("input",{type:"number","onUpdate:modelValue":I[20]||(I[20]=k=>P.value=k),min:"0",max:"5",class:"input-field text-sm mt-1"},null,512),[[qt,P.value,void 0,{number:!0}]])]),w("div",qX,[w("button",{onClick:W,class:"btn btn-primary btn-sm w-full",disabled:C.value||Me.value||!T.value},[C.value?(M(),pt(Yt,{key:0,class:"w-4 h-4 mr-1 animate-spin"})):le("",!0),Ae(" "+Y(C.value?"Scraping...":"Scrape & Add"),1)],8,kX)])]),I[63]||(I[63]=w("p",{class:"text-xs text-gray-500"},"Depth 0 = single page. Depth > 0 follows internal links.",-1))])])]),p.value.length>0?(M(),N("div",DX,[Z.value==="manual"?(M(),N("div",MX,[I[66]||(I[66]=w("label",{class:"block text-sm font-medium"},"Manual Metadata Mode",-1)),w("div",AX,[w("label",FX,[Be(w("input",{type:"radio","onUpdate:modelValue":I[21]||(I[21]=k=>xe.value=k),value:"per-file",class:"radio-input"},null,512),[[S1,xe.value]]),I[64]||(I[64]=w("span",{class:"ml-2"},"Per File",-1))]),w("label",NX,[Be(w("input",{type:"radio","onUpdate:modelValue":I[22]||(I[22]=k=>xe.value=k),value:"all",class:"radio-input"},null,512),[[S1,xe.value]]),I[65]||(I[65]=w("span",{class:"ml-2"},"For All Files",-1))])])])):le("",!0),Z.value==="manual"&&xe.value==="all"?(M(),N("div",BX,[w("h4",jX,"Selected Files ("+Y(p.value.length)+")",1),w("ul",LX,[(M(!0),N(gt,null,Et(p.value,(k,Q)=>(M(),N("li",{key:Q,class:"flex justify-between items-center"},[w("span",zX,Y(k.name),1),w("button",{onClick:ze=>_r(Q),class:"text-red-500 hover:text-red-700 ml-2",title:"Remove"},[Ee(ma,{class:"w-4 h-4"})],8,WX)]))),128))]),I[67]||(I[67]=w("label",{class:"block text-sm font-medium"},"Metadata for all files (Key: Value format)",-1)),Be(w("textarea",{"onUpdate:modelValue":I[23]||(I[23]=k=>vr.value=k),rows:"4",class:"input-field mt-1 font-mono text-xs",placeholder:`title: My Document
subject: AI Research
authors: John Doe, Jane Smith`},null,512),[[qt,vr.value]])])):Z.value==="manual"&&xe.value==="per-file"?(M(),N("div",HX,[I[69]||(I[69]=w("h4",{class:"text-sm font-medium"},"Enter Metadata for Each File:",-1)),(M(!0),N(gt,null,Et(p.value,(k,Q)=>(M(),N("div",{key:Q,class:"p-3 border rounded-lg dark:border-gray-600 space-y-3"},[w("div",VX,[w("p",UX,Y(k.name),1),w("button",{onClick:ze=>_r(Q),class:"text-red-500 hover:text-red-700",title:"Remove"},[Ee(ma,{class:"w-5 h-5"})],8,GX)]),w("div",null,[I[68]||(I[68]=w("label",{class:"text-xs font-medium"},"Metadata (Key: Value format)",-1)),Be(w("textarea",{"onUpdate:modelValue":ze=>D.value[k.name]=ze,rows:"4",class:"input-field-sm w-full mt-1 font-mono text-xs",placeholder:"title: ..."},null,8,KX),[[qt,D.value[k.name]]])])]))),128))])):Z.value!=="manual"?(M(),N("div",YX,[w("h4",XX,"Selected for Upload ("+Y(p.value.length)+")",1),w("ul",JX,[(M(!0),N(gt,null,Et(p.value,(k,Q)=>(M(),N("li",{key:Q,class:"flex justify-between items-center bg-gray-100 dark:bg-gray-800 p-2 rounded text-sm"},[w("span",ZX,Y(k.name)+" ("+Y((k.size/1024/1024).toFixed(2))+" MB)",1),w("button",{onClick:ze=>_r(Q),class:"text-red-500 hover:text-red-700 ml-2",title:"Remove"},[Ee(ma,{class:"w-4 h-4"})],8,QX)]))),128))])])):le("",!0)])):Z.value==="manual"?(M(),N("div",eJ," Select files to enter their metadata manually. ")):le("",!0),w("div",tJ,[w("button",{onClick:re,class:"btn btn-primary",disabled:Me.value||p.value.length===0||R.value},[R.value?(M(),pt(Yt,{key:0,class:"w-5 h-5 mr-2 animate-spin"})):(M(),pt(XA,{key:1,class:"w-5 h-5 mr-2"})),Ae(" "+Y(R.value?"Uploading...":`Add ${p.value.length} File(s)`),1)],8,rJ)])])):le("",!0),S.value?(M(),N("div",iJ,[I[71]||(I[71]=w("span",{class:"font-semibold text-blue-800 dark:text-blue-300"},"File Uploading:",-1)),Ae(" "+Y(S.value.progress)+"% - "+Y(S.value.description),1)])):le("",!0),x.value?(M(),N("div",nJ,[I[72]||(I[72]=w("span",{class:"font-semibold text-green-800 dark:text-green-300"},"Scraping:",-1)),Ae(" "+Y(x.value.progress)+"% - "+Y(x.value.description),1)])):le("",!0),w("div",null,[w("h3",sJ,"Indexed Documents ("+Y(b.value.length)+")",1),!g.value&&b.value.length>0&&H(ge.value)?(M(),N("div",oJ,[w("div",aJ,[w("input",{type:"checkbox",onChange:ie,checked:Qi.value,indeterminate:pr.value,id:"select-all-files-checkbox",class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,40,lJ),I[73]||(I[73]=w("label",{for:"select-all-files-checkbox",class:"ml-2 text-sm select-none cursor-pointer"},"Select All",-1))]),w("button",{onClick:Se,class:"btn btn-danger btn-sm",disabled:E.value.size===0||c.value==="delete_selected_files"},[c.value==="delete_selected_files"?(M(),pt(Yt,{key:0,class:"w-4 h-4 mr-2 animate-spin"})):(M(),pt(Gm,{key:1,class:"w-4 h-4 mr-2"})),Ae(" Delete Selected ("+Y(E.value.size)+") ",1)],8,uJ)])):le("",!0),g.value?(M(),N("div",dJ,I[74]||(I[74]=[w("p",null,"Loading documents...",-1)]))):b.value.length===0?(M(),N("div",cJ,I[75]||(I[75]=[w("p",null,"No documents indexed.",-1)]))):(M(),N("ul",hJ,[(M(!0),N(gt,null,Et(b.value,k=>(M(),N("li",{key:k.filename,class:"py-3 flex items-center"},[H(ge.value)?(M(),N("input",{key:0,type:"checkbox",onChange:Q=>U(k.filename),checked:E.value.has(k.filename),class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-4 flex-shrink-0"},null,40,fJ)):le("",!0),w("div",vJ,[w("div",pJ,[w("span",{class:Wr(["text-sm font-medium truncate cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors",{"opacity-50 pointer-events-none":we.value&&we.value!==k.filename}]),onClick:Q=>ZN(k)},Y(k.filename),11,gJ),we.value===k.filename?(M(),pt(Yt,{key:0,class:"w-4 h-4 text-blue-500 animate-spin flex-shrink-0"})):le("",!0)]),k.metadata&&Object.keys(k.metadata).length>0?(M(),N("details",yJ,[I[76]||(I[76]=w("summary",{class:"cursor-pointer text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"},"View Metadata",-1)),w("div",mJ,[Ee(ba,{json:k.metadata},null,8,["json"])])])):le("",!0)])]))),128))]))])],512),[[hB,h.value==="documents"]]),h.value==="query"?(M(),N("div",bJ,[w("div",_J,[I[80]||(I[80]=w("h3",{class:"text-xl font-semibold"},"Query Data Store",-1)),w("form",{onSubmit:an(fi,["prevent"]),class:"space-y-4"},[w("div",null,[I[77]||(I[77]=w("label",{for:"query-text",class:"block text-sm font-medium"},"Query Text",-1)),Be(w("textarea",{id:"query-text","onUpdate:modelValue":I[24]||(I[24]=k=>A.value=k),rows:"3",class:"input-field mt-1",placeholder:"Enter your question..."},null,512),[[qt,A.value]])]),w("div",wJ,[w("div",null,[I[78]||(I[78]=w("label",{for:"query-topk",class:"block text-sm font-medium"},"Top K",-1)),Be(w("input",{id:"query-topk","onUpdate:modelValue":I[25]||(I[25]=k=>L.value=k),type:"number",min:"1",class:"input-field mt-1"},null,512),[[qt,L.value,void 0,{number:!0}]])]),w("div",null,[I[79]||(I[79]=w("label",{for:"query-minsim",class:"block text-sm font-medium"},"Min Similarity %",-1)),Be(w("input",{id:"query-minsim","onUpdate:modelValue":I[26]||(I[26]=k=>ne.value=k),type:"number",min:"0",max:"100",step:"0.1",class:"input-field mt-1"},null,512),[[qt,ne.value,void 0,{number:!0}]])]),w("div",SJ,[w("button",{type:"submit",class:"btn btn-primary w-full",disabled:ae.value||!A.value.trim()},[ae.value?(M(),pt(Yt,{key:0,class:"w-5 h-5 mr-2 animate-spin"})):le("",!0),Ae(" "+Y(ae.value?"Querying...":"Query"),1)],8,EJ)])])],32)]),w("div",$J,[w("div",OJ,[w("h4",IJ,"Results ("+Y(V.value.length)+")",1),V.value.length>0?(M(),N("div",xJ,[Be(w("input",{type:"text","onUpdate:modelValue":I[27]||(I[27]=k=>fe.value=k),onKeyup:fB(jr,["enter"]),placeholder:"Search in results...",class:"input-field !py-1.5 !text-sm"},null,544),[[qt,fe.value]]),w("button",{onClick:jr,class:"btn btn-secondary btn-sm p-2"},[Ee(vB,{class:"w-4 h-4"})]),G.value.length>0?(M(),N(gt,{key:0},[w("button",{onClick:I[28]||(I[28]=k=>b1(-1)),class:"btn btn-secondary btn-sm p-2",title:"Previous match"},"â¹"),w("span",TJ,Y(pe.value+1)+" / "+Y(G.value.length),1),w("button",{onClick:I[29]||(I[29]=k=>b1(1)),class:"btn btn-secondary btn-sm p-2",title:"Next match"},"âº")],64)):le("",!0)])):le("",!0)]),ae.value?(M(),N("div",PJ,[Ee(Yt,{class:"w-8 h-8 mx-auto animate-spin"}),I[81]||(I[81]=w("p",{class:"mt-2"},"Fetching results...",-1))])):de.value?(M(),N("div",RJ,Y(de.value),1)):V.value.length===0?(M(),N("div",CJ," No results to display. Run a query to see matching text chunks. ")):fe.value&&G.value.length===0?(M(),N("div",qJ," No chunks match your search term. ")):(M(),N("div",kJ,[(M(!0),N(gt,null,Et(V.value,(k,Q)=>(M(),N("div",{key:Q,id:`chunk-${Q}`,class:"p-4 border rounded-lg dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50"},[w("div",MJ,[w("span",{class:"font-mono truncate",title:k.file_path},".../"+Y(k.file_path.split(/[/\\]/).pop()),9,AJ),w("span",{class:"font-semibold",title:`Similarity: ${k.similarity_percent}`},Y(k.similarity_percent.toFixed(2))+"%",9,FJ)]),w("pre",{class:"whitespace-pre-wrap font-sans text-sm",innerHTML:Ct(k.chunk_text)},null,8,NJ)],8,DJ))),128))]))])])):le("",!0),h.value==="graph"?(M(),N("div",BJ,[Ee(AY,{store:ge.value,task:O.value},null,8,["store","task"])])):le("",!0)])):(M(),N("div",uX,I[48]||(I[48]=[w("h3",{class:"text-xl font-semibold text-gray-700 dark:text-gray-200"},"Data Store Not Found",-1),w("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"},"The selected data store could not be loaded.",-1)]))):(M(),N("div",aX,[w("div",lX,[Ee(w1,{class:"mx-auto h-12 w-12 text-gray-400"}),I[46]||(I[46]=w("h3",{class:"mt-2 text-xl font-semibold text-gray-900 dark:text-white"},"Select a Data Store",-1)),I[47]||(I[47]=w("p",{class:"mt-1 text-sm text-gray-500"},"Choose a store from the sidebar or create a new one to begin.",-1))])])),we.value?(M(),N("div",jJ,[Ee(Yt,{class:"w-12 h-12 text-blue-600 dark:text-blue-400 mb-4 animate-spin"}),I[82]||(I[82]=w("h3",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Loading file content",-1)),I[83]||(I[83]=w("p",{class:"text-gray-600 dark:text-gray-300"},"Please stand by...",-1))])):le("",!0)]),Ee(_B,{modalName:"fileContent",title:"Document Viewer",size:"4xl"},{body:uo(()=>{var k,Q,ze;return[ce.value?(M(),N("div",LJ,[w("div",zJ,[w("div",WJ,[w("div",null,[w("h3",HJ,Y(((k=ce.value.metadata)==null?void 0:k.title)||ce.value.filename),1),(Q=ce.value.metadata)!=null&&Q.title&&((ze=ce.value.metadata)==null?void 0:ze.title)!==ce.value.filename?(M(),N("p",VJ,Y(ce.value.filename),1)):le("",!0)]),w("div",UJ,[w("div",GJ,[w("span",KJ,Y(ce.value.content.length.toLocaleString()),1),I[84]||(I[84]=Ae(" chars"))]),w("div",YJ,[w("span",XJ,Y(ce.value.content.split(/\s+/).length.toLocaleString()),1),I[85]||(I[85]=Ae(" words"))]),w("div",JJ,[w("span",ZJ,"~"+Y(Math.ceil(ce.value.content.length/4).toLocaleString()),1),I[86]||(I[86]=Ae(" tokens"))])])]),ce.value.metadata&&Object.keys(ce.value.metadata).length>0?(M(),N("div",QJ,[w("details",eZ,[I[87]||(I[87]=w("summary",{class:"cursor-pointer text-blue-600 dark:text-blue-400 font-medium select-none"},"Show Metadata",-1)),w("div",tZ,[Ee(ba,{json:ce.value.metadata},null,8,["json"])])])])):le("",!0)]),w("div",rZ,[w("div",iZ,[w("button",{onClick:QN,class:"p-2 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",title:"Copy Content"},[Ee(pB,{class:"w-4 h-4"})])]),w("div",nZ,Y(ce.value.content),1)])])):le("",!0)]}),footer:uo(()=>[w("button",{onClick:I[30]||(I[30]=k=>on(t).closeModal("fileContent")),class:"btn btn-primary"},"Close")]),_:1})]}),_:1}))}};export{EZ as default};
