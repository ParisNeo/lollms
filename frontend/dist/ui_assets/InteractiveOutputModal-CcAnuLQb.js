import{a4 as $,u as M,c as g,a as O,o as a,w as f,b as e,e as o,f as c,P as j,F as b,r as y,aE as N,t as d,cq as S,aq as D,M as R}from"./index-CZ57W16T.js";import{_ as B}from"./GenericModal-Bo823HoA.js";const E={class:"p-6 space-y-8 bg-gray-50 dark:bg-gray-900/50 min-h-[400px]"},F={key:0,class:"flex flex-col items-center justify-center py-20 text-gray-400"},T={key:1,class:"space-y-6"},V={class:"px-4 py-3 bg-white dark:bg-gray-800 border-b dark:border-gray-700 flex items-center justify-between"},W={class:"flex items-center gap-2"},q={class:"font-bold text-sm text-gray-700 dark:text-gray-200 uppercase tracking-wider"},z={class:"text-[10px] font-mono text-gray-400"},J={class:"p-4 space-y-4"},P={class:"flex items-center gap-2"},U={class:"text-[10px] font-black uppercase text-blue-500 tracking-widest"},A={key:0,class:"image-result-container group"},G={class:"relative rounded-lg overflow-hidden border dark:border-gray-700 bg-gray-200 dark:bg-black"},H=["src"],K={class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3"},Q=["onClick"],X=["onClick"],Y={key:1,class:"text-result-container prose dark:prose-invert max-w-none bg-white dark:bg-gray-800 p-6 rounded-xl shadow-inner border dark:border-gray-700"},Z={class:"mt-4 flex justify-end"},tt=["onClick"],et={key:2,class:"p-3 bg-gray-100 dark:bg-gray-950 rounded font-mono text-xs overflow-x-auto border dark:border-gray-800"},st={class:"text-gray-600 dark:text-gray-400"},at={__name:"InteractiveOutputModal",setup(ot){const l=M(),_=g(()=>l.modalData("interactiveOutput")),h=g(()=>{var t;return((t=_.value)==null?void 0:t.title)||"Execution Results"}),x=g(()=>{var t;return((t=_.value)==null?void 0:t.results)||{}});function w(t,s){return typeof s!="string"?!1:t.toLowerCase().includes("image")||t.toLowerCase().includes("_b64")||s.startsWith("data:image/")}function k(t,s){return typeof s!="string"?!1:t.toLowerCase().includes("text")||t.toLowerCase().includes("content")||t.toLowerCase().includes("summary")||t.toLowerCase().includes("markdown")}function u(t){return t.startsWith("data:image/")?t:`data:image/png;base64,${t}`}function v(t,s){const r=document.createElement("a");r.href=u(t),r.download=`${s||"generated_image"}.png`,r.click()}function C(t){l.openImageViewer({imageList:[{src:t}],startIndex:0})}function I(t){l.copyToClipboard(t,"Result copied to clipboard!")}function L(){l.closeModal("interactiveOutput")}return(t,s)=>(a(),O(B,{modalName:"interactiveOutput",title:h.value,maxWidthClass:"max-w-6xl"},{body:f(()=>[e("div",E,[Object.keys(x.value).length===0?(a(),o("div",F,[c(j,{class:"w-12 h-12 mb-4 opacity-20"}),s[0]||(s[0]=e("p",{class:"text-lg font-medium"},"No results generated yet.",-1))])):(a(),o("div",T,[(a(!0),o(b,null,y(x.value,(r,p)=>(a(),o("div",{key:p,class:"result-panel"},[e("div",V,[e("div",W,[c(N,{class:"w-5 h-5 text-green-500"}),e("span",q,d(p),1)]),e("span",z,"Node ID: "+d(p),1)]),e("div",J,[(a(!0),o(b,null,y(r,(n,i)=>(a(),o("div",{key:i,class:"space-y-2"},[e("div",P,[e("span",U,d(i),1),s[1]||(s[1]=e("div",{class:"h-px flex-grow bg-gray-100 dark:bg-gray-700"},null,-1))]),w(i,n)?(a(),o("div",A,[e("div",G,[e("img",{src:u(n),class:"max-w-full h-auto mx-auto shadow-2xl"},null,8,H),e("div",K,[e("button",{onClick:m=>C(u(n)),class:"btn-img-action",title:"Full Screen"},[c(S,{class:"w-5 h-5"})],8,Q),e("button",{onClick:m=>v(n,i),class:"btn-img-action",title:"Download"},[c(D,{class:"w-5 h-5"})],8,X)])])])):k(i,n)?(a(),o("div",Y,[c(R,{content:n},null,8,["content"]),e("div",Z,[e("button",{onClick:m=>I(n),class:"text-[10px] font-bold text-gray-400 hover:text-blue-500 uppercase tracking-widest transition-colors"},"Copy Raw Text",8,tt)])])):(a(),o("div",et,[e("pre",st,d(JSON.stringify(n,null,2)),1)]))]))),128))])]))),128))]))])]),footer:f(()=>[e("div",{class:"flex justify-between w-full px-4"},[s[2]||(s[2]=e("p",{class:"text-xs text-gray-500 self-center"},"Results are updated in real-time during flow execution.",-1)),e("button",{onClick:L,class:"btn btn-primary px-8"},"Done")])]),_:1},8,["title"]))}},it=$(at,[["__scopeId","data-v-a0eb4e72"]]);export{it as default};
