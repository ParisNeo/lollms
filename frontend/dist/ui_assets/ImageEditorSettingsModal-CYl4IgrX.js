import{X as _,a0 as M,c as b,n as U,l as n,g as f,e as a,j as x,d as o,O as d,F as u,i as r,t as m,a6 as p,Y as g,W as V}from"./index-BETWUTlj.js";import{_ as h}from"./GenericModal-D-THYpyF.js";const w={key:0,class:"p-4 space-y-6"},C=["label"],z=["value"],D=["value"],E={class:"block text-sm font-medium"},T=["for"],$=["id","onUpdate:modelValue"],B=["value"],L=["type","step","id","onUpdate:modelValue","placeholder"],P={key:1,class:"p-4 text-center text-gray-500"},G={__name:"ImageEditorSettingsModal",setup(q){const v=_(),c=M(),l=b(()=>{var i;return(i=v.modalData("imageEditorSettings"))==null?void 0:i.settings}),y=[{value:"1024x1024",label:"1024x1024 (Square 1:1)"},{value:"1152x896",label:"1152x896 (Landscape ~4:3)"},{value:"896x1152",label:"896x1152 (Portrait ~3:4)"},{value:"1216x832",label:"1216x832 (Landscape ~3:2)"},{value:"832x1216",label:"832x1216 (Portrait ~2:3)"},{value:"1344x768",label:"1344x768 (Widescreen 16:9)"},{value:"768x1344",label:"768x1344 (Tall 9:16)"},{value:"1536x640",label:"1536x640 (Cinematic ~2.4:1)"},{value:"640x1536",label:"640x1536 (Tall Cinematic ~1:2.4)"},{value:"512x512",label:"512x512 (Small Square)"}],S=b(()=>{if(!l.value)return[];const i=c.availableTtiModels.find(s=>s.id===l.value.selectedModel);if(!(i!=null&&i.binding_params))return[];const t=i.binding_params.edit_parameters||[],e=["prompt","negative_prompt","image","mask","width","height","seed","strength"];return t.filter(s=>!e.includes(s.name))});function k(i){return typeof i=="string"?i.split(",").map(t=>t.trim()).filter(t=>t):Array.isArray(i)?i.filter(t=>t):[]}return(i,t)=>(n(),U(h,{"modal-name":"imageEditorSettings",title:"Generation Settings","max-width-class":"max-w-xl"},{body:f(()=>[l.value?(n(),o("div",w,[a("div",null,[t[6]||(t[6]=a("label",{for:"model-select",class:"block text-sm font-medium"},"Model",-1)),d(a("select",{id:"model-select","onUpdate:modelValue":t[0]||(t[0]=e=>l.value.selectedModel=e),class:"input-field mt-1"},[t[5]||(t[5]=a("option",{disabled:"",value:""},"Select a model",-1)),(n(!0),o(u,null,r(x(c).availableTtiModelsGrouped,e=>(n(),o("optgroup",{key:e.label,label:e.label},[(n(!0),o(u,null,r(e.items,s=>(n(),o("option",{key:s.id,value:s.id},m(s.name),9,z))),128))],8,C))),128))],512),[[p,l.value.selectedModel]])]),a("div",null,[t[7]||(t[7]=a("label",{for:"size",class:"block text-sm font-medium"},"Image Size",-1)),d(a("select",{id:"size","onUpdate:modelValue":t[1]||(t[1]=e=>l.value.imageSize=e),class:"input-field mt-1"},[(n(),o(u,null,r(y,e=>a("option",{key:e.value,value:e.value},m(e.label),9,D)),64))],512),[[p,l.value.imageSize]])]),a("div",null,[t[8]||(t[8]=a("label",{for:"seed",class:"block text-sm font-medium"},"Seed",-1)),d(a("input",{id:"seed","onUpdate:modelValue":t[2]||(t[2]=e=>l.value.seed=e),type:"number",class:"input-field mt-1",placeholder:"-1 for random"},null,512),[[g,l.value.seed,void 0,{number:!0}]])]),a("div",null,[a("label",E,"Strength: "+m(l.value.params.strength||"Default"),1),d(a("input",{type:"range",min:"0",max:"1",step:"0.01","onUpdate:modelValue":t[3]||(t[3]=e=>l.value.params.strength=e),class:"w-full"},null,512),[[g,l.value.params.strength,void 0,{number:!0}]])]),(n(!0),o(u,null,r(S.value,e=>(n(),o("div",{key:e.name},[a("label",{for:`param-${e.name}`,class:"block text-sm font-medium capitalize"},m(e.name.replace(/_/g," ")),9,T),e.options&&e.options.length>0?d((n(),o("select",{key:0,id:`param-${e.name}`,"onUpdate:modelValue":s=>l.value.params[e.name]=s,class:"input-field mt-1"},[(n(!0),o(u,null,r(k(e.options),s=>(n(),o("option",{key:s,value:s},m(s),9,B))),128))],8,$)),[[p,l.value.params[e.name]]]):d((n(),o("input",{key:1,type:e.type==="str"?"text":"number",step:e.type==="float"?"0.1":"1",id:`param-${e.name}`,"onUpdate:modelValue":s=>l.value.params[e.name]=s,class:"input-field mt-1",placeholder:e.default},null,8,L)),[[V,l.value.params[e.name]]])]))),128))])):(n(),o("div",P," Loading settings... "))]),footer:f(()=>[a("button",{onClick:t[4]||(t[4]=e=>x(v).closeModal("imageEditorSettings")),class:"btn btn-primary"},"Close")]),_:1}))}};export{G as default};
