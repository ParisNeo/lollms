const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["ui_assets/FlowEditor-DxVc059q.js","ui_assets/index-DjgpTDIL.js","ui_assets/index-_J_9VB3l.css","ui_assets/NodeCreatorModal-BZpr-DU2.js","ui_assets/index--nvJlVFq.js","ui_assets/FlowEditor-0hx1pU12.css"])))=>i.map(i=>d[i]);
import{a7 as N,u as D,i as R,L as w,c as V,l as A,v as E,a8 as b,e as r,a as n,b as o,g as u,f as l,h as i,Y as I,a9 as m,d as s,aa as T,ab as P,t as g,w as _,s as y,S as B,F as L,J as p,o as a}from"./index-DjgpTDIL.js";/* empty css                                                                       */const j={class:"flex items-center gap-2"},$={class:"h-full flex flex-col relative bg-gray-50 dark:bg-gray-900"},M={class:"h-12 border-b dark:border-gray-700 flex items-center px-4 gap-2 bg-white dark:bg-gray-800 flex-shrink-0 justify-between"},O={class:"flex items-center gap-2"},J=["disabled"],U=["disabled"],Y={key:0,class:"text-xs text-gray-500 font-mono"},q={class:"font-bold hidden sm:inline mr-2"},z={class:"flex-grow relative bg-gray-100 dark:bg-gray-900 overflow-hidden"},G={key:1,class:"flex flex-col items-center justify-center h-full text-gray-400"},X={__name:"FlowStudioView",setup(H){const v=y(()=>p(()=>import("./FlowEditor-DxVc059q.js"),__vite__mapDeps([0,1,2,3,4,5]))),x=y(()=>p(()=>import("./NodeCreatorModal-BZpr-DU2.js"),__vite__mapDeps([3,1,2,4]))),t=N(),F=D(),k=R(),d=w(!1),c=w(null),h=V(()=>k.isAdmin);A(()=>{t.fetchNodeDefinitions(),F.setPageTitle({title:"Flow Studio",icon:E(b)})});async function f(){t.currentFlow&&await t.saveFlow(t.currentFlow.id,t.currentFlow.data)}async function S(){t.currentFlow&&(await f(),c.value&&c.value.openRunner())}return(K,e)=>(a(),r(L,null,[(a(),n(m,{to:"#global-header-actions-target"},[o("div",j,[h.value?(a(),r("button",{key:0,onClick:e[0]||(e[0]=C=>d.value=!0),class:"btn btn-secondary btn-sm gap-2",title:"Define New Node Type"},[l(I,{class:"w-4 h-4"}),e[2]||(e[2]=i(" Define Node "))])):u("",!0)])])),o("div",$,[o("div",M,[o("div",O,[o("button",{onClick:f,class:"btn btn-secondary btn-sm gap-2",disabled:!s(t).currentFlow},[l(T,{class:"w-4 h-4"}),e[3]||(e[3]=i(" Save"))],8,J),o("button",{onClick:S,class:"btn btn-primary btn-sm gap-2",disabled:!s(t).currentFlow},[l(P,{class:"w-4 h-4"}),e[4]||(e[4]=i(" Run Flow"))],8,U)]),s(t).currentFlow?(a(),r("div",Y,[o("span",q,g(s(t).currentFlow.name),1),i(" ID: "+g(s(t).currentFlow.id),1)])):u("",!0)]),o("div",z,[(a(),n(B,null,{default:_(()=>[s(t).currentFlow?(a(),n(s(v),{key:0,ref_key:"editorRef",ref:c,flow:s(t).currentFlow},null,8,["flow"])):(a(),r("div",G,[l(b,{class:"w-16 h-16 mb-4 opacity-50"}),e[5]||(e[5]=o("p",{class:"text-lg font-medium"},"Select or create a flow from the sidebar.",-1))]))]),fallback:_(()=>e[6]||(e[6]=[o("div",{class:"flex items-center justify-center h-full text-gray-500"},"Loading...",-1)])),_:1}))])]),(a(),n(m,{to:"body"},[d.value?(a(),n(s(x),{key:0,onClose:e[1]||(e[1]=C=>d.value=!1)})):u("",!0)]))],64))}};export{X as default};
