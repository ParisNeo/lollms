import{J as k,q as v,d as i,l as s,e as t,t as x,p as u,n as I,ai as w,h as V}from"./index-Ccv_SyiN.js";const C={class:"label"},z={class:"mt-1 flex items-center gap-4"},U=["src"],S={class:"space-y-2"},N={__name:"IconUploader",props:{modelValue:{type:String,default:null},label:{type:String,default:"Icon"},size:{type:Number,default:16}},emits:["update:modelValue"],setup(e,{emit:m}){const c=m,g=k(),r=v(null);function f(){var a;(a=r.value)==null||a.click()}function y(a){const l=a.target.files[0];if(!l)return;if(!l.type.startsWith("image/")){g.addNotification("Please select a valid image file.","warning");return}const d=new FileReader;d.onload=h=>{const o=new Image;o.onload=()=>{const n=document.createElement("canvas"),p=n.getContext("2d");n.width=128,n.height=128,p.drawImage(o,0,0,128,128),c("update:modelValue",n.toDataURL("image/png"))},o.src=h.target.result},d.readAsDataURL(l)}function b(){c("update:modelValue",null)}return(a,l)=>(s(),i("div",null,[t("label",C,x(e.label),1),t("div",z,[t("div",{class:u(["flex-shrink-0 bg-gray-100 dark:bg-gray-700 rounded-lg border border-gray-300 dark:border-gray-600 flex items-center justify-center",`h-${e.size} w-${e.size}`])},[e.modelValue?(s(),i("img",{key:0,src:e.modelValue,alt:"Icon preview",class:"h-full w-full object-cover rounded-lg"},null,8,U)):(s(),I(w,{key:1,class:u(["text-gray-400",`h-${e.size/2} w-${e.size/2}`])},null,8,["class"]))],2),t("div",S,[t("input",{type:"file",ref_key:"fileInput",ref:r,onChange:y,accept:"image/*",class:"hidden"},null,544),t("button",{type:"button",onClick:f,class:"btn btn-secondary text-sm"},"Upload Image"),e.modelValue?(s(),i("button",{key:0,type:"button",onClick:b,class:"btn btn-danger-outline text-sm"},"Remove")):V("",!0)])])]))}};export{N as _};
