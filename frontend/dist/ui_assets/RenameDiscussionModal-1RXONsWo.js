import{a as p,s as v,r as d,c as m,w as b,b as w,h as D,d as x,e as f,f as s,l as k,i as y,v as T,j as _,n as C}from"./index-Dja0BxAz.js";import{_ as I}from"./GenericModal-C0Arp-Jb.js";const R={__name:"RenameDiscussionModal",setup(M){const i=p(),o=v(),t=d(""),l=d(null),u=m(()=>i.modalData("renameDiscussion")),n=m(()=>u.value?o.discussions[u.value.discussionId]:null);b(n,a=>{a&&(t.value=a.title,C(()=>{var e;(e=l.value)==null||e.focus()}))},{immediate:!0});const r=async()=>{!n.value||!t.value.trim()||(await o.renameDiscussion({discussionId:n.value.id,newTitle:t.value}),i.closeModal("renameDiscussion"))};return(a,e)=>n.value?(x(),w(I,{key:0,modalName:"renameDiscussion",title:"Rename Discussion",maxWidthClass:"max-w-md"},{body:f(()=>[s("form",{onSubmit:_(r,["prevent"])},[s("div",null,[e[2]||(e[2]=s("label",{for:"discussionTitleInput",class:"block text-sm font-medium mb-1"}," New Title ",-1)),y(s("input",{ref_key:"titleInput",ref:l,"onUpdate:modelValue":e[0]||(e[0]=c=>t.value=c),type:"text",id:"discussionTitleInput",class:"input-field",placeholder:"Enter new discussion title"},null,512),[[T,t.value]])])],32)]),footer:f(()=>[s("button",{onClick:e[1]||(e[1]=c=>k(i).closeModal("renameDiscussion")),class:"btn btn-secondary"}," Cancel "),s("button",{onClick:r,class:"btn btn-primary"}," Rename ")]),_:1})):D("",!0)}};export{R as default};
