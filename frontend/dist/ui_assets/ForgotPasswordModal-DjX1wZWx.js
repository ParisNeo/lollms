import{u as v,L as i,a as f,o as u,w as m,b as e,K as g,e as b,l as x,T as y,a7 as _,J as w,t as c,M as k}from"./index-CYIRZvEj.js";import{_ as h}from"./GenericModal-Q7SQyOMI.js";const C={class:"p-6 space-y-4"},M=["disabled"],P={class:"pt-2"},B=["disabled"],q={__name:"ForgotPasswordModal",setup(E){const n=v(),r=i(""),a=i(!1),t=i(""),p=async()=>{var l,s;if(!r.value){t.value="Please enter your username or email address.";return}a.value=!0,t.value="";try{const o=await k.post("/api/auth/forgot-password",{username_or_email:r.value});t.value=o.data.message}catch(o){t.value=((s=(l=o.response)==null?void 0:l.data)==null?void 0:s.detail)||"An unexpected error occurred."}finally{a.value=!1}},d=()=>{n.closeModal("forgotPassword"),n.openModal("login")};return(l,s)=>(u(),f(h,{modalName:"forgotPassword",title:"Forgot Password",onClose:d},{body:m(()=>[e("div",C,[s[2]||(s[2]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Enter your username or email address, and we will initiate the password reset process. ",-1)),e("form",{onSubmit:g(p,["prevent"]),class:"space-y-4"},[e("div",null,[s[1]||(s[1]=e("label",{for:"username-or-email",class:"block text-sm font-medium"},"Username or Email",-1)),y(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>r.value=o),type:"text",id:"username-or-email",required:"",disabled:a.value||t.value.includes("initiated"),class:"input-field mt-1 w-full"},null,8,M),[[_,r.value]])]),t.value?(u(),b("div",{key:0,class:w([t.value.includes("initiated")?"text-green-700 bg-green-100 dark:text-green-300 dark:bg-green-900/50":"text-red-700 bg-red-100 dark:text-red-300 dark:bg-red-900/50","text-sm text-center p-3 rounded-md"]),role:"alert"},c(t.value),3)):x("",!0),e("div",P,[e("button",{type:"submit",class:"btn btn-primary w-full",disabled:a.value||t.value.includes("initiated")},c(a.value?"Processing...":"Request Reset"),9,B)])],32)])]),footer:m(()=>[e("div",{class:"flex justify-start"},[e("button",{type:"button",onClick:d,class:"text-sm font-medium text-blue-600 hover:text-blue-500"}," ‚Üê Back to Login ")])]),_:1}))}};export{q as default};
