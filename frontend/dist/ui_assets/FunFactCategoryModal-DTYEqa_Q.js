import{K as C,c as n,s as f,w,n as x,l as F,g as p,e as a,j as S,t as _,H as k,z as b,L as y,p as g}from"./index-BBRgbnZQ.js";import{_ as M}from"./GenericModal-eXiOHk6I.js";import{u as B}from"./admin-CwLQr1mG.js";const A={class:"flex items-center gap-4"},D={class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},N=["disabled"],z={__name:"FunFactCategoryModal",setup(U){const r=C(),u=B(),d=n(()=>r.modalData("funFactCategory")),i=n(()=>{var o;return(o=d.value)==null?void 0:o.category}),c=n(()=>{var o;return(o=d.value)==null?void 0:o.onSave}),t=f({name:"",is_active:!0,color:"#3B82F6"}),s=f(!1),v=n(()=>!!i.value);w(i,o=>{o?t.value={...o}:t.value={name:"",is_active:!0,color:"#3B82F6"}},{immediate:!0});async function m(){s.value=!0;try{v.value?await u.updateFunFactCategory(i.value.id,t.value):await u.createFunFactCategory(t.value),c.value&&c.value(),r.closeModal("funFactCategory")}finally{s.value=!1}}return(o,e)=>(F(),x(M,{modalName:"funFactCategory",title:v.value?"Edit Category":"Add Category"},{body:p(()=>[a("form",{onSubmit:k(m,["prevent"]),class:"space-y-4"},[a("div",null,[e[4]||(e[4]=a("label",{for:"cat-name",class:"label"},"Name",-1)),b(a("input",{id:"cat-name",type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>t.value.name=l),class:"input-field",required:""},null,512),[[y,t.value.name]])]),a("div",A,[e[5]||(e[5]=a("label",{for:"cat-color",class:"label"},"Color",-1)),b(a("input",{id:"cat-color",type:"color","onUpdate:modelValue":e[1]||(e[1]=l=>t.value.color=l),class:"w-12 h-10 p-1 border rounded-md"},null,512),[[y,t.value.color]])]),a("div",D,[e[6]||(e[6]=a("label",{for:"cat-active",class:"text-sm font-medium"},"Active",-1)),a("button",{onClick:e[2]||(e[2]=l=>t.value.is_active=!t.value.is_active),type:"button",class:g(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors",t.value.is_active?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"])},[a("span",{class:g([t.value.is_active?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition"])},null,2)],2)])],32)]),footer:p(()=>[a("button",{type:"button",onClick:e[3]||(e[3]=l=>S(r).closeModal("funFactCategory")),class:"btn btn-secondary"},"Cancel"),a("button",{type:"button",onClick:m,class:"btn btn-primary",disabled:s.value},_(s.value?"Saving...":"Save"),9,N)]),_:1},8,["title"]))}};export{z as default};
