import{u as _e,ad as xe,aa as we,an as Z,c as x,N as p,m as Q,l as ke,a as T,o as n,w as he,e as o,b as t,f as E,aB as j,W as _,ak as k,F as A,r as Y,n as g,g as b,t as M,h as z,K as Me,D as Ce,aG as Se,z as ee,ap as Be,Z as Te}from"./index-BkSnPnj7.js";import{u as Ae}from"./admin-DblNksfn.js";import{_ as De}from"./GenericModal-CyWgHpU9.js";const Ie={key:0,class:"text-center p-8 text-red-500 dark:text-red-400"},Ne={key:1,class:"text-center p-8"},ze={class:"flex justify-center items-center gap-3"},$e={key:2,class:"flex gap-6 h-[70vh]"},Ue={class:"w-1/3 border-r dark:border-gray-600 pr-4 flex flex-col"},Ge={class:"relative mb-2"},Ve={class:"overflow-y-auto flex-grow"},je={key:0},Re=["onClick"],Le={class:"flex-grow min-w-0"},Fe={key:0,class:"text-xs text-gray-500 truncate"},Pe={class:"flex-shrink-0 flex items-center gap-1.5 pl-2"},Ee={key:0,class:"tag text-xs bg-blue-100 text-blue-800",title:"Binding Default"},We={key:1,class:"tag text-xs bg-green-100 text-green-800",title:"Global Default"},Oe={key:1,class:"text-center text-sm text-gray-500 py-4"},qe={class:"w-2/3 overflow-y-auto pr-2"},Je={key:0,class:"flex items-center justify-center h-full"},Ke={key:1},He={class:"font-semibold mb-4"},Xe={class:"font-mono text-blue-600 dark:text-blue-400"},Ze={key:0,class:"mt-1 p-4 text-center bg-gray-50 dark:bg-gray-700/50 rounded-lg"},Qe={key:1,class:"mt-1"},Ye={class:"group relative w-24 h-24 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center"},et=["src"],tt={class:"absolute inset-0 bg-black/60 rounded-md flex items-center justify-center gap-3 opacity-0 group-hover:opacity-100 transition-opacity"},at=["disabled"],lt={key:0,class:"p-4 border rounded-lg dark:border-gray-700"},st={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},nt={class:"flex items-center gap-2"},it=["disabled"],ot={class:"mt-4 border-t pt-4 dark:border-gray-600"},rt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ut={class:"flex items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-md"},dt={class:"flex items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-md md:col-span-2"},ct={key:1,class:"p-4 border rounded-lg dark:border-gray-700"},vt={class:"font-medium mb-4"},gt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ft=["for"],mt=["type","step","id","onUpdate:modelValue","placeholder"],pt={key:1,class:"mt-1"},bt=["onClick"],yt={key:2,class:"flex items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-md"},_t={class:"flex items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-md"},xt={class:"flex-grow flex flex-col"},wt={class:"text-sm font-medium"},kt={class:"text-sm text-gray-500 dark:text-gray-400"},ht={key:3,class:"flex items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-md"},Mt={class:"flex justify-end gap-3 pt-4"},Ct=["disabled"],St=["disabled"],Bt={class:"mt-6"},Tt={class:"space-y-4"},At={class:"flex items-center gap-4"},Dt=["disabled"],It={key:0,class:"text-sm text-green-600 dark:text-green-400 font-medium"},Nt={key:0,class:"flex items-center gap-4"},zt=["disabled"],$t={key:0,class:"text-sm text-green-600 dark:text-green-400 font-medium"},Rt={__name:"ManageModelsModal",setup(Ut){const y=_e(),u=Ae();xe();const te=we(),{globalSettings:ae,availableBindingTypes:le,availableTtiBindingTypes:se,availableTtsBindingTypes:ne,ttiBindings:W}=Z(u),{tasks:ie}=Z(te),O=x(()=>y.modalData("manageModels")),i=x(()=>{var l;return(l=O.value)==null?void 0:l.binding}),d=x(()=>{var l;return(l=O.value)==null?void 0:l.bindingType}),D=p(!0),C=p(!1),$=p(!1),U=p(!1),G=p(!1),B=p(null),I=p(!1),q=p(null),m=p([]),r=p(null),V=p(""),N=p([]),oe=x(()=>W.value&&W.value.some(l=>l.is_active)),R=()=>({icon:"",title:"",name:"",description:"",has_vision:!0,ctx_size:null,ctx_size_locked:!1,temperature:null,top_k:null,top_p:null,repeat_penalty:null,repeat_last_n:null,allow_parameters_override:!0,reasoning_activation:!1,reasoning_effort:null,reasoning_summary:!1}),s=p(R()),L=x(()=>B.value?ie.value.find(l=>l.id===B.value):null),re=x(()=>I.value?!0:L.value?["pending","running"].includes(L.value.status):!1);Q(L,l=>{if(l)if(l.status==="completed"){let e=l.result;if(e&&typeof e=="string")try{e=JSON.parse(e)}catch{}let a=e&&typeof e=="object"&&e.icon_base64?e.icon_base64:typeof e=="string"?e:null;a?(s.value.icon=a.startsWith("data:image")?a:`data:image/png;base64,${a}`,y.addNotification("Icon generated successfully!","success")):y.addNotification("Icon generation completed, but no image was returned.","warning"),B.value=null}else(l.status==="failed"||l.status==="cancelled")&&(y.addNotification(`Icon generation failed: ${l.error||"Unknown error."}`,"error"),B.value=null)});const J=x(()=>{if(!V.value)return m.value;const l=V.value.toLowerCase();return m.value.filter(e=>{var a,c;return e.original_model_name.toLowerCase().includes(l)||((c=(a=e.alias)==null?void 0:a.title)==null?void 0:c.toLowerCase().includes(l))})}),K=x(()=>{const l=ae.value.find(e=>e.key==="default_lollms_model_name");return l?l.value:null}),H=x(()=>r.value&&i.value&&r.value.original_model_name===i.value.default_model_name),X=x(()=>r.value&&i.value&&`${i.value.alias}/${r.value.original_model_name}`===K.value),ue=l=>i.value&&l===i.value.default_model_name,de=l=>i.value&&`${i.value.alias}/${l}`===K.value;async function F(){if(!i.value){D.value=!1,m.value=[];return}D.value=!0;try{switch(d.value){case"llm":m.value=await u.fetchBindingModels(i.value.id);break;case"tti":m.value=await u.fetchTtiBindingModels(i.value.id);break;case"tts":m.value=await u.fetchTtsBindingModels(i.value.id);break;case"stt":m.value=await u.fetchSttBindingModels(i.value.id);break;case"rag":m.value=await u.fetchRagBindingModels(i.value.id);break;default:m.value=[]}}finally{D.value=!1}}function P(l){var v;r.value=l;const e={...R(),...l.alias||{}};d.value==="llm"&&!e.name&&(e.name=e.title||l.original_model_name);let a;d.value==="tti"?a=se.value:d.value==="tts"?a=ne.value:d.value==="rag"?a=u.availableRagBindingTypes:a=le.value;const c=(v=i.value)==null?void 0:v.name;if(c){const h=a.find(f=>(f.binding_name||f.name)===c),w=(h==null?void 0:h.model_parameters)||[];N.value=w,w.forEach(f=>{f.name in e||(e[f.name]=f.default)})}else N.value=[];s.value=e}async function ce(){if(!(!r.value||!i.value||d.value!=="llm")){G.value=!0;try{const l=await u.getModelCtxSize(i.value.id,r.value.original_model_name);l!==null&&(s.value.ctx_size=l)}finally{G.value=!1}}}async function ve(){if(!s.value.title&&!r.value.original_model_name){y.addNotification("Please provide an Alias Title to generate an icon.","warning");return}I.value=!0,B.value=null;try{const e=`a high-quality, abstract, minimalist, vector logo for an AI model named "${s.value.title||r.value.original_model_name}". Description: ${s.value.description||"General purpose model."}`,a=await u.generateIconForModel(e);a!=null&&a.id&&(B.value=a.id,y.addNotification("Icon generation started...","info"))}finally{I.value=!1}}async function ge(){if(!(!r.value||!i.value)){C.value=!0;try{const l={...s.value};let e={};d.value==="llm"?(l.title&&(l.name=l.title),["ctx_size","temperature","top_k","top_p","repeat_penalty","repeat_last_n"].forEach(c=>{const v=l[c];l[c]=v===""||v===null||isNaN(parseFloat(v))?null:Number(v)}),e={original_model_name:r.value.original_model_name,alias:l},await u.saveModelAlias(i.value.id,e)):(N.value.forEach(c=>{if(["int","float"].includes(c.type)){const v=l[c.name];l[c.name]=v===""||v===null||isNaN(parseFloat(v))?null:Number(v)}}),e={original_model_name:r.value.original_model_name,alias:l},d.value==="tti"?await u.saveTtiModelAlias(i.value.id,e):d.value==="tts"?await u.saveTtsModelAlias(i.value.id,e):d.value==="stt"?await u.saveSttModelAlias(i.value.id,e):d.value==="rag"&&await u.saveRagModelAlias(i.value.id,e)),await F();const a=m.value.find(c=>c.original_model_name===r.value.original_model_name);a&&P(a)}finally{C.value=!1}}}async function fe(){var l;if(!(!((l=r.value)!=null&&l.alias)||!i.value)&&await y.showConfirmation({title:"Delete Alias?",message:`Delete the alias for '${r.value.original_model_name}'?`,confirmText:"Delete"})){C.value=!0;try{switch(d.value){case"llm":await u.deleteModelAlias(i.value.id,r.value.original_model_name);break;case"tti":await u.deleteTtiModelAlias(i.value.id,r.value.original_model_name);break;case"tts":await u.deleteTtsModelAlias(i.value.id,r.value.original_model_name);break;case"rag":await u.deleteRagModelAlias(i.value.id,r.value.original_model_name);break}await F();const e=m.value.find(a=>a.original_model_name===r.value.original_model_name);P(e||m.value[0]||null)}finally{C.value=!1}}}async function me(){if(!(!r.value||!i.value)){$.value=!0;try{const l={default_model_name:r.value.original_model_name};switch(d.value){case"llm":await u.updateBinding(i.value.id,l);break;case"tti":await u.updateTtiBinding(i.value.id,l);break;case"tts":await u.updateTtsBinding(i.value.id,l);break;case"stt":await u.updateSttBinding(i.value.id,l);break}y.addNotification("Binding default model updated.","success")}finally{$.value=!1}}}async function pe(){if(!(!r.value||!i.value||d.value!=="llm")){U.value=!0;try{const l=`${i.value.alias}/${r.value.original_model_name}`;await u.updateGlobalSettings({default_lollms_model_name:l}),y.addNotification("Global default model for new users has been updated.","success")}finally{U.value=!1}}}function be(){q.value.click()}function ye(l){const e=l.target.files[0];if(!e)return;if(e.size>5*1024*1024){y.addNotification("File is too large (max 5MB).","error");return}if(!["image/jpeg","image/png","image/webp"].includes(e.type)){y.addNotification("Invalid file type. Use JPG, PNG, or WEBP.","error");return}const a=new FileReader;a.onload=c=>{const v=new Image;v.onload=()=>{const h=document.createElement("canvas"),w=128;let{width:f,height:S}=v;f>S?f>w&&(S*=w/f,f=w):S>w&&(f*=w/S,S=w),h.width=f,h.height=S,h.getContext("2d").drawImage(v,0,0,f,S),s.value.icon=h.toDataURL("image/png")},v.src=c.target.result},a.readAsDataURL(e),l.target.value=""}return ke(()=>{u.fetchGlobalSettings(),u.fetchAvailableBindingTypes(),u.fetchAvailableTtiBindingTypes(),u.fetchAvailableTtsBindingTypes(),u.fetchTtiBindings()}),Q(i,l=>{l?(r.value=null,s.value=R(),F()):(m.value=[],D.value=!0)},{immediate:!0}),(l,e)=>(n(),T(De,{"modal-name":"manageModels",title:i.value?`Manage Models for: ${i.value.alias}`:"Manage Models",maxWidthClass:"max-w-5xl"},{body:he(()=>[i.value?D.value?(n(),o("div",Ne,[t("div",ze,[E(j,{class:"w-6 h-6 text-blue-500"}),e[17]||(e[17]=t("p",{class:"font-semibold"},"Loading models...",-1))]),e[18]||(e[18]=t("p",{class:"mt-3 text-sm text-gray-500 dark:text-gray-400"}," Please be patient. The first time a binding is loaded, it may need to download and install large files, which can take a very long time. ",-1))])):(n(),o("div",$e,[t("div",Ue,[t("div",Ge,[_(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>V.value=a),placeholder:"Search models...",class:"input-field w-full pl-10"},null,512),[[k,V.value]]),e[19]||(e[19]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))]),t("div",Ve,[J.value.length>0?(n(),o("ul",je,[(n(!0),o(A,null,Y(J.value,a=>{var c;return n(),o("li",{key:a.original_model_name},[t("button",{onClick:v=>P(a),class:g(["w-full text-left p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between",{"bg-blue-100 dark:bg-blue-900/50":r.value&&r.value.original_model_name===a.original_model_name}])},[t("div",Le,[t("p",{class:g(["font-mono text-sm truncate",{"font-bold":a.alias}])},M(((c=a.alias)==null?void 0:c.title)||a.original_model_name),3),a.alias?(n(),o("p",Fe,M(a.original_model_name),1)):b("",!0)]),t("div",Pe,[ue(a.original_model_name)?(n(),o("span",Ee,"B")):b("",!0),de(a.original_model_name)?(n(),o("span",We,"G")):b("",!0)])],10,Re)])}),128))])):(n(),o("div",Oe,"No models match your search."))])]),t("div",qe,[r.value?(n(),o("div",Ke,[t("h3",He,[e[21]||(e[21]=z("Editing Alias for: ")),t("span",Xe,M(r.value.original_model_name),1)]),t("form",{onSubmit:Me(ge,["prevent"]),class:"space-y-6 pb-6 border-b dark:border-gray-600"},[t("div",null,[e[23]||(e[23]=t("label",{class:"label"},"Icon",-1)),re.value?(n(),o("div",Ze,[E(j,{class:"w-8 h-8 mx-auto text-blue-500"}),e[22]||(e[22]=t("p",{class:"mt-3 font-semibold"},"Generation in Progress...",-1))])):(n(),o("div",Qe,[t("input",{type:"file",ref_key:"fileInput",ref:q,onChange:ye,class:"hidden",accept:"image/png, image/jpeg, image/webp"},null,544),t("div",Ye,[s.value.icon?(n(),o("img",{key:0,src:s.value.icon,alt:"Model Icon",class:"w-full h-full object-cover rounded-md"},null,8,et)):(n(),T(Ce,{key:1,class:"w-10 h-10 text-gray-400"})),t("div",tt,[t("button",{onClick:be,type:"button",title:"Upload Icon",class:"p-2 rounded-full bg-white/20 hover:bg-white/40 text-white"},[E(Se,{class:"w-6 h-6"})]),oe.value?(n(),o("button",{key:0,onClick:ve,type:"button",title:"Generate Icon with AI",class:"p-2 rounded-full bg-white/20 hover:bg-white/40 text-white",disabled:I.value},[I.value?(n(),T(j,{key:0,class:"w-6 h-6"})):(n(),T(ee,{key:1,class:"w-6 h-6"}))],8,at)):b("",!0)])])]))]),t("div",null,[e[24]||(e[24]=t("label",{for:"alias-title",class:"label"},"Alias Title",-1)),_(t("input",{id:"alias-title","onUpdate:modelValue":e[1]||(e[1]=a=>s.value.title=a),type:"text",class:"input-field",placeholder:"e.g., Llama 3 Chat (Fast)"},null,512),[[k,s.value.title]])]),t("div",null,[e[25]||(e[25]=t("label",{for:"alias-description",class:"label"},"Description",-1)),_(t("textarea",{id:"alias-description","onUpdate:modelValue":e[2]||(e[2]=a=>s.value.description=a),rows:"3",class:"input-field",placeholder:"A short description of the model's capabilities for users."},null,512),[[k,s.value.description]])]),d.value==="llm"?(n(),o("div",lt,[e[37]||(e[37]=t("h4",{class:"font-medium mb-4"},"LLM Generation Parameters",-1)),t("div",st,[t("div",null,[e[26]||(e[26]=t("label",{for:"alias-ctx-size",class:"label text-xs"},"Context Size",-1)),t("div",nt,[_(t("input",{id:"alias-ctx-size","onUpdate:modelValue":e[3]||(e[3]=a=>s.value.ctx_size=a),type:"number",class:"input-field",placeholder:"e.g., 8192"},null,512),[[k,s.value.ctx_size]]),t("button",{type:"button",onClick:ce,class:"btn btn-secondary p-2",title:"Auto-detect max context size from binding",disabled:G.value},[G.value?(n(),T(j,{key:0,class:"w-5 h-5"})):(n(),T(ee,{key:1,class:"w-5 h-5"}))],8,it)])]),t("div",null,[e[27]||(e[27]=t("label",{for:"alias-temp",class:"label text-xs"},"Temperature",-1)),_(t("input",{id:"alias-temp","onUpdate:modelValue":e[4]||(e[4]=a=>s.value.temperature=a),type:"number",step:"0.01",class:"input-field",placeholder:"e.g., 0.7"},null,512),[[k,s.value.temperature]])]),t("div",null,[e[28]||(e[28]=t("label",{for:"alias-top-k",class:"label text-xs"},"Top K",-1)),_(t("input",{id:"alias-top-k","onUpdate:modelValue":e[5]||(e[5]=a=>s.value.top_k=a),type:"number",class:"input-field",placeholder:"e.g., 50"},null,512),[[k,s.value.top_k]])]),t("div",null,[e[29]||(e[29]=t("label",{for:"alias-top-p",class:"label text-xs"},"Top P",-1)),_(t("input",{id:"alias-top-p","onUpdate:modelValue":e[6]||(e[6]=a=>s.value.top_p=a),type:"number",step:"0.01",class:"input-field",placeholder:"e.g., 0.95"},null,512),[[k,s.value.top_p]])]),t("div",null,[e[30]||(e[30]=t("label",{for:"alias-repeat-penalty",class:"label text-xs"},"Repeat Penalty",-1)),_(t("input",{id:"alias-repeat-penalty","onUpdate:modelValue":e[7]||(e[7]=a=>s.value.repeat_penalty=a),type:"number",step:"0.01",class:"input-field",placeholder:"e.g., 1.1"},null,512),[[k,s.value.repeat_penalty]])]),t("div",null,[e[31]||(e[31]=t("label",{for:"alias-repeat-last-n",class:"label text-xs"},"Repeat Last N",-1)),_(t("input",{id:"alias-repeat-last-n","onUpdate:modelValue":e[8]||(e[8]=a=>s.value.repeat_last_n=a),type:"number",class:"input-field",placeholder:"e.g., 64"},null,512),[[k,s.value.repeat_last_n]])])]),t("div",ot,[e[36]||(e[36]=t("h4",{class:"font-medium mb-2 text-sm"},"Reasoning Capabilities",-1)),t("div",rt,[t("div",ut,[e[32]||(e[32]=t("span",{class:"flex-grow flex flex-col pr-4"},[t("span",{class:"text-sm font-medium"},"Enable Reasoning (Thinking)"),t("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Activates thought generation if supported.")],-1)),t("button",{onClick:e[9]||(e[9]=a=>s.value.reasoning_activation=!s.value.reasoning_activation),type:"button",class:g([s.value.reasoning_activation?"bg-blue-600":"bg-gray-200 dark:bg-gray-600","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out"])},[t("span",{class:g([s.value.reasoning_activation?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition-colors duration-200 ease-in-out"])},null,2)],2)]),t("div",null,[e[34]||(e[34]=t("label",{for:"reasoning-effort",class:"label text-xs"},"Reasoning Effort",-1)),_(t("select",{id:"reasoning-effort","onUpdate:modelValue":e[10]||(e[10]=a=>s.value.reasoning_effort=a),class:"input-field mt-1"},e[33]||(e[33]=[t("option",{value:null},"Default",-1),t("option",{value:"low"},"Low",-1),t("option",{value:"medium"},"Medium",-1),t("option",{value:"high"},"High",-1)]),512),[[Be,s.value.reasoning_effort]])]),t("div",dt,[e[35]||(e[35]=t("span",{class:"flex-grow flex flex-col pr-4"},[t("span",{class:"text-sm font-medium"},"Reasoning Summary"),t("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Enable summarization of reasoning steps in output.")],-1)),t("button",{onClick:e[11]||(e[11]=a=>s.value.reasoning_summary=!s.value.reasoning_summary),type:"button",class:g([s.value.reasoning_summary?"bg-blue-600":"bg-gray-200 dark:bg-gray-600","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out"])},[t("span",{class:g([s.value.reasoning_summary?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition-colors duration-200 ease-in-out"])},null,2)],2)])])])])):b("",!0),["tti","tts","stt"].includes(d.value)&&N.value.length>0?(n(),o("div",ct,[t("h4",vt,M(d.value.toUpperCase())+" Model Parameters",1),t("div",gt,[(n(!0),o(A,null,Y(N.value,a=>(n(),o("div",{key:a.name},[t("label",{for:`param-${a.name}`,class:"label text-xs"},M(a.title||a.name.replace(/_/g," ")),9,ft),["str","int","float"].includes(a.type)?_((n(),o("input",{key:0,type:a.type==="str"?"text":"number",step:a.type==="float"?"0.01":"1",id:`param-${a.name}`,"onUpdate:modelValue":c=>s.value[a.name]=c,class:"input-field mt-1",placeholder:a.help||""},null,8,mt)),[[Te,s.value[a.name]]]):a.type==="bool"?(n(),o("div",pt,[t("button",{onClick:c=>s.value[a.name]=!s.value[a.name],type:"button",class:g([s.value[a.name]?"bg-blue-600":"bg-gray-200 dark:bg-gray-600","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out"])},[t("span",{class:g([s.value[a.name]?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition-colors duration-200 ease-in-out"])},null,2)],10,bt)])):b("",!0)]))),128))])])):b("",!0),d.value==="llm"?(n(),o("div",yt,[e[38]||(e[38]=t("span",{class:"flex-grow flex flex-col"},[t("span",{class:"text-sm font-medium"},"Vision Support"),t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Enable if this model can process images.")],-1)),t("button",{onClick:e[12]||(e[12]=a=>s.value.has_vision=!s.value.has_vision),type:"button",class:g([s.value.has_vision?"bg-blue-600":"bg-gray-200 dark:bg-gray-600","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out"])},[t("span",{class:g([s.value.has_vision?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition-colors duration-200 ease-in-out"])},null,2)],2)])):b("",!0),t("div",_t,[t("span",xt,[t("span",wt,[d.value==="llm"?(n(),o(A,{key:0},[z("Lock Context Size")],64)):(n(),o(A,{key:1},[z("Allow User Overrides")],64))]),t("span",kt,[d.value==="llm"?(n(),o(A,{key:0},[z("If enabled, users cannot override the context size for this model.")],64)):(n(),o(A,{key:1},[z("If enabled, users can change these generation parameters for their own use.")],64))])]),d.value==="llm"?(n(),o("button",{key:0,onClick:e[13]||(e[13]=a=>s.value.ctx_size_locked=!s.value.ctx_size_locked),type:"button",class:g([s.value.ctx_size_locked?"bg-blue-600":"bg-gray-200 dark:bg-gray-600","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out"])},[t("span",{class:g([s.value.ctx_size_locked?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition-colors duration-200 ease-in-out"])},null,2)],2)):(n(),o("button",{key:1,onClick:e[14]||(e[14]=a=>s.value.allow_parameters_override=!s.value.allow_parameters_override),type:"button",class:g([s.value.allow_parameters_override?"bg-blue-600":"bg-gray-200 dark:bg-gray-600","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out"])},[t("span",{class:g([s.value.allow_parameters_override?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition-colors duration-200 ease-in-out"])},null,2)],2))]),d.value==="llm"?(n(),o("div",ht,[e[39]||(e[39]=t("span",{class:"flex-grow flex flex-col"},[t("span",{class:"text-sm font-medium"},"Allow User Overrides"),t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"If disabled, all generation parameters above will be forced for this model.")],-1)),t("button",{onClick:e[15]||(e[15]=a=>s.value.allow_parameters_override=!s.value.allow_parameters_override),type:"button",class:g([s.value.allow_parameters_override?"bg-blue-600":"bg-gray-200 dark:bg-gray-600","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out"])},[t("span",{class:g([s.value.allow_parameters_override?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition-colors duration-200 ease-in-out"])},null,2)],2)])):b("",!0),t("div",Mt,[r.value.alias?(n(),o("button",{key:0,type:"button",onClick:fe,class:"btn btn-danger-outline",disabled:C.value},"Delete Alias",8,Ct)):b("",!0),t("button",{type:"submit",class:"btn btn-primary",disabled:C.value},M(C.value?"Saving...":"Save Alias"),9,St)])],32),t("div",Bt,[e[40]||(e[40]=t("h3",{class:"font-semibold mb-4"},"Default Model Settings",-1)),t("div",Tt,[t("div",At,[t("button",{onClick:me,class:"btn btn-secondary w-full",disabled:H.value||$.value},M($.value?"Setting...":"Set as Binding Default"),9,Dt),H.value?(n(),o("p",It,"✓ Current binding default")):b("",!0)]),d.value==="llm"?(n(),o("div",Nt,[t("button",{onClick:pe,class:"btn btn-secondary w-full",disabled:X.value||U.value},M(U.value?"Setting...":"Set as Global Default"),9,zt),X.value?(n(),o("p",$t,"✓ Global default for new users")):b("",!0)])):b("",!0)])])])):(n(),o("div",Je,e[20]||(e[20]=[t("p",{class:"text-gray-500"},"Select a model to configure its alias and defaults.",-1)])))])])):(n(),o("div",Ie,e[16]||(e[16]=[t("p",null,"Error: Binding information is missing.",-1)])))]),_:1},8,["title"]))}};export{Rt as default};
