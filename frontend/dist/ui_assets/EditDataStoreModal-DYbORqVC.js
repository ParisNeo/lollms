import{X as S,a0 as g,c as D,K as r,w as m,n as x,l as h,g as p,e as a,t as k,J as _,O as f,Y as v}from"./index-BETWUTlj.js";import{_ as w}from"./GenericModal-D-THYpyF.js";const C=["disabled"],N=["disabled"],J={__name:"EditDataStoreModal",setup(M){const i=S(),b=g(),y=D(()=>{var e;return(e=i.modalData("editDataStore"))==null?void 0:e.store}),t=r({id:"",name:"",description:""}),s=r(!1),l=r(!1);let d="{}";m(y,e=>{e&&(t.value={id:e.id,name:e.name,description:e.description||""},d=JSON.stringify(t.value),l.value=!1)},{immediate:!0}),m(t,e=>{l.value=JSON.stringify(e)!==d},{deep:!0});async function u(){if(!t.value.name.trim()){i.addNotification("Data Store name cannot be empty.","warning");return}s.value=!0;try{await b.updateDataStore(t.value),c()}catch{}finally{s.value=!1}}function c(){i.closeModal("editDataStore")}return(e,o)=>(h(),x(w,{modalName:"editDataStore",title:"Edit Data Store","allow-overlay-close":!s.value},{body:p(()=>[a("form",{onSubmit:_(u,["prevent"]),class:"space-y-4"},[a("div",null,[o[2]||(o[2]=a("label",{for:"ds-name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Name ",-1)),f(a("input",{id:"ds-name","onUpdate:modelValue":o[0]||(o[0]=n=>t.value.name=n),type:"text",required:"",class:"input-field mt-1",placeholder:"e.g., Project Documentation"},null,512),[[v,t.value.name]])]),a("div",null,[o[3]||(o[3]=a("label",{for:"ds-description",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Description ",-1)),f(a("textarea",{id:"ds-description","onUpdate:modelValue":o[1]||(o[1]=n=>t.value.description=n),rows:"3",class:"input-field mt-1",placeholder:"A brief description of the data store's content."},null,512),[[v,t.value.description]])])],32)]),footer:p(()=>[a("button",{type:"button",onClick:c,disabled:s.value,class:"btn btn-secondary"}," Cancel ",8,C),a("button",{type:"button",onClick:u,disabled:s.value||!l.value,class:"btn btn-primary"},k(s.value?"Saving...":"Save Changes"),9,N)]),_:1},8,["allow-overlay-close"]))}};export{J as default};
