import{K as v,s as i,n as f,l as u,g as m,e,H as g,d as b,h as x,z as y,L as _,p as w,t as c,E as k}from"./index-7OJ7XwkZ.js";import{_ as h}from"./GenericModal-BayVOcWm.js";const C={class:"p-6 space-y-4"},P=["disabled"],B={class:"pt-2"},E=["disabled"],q={__name:"ForgotPasswordModal",setup(M){const n=v(),o=i(""),a=i(!1),t=i(""),p=async()=>{var l,s;if(!o.value){t.value="Please enter your username or email address.";return}a.value=!0,t.value="";try{const r=await k.post("/api/auth/forgot-password",{username_or_email:o.value});t.value=r.data.message}catch(r){t.value=((s=(l=r.response)==null?void 0:l.data)==null?void 0:s.detail)||"An unexpected error occurred."}finally{a.value=!1}},d=()=>{n.closeModal("forgotPassword"),n.openModal("login")};return(l,s)=>(u(),f(h,{modalName:"forgotPassword",title:"Forgot Password",onClose:d},{body:m(()=>[e("div",C,[s[2]||(s[2]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Enter your username or email address, and we will initiate the password reset process. ",-1)),e("form",{onSubmit:g(p,["prevent"]),class:"space-y-4"},[e("div",null,[s[1]||(s[1]=e("label",{for:"username-or-email",class:"block text-sm font-medium"},"Username or Email",-1)),y(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>o.value=r),type:"text",id:"username-or-email",required:"",disabled:a.value||t.value.includes("initiated"),class:"input-field mt-1 w-full"},null,8,P),[[_,o.value]])]),t.value?(u(),b("div",{key:0,class:w([t.value.includes("initiated")?"text-green-700 bg-green-100 dark:text-green-300 dark:bg-green-900/50":"text-red-700 bg-red-100 dark:text-red-300 dark:bg-red-900/50","text-sm text-center p-3 rounded-md"]),role:"alert"},c(t.value),3)):x("",!0),e("div",B,[e("button",{type:"submit",class:"btn btn-primary w-full",disabled:a.value||t.value.includes("initiated")},c(a.value?"Processing...":"Request Reset"),9,E)])],32)])]),footer:m(()=>[e("div",{class:"flex justify-start"},[e("button",{type:"button",onClick:d,class:"text-sm font-medium text-blue-600 hover:text-blue-500"}," ‚Üê Back to Login ")])]),_:1}))}};export{q as default};
