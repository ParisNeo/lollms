import{X as S,aB as g,a1 as w,K as c,c as r,n as P,l as k,g as d,e as s,f as x,m as _,x as h,H as M,t as C,J as G,O as N,Y as T}from"./index-DpO-4d8L.js";import{u as B}from"./admin-BC4f1cK0.js";import{_ as D}from"./GenericModal-BfoNRWNR.js";const V=["disabled"],$={__name:"GeneratePromptModal",setup(U){const l=S(),f=B(),v=g();w();const t=c(""),a=c(!1),n=r(()=>l.modalData("generatePrompt")),i=r(()=>{var e;return((e=n.value)==null?void 0:e.isSystemPrompt)||!1}),m=r(()=>{var e;return(e=n.value)==null?void 0:e.onTaskSubmitted}),y=r(()=>i.value?"Generate New System Prompt":"Generate New User Prompt");async function u(){if(!(!t.value.trim()||a.value)){a.value=!0;try{let e;i.value?e=await f.generateSystemPrompt(t.value):e=await v.generatePrompt(t.value),e&&(m.value&&m.value(e.id),l.openModal("tasksManager",{initialTaskId:e.id})),p()}catch{}finally{a.value=!1}}}function p(){t.value="",l.closeModal("generatePrompt")}return(e,o)=>(k(),P(D,{modalName:"generatePrompt",title:y.value},{body:d(()=>[o[1]||(o[1]=s("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4"},' Describe the kind of prompt you want the AI to create. Be descriptive. For example: "Create a prompt that acts as a Python coding expert, specializing in data analysis with pandas." ',-1)),s("form",{onSubmit:G(u,["prevent"])},[N(s("textarea",{"onUpdate:modelValue":o[0]||(o[0]=b=>t.value=b),rows:"6",class:"input-field w-full",placeholder:"Describe the prompt you want to create..."},null,512),[[T,t.value]])],32)]),footer:d(()=>[s("button",{onClick:p,class:"btn btn-secondary"},"Cancel"),s("button",{onClick:u,class:"btn btn-primary",disabled:!t.value.trim()||a.value},[x(h,{class:M(["w-4 h-4 mr-2",{"animate-pulse":a.value}])},null,8,["class"]),_(" "+C(a.value?"Generating...":"Generate"),1)],8,V)]),_:1},8,["title"]))}};export{$ as default};
