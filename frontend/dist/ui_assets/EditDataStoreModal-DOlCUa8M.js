import{u as S,ag as g,c as D,L as r,k as m,a as x,o as k,w as p,b as a,t as h,K as _,T as f,a7 as v}from"./index-CYIRZvEj.js";import{_ as w}from"./GenericModal-Q7SQyOMI.js";const C=["disabled"],N=["disabled"],T={__name:"EditDataStoreModal",setup(M){const i=S(),b=g(),y=D(()=>{var t;return(t=i.modalData("editDataStore"))==null?void 0:t.store}),e=r({id:"",name:"",description:""}),s=r(!1),l=r(!1);let d="{}";m(y,t=>{t&&(e.value={id:t.id,name:t.name,description:t.description||""},d=JSON.stringify(e.value),l.value=!1)},{immediate:!0}),m(e,t=>{l.value=JSON.stringify(t)!==d},{deep:!0});async function u(){if(!e.value.name.trim()){i.addNotification("Data Store name cannot be empty.","warning");return}s.value=!0;try{await b.updateDataStore(e.value),c()}catch{}finally{s.value=!1}}function c(){i.closeModal("editDataStore")}return(t,o)=>(k(),x(w,{modalName:"editDataStore",title:"Edit Data Store","allow-overlay-close":!s.value},{body:p(()=>[a("form",{onSubmit:_(u,["prevent"]),class:"space-y-4"},[a("div",null,[o[2]||(o[2]=a("label",{for:"ds-name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Name ",-1)),f(a("input",{id:"ds-name","onUpdate:modelValue":o[0]||(o[0]=n=>e.value.name=n),type:"text",required:"",class:"input-field mt-1",placeholder:"e.g., Project Documentation"},null,512),[[v,e.value.name]])]),a("div",null,[o[3]||(o[3]=a("label",{for:"ds-description",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Description ",-1)),f(a("textarea",{id:"ds-description","onUpdate:modelValue":o[1]||(o[1]=n=>e.value.description=n),rows:"3",class:"input-field mt-1",placeholder:"A brief description of the data store's content."},null,512),[[v,e.value.description]])])],32)]),footer:p(()=>[a("button",{type:"button",onClick:c,disabled:s.value,class:"btn btn-secondary"}," Cancel ",8,C),a("button",{type:"button",onClick:u,disabled:s.value||!l.value,class:"btn btn-primary"},h(s.value?"Saving...":"Save Changes"),9,N)]),_:1},8,["allow-overlay-close"]))}};export{T as default};
