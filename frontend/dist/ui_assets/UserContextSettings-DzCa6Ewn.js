import{a8 as B,q as O,s as q,r as l,h as Y,l as N,d as n,o as d,a as e,f as s,v as p,i as G,j as H,t as C,e as j,B as o,F as K,A as W,n as E,z as X,m as $}from"./index-C2FPU61Y.js";import{_ as J}from"./LanguageSelector-D5FZ20b4.js";const Q={class:"bg-white dark:bg-gray-800 shadow-md rounded-lg"},Z={class:"p-4 sm:p-6 space-y-6"},ee=["placeholder"],re={class:"text-xs text-gray-500 mt-1"},te={class:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 rounded-lg space-y-3"},ae={class:"flex items-center justify-between"},le={class:"relative inline-flex items-center cursor-pointer"},se={key:0,class:"flex items-center justify-between pl-4 border-l-2 border-blue-300 dark:border-blue-600"},oe={class:"relative inline-flex items-center cursor-pointer"},ne={class:"p-4 bg-gray-50 dark:bg-gray-700/50 border dark:border-gray-600 rounded-lg"},de={class:"flex items-center justify-between mb-3"},ie={class:"relative inline-flex items-center cursor-pointer"},ue={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mb-3"},ge={key:1,class:"text-xs text-gray-500 dark:text-gray-400 mb-3"},fe={key:2,class:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2 text-sm"},be={class:"text-gray-800 dark:text-gray-200"},pe={class:"px-2 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-xs"},ce={class:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800/50 rounded-lg"},ye={class:"flex items-center justify-between mb-3"},me={class:"relative inline-flex items-center cursor-pointer"},xe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ve={class:"p-3 bg-gray-50 dark:bg-gray-700/50 border dark:border-gray-600 rounded-lg flex items-center justify-between"},ke={class:"relative inline-flex items-center cursor-pointer"},he={class:"p-3 bg-gray-50 dark:bg-gray-700/50 border dark:border-gray-600 rounded-lg flex items-center justify-between"},we={class:"relative inline-flex items-center cursor-pointer"},_e={class:"p-3 bg-gray-50 dark:bg-gray-700/50 border dark:border-gray-600 rounded-lg flex items-center justify-between"},Ie={class:"relative inline-flex items-center cursor-pointer"},Ae={class:"p-3 bg-gray-50 dark:bg-gray-700/50 border dark:border-gray-600 rounded-lg flex items-center justify-between"},Ve={class:"relative inline-flex items-center cursor-pointer"},Ue={class:"p-4 bg-gray-50 dark:bg-gray-700/50 border dark:border-gray-600 rounded-lg"},Se={class:"flex items-center justify-between mb-3"},Ce={class:"flex-grow"},Pe=["disabled"],Te={key:0,class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600"},je={class:"p-4 bg-gray-50 dark:bg-gray-700/50 border dark:border-gray-600 rounded-lg"},Ee={class:"flex items-center justify-between mb-2"},Le={class:"relative inline-flex items-center cursor-pointer"},De={key:0,class:"mt-2 text-xs text-gray-500 dark:text-gray-400"},Me={key:1,class:"mt-2 text-xs text-gray-500 dark:text-gray-400"},Ne={class:"space-y-4"},Ge={class:"px-4 py-3 bg-gray-50 dark:bg-gray-700/50 text-right sm:px-6 rounded-b-lg border-t border-gray-200 dark:border-gray-700"},Fe=["disabled"],Re={__name:"UserContextSettings",setup(ze){const L=O(),{user:a}=q(L),c=l(""),y=l(""),m=l(""),x=l(""),v=l(""),k=l(!1),i=l(!0),h=l(!1),w=l(!1),_=l("auto"),u=l(!1),g=l(!1),I=l(""),A=l(!1),V=l(!1),f=l(!1),U=l(!1),S=l(!1),P=l(!1),b=Y(()=>{var T;return!!((T=a.value)!=null&&T.tti_binding_model_name)});function F(){a.value&&(c.value=a.value.preferred_name||"",y.value=a.value.data_zone||"",m.value=a.value.user_personal_info||"",x.value=a.value.coding_style_constraints||"",v.value=a.value.programming_language_preferences||"",k.value=a.value.tell_llm_os||!1,i.value=a.value.share_dynamic_info_with_llm??!0,h.value=a.value.share_personal_info_with_llm||!1,w.value=a.value.fun_mode||!1,_.value=a.value.ai_response_language||"auto",u.value=a.value.force_ai_response_language||!1,g.value=a.value.image_generation_enabled||!1,I.value=a.value.image_generation_system_prompt||"",A.value=a.value.image_annotation_enabled||!1,V.value=a.value.note_generation_enabled||!1,f.value=a.value.memory_enabled||!1,U.value=a.value.auto_memory_enabled||!1,$(()=>{S.value=!1}))}N(a,F,{immediate:!0,deep:!0}),N([c,y,m,x,v,k,i,h,w,_,u,g,I,A,V,f,U],()=>{S.value=!0});const R=[{label:"Date",placeholder:"{{date}}"},{label:"Time",placeholder:"{{time}}"},{label:"Date & Time",placeholder:"{{datetime}}"},{label:"Username",placeholder:"{{user_name}}"}];async function z(){if(S.value){P.value=!0;try{await L.updateUserPreferences({preferred_name:c.value,data_zone:y.value,user_personal_info:m.value,coding_style_constraints:x.value,programming_language_preferences:v.value,tell_llm_os:k.value,share_dynamic_info_with_llm:i.value,share_personal_info_with_llm:h.value,fun_mode:w.value,ai_response_language:_.value,force_ai_response_language:u.value,image_generation_enabled:g.value,image_generation_system_prompt:I.value,image_annotation_enabled:A.value,note_generation_enabled:V.value,memory_enabled:f.value,auto_memory_enabled:U.value}),S.value=!1}finally{P.value=!1}}}return(T,r)=>{var D,M;return d(),n("div",Q,[r[45]||(r[45]=e("div",{class:"px-4 py-5 sm:p-6 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"text-xl font-bold leading-6 text-gray-900 dark:text-white"},"Global User Context"),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Manage information and preferences shared with the AI across all discussions. ")],-1)),e("div",Z,[e("div",null,[r[18]||(r[18]=e("label",{for:"preferred-name",class:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-200"},"Preferred Name",-1)),s(e("input",{type:"text",id:"preferred-name","onUpdate:modelValue":r[0]||(r[0]=t=>c.value=t),class:"input-field w-full",placeholder:((D=G(a))==null?void 0:D.username)||"How should the AI address you?"},null,8,ee),[[p,c.value]]),e("p",re,[r[17]||(r[17]=H("If left blank, the AI will use your username: ")),e("strong",null,C((M=G(a))==null?void 0:M.username),1)])]),e("div",te,[e("div",ae,[r[20]||(r[20]=e("div",null,[e("h3",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},"Long-Term Memory"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Allow the AI to access and manage your memory bank.")],-1)),e("label",le,[s(e("input",{type:"checkbox","onUpdate:modelValue":r[1]||(r[1]=t=>f.value=t),class:"sr-only peer"},null,512),[[o,f.value]]),r[19]||(r[19]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),f.value?(d(),n("div",se,[r[22]||(r[22]=e("div",null,[e("h4",{class:"text-xs font-semibold text-gray-700 dark:text-gray-300"},"Auto Memory Decision"),e("p",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Let the AI automatically decide when to save new memories during conversation.")],-1)),e("label",oe,[s(e("input",{type:"checkbox","onUpdate:modelValue":r[2]||(r[2]=t=>U.value=t),class:"sr-only peer"},null,512),[[o,U.value]]),r[21]||(r[21]=e("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])):j("",!0)]),e("div",ne,[e("div",de,[r[24]||(r[24]=e("h3",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},"Dynamic Information",-1)),e("label",ie,[s(e("input",{type:"checkbox","onUpdate:modelValue":r[3]||(r[3]=t=>i.value=t),class:"sr-only peer"},null,512),[[o,i.value]]),r[23]||(r[23]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),i.value?(d(),n("p",ue,"The AI will automatically know the following information. You can use these placeholders in your prompts.")):(d(),n("p",ge,"Dynamic information is currently disabled and will not be sent to the AI.")),i.value?(d(),n("div",fe,[(d(),n(K,null,W(R,t=>e("div",{key:t.label,class:"flex justify-between items-center"},[e("span",be,C(t.label)+":",1),e("code",pe,C(t.placeholder),1)])),64))])):j("",!0)]),e("div",ce,[e("div",ye,[r[26]||(r[26]=e("h3",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},"Personal Information / Credentials",-1)),e("label",me,[s(e("input",{type:"checkbox","onUpdate:modelValue":r[4]||(r[4]=t=>h.value=t),class:"sr-only peer"},null,512),[[o,h.value]]),r[25]||(r[25]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),r[27]||(r[27]=e("p",{class:"text-xs text-gray-600 dark:text-gray-300 mb-2"}," You can add sensitive information here (e.g., API keys, passwords, personal details) that the AI might need for specific tasks. ",-1)),r[28]||(r[28]=e("div",{class:"p-2 mb-3 bg-white dark:bg-gray-900 border border-red-200 dark:border-red-800 rounded text-xs text-red-600 dark:text-red-400 font-medium"}," Warning: Do NOT enter passwords or sensitive credentials unless you are running a local, secure model that you trust. Information entered here will be sent to the AI model in the context. ",-1)),s(e("textarea",{"onUpdate:modelValue":r[5]||(r[5]=t=>m.value=t),class:"styled-textarea",placeholder:"e.g., My email password is..., API Key for Service X is..."},null,512),[[p,m.value]])]),e("div",xe,[e("div",ve,[r[30]||(r[30]=e("div",{class:"flex-grow"},[e("h3",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},"Fun Mode ðŸŽ‰"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Ask the AI to be more humorous and witty.")],-1)),e("label",ke,[s(e("input",{type:"checkbox","onUpdate:modelValue":r[6]||(r[6]=t=>w.value=t),class:"sr-only peer"},null,512),[[o,w.value]]),r[29]||(r[29]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),e("div",he,[r[32]||(r[32]=e("div",{class:"flex-grow"},[e("h3",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},"Image Annotation"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Enable AI to annotate images with bounding boxes.")],-1)),e("label",we,[s(e("input",{type:"checkbox","onUpdate:modelValue":r[7]||(r[7]=t=>A.value=t),class:"sr-only peer"},null,512),[[o,A.value]]),r[31]||(r[31]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),e("div",_e,[r[34]||(r[34]=e("div",{class:"flex-grow"},[e("h3",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},"Note Generation"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Enable AI to generate and format notes during conversation.")],-1)),e("label",Ie,[s(e("input",{type:"checkbox","onUpdate:modelValue":r[8]||(r[8]=t=>V.value=t),class:"sr-only peer"},null,512),[[o,V.value]]),r[33]||(r[33]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),e("div",Ae,[r[36]||(r[36]=e("div",{class:"flex-grow"},[e("h3",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},"Operating System"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Inform the AI about your current operating system.")],-1)),e("label",Ve,[s(e("input",{type:"checkbox","onUpdate:modelValue":r[9]||(r[9]=t=>k.value=t),class:"sr-only peer"},null,512),[[o,k.value]]),r[35]||(r[35]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),e("div",Ue,[e("div",Se,[e("div",Ce,[e("h3",{class:E(["text-sm font-semibold",b.value?"text-gray-700 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},"Image Generation",2),e("p",{class:E(["text-xs",b.value?"text-gray-500 dark:text-gray-400":"text-gray-400 dark:text-gray-500"])},C(b.value?"Enable AI to generate images using code blocks.":"Select a TTI model in settings to enable."),3)]),e("label",{class:E(["relative inline-flex items-center",b.value?"cursor-pointer":"cursor-not-allowed"])},[s(e("input",{type:"checkbox","onUpdate:modelValue":r[10]||(r[10]=t=>g.value=t),class:"sr-only peer",disabled:!b.value},null,8,Pe),[[o,g.value]]),r[37]||(r[37]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600 peer-disabled:opacity-50"},null,-1))],2)]),g.value&&b.value?(d(),n("div",Te,[r[38]||(r[38]=e("label",{for:"image-gen-prompt",class:"block text-sm font-semibold mb-2 text-gray-700 dark:text-gray-200"},"Image Generation System Prompt",-1)),s(e("textarea",{id:"image-gen-prompt","onUpdate:modelValue":r[11]||(r[11]=t=>I.value=t),class:"styled-textarea",placeholder:"e.g., All images should be in a photorealistic style, 4k, detailed."},null,512),[[p,I.value]]),r[39]||(r[39]=e("p",{class:"text-xs text-gray-500 mt-1"},"This prompt will be added to every image generation request made from within a chat message.",-1))])):j("",!0)]),e("div",je,[e("div",Ee,[r[41]||(r[41]=e("h3",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},"AI Response Language",-1)),e("label",Le,[s(e("input",{type:"checkbox","onUpdate:modelValue":r[12]||(r[12]=t=>u.value=t),class:"sr-only peer"},null,512),[[o,u.value]]),r[40]||(r[40]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),X(J,{modelValue:_.value,"onUpdate:modelValue":r[13]||(r[13]=t=>_.value=t),id:"aiResponseLanguage","include-auto":!0,disabled:!u.value},null,8,["modelValue","disabled"]),u.value?(d(),n("p",De,"Force the AI to respond in a specific language. 'Auto' will match the user's prompt language.")):(d(),n("p",Me,"Language enforcement is disabled. The AI will respond based on its training and personality."))]),e("div",Ne,[e("div",null,[r[42]||(r[42]=e("label",{class:"block text-sm font-semibold mb-2 text-gray-700 dark:text-gray-200"},"Coding Style Constraints",-1)),s(e("textarea",{"onUpdate:modelValue":r[14]||(r[14]=t=>x.value=t),class:"styled-textarea",placeholder:"e.g., Always follow PEP8 for Python code. Use pathlib instead of os.path."},null,512),[[p,x.value]])]),e("div",null,[r[43]||(r[43]=e("label",{class:"block text-sm font-semibold mb-2 text-gray-700 dark:text-gray-200"},"Programming Language & Library Preferences",-1)),s(e("textarea",{"onUpdate:modelValue":r[15]||(r[15]=t=>v.value=t),class:"styled-textarea",placeholder:"e.g., I prefer solutions in Python 3.10+. For web development, use Vue.js with Tailwind CSS."},null,512),[[p,v.value]])]),e("div",null,[r[44]||(r[44]=e("label",{class:"block text-sm font-semibold mb-2 text-gray-700 dark:text-gray-200"},"General Info / Notes",-1)),s(e("textarea",{"onUpdate:modelValue":r[16]||(r[16]=t=>y.value=t),class:"styled-textarea",placeholder:"Add any other information about yourself or general instructions for the AI."},null,512),[[p,y.value]])])])]),e("div",Ge,[e("button",{onClick:z,class:"btn btn-primary",disabled:!S.value||P.value},C(P.value?"Saving...":"Save Context Settings"),9,Fe)])])}}},qe=B(Re,[["__scopeId","data-v-5254b8f6"]]);export{qe as default};
