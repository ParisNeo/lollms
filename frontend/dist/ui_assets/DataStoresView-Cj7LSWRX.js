import{q as HA,d as N,l as M,e as w,K as cb,s as te,w as Sr,o as hb,X as ZN,h as le,a2 as Um,t as Y,f as Ee,cX as VA,n as pt,cQ as QN,an as Yt,O as eB,P as UA,u as GA,a8 as KA,Q as os,m as Ae,z as Be,R as as,F as gt,i as Et,j as an,at as YA,cT as tB,cL as rB,T as iB,ah as Gm,H as ln,L as qt,Y as XA,c as Wr,g as uo,k as nB,J as sB,c8 as oB,c9 as aB,ci as _1,U as lB,Z as uB,p as Hr,V as dB,ar as w1,ap as ma,B as cB,W as hB,cl as fB,am as vB,y as pB,E as gB}from"./index-CEXks4lv.js";import{u as yB}from"./admin-Dmx5gjU7.js";import{P as mB}from"./PageViewLayout-BRrEfO0i.js";import{I as JA}from"./IconPlayCircle-ClB9mJda.js";import{_ as ba}from"./JsonRenderer-DRztsAEE.js";import{_ as bB}from"./GenericModal-Br5hR2Sz.js";import{I as _B}from"./IconGlobeAlt-BuKg8C2g.js";/* empty css                                                                 */const wB={},SB={xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"};function EB(n,e){return M(),N("svg",SB,e[0]||(e[0]=[w("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"},null,-1)]))}const $B=HA(wB,[["render",EB]]);/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var S1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function me(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _a={exports:{}},E1={},es,$1;function Ze(){if($1)return es;$1=1;var n=function(e){return e&&e.Math===Math&&e};return es=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof S1=="object"&&S1)||n(typeof es=="object"&&es)||(function(){return this})()||Function("return this")(),es}var wa,O1;function Oe(){return O1||(O1=1,wa=function(n){try{return!!n()}catch{return!0}}),wa}var Sa,I1;function xs(){if(I1)return Sa;I1=1;var n=Oe();return Sa=!n(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Sa}var Ea,x1;function Fo(){if(x1)return Ea;x1=1;var n=xs(),e=Function.prototype,t=e.apply,r=e.call;return Ea=typeof Reflect=="object"&&Reflect.apply||(n?r.bind(t):function(){return r.apply(t,arguments)}),Ea}var $a,T1;function Pe(){if(T1)return $a;T1=1;var n=xs(),e=Function.prototype,t=e.call,r=n&&e.bind.bind(t,t);return $a=n?r:function(i){return function(){return t.apply(i,arguments)}},$a}var Oa,P1;function kr(){if(P1)return Oa;P1=1;var n=Pe(),e=n({}.toString),t=n("".slice);return Oa=function(r){return t(e(r),8,-1)},Oa}var Ia,R1;function ZA(){if(R1)return Ia;R1=1;var n=kr(),e=Pe();return Ia=function(t){if(n(t)==="Function")return e(t)},Ia}var xa,C1;function nt(){if(C1)return xa;C1=1;var n=typeof document=="object"&&document.all;return xa=typeof n>"u"&&n!==void 0?function(e){return typeof e=="function"||e===n}:function(e){return typeof e=="function"},xa}var Ta={},Pa,q1;function Qe(){if(q1)return Pa;q1=1;var n=Oe();return Pa=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Pa}var Ra,k1;function Tt(){if(k1)return Ra;k1=1;var n=xs(),e=Function.prototype.call;return Ra=n?e.bind(e):function(){return e.apply(e,arguments)},Ra}var Ca={},D1;function fb(){if(D1)return Ca;D1=1;var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!n.call({1:2},1);return Ca.f=t?function(i){var s=e(this,i);return!!s&&s.enumerable}:n,Ca}var qa,M1;function Ts(){return M1||(M1=1,qa=function(n,e){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:e}}),qa}var ka,A1;function No(){if(A1)return ka;A1=1;var n=Pe(),e=Oe(),t=kr(),r=Object,i=n("".split);return ka=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?i(s,""):r(s)}:r,ka}var Da,F1;function Ps(){return F1||(F1=1,Da=function(n){return n==null}),Da}var Ma,N1;function Mi(){if(N1)return Ma;N1=1;var n=Ps(),e=TypeError;return Ma=function(t){if(n(t))throw new e("Can't call method on "+t);return t},Ma}var Aa,B1;function cr(){if(B1)return Aa;B1=1;var n=No(),e=Mi();return Aa=function(t){return n(e(t))},Aa}var Fa,j1;function St(){if(j1)return Fa;j1=1;var n=nt();return Fa=function(e){return typeof e=="object"?e!==null:n(e)},Fa}var Na,L1;function rt(){return L1||(L1=1,Na={}),Na}var Ba,z1;function kt(){if(z1)return Ba;z1=1;var n=rt(),e=Ze(),t=nt(),r=function(i){return t(i)?i:void 0};return Ba=function(i,s){return arguments.length<2?r(n[i])||r(e[i]):n[i]&&n[i][s]||e[i]&&e[i][s]},Ba}var ja,W1;function st(){if(W1)return ja;W1=1;var n=Pe();return ja=n({}.isPrototypeOf),ja}var La,H1;function xn(){if(H1)return La;H1=1;var n=Ze(),e=n.navigator,t=e&&e.userAgent;return La=t?String(t):"",La}var za,V1;function Rs(){if(V1)return za;V1=1;var n=Ze(),e=xn(),t=n.process,r=n.Deno,i=t&&t.versions||r&&r.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),za=a,za}var Wa,U1;function Tn(){if(U1)return Wa;U1=1;var n=Rs(),e=Oe(),t=Ze(),r=t.String;return Wa=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!r(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&n&&n<41}),Wa}var Ha,G1;function QA(){if(G1)return Ha;G1=1;var n=Tn();return Ha=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Ha}var Va,K1;function Cs(){if(K1)return Va;K1=1;var n=kt(),e=nt(),t=st(),r=QA(),i=Object;return Va=r?function(s){return typeof s=="symbol"}:function(s){var o=n("Symbol");return e(o)&&t(o.prototype,i(s))},Va}var Ua,Y1;function Pn(){if(Y1)return Ua;Y1=1;var n=String;return Ua=function(e){try{return n(e)}catch{return"Object"}},Ua}var Ga,X1;function Dr(){if(X1)return Ga;X1=1;var n=nt(),e=Pn(),t=TypeError;return Ga=function(r){if(n(r))return r;throw new t(e(r)+" is not a function")},Ga}var Ka,J1;function vb(){if(J1)return Ka;J1=1;var n=Dr(),e=Ps();return Ka=function(t,r){var i=t[r];return e(i)?void 0:n(i)},Ka}var Ya,Z1;function OB(){if(Z1)return Ya;Z1=1;var n=Tt(),e=nt(),t=St(),r=TypeError;return Ya=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!t(a=n(o,i))||e(o=i.valueOf)&&!t(a=n(o,i))||s!=="string"&&e(o=i.toString)&&!t(a=n(o,i)))return a;throw new r("Can't convert object to primitive value")},Ya}var Xa={exports:{}},Ja,Q1;function Rn(){return Q1||(Q1=1,Ja=!0),Ja}var Za,e0;function IB(){if(e0)return Za;e0=1;var n=Ze(),e=Object.defineProperty;return Za=function(t,r){try{e(n,t,{value:r,configurable:!0,writable:!0})}catch{n[t]=r}return r},Za}var t0;function pb(){if(t0)return Xa.exports;t0=1;var n=Rn(),e=Ze(),t=IB(),r="__core-js_shared__",i=Xa.exports=e[r]||t(r,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:n?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Xa.exports}var Qa,r0;function Cn(){if(r0)return Qa;r0=1;var n=pb();return Qa=function(e,t){return n[e]||(n[e]=t||{})},Qa}var el,i0;function er(){if(i0)return el;i0=1;var n=Mi(),e=Object;return el=function(t){return e(n(t))},el}var tl,n0;function ot(){if(n0)return tl;n0=1;var n=Pe(),e=er(),t=n({}.hasOwnProperty);return tl=Object.hasOwn||function(i,s){return t(e(i),s)},tl}var rl,s0;function Bo(){if(s0)return rl;s0=1;var n=Pe(),e=0,t=Math.random(),r=n(1.1.toString);return rl=function(i){return"Symbol("+(i===void 0?"":i)+")_"+r(++e+t,36)},rl}var il,o0;function at(){if(o0)return il;o0=1;var n=Ze(),e=Cn(),t=ot(),r=Bo(),i=Tn(),s=QA(),o=n.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||r;return il=function(u){return t(a,u)||(a[u]=i&&t(o,u)?o[u]:l("Symbol."+u)),a[u]},il}var nl,a0;function e2(){if(a0)return nl;a0=1;var n=Tt(),e=St(),t=Cs(),r=vb(),i=OB(),s=at(),o=TypeError,a=s("toPrimitive");return nl=function(l,u){if(!e(l)||t(l))return l;var d=r(l,a),c;if(d){if(u===void 0&&(u="default"),c=n(d,l,u),!e(c)||t(c))return c;throw new o("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},nl}var sl,l0;function gb(){if(l0)return sl;l0=1;var n=e2(),e=Cs();return sl=function(t){var r=n(t,"string");return e(r)?r:r+""},sl}var ol,u0;function t2(){if(u0)return ol;u0=1;var n=Ze(),e=St(),t=n.document,r=e(t)&&e(t.createElement);return ol=function(i){return r?t.createElement(i):{}},ol}var al,d0;function r2(){if(d0)return al;d0=1;var n=Qe(),e=Oe(),t=t2();return al=!n&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),al}var c0;function jo(){if(c0)return Ta;c0=1;var n=Qe(),e=Tt(),t=fb(),r=Ts(),i=cr(),s=gb(),o=ot(),a=r2(),l=Object.getOwnPropertyDescriptor;return Ta.f=n?l:function(d,c){if(d=i(d),c=s(c),a)try{return l(d,c)}catch{}if(o(d,c))return r(!e(t.f,d,c),d[c])},Ta}var ll,h0;function xB(){if(h0)return ll;h0=1;var n=Oe(),e=nt(),t=/#|\.prototype\./,r=function(l,u){var d=s[i(l)];return d===a?!0:d===o?!1:e(u)?n(u):!!u},i=r.normalize=function(l){return String(l).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return ll=r,ll}var ul,f0;function Lo(){if(f0)return ul;f0=1;var n=ZA(),e=Dr(),t=xs(),r=n(n.bind);return ul=function(i,s){return e(i),s===void 0?i:t?r(i,s):function(){return i.apply(s,arguments)}},ul}var dl={},cl,v0;function i2(){if(v0)return cl;v0=1;var n=Qe(),e=Oe();return cl=n&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),cl}var hl,p0;function Mr(){if(p0)return hl;p0=1;var n=St(),e=String,t=TypeError;return hl=function(r){if(n(r))return r;throw new t(e(r)+" is not an object")},hl}var g0;function jt(){if(g0)return dl;g0=1;var n=Qe(),e=r2(),t=i2(),r=Mr(),i=gb(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",d="writable";return dl.f=n?t?function(h,f,v){if(r(h),f=i(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&d in v&&!v[d]){var y=a(h,f);y&&y[d]&&(h[f]=v.value,v={configurable:u in v?v[u]:y[u],enumerable:l in v?v[l]:y[l],writable:!1})}return o(h,f,v)}:o:function(h,f,v){if(r(h),f=i(f),r(v),e)try{return o(h,f,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(h[f]=v.value),h},dl}var fl,y0;function qn(){if(y0)return fl;y0=1;var n=Qe(),e=jt(),t=Ts();return fl=n?function(r,i,s){return e.f(r,i,t(1,s))}:function(r,i,s){return r[i]=s,r},fl}var vl,m0;function he(){if(m0)return vl;m0=1;var n=Ze(),e=Fo(),t=ZA(),r=nt(),i=jo().f,s=xB(),o=rt(),a=Lo(),l=qn(),u=ot(),d=function(c){var h=function(f,v,y){if(this instanceof h){switch(arguments.length){case 0:return new c;case 1:return new c(f);case 2:return new c(f,v)}return new c(f,v,y)}return e(c,this,arguments)};return h.prototype=c.prototype,h};return vl=function(c,h){var f=c.target,v=c.global,y=c.stat,b=c.proto,g=v?n:y?n[f]:n[f]&&n[f].prototype,p=v?o:o[f]||l(o,f,{})[f],$=p.prototype,m,S,O,x,_,E,T,P,R;for(x in h)m=s(v?x:f+(y?".":"#")+x,c.forced),S=!m&&g&&u(g,x),E=p[x],S&&(c.dontCallGetSet?(R=i(g,x),T=R&&R.value):T=g[x]),_=S&&T?T:h[x],!(!m&&!b&&typeof E==typeof _)&&(c.bind&&S?P=a(_,n):c.wrap&&S?P=d(_):b&&r(_)?P=t(_):P=_,(c.sham||_&&_.sham||E&&E.sham)&&l(P,"sham",!0),l(p,x,P),b&&(O=f+"Prototype",u(o,O)||l(o,O,{}),l(o[O],x,_),c.real&&$&&(m||!$[x])&&l($,x,_)))},vl}var b0;function TB(){if(b0)return E1;b0=1;var n=he(),e=Qe(),t=jt().f;return n({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),E1}var _0;function PB(){if(_0)return _a.exports;_0=1,TB();var n=rt(),e=n.Object,t=_a.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(t.sham=!0),_a.exports}var pl,w0;function n2(){if(w0)return pl;w0=1;var n=PB();return pl=n,pl}var gl,S0;function RB(){if(S0)return gl;S0=1;var n=n2();return gl=n,gl}var yl,E0;function CB(){if(E0)return yl;E0=1;var n=RB();return yl=n,yl}var ml,$0;function qB(){return $0||($0=1,ml=CB()),ml}var kB=qB(),DB=me(kB),O0={},bl,I0;function Ai(){if(I0)return bl;I0=1;var n=kr();return bl=Array.isArray||function(t){return n(t)==="Array"},bl}var _l,x0;function MB(){if(x0)return _l;x0=1;var n=Math.ceil,e=Math.floor;return _l=Math.trunc||function(r){var i=+r;return(i>0?e:n)(i)},_l}var wl,T0;function kn(){if(T0)return wl;T0=1;var n=MB();return wl=function(e){var t=+e;return t!==t||t===0?0:n(t)},wl}var Sl,P0;function s2(){if(P0)return Sl;P0=1;var n=kn(),e=Math.min;return Sl=function(t){var r=n(t);return r>0?e(r,9007199254740991):0},Sl}var El,R0;function ni(){if(R0)return El;R0=1;var n=s2();return El=function(e){return n(e.length)},El}var $l,C0;function o2(){if(C0)return $l;C0=1;var n=TypeError,e=9007199254740991;return $l=function(t){if(t>e)throw n("Maximum allowed index exceeded");return t},$l}var Ol,q0;function zo(){if(q0)return Ol;q0=1;var n=Qe(),e=jt(),t=Ts();return Ol=function(r,i,s){n?e.f(r,i,t(0,s)):r[i]=s},Ol}var Il,k0;function yb(){if(k0)return Il;k0=1;var n=at(),e=n("toStringTag"),t={};return t[e]="z",Il=String(t)==="[object z]",Il}var xl,D0;function si(){if(D0)return xl;D0=1;var n=yb(),e=nt(),t=kr(),r=at(),i=r("toStringTag"),s=Object,o=t((function(){return arguments})())==="Arguments",a=function(l,u){try{return l[u]}catch{}};return xl=n?t:function(l){var u,d,c;return l===void 0?"Undefined":l===null?"Null":typeof(d=a(u=s(l),i))=="string"?d:o?t(u):(c=t(u))==="Object"&&e(u.callee)?"Arguments":c},xl}var Tl,M0;function AB(){if(M0)return Tl;M0=1;var n=Pe(),e=nt(),t=pb(),r=n(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(i){return r(i)}),Tl=t.inspectSource,Tl}var Pl,A0;function a2(){if(A0)return Pl;A0=1;var n=Pe(),e=Oe(),t=nt(),r=si(),i=kt(),s=AB(),o=function(){},a=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=n(l.exec),d=!l.test(o),c=function(v){if(!t(v))return!1;try{return a(o,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!u(l,s(v))}catch{return!0}};return h.sham=!0,Pl=!a||e(function(){var f;return c(c.call)||!c(Object)||!c(function(){f=!0})||f})?h:c,Pl}var Rl,F0;function FB(){if(F0)return Rl;F0=1;var n=Ai(),e=a2(),t=St(),r=at(),i=r("species"),s=Array;return Rl=function(o){var a;return n(o)&&(a=o.constructor,e(a)&&(a===s||n(a.prototype))?a=void 0:t(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},Rl}var Cl,N0;function mb(){if(N0)return Cl;N0=1;var n=FB();return Cl=function(e,t){return new(n(e))(t===0?0:t)},Cl}var ql,B0;function qs(){if(B0)return ql;B0=1;var n=Oe(),e=at(),t=Rs(),r=e("species");return ql=function(i){return t>=51||!n(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[i](Boolean).foo!==1})},ql}var j0;function l2(){if(j0)return O0;j0=1;var n=he(),e=Oe(),t=Ai(),r=St(),i=er(),s=ni(),o=o2(),a=zo(),l=mb(),u=qs(),d=at(),c=Rs(),h=d("isConcatSpreadable"),f=c>=51||!e(function(){var b=[];return b[h]=!1,b.concat()[0]!==b}),v=function(b){if(!r(b))return!1;var g=b[h];return g!==void 0?!!g:t(b)},y=!f||!u("concat");return n({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var p=i(this),$=l(p,0),m=0,S,O,x,_,E;for(S=-1,x=arguments.length;S<x;S++)if(E=S===-1?p:arguments[S],v(E))for(_=s(E),o(m+_),O=0;O<_;O++,m++)O in E&&a($,m,E[O]);else o(m+1),a($,m++,E);return $.length=m,$}}),O0}var L0={},z0={},kl,W0;function oi(){if(W0)return kl;W0=1;var n=si(),e=String;return kl=function(t){if(n(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},kl}var Dl={},Ml,H0;function bb(){if(H0)return Ml;H0=1;var n=kn(),e=Math.max,t=Math.min;return Ml=function(r,i){var s=n(r);return s<0?e(s+i,0):t(s,i)},Ml}var Al,V0;function NB(){if(V0)return Al;V0=1;var n=cr(),e=bb(),t=ni(),r=function(i){return function(s,o,a){var l=n(s),u=t(l);if(u===0)return!i&&-1;var d=e(a,u),c;if(i&&o!==o){for(;u>d;)if(c=l[d++],c!==c)return!0}else for(;u>d;d++)if((i||d in l)&&l[d]===o)return i||d||0;return!i&&-1}};return Al={includes:r(!0),indexOf:r(!1)},Al}var Fl,U0;function ks(){return U0||(U0=1,Fl={}),Fl}var Nl,G0;function u2(){if(G0)return Nl;G0=1;var n=Pe(),e=ot(),t=cr(),r=NB().indexOf,i=ks(),s=n([].push);return Nl=function(o,a){var l=t(o),u=0,d=[],c;for(c in l)!e(i,c)&&e(l,c)&&s(d,c);for(;a.length>u;)e(l,c=a[u++])&&(~r(d,c)||s(d,c));return d},Nl}var Bl,K0;function _b(){return K0||(K0=1,Bl=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Bl}var jl,Y0;function Wo(){if(Y0)return jl;Y0=1;var n=u2(),e=_b();return jl=Object.keys||function(r){return n(r,e)},jl}var X0;function wb(){if(X0)return Dl;X0=1;var n=Qe(),e=i2(),t=jt(),r=Mr(),i=cr(),s=Wo();return Dl.f=n&&!e?Object.defineProperties:function(a,l){r(a);for(var u=i(l),d=s(l),c=d.length,h=0,f;c>h;)t.f(a,f=d[h++],u[f]);return a},Dl}var Ll,J0;function BB(){if(J0)return Ll;J0=1;var n=kt();return Ll=n("document","documentElement"),Ll}var zl,Z0;function Ho(){if(Z0)return zl;Z0=1;var n=Cn(),e=Bo(),t=n("keys");return zl=function(r){return t[r]||(t[r]=e(r))},zl}var Wl,Q0;function Ds(){if(Q0)return Wl;Q0=1;var n=Mr(),e=wb(),t=_b(),r=ks(),i=BB(),s=t2(),o=Ho(),a=">",l="<",u="prototype",d="script",c=o("IE_PROTO"),h=function(){},f=function(p){return l+d+a+p+l+"/"+d+a},v=function(p){p.write(f("")),p.close();var $=p.parentWindow.Object;return p=null,$},y=function(){var p=s("iframe"),$="java"+d+":",m;return p.style.display="none",i.appendChild(p),p.src=String($),m=p.contentWindow.document,m.open(),m.write(f("document.F=Object")),m.close(),m.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?v(b):y():v(b);for(var p=t.length;p--;)delete g[u][t[p]];return g()};return r[c]=!0,Wl=Object.create||function($,m){var S;return $!==null?(h[u]=n($),S=new h,h[u]=null,S[c]=$):S=g(),m===void 0?S:e.f(S,m)},Wl}var Hl={},e_;function Vo(){if(e_)return Hl;e_=1;var n=u2(),e=_b(),t=e.concat("length","prototype");return Hl.f=Object.getOwnPropertyNames||function(i){return n(i,t)},Hl}var Vl={},Ul,t_;function Dn(){if(t_)return Ul;t_=1;var n=Pe();return Ul=n([].slice),Ul}var r_;function d2(){if(r_)return Vl;r_=1;var n=kr(),e=cr(),t=Vo().f,r=Dn(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(i)}};return Vl.f=function(a){return i&&n(a)==="Window"?s(a):t(e(a))},Vl}var Gl={},i_;function Uo(){return i_||(i_=1,Gl.f=Object.getOwnPropertySymbols),Gl}var Kl,n_;function Ms(){if(n_)return Kl;n_=1;var n=qn();return Kl=function(e,t,r,i){return i&&i.enumerable?e[t]=r:n(e,t,r),e},Kl}var Yl,s_;function Sb(){if(s_)return Yl;s_=1;var n=jt();return Yl=function(e,t,r){return n.f(e,t,r)},Yl}var Xl={},o_;function Go(){if(o_)return Xl;o_=1;var n=at();return Xl.f=n,Xl}var Jl,a_;function je(){if(a_)return Jl;a_=1;var n=rt(),e=ot(),t=Go(),r=jt().f;return Jl=function(i){var s=n.Symbol||(n.Symbol={});e(s,i)||r(s,i,{value:t.f(i)})},Jl}var Zl,l_;function c2(){if(l_)return Zl;l_=1;var n=Tt(),e=kt(),t=at(),r=Ms();return Zl=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(l){return n(o,this)},{arity:1})},Zl}var Ql,u_;function jB(){if(u_)return Ql;u_=1;var n=yb(),e=si();return Ql=n?{}.toString:function(){return"[object "+e(this)+"]"},Ql}var eu,d_;function Fi(){if(d_)return eu;d_=1;var n=yb(),e=jt().f,t=qn(),r=ot(),i=jB(),s=at(),o=s("toStringTag");return eu=function(a,l,u,d){var c=u?a:a&&a.prototype;c&&(r(c,o)||e(c,o,{configurable:!0,value:l}),d&&!n&&t(c,"toString",i))},eu}var tu,c_;function LB(){if(c_)return tu;c_=1;var n=Ze(),e=nt(),t=n.WeakMap;return tu=e(t)&&/native code/.test(String(t)),tu}var ru,h_;function As(){if(h_)return ru;h_=1;var n=LB(),e=Ze(),t=St(),r=qn(),i=ot(),s=pb(),o=Ho(),a=ks(),l="Object already initialized",u=e.TypeError,d=e.WeakMap,c,h,f,v=function(p){return f(p)?h(p):c(p,{})},y=function(p){return function($){var m;if(!t($)||(m=h($)).type!==p)throw new u("Incompatible receiver, "+p+" required");return m}};if(n||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,c=function(p,$){if(b.has(p))throw new u(l);return $.facade=p,b.set(p,$),$},h=function(p){return b.get(p)||{}},f=function(p){return b.has(p)}}else{var g=o("state");a[g]=!0,c=function(p,$){if(i(p,g))throw new u(l);return $.facade=p,r(p,g,$),$},h=function(p){return i(p,g)?p[g]:{}},f=function(p){return i(p,g)}}return ru={set:c,get:h,has:f,enforce:v,getterFor:y},ru}var iu,f_;function Mn(){if(f_)return iu;f_=1;var n=Lo(),e=Pe(),t=No(),r=er(),i=ni(),s=mb(),o=e([].push),a=function(l){var u=l===1,d=l===2,c=l===3,h=l===4,f=l===6,v=l===7,y=l===5||f;return function(b,g,p,$){for(var m=r(b),S=t(m),O=i(S),x=n(g,p),_=0,E=$||s,T=u?E(b,O):d||v?E(b,0):void 0,P,R;O>_;_++)if((y||_ in S)&&(P=S[_],R=x(P,_,m),l))if(u)T[_]=R;else if(R)switch(l){case 3:return!0;case 5:return P;case 6:return _;case 2:o(T,P)}else switch(l){case 4:return!1;case 7:o(T,P)}return f?-1:c||h?h:T}};return iu={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},iu}var v_;function zB(){if(v_)return z0;v_=1;var n=he(),e=Ze(),t=Tt(),r=Pe(),i=Rn(),s=Qe(),o=Tn(),a=Oe(),l=ot(),u=st(),d=Mr(),c=cr(),h=gb(),f=oi(),v=Ts(),y=Ds(),b=Wo(),g=Vo(),p=d2(),$=Uo(),m=jo(),S=jt(),O=wb(),x=fb(),_=Ms(),E=Sb(),T=Cn(),P=Ho(),R=ks(),C=Bo(),A=at(),L=Go(),ne=je(),H=c2(),ae=Fi(),de=As(),fe=Mn().forEach,G=P("hidden"),pe="Symbol",ce="prototype",we=de.set,Z=de.getterFor(pe),D=Object[ce],K=e.Symbol,xe=K&&K[ce],vr=e.RangeError,en=e.TypeError,pr=e.QObject,gr=m.f,ke=S.f,hi=p.f,tn=x.f,ge=r([].push),De=T("symbols"),Ct=T("op-symbols"),Br=T("wks"),Vt=!pr||!pr[ce]||!pr[ce].findChild,fi=function(re,W,V){var U=gr(D,W);U&&delete D[W],ke(re,W,V),U&&re!==D&&ke(D,W,U)},yr=s&&a(function(){return y(ke({},"a",{get:function(){return ke(this,"a",{value:7}).a}})).a!==7})?fi:ke,mr=function(re,W){var V=De[re]=y(xe);return we(V,{type:pe,tag:re,description:W}),s||(V.description=W),V},Ut=function(W,V,U){W===D&&Ut(Ct,V,U),d(W);var ie=h(V);return d(U),l(De,ie)?(U.enumerable?(l(W,G)&&W[G][ie]&&(W[G][ie]=!1),U=y(U,{enumerable:v(0,!1)})):(l(W,G)||ke(W,G,v(1,y(null))),W[G][ie]=!0),yr(W,ie,U)):ke(W,ie,U)},br=function(W,V){d(W);var U=c(V),ie=b(U).concat(vi(U));return fe(ie,function(Se){(!s||t(rr,U,Se))&&Ut(W,Se,U[Se])}),W},rn=function(W,V){return V===void 0?y(W):br(y(W),V)},rr=function(W){var V=h(W),U=t(tn,this,V);return this===D&&l(De,V)&&!l(Ct,V)?!1:U||!l(this,V)||!l(De,V)||l(this,G)&&this[G][V]?U:!0},_r=function(W,V){var U=c(W),ie=h(V);if(!(U===D&&l(De,ie)&&!l(Ct,ie))){var Se=gr(U,ie);return Se&&l(De,ie)&&!(l(U,G)&&U[G][ie])&&(Se.enumerable=!0),Se}},wr=function(W){var V=hi(c(W)),U=[];return fe(V,function(ie){!l(De,ie)&&!l(R,ie)&&ge(U,ie)}),U},vi=function(re){var W=re===D,V=hi(W?Ct:c(re)),U=[];return fe(V,function(ie){l(De,ie)&&(!W||l(D,ie))&&ge(U,De[ie])}),U};return o||(K=function(){if(u(xe,this))throw new en("Symbol is not a constructor");var W=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),V=C(W),U=function(ie){var Se=this===void 0?e:this;Se===D&&t(U,Ct,ie),l(Se,G)&&l(Se[G],V)&&(Se[G][V]=!1);var jr=v(1,ie);try{yr(Se,V,jr)}catch(Lr){if(!(Lr instanceof vr))throw Lr;fi(Se,V,jr)}};return s&&Vt&&yr(D,V,{configurable:!0,set:U}),mr(V,W)},xe=K[ce],_(xe,"toString",function(){return Z(this).tag}),_(K,"withoutSetter",function(re){return mr(C(re),re)}),x.f=rr,S.f=Ut,O.f=br,m.f=_r,g.f=p.f=wr,$.f=vi,L.f=function(re){return mr(A(re),re)},s&&(E(xe,"description",{configurable:!0,get:function(){return Z(this).description}}),i||_(D,"propertyIsEnumerable",rr,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:K}),fe(b(Br),function(re){ne(re)}),n({target:pe,stat:!0,forced:!o},{useSetter:function(){Vt=!0},useSimple:function(){Vt=!1}}),n({target:"Object",stat:!0,forced:!o,sham:!s},{create:rn,defineProperty:Ut,defineProperties:br,getOwnPropertyDescriptor:_r}),n({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:wr}),H(),ae(K,pe),R[G]=!0,z0}var p_={},nu,g_;function h2(){if(g_)return nu;g_=1;var n=Tn();return nu=n&&!!Symbol.for&&!!Symbol.keyFor,nu}var y_;function WB(){if(y_)return p_;y_=1;var n=he(),e=kt(),t=ot(),r=oi(),i=Cn(),s=h2(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=r(l);if(t(o,u))return o[u];var d=e("Symbol")(u);return o[u]=d,a[d]=u,d}}),p_}var m_={},b_;function HB(){if(b_)return m_;b_=1;var n=he(),e=ot(),t=Cs(),r=Pn(),i=Cn(),s=h2(),o=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!t(l))throw new TypeError(r(l)+" is not a symbol");if(e(o,l))return o[l]}}),m_}var __={},su,w_;function VB(){if(w_)return su;w_=1;var n=Pe(),e=Ai(),t=nt(),r=kr(),i=oi(),s=n([].push);return su=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,l=[],u=0;u<a;u++){var d=o[u];typeof d=="string"?s(l,d):(typeof d=="number"||r(d)==="Number"||r(d)==="String")&&s(l,i(d))}var c=l.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var y=0;y<c;y++)if(l[y]===f)return v}}},su}var S_;function f2(){if(S_)return __;S_=1;var n=he(),e=kt(),t=Fo(),r=Tt(),i=Pe(),s=Oe(),o=nt(),a=Cs(),l=Dn(),u=VB(),d=Tn(),c=String,h=e("JSON","stringify"),f=i(/./.exec),v=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),p=/[\uD800-\uDFFF]/g,$=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,S=!d||s(function(){var E=e("Symbol")("stringify detection");return h([E])!=="[null]"||h({a:E})!=="{}"||h(Object(E))!=="{}"}),O=s(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),x=function(E,T){var P=l(arguments),R=u(T);if(!(!o(R)&&(E===void 0||a(E))))return P[1]=function(C,A){if(o(R)&&(A=r(R,this,c(C),A)),!a(A))return A},t(h,null,P)},_=function(E,T,P){var R=v(P,T-1),C=v(P,T+1);return f($,E)&&!f(m,C)||f(m,E)&&!f($,R)?"\\u"+g(y(E,0),16):E};return h&&n({target:"JSON",stat:!0,arity:3,forced:S||O},{stringify:function(T,P,R){var C=l(arguments),A=t(S?x:h,null,C);return O&&typeof A=="string"?b(A,p,_):A}}),__}var E_={},$_;function UB(){if($_)return E_;$_=1;var n=he(),e=Tn(),t=Oe(),r=Uo(),i=er(),s=!e||t(function(){r.f(1)});return n({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=r.f;return l?l(i(a)):[]}}),E_}var O_;function v2(){return O_||(O_=1,zB(),WB(),HB(),f2(),UB()),L0}var I_={},x_;function p2(){if(x_)return I_;x_=1;var n=je();return n("asyncDispose"),I_}var T_={},P_;function GB(){if(P_)return T_;P_=1;var n=je();return n("asyncIterator"),T_}var R_={},C_;function g2(){if(C_)return R_;C_=1;var n=je();return n("dispose"),R_}var q_={},k_;function KB(){if(k_)return q_;k_=1;var n=je();return n("hasInstance"),q_}var D_={},M_;function YB(){if(M_)return D_;M_=1;var n=je();return n("isConcatSpreadable"),D_}var A_={},F_;function y2(){if(F_)return A_;F_=1;var n=je();return n("iterator"),A_}var N_={},B_;function XB(){if(B_)return N_;B_=1;var n=je();return n("match"),N_}var j_={},L_;function JB(){if(L_)return j_;L_=1;var n=je();return n("matchAll"),j_}var z_={},W_;function ZB(){if(W_)return z_;W_=1;var n=je();return n("replace"),z_}var H_={},V_;function QB(){if(V_)return H_;V_=1;var n=je();return n("search"),H_}var U_={},G_;function ej(){if(G_)return U_;G_=1;var n=je();return n("species"),U_}var K_={},Y_;function tj(){if(Y_)return K_;Y_=1;var n=je();return n("split"),K_}var X_={},J_;function m2(){if(J_)return X_;J_=1;var n=je(),e=c2();return n("toPrimitive"),e(),X_}var Z_={},Q_;function rj(){if(Q_)return Z_;Q_=1;var n=kt(),e=je(),t=Fi();return e("toStringTag"),t(n("Symbol"),"Symbol"),Z_}var ew={},tw;function ij(){if(tw)return ew;tw=1;var n=je();return n("unscopables"),ew}var rw={},iw;function nj(){if(iw)return rw;iw=1;var n=Ze(),e=Fi();return e(n.JSON,"JSON",!0),rw}var ou,nw;function sj(){if(nw)return ou;nw=1,l2(),v2(),p2(),GB(),g2(),KB(),YB(),y2(),XB(),JB(),ZB(),QB(),ej(),tj(),m2(),rj(),ij(),nj();var n=rt();return ou=n.Symbol,ou}var sw={},au,ow;function oj(){return ow||(ow=1,au=function(){}),au}var lu,aw;function An(){return aw||(aw=1,lu={}),lu}var uu,lw;function aj(){if(lw)return uu;lw=1;var n=Qe(),e=ot(),t=Function.prototype,r=n&&Object.getOwnPropertyDescriptor,i=e(t,"name"),s=i&&(function(){}).name==="something",o=i&&(!n||n&&r(t,"name").configurable);return uu={EXISTS:i,PROPER:s,CONFIGURABLE:o},uu}var du,uw;function lj(){if(uw)return du;uw=1;var n=Oe();return du=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),du}var cu,dw;function b2(){if(dw)return cu;dw=1;var n=ot(),e=nt(),t=er(),r=Ho(),i=lj(),s=r("IE_PROTO"),o=Object,a=o.prototype;return cu=i?o.getPrototypeOf:function(l){var u=t(l);if(n(u,s))return u[s];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof o?a:null},cu}var hu,cw;function _2(){if(cw)return hu;cw=1;var n=Oe(),e=nt(),t=St(),r=Ds(),i=b2(),s=Ms(),o=at(),a=Rn(),l=o("iterator"),u=!1,d,c,h;[].keys&&(h=[].keys(),"next"in h?(c=i(i(h)),c!==Object.prototype&&(d=c)):u=!0);var f=!t(d)||n(function(){var v={};return d[l].call(v)!==v});return f?d={}:a&&(d=r(d)),e(d[l])||s(d,l,function(){return this}),hu={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},hu}var fu,hw;function uj(){if(hw)return fu;hw=1;var n=_2().IteratorPrototype,e=Ds(),t=Ts(),r=Fi(),i=An(),s=function(){return this};return fu=function(o,a,l,u){var d=a+" Iterator";return o.prototype=e(n,{next:t(+!u,l)}),r(o,d,!1,!0),i[d]=s,o},fu}var vu,fw;function dj(){if(fw)return vu;fw=1;var n=Pe(),e=Dr();return vu=function(t,r,i){try{return n(e(Object.getOwnPropertyDescriptor(t,r)[i]))}catch{}},vu}var pu,vw;function cj(){if(vw)return pu;vw=1;var n=St();return pu=function(e){return n(e)||e===null},pu}var gu,pw;function hj(){if(pw)return gu;pw=1;var n=cj(),e=String,t=TypeError;return gu=function(r){if(n(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},gu}var yu,gw;function fj(){if(gw)return yu;gw=1;var n=dj(),e=St(),t=Mi(),r=hj();return yu=Object.setPrototypeOf||("__proto__"in{}?(function(){var i=!1,s={},o;try{o=n(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(l,u){return t(l),r(u),e(l)&&(i?o(l,u):l.__proto__=u),l}})():void 0),yu}var mu,yw;function Eb(){if(yw)return mu;yw=1;var n=he(),e=Tt(),t=Rn(),r=aj(),i=nt(),s=uj(),o=b2(),a=fj(),l=Fi(),u=qn(),d=Ms(),c=at(),h=An(),f=_2(),v=r.PROPER,y=r.CONFIGURABLE,b=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,p=c("iterator"),$="keys",m="values",S="entries",O=function(){return this};return mu=function(x,_,E,T,P,R,C){s(E,_,T);var A=function(we){if(we===P&&de)return de;if(!g&&we&&we in H)return H[we];switch(we){case $:return function(){return new E(this,we)};case m:return function(){return new E(this,we)};case S:return function(){return new E(this,we)}}return function(){return new E(this)}},L=_+" Iterator",ne=!1,H=x.prototype,ae=H[p]||H["@@iterator"]||P&&H[P],de=!g&&ae||A(P),fe=_==="Array"&&H.entries||ae,G,pe,ce;if(fe&&(G=o(fe.call(new x)),G!==Object.prototype&&G.next&&(!t&&o(G)!==b&&(a?a(G,b):i(G[p])||d(G,p,O)),l(G,L,!0,!0),t&&(h[L]=O))),v&&P===m&&ae&&ae.name!==m&&(!t&&y?u(H,"name",m):(ne=!0,de=function(){return e(ae,this)})),P)if(pe={values:A(m),keys:R?de:A($),entries:A(S)},C)for(ce in pe)(g||ne||!(ce in H))&&d(H,ce,pe[ce]);else n({target:_,proto:!0,forced:g||ne},pe);return(!t||C)&&H[p]!==de&&d(H,p,de,{name:P}),h[_]=de,pe},mu}var bu,mw;function $b(){return mw||(mw=1,bu=function(n,e){return{value:n,done:e}}),bu}var _u,bw;function ai(){if(bw)return _u;bw=1;var n=cr(),e=oj(),t=An(),r=As(),i=jt().f,s=Eb(),o=$b(),a=Rn(),l=Qe(),u="Array Iterator",d=r.set,c=r.getterFor(u);_u=s(Array,"Array",function(f,v){d(this,{type:u,target:n(f),index:0,kind:v})},function(){var f=c(this),v=f.target,y=f.index++;if(!v||y>=v.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(y,!1);case"values":return o(v[y],!1)}return o([y,v[y]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&h.name!=="values")try{i(h,"name",{value:"values"})}catch{}return _u}var wu,_w;function vj(){return _w||(_w=1,wu={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),wu}var ww;function li(){if(ww)return sw;ww=1,ai();var n=vj(),e=Ze(),t=Fi(),r=An();for(var i in n)t(e[i],i),r[i]=r.Array;return sw}var Su,Sw;function w2(){if(Sw)return Su;Sw=1;var n=sj();return li(),Su=n,Su}var Ew={},$w;function pj(){if($w)return Ew;$w=1;var n=at(),e=jt().f,t=n("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),Ew}var Ow={},Iw;function gj(){return Iw||(Iw=1,p2()),Ow}var xw={},Tw;function yj(){return Tw||(Tw=1,g2()),xw}var Pw={},Rw;function mj(){if(Rw)return Pw;Rw=1;var n=je();return n("metadata"),Pw}var Eu,Cw;function bj(){if(Cw)return Eu;Cw=1;var n=w2();return pj(),gj(),yj(),mj(),Eu=n,Eu}var qw={},$u,kw;function S2(){if(kw)return $u;kw=1;var n=kt(),e=Pe(),t=n("Symbol"),r=t.keyFor,i=e(t.prototype.valueOf);return $u=t.isRegisteredSymbol||function(o){try{return r(i(o))!==void 0}catch{return!1}},$u}var Dw;function _j(){if(Dw)return qw;Dw=1;var n=he(),e=S2();return n({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),qw}var Mw={},Ou,Aw;function E2(){if(Aw)return Ou;Aw=1;for(var n=Cn(),e=kt(),t=Pe(),r=Cs(),i=at(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=t(s.prototype.valueOf),u=n("wks"),d=0,c=a(s),h=c.length;d<h;d++)try{var f=c[d];r(s[f])&&i(f)}catch{}return Ou=function(y){if(o&&o(y))return!0;try{for(var b=l(y),g=0,p=a(u),$=p.length;g<$;g++)if(u[p[g]]==b)return!0}catch{}return!1},Ou}var Fw;function wj(){if(Fw)return Mw;Fw=1;var n=he(),e=E2();return n({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Mw}var Nw={},Bw;function Sj(){if(Bw)return Nw;Bw=1;var n=je();return n("customMatcher"),Nw}var jw={},Lw;function Ej(){if(Lw)return jw;Lw=1;var n=je();return n("observable"),jw}var zw={},Ww;function $j(){if(Ww)return zw;Ww=1;var n=he(),e=S2();return n({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),zw}var Hw={},Vw;function Oj(){if(Vw)return Hw;Vw=1;var n=he(),e=E2();return n({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Hw}var Uw={},Gw;function Ij(){if(Gw)return Uw;Gw=1;var n=je();return n("matcher"),Uw}var Kw={},Yw;function xj(){if(Yw)return Kw;Yw=1;var n=je();return n("metadataKey"),Kw}var Xw={},Jw;function Tj(){if(Jw)return Xw;Jw=1;var n=je();return n("patternMatch"),Xw}var Zw={},Qw;function Pj(){if(Qw)return Zw;Qw=1;var n=je();return n("replaceAll"),Zw}var Iu,eS;function Rj(){if(eS)return Iu;eS=1;var n=bj();return _j(),wj(),Sj(),Ej(),$j(),Oj(),Ij(),xj(),Tj(),Pj(),Iu=n,Iu}var xu,tS;function Cj(){return tS||(tS=1,xu=Rj()),xu}var qj=Cj(),co=me(qj),rS={},Tu,iS;function kj(){if(iS)return Tu;iS=1;var n=Pe(),e=kn(),t=oi(),r=Mi(),i=n("".charAt),s=n("".charCodeAt),o=n("".slice),a=function(l){return function(u,d){var c=t(r(u)),h=e(d),f=c.length,v,y;return h<0||h>=f?l?"":void 0:(v=s(c,h),v<55296||v>56319||h+1===f||(y=s(c,h+1))<56320||y>57343?l?i(c,h):v:l?o(c,h,h+2):(v-55296<<10)+(y-56320)+65536)}};return Tu={codeAt:a(!1),charAt:a(!0)},Tu}var nS;function Ko(){if(nS)return rS;nS=1;var n=kj().charAt,e=oi(),t=As(),r=Eb(),i=$b(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var u=a(this),d=u.string,c=u.index,h;return c>=d.length?i(void 0,!0):(h=n(d,c),u.index+=h.length,i(h,!1))}),rS}var Pu,sS;function Dj(){if(sS)return Pu;sS=1,ai(),Ko(),y2();var n=Go();return Pu=n.f("iterator"),Pu}var Ru,oS;function $2(){if(oS)return Ru;oS=1;var n=Dj();return li(),Ru=n,Ru}var Cu,aS;function Mj(){if(aS)return Cu;aS=1;var n=$2();return Cu=n,Cu}var qu,lS;function Aj(){if(lS)return qu;lS=1;var n=Mj();return qu=n,qu}var ku,uS;function Fj(){return uS||(uS=1,ku=Aj()),ku}var Nj=Fj(),Bj=me(Nj);function ps(n){"@babel/helpers - typeof";return ps=typeof co=="function"&&typeof Bj=="symbol"?function(e){return typeof e}:function(e){return e&&typeof co=="function"&&e.constructor===co&&e!==co.prototype?"symbol":typeof e},ps(n)}var Du,dS;function jj(){if(dS)return Du;dS=1,m2();var n=Go();return Du=n.f("toPrimitive"),Du}var Mu,cS;function Lj(){if(cS)return Mu;cS=1;var n=jj();return Mu=n,Mu}var Au,hS;function zj(){if(hS)return Au;hS=1;var n=Lj();return Au=n,Au}var Fu,fS;function Wj(){if(fS)return Fu;fS=1;var n=zj();return Fu=n,Fu}var Nu,vS;function Hj(){return vS||(vS=1,Nu=Wj()),Nu}var Vj=Hj(),Uj=me(Vj);function Gj(n,e){if(ps(n)!="object"||!n)return n;var t=n[Uj];if(t!==void 0){var r=t.call(n,e);if(ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Kj(n){var e=Gj(n,"string");return ps(e)=="symbol"?e:e+""}function Yr(n,e,t){return(e=Kj(e))in n?DB(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var pS={},Bu,gS;function Yj(){if(gS)return Bu;gS=1;var n=Pe(),e=Dr(),t=St(),r=ot(),i=Dn(),s=xs(),o=Function,a=n([].concat),l=n([].join),u={},d=function(c,h,f){if(!r(u,h)){for(var v=[],y=0;y<h;y++)v[y]="a["+y+"]";u[h]=o("C,a","return new C("+l(v,",")+")")}return u[h](c,f)};return Bu=s?o.bind:function(h){var f=e(this),v=f.prototype,y=i(arguments,1),b=function(){var p=a(y,i(arguments));return this instanceof b?d(f,p.length,p):f.apply(h,p)};return t(v)&&(b.prototype=v),b},Bu}var yS;function Xj(){if(yS)return pS;yS=1;var n=he(),e=Yj();return n({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),pS}var ju,mS;function Pt(){if(mS)return ju;mS=1;var n=Ze(),e=rt();return ju=function(t,r){var i=e[t+"Prototype"],s=i&&i[r];if(s)return s;var o=n[t],a=o&&o.prototype;return a&&a[r]},ju}var Lu,bS;function Jj(){if(bS)return Lu;bS=1,Xj();var n=Pt();return Lu=n("Function","bind"),Lu}var zu,_S;function Zj(){if(_S)return zu;_S=1;var n=st(),e=Jj(),t=Function.prototype;return zu=function(r){var i=r.bind;return r===t||n(t,r)&&i===t.bind?e:i},zu}var Wu,wS;function Qj(){if(wS)return Wu;wS=1;var n=Zj();return Wu=n,Wu}var Hu,SS;function eL(){return SS||(SS=1,Hu=Qj()),Hu}var tL=eL(),O2=me(tL),ES={},Vu,$S;function rL(){if($S)return Vu;$S=1;var n=Dr(),e=er(),t=No(),r=ni(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,u,d,c){var h=e(l),f=t(h),v=r(h);if(n(u),v===0&&d<2)throw new i(s);var y=a?v-1:0,b=a?-1:1;if(d<2)for(;;){if(y in f){c=f[y],y+=b;break}if(y+=b,a?y<0:v<=y)throw new i(s)}for(;a?y>=0:v>y;y+=b)y in f&&(c=u(c,f[y],y,h));return c}};return Vu={left:o(!1),right:o(!0)},Vu}var Uu,OS;function Yo(){if(OS)return Uu;OS=1;var n=Oe();return Uu=function(e,t){var r=[][e];return!!r&&n(function(){r.call(null,t||function(){return 1},1)})},Uu}var Gu,IS;function I2(){if(IS)return Gu;IS=1;var n=Ze(),e=xn(),t=kr(),r=function(i){return e.slice(0,i.length)===i};return Gu=(function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":n.Bun&&typeof Bun.version=="string"?"BUN":n.Deno&&typeof Deno.version=="object"?"DENO":t(n.process)==="process"?"NODE":n.window&&n.document?"BROWSER":"REST"})(),Gu}var Ku,xS;function iL(){if(xS)return Ku;xS=1;var n=I2();return Ku=n==="NODE",Ku}var TS;function nL(){if(TS)return ES;TS=1;var n=he(),e=rL().left,t=Yo(),r=Rs(),i=iL(),s=!i&&r>79&&r<83,o=s||!t("reduce");return n({target:"Array",proto:!0,forced:o},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),ES}var Yu,PS;function sL(){if(PS)return Yu;PS=1,nL();var n=Pt();return Yu=n("Array","reduce"),Yu}var Xu,RS;function oL(){if(RS)return Xu;RS=1;var n=st(),e=sL(),t=Array.prototype;return Xu=function(r){var i=r.reduce;return r===t||n(t,r)&&i===t.reduce?e:i},Xu}var Ju,CS;function aL(){if(CS)return Ju;CS=1;var n=oL();return Ju=n,Ju}var Zu,qS;function lL(){return qS||(qS=1,Zu=aL()),Zu}var uL=lL(),dL=me(uL),kS={},DS;function cL(){if(DS)return kS;DS=1;var n=he(),e=Mn().filter,t=qs(),r=t("filter");return n({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),kS}var Qu,MS;function hL(){if(MS)return Qu;MS=1,cL();var n=Pt();return Qu=n("Array","filter"),Qu}var ed,AS;function fL(){if(AS)return ed;AS=1;var n=st(),e=hL(),t=Array.prototype;return ed=function(r){var i=r.filter;return r===t||n(t,r)&&i===t.filter?e:i},ed}var td,FS;function vL(){if(FS)return td;FS=1;var n=fL();return td=n,td}var rd,NS;function pL(){return NS||(NS=1,rd=vL()),rd}var gL=pL(),un=me(gL),BS={},jS;function yL(){if(jS)return BS;jS=1;var n=he(),e=Mn().map,t=qs(),r=t("map");return n({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),BS}var id,LS;function mL(){if(LS)return id;LS=1,yL();var n=Pt();return id=n("Array","map"),id}var nd,zS;function bL(){if(zS)return nd;zS=1;var n=st(),e=mL(),t=Array.prototype;return nd=function(r){var i=r.map;return r===t||n(t,r)&&i===t.map?e:i},nd}var sd,WS;function _L(){if(WS)return sd;WS=1;var n=bL();return sd=n,sd}var od,HS;function wL(){return HS||(HS=1,od=_L()),od}var SL=wL(),Xt=me(SL),ad,VS;function EL(){return VS||(VS=1,ad=w2()),ad}var $L=EL(),OL=me($L),US={},GS;function IL(){if(GS)return US;GS=1;var n=he(),e=Ai(),t=a2(),r=St(),i=bb(),s=ni(),o=cr(),a=zo(),l=at(),u=qs(),d=Dn(),c=u("slice"),h=l("species"),f=Array,v=Math.max;return n({target:"Array",proto:!0,forced:!c},{slice:function(b,g){var p=o(this),$=s(p),m=i(b,$),S=i(g===void 0?$:g,$),O,x,_;if(e(p)&&(O=p.constructor,t(O)&&(O===f||e(O.prototype))?O=void 0:r(O)&&(O=O[h],O===null&&(O=void 0)),O===f||O===void 0))return d(p,m,S);for(x=new(O===void 0?f:O)(v(S-m,0)),_=0;m<S;m++,_++)m in p&&a(x,_,p[m]);return x.length=_,x}}),US}var ld,KS;function xL(){if(KS)return ld;KS=1,IL();var n=Pt();return ld=n("Array","slice"),ld}var ud,YS;function TL(){if(YS)return ud;YS=1;var n=st(),e=xL(),t=Array.prototype;return ud=function(r){var i=r.slice;return r===t||n(t,r)&&i===t.slice?e:i},ud}var dd,XS;function PL(){if(XS)return dd;XS=1;var n=TL();return dd=n,dd}var cd,JS;function RL(){return JS||(JS=1,cd=PL()),cd}var CL=RL(),qL=me(CL),ZS={},hd,QS;function x2(){if(QS)return hd;QS=1;var n=kt(),e=Pe(),t=Vo(),r=Uo(),i=Mr(),s=e([].concat);return hd=n("Reflect","ownKeys")||function(a){var l=t.f(i(a)),u=r.f;return u?s(l,u(a)):l},hd}var eE;function kL(){if(eE)return ZS;eE=1;var n=he(),e=x2();return n({target:"Reflect",stat:!0},{ownKeys:e}),ZS}var fd,tE;function DL(){if(tE)return fd;tE=1,kL();var n=rt();return fd=n.Reflect.ownKeys,fd}var vd,rE;function ML(){if(rE)return vd;rE=1;var n=DL();return vd=n,vd}var pd,iE;function AL(){return iE||(iE=1,pd=ML()),pd}var FL=AL(),NL=me(FL),nE={},sE;function BL(){if(sE)return nE;sE=1;var n=he(),e=Ai();return n({target:"Array",stat:!0},{isArray:e}),nE}var gd,oE;function jL(){if(oE)return gd;oE=1,BL();var n=rt();return gd=n.Array.isArray,gd}var yd,aE;function LL(){if(aE)return yd;aE=1;var n=jL();return yd=n,yd}var md,lE;function zL(){return lE||(lE=1,md=LL()),md}var WL=zL(),nr=me(WL),uE={},dE;function HL(){if(dE)return uE;dE=1;var n=he(),e=er(),t=Wo(),r=Oe(),i=r(function(){t(1)});return n({target:"Object",stat:!0,forced:i},{keys:function(o){return t(e(o))}}),uE}var bd,cE;function VL(){if(cE)return bd;cE=1,HL();var n=rt();return bd=n.Object.keys,bd}var _d,hE;function UL(){if(hE)return _d;hE=1;var n=VL();return _d=n,_d}var wd,fE;function GL(){return fE||(fE=1,wd=UL()),wd}var KL=GL(),Ob=me(KL),vE={},Sd,pE;function YL(){if(pE)return Sd;pE=1;var n=Mn().forEach,e=Yo(),t=e("forEach");return Sd=t?[].forEach:function(i){return n(this,i,arguments.length>1?arguments[1]:void 0)},Sd}var gE;function XL(){if(gE)return vE;gE=1;var n=he(),e=YL();return n({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),vE}var Ed,yE;function JL(){if(yE)return Ed;yE=1,XL();var n=Pt();return Ed=n("Array","forEach"),Ed}var $d,mE;function ZL(){if(mE)return $d;mE=1;var n=JL();return $d=n,$d}var Od,bE;function QL(){if(bE)return Od;bE=1;var n=si(),e=ot(),t=st(),r=ZL(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Od=function(o){var a=o.forEach;return o===i||t(i,o)&&a===i.forEach||e(s,n(o))?r:a},Od}var Id,_E;function ez(){return _E||(_E=1,Id=QL()),Id}var tz=ez(),xi=me(tz),wE={},SE;function rz(){if(SE)return wE;SE=1;var n=he(),e=Pe(),t=Ai(),r=e([].reverse),i=[1,2];return n({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),wE}var xd,EE;function iz(){if(EE)return xd;EE=1,rz();var n=Pt();return xd=n("Array","reverse"),xd}var Td,$E;function nz(){if($E)return Td;$E=1;var n=st(),e=iz(),t=Array.prototype;return Td=function(r){var i=r.reverse;return r===t||n(t,r)&&i===t.reverse?e:i},Td}var Pd,OE;function sz(){if(OE)return Pd;OE=1;var n=nz();return Pd=n,Pd}var Rd,IE;function oz(){return IE||(IE=1,Rd=sz()),Rd}var az=oz(),lz=me(az),xE={},Cd,TE;function uz(){if(TE)return Cd;TE=1;var n=Qe(),e=Ai(),t=TypeError,r=Object.getOwnPropertyDescriptor,i=n&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}})();return Cd=i?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Cd}var qd,PE;function T2(){if(PE)return qd;PE=1;var n=Pn(),e=TypeError;return qd=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+n(r)+" of "+n(t))},qd}var RE;function dz(){if(RE)return xE;RE=1;var n=he(),e=er(),t=bb(),r=kn(),i=ni(),s=uz(),o=o2(),a=mb(),l=zo(),u=T2(),d=qs(),c=d("splice"),h=Math.max,f=Math.min;return n({target:"Array",proto:!0,forced:!c},{splice:function(y,b){var g=e(this),p=i(g),$=t(y,p),m=arguments.length,S,O,x,_,E,T;for(m===0?S=O=0:m===1?(S=0,O=p-$):(S=m-2,O=f(h(r(b),0),p-$)),o(p+S-O),x=a(g,O),_=0;_<O;_++)E=$+_,E in g&&l(x,_,g[E]);if(x.length=O,S<O){for(_=$;_<p-O;_++)E=_+O,T=_+S,E in g?g[T]=g[E]:u(g,T);for(_=p;_>p-O+S;_--)u(g,_-1)}else if(S>O)for(_=p-O;_>$;_--)E=_+O-1,T=_+S-1,E in g?g[T]=g[E]:u(g,T);for(_=0;_<S;_++)g[_+$]=arguments[_+2];return s(g,p-O+S),x}}),xE}var kd,CE;function cz(){if(CE)return kd;CE=1,dz();var n=Pt();return kd=n("Array","splice"),kd}var Dd,qE;function hz(){if(qE)return Dd;qE=1;var n=st(),e=cz(),t=Array.prototype;return Dd=function(r){var i=r.splice;return r===t||n(t,r)&&i===t.splice?e:i},Dd}var Md,kE;function fz(){if(kE)return Md;kE=1;var n=hz();return Md=n,Md}var Ad,DE;function vz(){return DE||(DE=1,Ad=fz()),Ad}var pz=vz(),P2=me(pz),ME={},Fd,AE;function gz(){if(AE)return Fd;AE=1;var n=Qe(),e=Pe(),t=Tt(),r=Oe(),i=Wo(),s=Uo(),o=fb(),a=er(),l=No(),u=Object.assign,d=Object.defineProperty,c=e([].concat);return Fd=!u||r(function(){if(n&&u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),y="abcdefghijklmnopqrst";return h[v]=7,y.split("").forEach(function(b){f[b]=b}),u({},h)[v]!==7||i(u({},f)).join("")!==y})?function(f,v){for(var y=a(f),b=arguments.length,g=1,p=s.f,$=o.f;b>g;)for(var m=l(arguments[g++]),S=p?c(i(m),p(m)):i(m),O=S.length,x=0,_;O>x;)_=S[x++],(!n||t($,m,_))&&(y[_]=m[_]);return y}:u,Fd}var FE;function yz(){if(FE)return ME;FE=1;var n=he(),e=gz();return n({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),ME}var Nd,NE;function mz(){if(NE)return Nd;NE=1,yz();var n=rt();return Nd=n.Object.assign,Nd}var Bd,BE;function bz(){if(BE)return Bd;BE=1;var n=mz();return Bd=n,Bd}var jd,jE;function _z(){return jE||(jE=1,jd=bz()),jd}var wz=_z(),Sz=me(wz),Ld,LE;function Ez(){if(LE)return Ld;LE=1,l2();var n=Pt();return Ld=n("Array","concat"),Ld}var zd,zE;function $z(){if(zE)return zd;zE=1;var n=st(),e=Ez(),t=Array.prototype;return zd=function(r){var i=r.concat;return r===t||n(t,r)&&i===t.concat?e:i},zd}var Wd,WE;function Oz(){if(WE)return Wd;WE=1;var n=$z();return Wd=n,Wd}var Hd,HE;function Iz(){return HE||(HE=1,Hd=Oz()),Hd}var xz=Iz(),Tz=me(xz),VE={},UE;function Pz(){if(UE)return VE;UE=1;var n=he(),e=Qe(),t=Ds();return n({target:"Object",stat:!0,sham:!e},{create:t}),VE}var Vd,GE;function Rz(){if(GE)return Vd;GE=1,Pz();var n=rt(),e=n.Object;return Vd=function(r,i){return e.create(r,i)},Vd}var Ud,KE;function Cz(){if(KE)return Ud;KE=1;var n=Rz();return Ud=n,Ud}var Gd,YE;function qz(){return YE||(YE=1,Gd=Cz()),Gd}var kz=qz(),Dz=me(kz),XE={},Kd,JE;function Mz(){if(JE)return Kd;JE=1;var n=kn(),e=oi(),t=Mi(),r=RangeError;return Kd=function(s){var o=e(t(this)),a="",l=n(s);if(l<0||l===1/0)throw new r("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},Kd}var Yd,ZE;function Az(){if(ZE)return Yd;ZE=1;var n=Pe(),e=s2(),t=oi(),r=Mz(),i=Mi(),s=n(r),o=n("".slice),a=Math.ceil,l=function(u){return function(d,c,h){var f=t(i(d)),v=e(c),y=f.length,b=h===void 0?" ":t(h),g,p;return v<=y||b===""?f:(g=v-y,p=s(b,a(g/b.length)),p.length>g&&(p=o(p,0,g)),u?f+p:p+f)}};return Yd={start:l(!1),end:l(!0)},Yd}var Xd,QE;function Fz(){if(QE)return Xd;QE=1;var n=Pe(),e=Oe(),t=Az().start,r=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=n(o.getTime),u=n(o.getUTCDate),d=n(o.getUTCFullYear),c=n(o.getUTCHours),h=n(o.getUTCMilliseconds),f=n(o.getUTCMinutes),v=n(o.getUTCMonth),y=n(o.getUTCSeconds);return Xd=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(l(this)))throw new r("Invalid time value");var g=this,p=d(g),$=h(g),m=p<0?"-":p>9999?"+":"";return m+t(s(p),m?6:4,0)+"-"+t(v(g)+1,2,0)+"-"+t(u(g),2,0)+"T"+t(c(g),2,0)+":"+t(f(g),2,0)+":"+t(y(g),2,0)+"."+t($,3,0)+"Z"}:a,Xd}var e$;function Nz(){if(e$)return XE;e$=1;var n=he(),e=Tt(),t=er(),r=e2(),i=Fz(),s=kr(),o=Oe(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return n({target:"Date",proto:!0,forced:a},{toJSON:function(u){var d=t(this),c=r(d,"number");return typeof c=="number"&&!isFinite(c)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),XE}var Jd,t$;function Bz(){if(t$)return Jd;t$=1,Nz(),f2();var n=rt(),e=Fo();return n.JSON||(n.JSON={stringify:JSON.stringify}),Jd=function(r,i,s){return e(n.JSON.stringify,null,arguments)},Jd}var Zd,r$;function jz(){if(r$)return Zd;r$=1;var n=Bz();return Zd=n,Zd}var Qd,i$;function Lz(){return i$||(i$=1,Qd=jz()),Qd}var zz=Lz(),Wz=me(zz),n$={},s$={},ec,o$;function Hz(){if(o$)return ec;o$=1;var n=TypeError;return ec=function(e,t){if(e<t)throw new n("Not enough arguments");return e},ec}var tc,a$;function R2(){if(a$)return tc;a$=1;var n=Ze(),e=Fo(),t=nt(),r=I2(),i=xn(),s=Dn(),o=Hz(),a=n.Function,l=/MSIE .\./.test(i)||r==="BUN"&&(function(){var u=n.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")})();return tc=function(u,d){var c=d?2:1;return l?function(h,f){var v=o(arguments.length,1)>c,y=t(h)?h:a(h),b=v?s(arguments,c):[],g=v?function(){e(y,this,b)}:y;return d?u(g,f):u(g)}:u},tc}var l$;function Vz(){if(l$)return s$;l$=1;var n=he(),e=Ze(),t=R2(),r=t(e.setInterval,!0);return n({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),s$}var u$={},d$;function Uz(){if(d$)return u$;d$=1;var n=he(),e=Ze(),t=R2(),r=t(e.setTimeout,!0);return n({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),u$}var c$;function Gz(){return c$||(c$=1,Vz(),Uz()),n$}var rc,h$;function Kz(){if(h$)return rc;h$=1,Gz();var n=rt();return rc=n.setTimeout,rc}var ic,f$;function Yz(){return f$||(f$=1,ic=Kz()),ic}var Xz=Yz(),Jz=me(Xz),nc={exports:{}},v$;function Zz(){return v$||(v$=1,(function(n){function e(r){if(r)return t(r);this._callbacks=new Map}function t(r){return Object.assign(r,e.prototype),r._callbacks=new Map,r}e.prototype.on=function(r,i){const s=this._callbacks.get(r)??[];return s.push(i),this._callbacks.set(r,s),this},e.prototype.once=function(r,i){const s=(...o)=>{this.off(r,s),i.apply(this,o)};return s.fn=i,this.on(r,s),this},e.prototype.off=function(r,i){if(r===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(r),this;const s=this._callbacks.get(r);if(s){for(const[o,a]of s.entries())if(a===i||a.fn===i){s.splice(o,1);break}s.length===0?this._callbacks.delete(r):this._callbacks.set(r,s)}return this},e.prototype.emit=function(r,...i){const s=this._callbacks.get(r);if(s){const o=[...s];for(const a of o)a.apply(this,i)}return this},e.prototype.listeners=function(r){return this._callbacks.get(r)??[]},e.prototype.listenerCount=function(r){if(r)return this.listeners(r).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(r){return this.listenerCount(r)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,n.exports=e})(nc)),nc.exports}var Qz=Zz(),e5=me(Qz);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Zt(){return Zt=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Zt.apply(this,arguments)}function Lt(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function ho(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var Km;typeof Object.assign!="function"?Km=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t}:Km=Object.assign;var Ti=Km,p$=["","webkit","Moz","MS","ms","o"],t5=typeof document>"u"?{style:{}}:document.createElement("div"),r5="function",dn=Math.round,Pi=Math.abs,Ib=Date.now;function Xo(n,e){for(var t,r,i=e[0].toUpperCase()+e.slice(1),s=0;s<p$.length;){if(t=p$[s],r=t?t+i:e,r in n)return r;s++}}var Or;typeof window>"u"?Or={}:Or=window;var C2=Xo(t5.style,"touchAction"),q2=C2!==void 0;function i5(){if(!q2)return!1;var n={},e=Or.CSS&&Or.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return n[t]=e?Or.CSS.supports("touch-action",t):!0}),n}var k2="compute",D2="auto",Ym="manipulation",wi="none",gs="pan-x",ys="pan-y",fo=i5(),n5=/mobile|tablet|ip(ad|hone|od)|android/i,M2="ontouchstart"in Or,s5=Xo(Or,"PointerEvent")!==void 0,o5=M2&&n5.test(navigator.userAgent),Fs="touch",a5="pen",xb="mouse",l5="kinect",u5=25,_t=1,Ni=2,Ye=4,It=8,Eo=1,Ns=2,Bs=4,js=8,bn=16,ur=Ns|Bs,Si=js|bn,A2=ur|Si,F2=["x","y"],$o=["clientX","clientY"];function Ir(n,e,t){var r;if(n)if(n.forEach)n.forEach(e,t);else if(n.length!==void 0)for(r=0;r<n.length;)e.call(t,n[r],r,n),r++;else for(r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r,n)}function Jo(n,e){return typeof n===r5?n.apply(e&&e[0]||void 0,e):n}function yi(n,e){return n.indexOf(e)>-1}function d5(n){if(yi(n,wi))return wi;var e=yi(n,gs),t=yi(n,ys);return e&&t?wi:e||t?e?gs:ys:yi(n,Ym)?Ym:D2}var N2=(function(){function n(t,r){this.manager=t,this.set(r)}var e=n.prototype;return e.set=function(r){r===k2&&(r=this.compute()),q2&&this.manager.element.style&&fo[r]&&(this.manager.element.style[C2]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return Ir(this.manager.recognizers,function(i){Jo(i.options.enable,[i])&&(r=r.concat(i.getTouchAction()))}),d5(r.join(" "))},e.preventDefaults=function(r){var i=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=yi(o,wi)&&!fo[wi],l=yi(o,ys)&&!fo[ys],u=yi(o,gs)&&!fo[gs];if(a){var d=r.pointers.length===1,c=r.distance<2,h=r.deltaTime<250;if(d&&c&&h)return}if(!(u&&l)&&(a||l&&s&ur||u&&s&Si))return this.preventSrc(i)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},n})();function Tb(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function B2(n){var e=n.length;if(e===1)return{x:dn(n[0].clientX),y:dn(n[0].clientY)};for(var t=0,r=0,i=0;i<e;)t+=n[i].clientX,r+=n[i].clientY,i++;return{x:dn(t/e),y:dn(r/e)}}function g$(n){for(var e=[],t=0;t<n.pointers.length;)e[t]={clientX:dn(n.pointers[t].clientX),clientY:dn(n.pointers[t].clientY)},t++;return{timeStamp:Ib(),pointers:e,center:B2(e),deltaX:n.deltaX,deltaY:n.deltaY}}function Oo(n,e,t){t||(t=F2);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.sqrt(r*r+i*i)}function Xm(n,e,t){t||(t=F2);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.atan2(i,r)*180/Math.PI}function j2(n,e){return n===e?Eo:Pi(n)>=Pi(e)?n<0?Ns:Bs:e<0?js:bn}function c5(n,e){var t=e.center,r=n.offsetDelta||{},i=n.prevDelta||{},s=n.prevInput||{};(e.eventType===_t||s.eventType===Ye)&&(i=n.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=n.offsetDelta={x:t.x,y:t.y}),e.deltaX=i.x+(t.x-r.x),e.deltaY=i.y+(t.y-r.y)}function L2(n,e,t){return{x:e/n||0,y:t/n||0}}function h5(n,e){return Oo(e[0],e[1],$o)/Oo(n[0],n[1],$o)}function f5(n,e){return Xm(e[1],e[0],$o)+Xm(n[1],n[0],$o)}function v5(n,e){var t=n.lastInterval||e,r=e.timeStamp-t.timeStamp,i,s,o,a;if(e.eventType!==It&&(r>u5||t.velocity===void 0)){var l=e.deltaX-t.deltaX,u=e.deltaY-t.deltaY,d=L2(r,l,u);s=d.x,o=d.y,i=Pi(d.x)>Pi(d.y)?d.x:d.y,a=j2(l,u),n.lastInterval=e}else i=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function p5(n,e){var t=n.session,r=e.pointers,i=r.length;t.firstInput||(t.firstInput=g$(e)),i>1&&!t.firstMultiple?t.firstMultiple=g$(e):i===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,l=e.center=B2(r);e.timeStamp=Ib(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Xm(a,l),e.distance=Oo(a,l),c5(t,e),e.offsetDirection=j2(e.deltaX,e.deltaY);var u=L2(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=Pi(u.x)>Pi(u.y)?u.x:u.y,e.scale=o?h5(o.pointers,r):1,e.rotation=o?f5(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,v5(t,e);var d=n.element,c=e.srcEvent,h;c.composedPath?h=c.composedPath()[0]:c.path?h=c.path[0]:h=c.target,Tb(h,d)&&(d=h),e.target=d}function g5(n,e,t){var r=t.pointers.length,i=t.changedPointers.length,s=e&_t&&r-i===0,o=e&(Ye|It)&&r-i===0;t.isFirst=!!s,t.isFinal=!!o,s&&(n.session={}),t.eventType=e,p5(n,t),n.emit("hammer.input",t),n.recognize(t),n.session.prevInput=t}function ms(n){return n.trim().split(/\s+/g)}function ls(n,e,t){Ir(ms(e),function(r){n.addEventListener(r,t,!1)})}function us(n,e,t){Ir(ms(e),function(r){n.removeEventListener(r,t,!1)})}function y$(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var Fn=(function(){function n(t,r){var i=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){Jo(t.options.enable,[t])&&i.handler(s)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&ls(this.element,this.evEl,this.domHandler),this.evTarget&&ls(this.target,this.evTarget,this.domHandler),this.evWin&&ls(y$(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&us(this.element,this.evEl,this.domHandler),this.evTarget&&us(this.target,this.evTarget,this.domHandler),this.evWin&&us(y$(this.element),this.evWin,this.domHandler)},n})();function Ri(n,e,t){if(n.indexOf&&!t)return n.indexOf(e);for(var r=0;r<n.length;){if(t&&n[r][t]==e||!t&&n[r]===e)return r;r++}return-1}var y5={pointerdown:_t,pointermove:Ni,pointerup:Ye,pointercancel:It,pointerout:It},m5={2:Fs,3:a5,4:xb,5:l5},z2="pointerdown",W2="pointermove pointerup pointercancel";Or.MSPointerEvent&&!Or.PointerEvent&&(z2="MSPointerDown",W2="MSPointerMove MSPointerUp MSPointerCancel");var H2=(function(n){Lt(e,n);function e(){var r,i=e.prototype;return i.evEl=z2,i.evWin=W2,r=n.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),l=y5[a],u=m5[i.pointerType]||i.pointerType,d=u===Fs,c=Ri(s,i.pointerId,"pointerId");l&_t&&(i.button===0||d)?c<0&&(s.push(i),c=s.length-1):l&(Ye|It)&&(o=!0),!(c<0)&&(s[c]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),o&&s.splice(c,1))},e})(Fn);function bs(n){return Array.prototype.slice.call(n,0)}function Pb(n,e,t){for(var r=[],i=[],s=0;s<n.length;){var o=e?n[s][e]:n[s];Ri(i,o)<0&&r.push(n[s]),i[s]=o,s++}return t&&(e?r=r.sort(function(a,l){return a[e]>l[e]}):r=r.sort()),r}var b5={touchstart:_t,touchmove:Ni,touchend:Ye,touchcancel:It},_5="touchstart touchmove touchend touchcancel",Rb=(function(n){Lt(e,n);function e(){var r;return e.prototype.evTarget=_5,r=n.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(i){var s=b5[i.type],o=w5.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Fs,srcEvent:i})},e})(Fn);function w5(n,e){var t=bs(n.touches),r=this.targetIds;if(e&(_t|Ni)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var i,s,o=bs(n.changedTouches),a=[],l=this.target;if(s=t.filter(function(u){return Tb(u.target,l)}),e===_t)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&a.push(o[i]),e&(Ye|It)&&delete r[o[i].identifier],i++;if(a.length)return[Pb(s.concat(a),"identifier",!0),a]}var S5={mousedown:_t,mousemove:Ni,mouseup:Ye},E5="mousedown",$5="mousemove mouseup",Cb=(function(n){Lt(e,n);function e(){var r,i=e.prototype;return i.evEl=E5,i.evWin=$5,r=n.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(i){var s=S5[i.type];s&_t&&i.button===0&&(this.pressed=!0),s&Ni&&i.which!==1&&(s=Ye),this.pressed&&(s&Ye&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:xb,srcEvent:i}))},e})(Fn),O5=2500,m$=25;function b$(n){var e=n.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},i=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=i.indexOf(r);a>-1&&i.splice(a,1)};setTimeout(s,O5)}}function I5(n,e){n&_t?(this.primaryTouch=e.changedPointers[0].identifier,b$.call(this,e)):n&(Ye|It)&&b$.call(this,e)}function x5(n){for(var e=n.srcEvent.clientX,t=n.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(e-i.x),o=Math.abs(t-i.y);if(s<=m$&&o<=m$)return!0}return!1}var V2=(function(){var n=(function(e){Lt(t,e);function t(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,l,u){var d=u.pointerType===Fs,c=u.pointerType===xb;if(!(c&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(d)I5.call(ho(ho(o)),l,u);else if(c&&x5.call(ho(ho(o)),u))return;o.callback(a,l,u)}},o.touch=new Rb(o.manager,o.handler),o.mouse=new Cb(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t})(Fn);return n})();function T5(n){var e,t=n.options.inputClass;return t?e=t:s5?e=H2:o5?e=Rb:M2?e=V2:e=Cb,new e(n,g5)}function cn(n,e,t){return Array.isArray(n)?(Ir(n,t[e],t),!0):!1}var bo=1,Nt=2,_n=4,Xr=8,xr=Xr,_s=16,or=32,P5=1;function R5(){return P5++}function vo(n,e){var t=e.manager;return t?t.get(n):n}function _$(n){return n&_s?"cancel":n&Xr?"end":n&_n?"move":n&Nt?"start":""}var Ls=(function(){function n(t){t===void 0&&(t={}),this.options=Zt({enable:!0},t),this.id=R5(),this.manager=null,this.state=bo,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(r){return Ti(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(cn(r,"recognizeWith",this))return this;var i=this.simultaneous;return r=vo(r,this),i[r.id]||(i[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return cn(r,"dropRecognizeWith",this)?this:(r=vo(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(cn(r,"requireFailure",this))return this;var i=this.requireFail;return r=vo(r,this),Ri(i,r)===-1&&(i.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(cn(r,"dropRequireFailure",this))return this;r=vo(r,this);var i=Ri(this.requireFail,r);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var i=this,s=this.state;function o(a){i.manager.emit(a,r)}s<Xr&&o(i.options.event+_$(s)),o(i.options.event),r.additionalEvent&&o(r.additionalEvent),s>=Xr&&o(i.options.event+_$(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=or},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(or|bo)))return!1;r++}return!0},e.recognize=function(r){var i=Ti({},r);if(!Jo(this.options.enable,[this,i])){this.reset(),this.state=or;return}this.state&(xr|_s|or)&&(this.state=bo),this.state=this.process(i),this.state&(Nt|_n|Xr|_s)&&this.tryEmit(i)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},n})(),Jm=(function(n){Lt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Zt({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var t=e.prototype;return t.getTouchAction=function(){return[Ym]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime<o.time;if(this.reset(),i.eventType&_t&&this.count===0)return this.failTimeout();if(l&&u&&a){if(i.eventType!==Ye)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<o.interval:!0,c=!this.pCenter||Oo(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!c||!d?this.count=1:this.count+=1,this._input=i;var h=this.count%o.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=xr,s.tryEmit()},o.interval),Nt):xr}return or},t.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=or},this.options.interval),or},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===xr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e})(Ls),wn=(function(n){Lt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Zt({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},t.process=function(i){var s=this.state,o=i.eventType,a=s&(Nt|_n),l=this.attrTest(i);return a&&(o&It||!l)?s|_s:a||l?o&Ye?s|Xr:s&Nt?s|_n:Nt:or},e})(Ls);function U2(n){return n===bn?"down":n===js?"up":n===Ns?"left":n===Bs?"right":""}var qb=(function(n){Lt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Zt({event:"pan",threshold:10,pointers:1,direction:A2},r))||this,i.pX=null,i.pY=null,i}var t=e.prototype;return t.getTouchAction=function(){var i=this.options.direction,s=[];return i&ur&&s.push(ys),i&Si&&s.push(gs),s},t.directionTest=function(i){var s=this.options,o=!0,a=i.distance,l=i.direction,u=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&ur?(l=u===0?Eo:u<0?Ns:Bs,o=u!==this.pX,a=Math.abs(i.deltaX)):(l=d===0?Eo:d<0?js:bn,o=d!==this.pY,a=Math.abs(i.deltaY))),i.direction=l,o&&a>s.threshold&&l&s.direction},t.attrTest=function(i){return wn.prototype.attrTest.call(this,i)&&(this.state&Nt||!(this.state&Nt)&&this.directionTest(i))},t.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=U2(i.direction);s&&(i.additionalEvent=this.options.event+s),n.prototype.emit.call(this,i)},e})(wn),G2=(function(n){Lt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Zt({event:"swipe",threshold:10,velocity:.3,direction:ur|Si,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return qb.prototype.getTouchAction.call(this)},t.attrTest=function(i){var s=this.options.direction,o;return s&(ur|Si)?o=i.overallVelocity:s&ur?o=i.overallVelocityX:s&Si&&(o=i.overallVelocityY),n.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Pi(o)>this.options.velocity&&i.eventType&Ye},t.emit=function(i){var s=U2(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e})(wn),K2=(function(n){Lt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Zt({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[wi]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Nt)},t.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}n.prototype.emit.call(this,i)},e})(wn),Y2=(function(n){Lt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Zt({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[wi]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Nt)},e})(wn),X2=(function(n){Lt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Zt({event:"press",pointers:1,time:251,threshold:9},r))||this,i._timer=null,i._input=null,i}var t=e.prototype;return t.getTouchAction=function(){return[D2]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime>o.time;if(this._input=i,!l||!a||i.eventType&(Ye|It)&&!u)this.reset();else if(i.eventType&_t)this.reset(),this._timer=setTimeout(function(){s.state=xr,s.tryEmit()},o.time);else if(i.eventType&Ye)return xr;return or},t.reset=function(){clearTimeout(this._timer)},t.emit=function(i){this.state===xr&&(i&&i.eventType&Ye?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=Ib(),this.manager.emit(this.options.event,this._input)))},e})(Ls),J2={domEvents:!1,touchAction:k2,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},w$=[[Y2,{enable:!1}],[K2,{enable:!1},["rotate"]],[G2,{direction:ur}],[qb,{direction:ur},["swipe"]],[Jm],[Jm,{event:"doubletap",taps:2},["tap"]],[X2]],C5=1,S$=2;function E$(n,e){var t=n.element;if(t.style){var r;Ir(n.options.cssProps,function(i,s){r=Xo(t.style,s),e?(n.oldCssProps[r]=t.style[r],t.style[r]=i):t.style[r]=n.oldCssProps[r]||""}),e||(n.oldCssProps={})}}function q5(n,e){var t=document.createEvent("Event");t.initEvent(n,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var $$=(function(){function n(t,r){var i=this;this.options=Ti({},J2,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=T5(this),this.touchAction=new N2(this,this.options.touchAction),E$(this,!0),Ir(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=n.prototype;return e.set=function(r){return Ti(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?S$:C5},e.recognize=function(r){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&xr)&&(i.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],i.stopped!==S$&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(Nt|_n|Xr)&&(i.curRecognizer=s,a=s),l++}},e.get=function(r){if(r instanceof Ls)return r;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===r)return i[s];return null},e.add=function(r){if(cn(r,"add",this))return this;var i=this.get(r.options.event);return i&&this.remove(i),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(cn(r,"remove",this))return this;var i=this.get(r);if(r){var s=this.recognizers,o=Ri(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,i){if(r===void 0||i===void 0)return this;var s=this.handlers;return Ir(ms(r),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(r,i){if(r===void 0)return this;var s=this.handlers;return Ir(ms(r),function(o){i?s[o]&&s[o].splice(Ri(s[o],i),1):delete s[o]}),this},e.emit=function(r,i){this.options.domEvents&&q5(r,i);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){i.type=r,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&E$(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n})(),k5={touchstart:_t,touchmove:Ni,touchend:Ye,touchcancel:It},D5="touchstart",M5="touchstart touchmove touchend touchcancel",A5=(function(n){Lt(e,n);function e(){var r,i=e.prototype;return i.evTarget=D5,i.evWin=M5,r=n.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(i){var s=k5[i.type];if(s===_t&&(this.started=!0),!!this.started){var o=F5.call(this,i,s);s&(Ye|It)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Fs,srcEvent:i})}},e})(Fn);function F5(n,e){var t=bs(n.touches),r=bs(n.changedTouches);return e&(Ye|It)&&(t=Pb(t.concat(r),"identifier",!0)),[t,r]}function Z2(n,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),n.apply(this,arguments)}}var Q2=Z2(function(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;)(!t||t&&n[r[i]]===void 0)&&(n[r[i]]=e[r[i]]),i++;return n},"extend","Use `assign`."),N5=Z2(function(n,e){return Q2(n,e,!0)},"merge","Use `assign`.");function B5(n,e,t){var r=e.prototype,i;i=n.prototype=Object.create(r),i.constructor=n,i._super=r,t&&Ti(i,t)}function O$(n,e){return function(){return n.apply(e,arguments)}}var j5=(function(){var n=function(t,r){return r===void 0&&(r={}),new $$(t,Zt({recognizers:w$.concat()},r))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=A2,n.DIRECTION_DOWN=bn,n.DIRECTION_LEFT=Ns,n.DIRECTION_RIGHT=Bs,n.DIRECTION_UP=js,n.DIRECTION_HORIZONTAL=ur,n.DIRECTION_VERTICAL=Si,n.DIRECTION_NONE=Eo,n.DIRECTION_DOWN=bn,n.INPUT_START=_t,n.INPUT_MOVE=Ni,n.INPUT_END=Ye,n.INPUT_CANCEL=It,n.STATE_POSSIBLE=bo,n.STATE_BEGAN=Nt,n.STATE_CHANGED=_n,n.STATE_ENDED=Xr,n.STATE_RECOGNIZED=xr,n.STATE_CANCELLED=_s,n.STATE_FAILED=or,n.Manager=$$,n.Input=Fn,n.TouchAction=N2,n.TouchInput=Rb,n.MouseInput=Cb,n.PointerEventInput=H2,n.TouchMouseInput=V2,n.SingleTouchInput=A5,n.Recognizer=Ls,n.AttrRecognizer=wn,n.Tap=Jm,n.Pan=qb,n.Swipe=G2,n.Pinch=K2,n.Rotate=Y2,n.Press=X2,n.on=ls,n.off=us,n.each=Ir,n.merge=N5,n.extend=Q2,n.bindFn=O$,n.assign=Ti,n.inherit=B5,n.bindFn=O$,n.prefixed=Xo,n.toArray=bs,n.inArray=Ri,n.uniqueArray=Pb,n.splitStr=ms,n.boolOrFn=Jo,n.hasParent=Tb,n.addEventListeners=ls,n.removeEventListeners=us,n.defaults=Ti({},J2,{preset:w$}),n})();const eF=OL("DELETE");function L5(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return tF({},n,...t)}function tF(){const n=Io(...arguments);return iF(n),n}function Io(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<2)return e[0];if(e.length>2)return Io(tF(e[0],e[1]),...qL(e).call(e,2));const r=e[0],i=e[1];if(r instanceof Date&&i instanceof Date)return r.setTime(i.getTime()),r;for(const s of NL(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===eF?delete r[s]:r[s]!==null&&i[s]!==null&&typeof r[s]=="object"&&typeof i[s]=="object"&&!nr(r[s])&&!nr(i[s])?r[s]=Io(r[s],i[s]):r[s]=rF(i[s]));return r}function rF(n){return nr(n)?Xt(n).call(n,e=>rF(e)):typeof n=="object"&&n!==null?n instanceof Date?new Date(n.getTime()):Io({},n):n}function iF(n){for(const e of Ob(n))n[e]===eF?delete n[e]:typeof n[e]=="object"&&n[e]!==null&&iF(n[e])}function z5(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}const W5=typeof window<"u"?window.Hammer||j5:function(){return z5()};function Er(n){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=W5(this._dom.overlay);t.on("tap",O2(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{t.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];xi(r).call(r,i=>{t.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{H5(i.target,n)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}e5(Er.prototype);Er.current=null;Er.prototype.destroy=function(){this.deactivate();for(const t of lz(n=P2(e=this._cleanupQueue).call(e,0)).call(n)){var n,e;t()}};Er.prototype.activate=function(){Er.current&&Er.current.deactivate(),Er.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Er.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Er.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};function H5(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}var sc,I$;function V5(){if(I$)return sc;I$=1,v2();var n=rt();return sc=n.Object.getOwnPropertySymbols,sc}var oc,x$;function U5(){if(x$)return oc;x$=1;var n=V5();return oc=n,oc}var ac,T$;function G5(){return T$||(T$=1,ac=U5()),ac}var K5=G5(),P$=me(K5),lc={exports:{}},R$={},C$;function Y5(){if(C$)return R$;C$=1;var n=he(),e=Oe(),t=cr(),r=jo().f,i=Qe(),s=!i||e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,l){return r(t(a),l)}}),R$}var q$;function X5(){if(q$)return lc.exports;q$=1,Y5();var n=rt(),e=n.Object,t=lc.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),lc.exports}var uc,k$;function J5(){if(k$)return uc;k$=1;var n=X5();return uc=n,uc}var dc,D$;function Z5(){return D$||(D$=1,dc=J5()),dc}var Q5=Z5(),nF=me(Q5),M$={},A$;function e3(){if(A$)return M$;A$=1;var n=he(),e=Qe(),t=x2(),r=cr(),i=jo(),s=zo();return n({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=r(a),u=i.f,d=t(l),c={},h=0,f,v;d.length>h;)v=u(l,f=d[h++]),v!==void 0&&s(c,f,v);return c}}),M$}var cc,F$;function t3(){if(F$)return cc;F$=1,e3();var n=rt();return cc=n.Object.getOwnPropertyDescriptors,cc}var hc,N$;function r3(){if(N$)return hc;N$=1;var n=t3();return hc=n,hc}var fc,B$;function i3(){return B$||(B$=1,fc=r3()),fc}var n3=i3(),j$=me(n3),vc={exports:{}},L$={},z$;function s3(){if(z$)return L$;z$=1;var n=he(),e=Qe(),t=wb().f;return n({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),L$}var W$;function o3(){if(W$)return vc.exports;W$=1,s3();var n=rt(),e=n.Object,t=vc.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(t.sham=!0),vc.exports}var pc,H$;function a3(){if(H$)return pc;H$=1;var n=o3();return pc=n,pc}var gc,V$;function l3(){return V$||(V$=1,gc=a3()),gc}var u3=l3(),d3=me(u3),yc,U$;function c3(){return U$||(U$=1,yc=n2()),yc}var h3=c3(),f3=me(h3),G$={},K$={},mc={exports:{}},bc,Y$;function v3(){if(Y$)return bc;Y$=1;var n=Oe();return bc=n(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),bc}var _c,X$;function p3(){if(X$)return _c;X$=1;var n=Oe(),e=St(),t=kr(),r=v3(),i=Object.isExtensible,s=n(function(){});return _c=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,_c}var wc,J$;function g3(){if(J$)return wc;J$=1;var n=Oe();return wc=!n(function(){return Object.isExtensible(Object.preventExtensions({}))}),wc}var Z$;function sF(){if(Z$)return mc.exports;Z$=1;var n=he(),e=Pe(),t=ks(),r=St(),i=ot(),s=jt().f,o=Vo(),a=d2(),l=p3(),u=Bo(),d=g3(),c=!1,h=u("meta"),f=0,v=function(m){s(m,h,{value:{objectID:"O"+f++,weakData:{}}})},y=function(m,S){if(!r(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!i(m,h)){if(!l(m))return"F";if(!S)return"E";v(m)}return m[h].objectID},b=function(m,S){if(!i(m,h)){if(!l(m))return!0;if(!S)return!1;v(m)}return m[h].weakData},g=function(m){return d&&c&&l(m)&&!i(m,h)&&v(m),m},p=function(){$.enable=function(){},c=!0;var m=o.f,S=e([].splice),O={};O[h]=1,m(O).length&&(o.f=function(x){for(var _=m(x),E=0,T=_.length;E<T;E++)if(_[E]===h){S(_,E,1);break}return _},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},$=mc.exports={enable:p,fastKey:y,getWeakData:b,onFreeze:g};return t[h]=!0,mc.exports}var Sc,Q$;function y3(){if(Q$)return Sc;Q$=1;var n=at(),e=An(),t=n("iterator"),r=Array.prototype;return Sc=function(i){return i!==void 0&&(e.Array===i||r[t]===i)},Sc}var Ec,eO;function oF(){if(eO)return Ec;eO=1;var n=si(),e=vb(),t=Ps(),r=An(),i=at(),s=i("iterator");return Ec=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[n(o)]},Ec}var $c,tO;function aF(){if(tO)return $c;tO=1;var n=Tt(),e=Dr(),t=Mr(),r=Pn(),i=oF(),s=TypeError;return $c=function(o,a){var l=arguments.length<2?i(o):a;if(e(l))return t(n(l,o));throw new s(r(o)+" is not iterable")},$c}var Oc,rO;function kb(){if(rO)return Oc;rO=1;var n=Tt(),e=Mr(),t=vb();return Oc=function(r,i,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(i==="throw")throw s;return s}o=n(o,r)}catch(l){a=!0,o=l}if(i==="throw")throw s;if(a)throw o;return e(o),s},Oc}var Ic,iO;function Db(){if(iO)return Ic;iO=1;var n=Lo(),e=Tt(),t=Mr(),r=Pn(),i=y3(),s=ni(),o=st(),a=aF(),l=oF(),u=kb(),d=TypeError,c=function(f,v){this.stopped=f,this.result=v},h=c.prototype;return Ic=function(f,v,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),p=!!(y&&y.IS_RECORD),$=!!(y&&y.IS_ITERATOR),m=!!(y&&y.INTERRUPTED),S=n(v,b),O,x,_,E,T,P,R,C=function(L){return O&&u(O,"normal"),new c(!0,L)},A=function(L){return g?(t(L),m?S(L[0],L[1],C):S(L[0],L[1])):m?S(L,C):S(L)};if(p)O=f.iterator;else if($)O=f;else{if(x=l(f),!x)throw new d(r(f)+" is not iterable");if(i(x)){for(_=0,E=s(f);E>_;_++)if(T=A(f[_]),T&&o(h,T))return T;return new c(!1)}O=a(f,x)}for(P=p?f.next:O.next;!(R=e(P,O)).done;){try{T=A(R.value)}catch(L){u(O,"throw",L)}if(typeof T=="object"&&T&&o(h,T))return T}return new c(!1)},Ic}var xc,nO;function lF(){if(nO)return xc;nO=1;var n=st(),e=TypeError;return xc=function(t,r){if(n(r,t))return t;throw new e("Incorrect invocation")},xc}var Tc,sO;function uF(){if(sO)return Tc;sO=1;var n=he(),e=Ze(),t=sF(),r=Oe(),i=qn(),s=Db(),o=lF(),a=nt(),l=St(),u=Ps(),d=Fi(),c=jt().f,h=Mn().forEach,f=Qe(),v=As(),y=v.set,b=v.getterFor;return Tc=function(g,p,$){var m=g.indexOf("Map")!==-1,S=g.indexOf("Weak")!==-1,O=m?"set":"add",x=e[g],_=x&&x.prototype,E={},T;if(!f||!a(x)||!(S||_.forEach&&!r(function(){new x().entries().next()})))T=$.getConstructor(p,g,m,O),t.enable();else{T=p(function(C,A){y(o(C,P),{type:g,collection:new x}),u(A)||s(A,C[O],{that:C,AS_ENTRIES:m})});var P=T.prototype,R=b(g);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(C){var A=C==="add"||C==="set";C in _&&!(S&&C==="clear")&&i(P,C,function(L,ne){var H=R(this).collection;if(!A&&S&&!l(L))return C==="get"?void 0:!1;var ae=H[C](L===0?0:L,ne);return A?this:ae})}),S||c(P,"size",{configurable:!0,get:function(){return R(this).collection.size}})}return d(T,g,!1,!0),E[g]=T,n({global:!0,forced:!0},E),S||$.setStrong(T,g,m),T},Tc}var Pc,oO;function m3(){if(oO)return Pc;oO=1;var n=Ms();return Pc=function(e,t,r){for(var i in t)r&&r.unsafe&&e[i]?e[i]=t[i]:n(e,i,t[i],r);return e},Pc}var Rc,aO;function b3(){if(aO)return Rc;aO=1;var n=kt(),e=Sb(),t=at(),r=Qe(),i=t("species");return Rc=function(s){var o=n(s);r&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},Rc}var Cc,lO;function dF(){if(lO)return Cc;lO=1;var n=Ds(),e=Sb(),t=m3(),r=Lo(),i=lF(),s=Ps(),o=Db(),a=Eb(),l=$b(),u=b3(),d=Qe(),c=sF().fastKey,h=As(),f=h.set,v=h.getterFor;return Cc={getConstructor:function(y,b,g,p){var $=y(function(_,E){i(_,m),f(_,{type:b,index:n(null),first:null,last:null,size:0}),d||(_.size=0),s(E)||o(E,_[p],{that:_,AS_ENTRIES:g})}),m=$.prototype,S=v(b),O=function(_,E,T){var P=S(_),R=x(_,E),C,A;return R?R.value=T:(P.last=R={index:A=c(E,!0),key:E,value:T,previous:C=P.last,next:null,removed:!1},P.first||(P.first=R),C&&(C.next=R),d?P.size++:_.size++,A!=="F"&&(P.index[A]=R)),_},x=function(_,E){var T=S(_),P=c(E),R;if(P!=="F")return T.index[P];for(R=T.first;R;R=R.next)if(R.key===E)return R};return t(m,{clear:function(){for(var E=this,T=S(E),P=T.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=null),P=P.next;T.first=T.last=null,T.index=n(null),d?T.size=0:E.size=0},delete:function(_){var E=this,T=S(E),P=x(E,_);if(P){var R=P.next,C=P.previous;delete T.index[P.index],P.removed=!0,C&&(C.next=R),R&&(R.previous=C),T.first===P&&(T.first=R),T.last===P&&(T.last=C),d?T.size--:E.size--}return!!P},forEach:function(E){for(var T=S(this),P=r(E,arguments.length>1?arguments[1]:void 0),R;R=R?R.next:T.first;)for(P(R.value,R.key,this);R&&R.removed;)R=R.previous},has:function(E){return!!x(this,E)}}),t(m,g?{get:function(E){var T=x(this,E);return T&&T.value},set:function(E,T){return O(this,E===0?0:E,T)}}:{add:function(E){return O(this,E=E===0?0:E,E)}}),d&&e(m,"size",{configurable:!0,get:function(){return S(this).size}}),$},setStrong:function(y,b,g){var p=b+" Iterator",$=v(b),m=v(p);a(y,b,function(S,O){f(this,{type:p,target:S,state:$(S),kind:O,last:null})},function(){for(var S=m(this),O=S.kind,x=S.last;x&&x.removed;)x=x.previous;return!S.target||!(S.last=x=x?x.next:S.state.first)?(S.target=null,l(void 0,!0)):l(O==="keys"?x.key:O==="values"?x.value:[x.key,x.value],!1)},g?"entries":"values",!g,!0),u(b)}},Cc}var uO;function _3(){if(uO)return K$;uO=1;var n=uF(),e=dF();return n("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),K$}var dO;function w3(){return dO||(dO=1,_3()),G$}var cO={},qc,hO;function cF(){return hO||(hO=1,qc=function(n,e){return e===1?function(t,r){return t[n](r)}:function(t,r,i){return t[n](r,i)}}),qc}var kc,fO;function S3(){if(fO)return kc;fO=1;var n=kt(),e=cF(),t=n("Map");return kc={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},kc}var vO;function E3(){if(vO)return cO;vO=1;var n=he(),e=Pe(),t=Dr(),r=Mi(),i=Db(),s=S3(),o=Rn(),a=Oe(),l=s.Map,u=s.has,d=s.get,c=s.set,h=e([].push),f=o||a(function(){return l.groupBy("ab",function(v){return v}).get("a").length!==1});return n({target:"Map",stat:!0,forced:o||f},{groupBy:function(y,b){r(y),t(b);var g=new l,p=0;return i(y,function($){var m=b($,p++);u(g,m)?h(d(g,m),$):c(g,m,[$])}),g}}),cO}var Dc,pO;function $3(){if(pO)return Dc;pO=1,ai(),w3(),E3(),Ko();var n=rt();return Dc=n.Map,Dc}var Mc,gO;function O3(){if(gO)return Mc;gO=1;var n=$3();return li(),Mc=n,Mc}var Ac,yO;function I3(){return yO||(yO=1,Ac=O3()),Ac}var x3=I3(),hF=me(x3),mO={},bO;function T3(){if(bO)return mO;bO=1;var n=he(),e=Mn().some,t=Yo(),r=t("some");return n({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),mO}var Fc,_O;function P3(){if(_O)return Fc;_O=1,T3();var n=Pt();return Fc=n("Array","some"),Fc}var Nc,wO;function R3(){if(wO)return Nc;wO=1;var n=st(),e=P3(),t=Array.prototype;return Nc=function(r){var i=r.some;return r===t||n(t,r)&&i===t.some?e:i},Nc}var Bc,SO;function C3(){if(SO)return Bc;SO=1;var n=R3();return Bc=n,Bc}var jc,EO;function q3(){return EO||(EO=1,jc=C3()),jc}var k3=q3(),D3=me(k3),Lc,$O;function M3(){if($O)return Lc;$O=1,ai();var n=Pt();return Lc=n("Array","keys"),Lc}var zc,OO;function A3(){if(OO)return zc;OO=1;var n=M3();return zc=n,zc}var Wc,IO;function F3(){if(IO)return Wc;IO=1,li();var n=si(),e=ot(),t=st(),r=A3(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Wc=function(o){var a=o.keys;return o===i||t(i,o)&&a===i.keys||e(s,n(o))?r:a},Wc}var Hc,xO;function N3(){return xO||(xO=1,Hc=F3()),Hc}var B3=N3(),nn=me(B3),TO={},Vc,PO;function j3(){if(PO)return Vc;PO=1;var n=Dn(),e=Math.floor,t=function(r,i){var s=r.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=r[o];l&&i(r[l-1],a)>0;)r[l]=r[--l];l!==o++&&(r[l]=a)}else for(var u=e(s/2),d=t(n(r,0,u),i),c=t(n(r,u),i),h=d.length,f=c.length,v=0,y=0;v<h||y<f;)r[v+y]=v<h&&y<f?i(d[v],c[y])<=0?d[v++]:c[y++]:v<h?d[v++]:c[y++];return r};return Vc=t,Vc}var Uc,RO;function L3(){if(RO)return Uc;RO=1;var n=xn(),e=n.match(/firefox\/(\d+)/i);return Uc=!!e&&+e[1],Uc}var Gc,CO;function z3(){if(CO)return Gc;CO=1;var n=xn();return Gc=/MSIE|Trident/.test(n),Gc}var Kc,qO;function W3(){if(qO)return Kc;qO=1;var n=xn(),e=n.match(/AppleWebKit\/(\d+)\./);return Kc=!!e&&+e[1],Kc}var kO;function H3(){if(kO)return TO;kO=1;var n=he(),e=Pe(),t=Dr(),r=er(),i=ni(),s=T2(),o=oi(),a=Oe(),l=j3(),u=Yo(),d=L3(),c=z3(),h=Rs(),f=W3(),v=[],y=e(v.sort),b=e(v.push),g=a(function(){v.sort(void 0)}),p=a(function(){v.sort(null)}),$=u("sort"),m=!a(function(){if(h)return h<70;if(!(d&&d>3)){if(c)return!0;if(f)return f<603;var x="",_,E,T,P;for(_=65;_<76;_++){switch(E=String.fromCharCode(_),_){case 66:case 69:case 70:case 72:T=3;break;case 68:case 71:T=4;break;default:T=2}for(P=0;P<47;P++)v.push({k:E+P,v:T})}for(v.sort(function(R,C){return C.v-R.v}),P=0;P<v.length;P++)E=v[P].k.charAt(0),x.charAt(x.length-1)!==E&&(x+=E);return x!=="DGBEFHACIJK"}}),S=g||!p||!$||!m,O=function(x){return function(_,E){return E===void 0?-1:_===void 0?1:x!==void 0?+x(_,E)||0:o(_)>o(E)?1:-1}};return n({target:"Array",proto:!0,forced:S},{sort:function(_){_!==void 0&&t(_);var E=r(this);if(m)return _===void 0?y(E):y(E,_);var T=[],P=i(E),R,C;for(C=0;C<P;C++)C in E&&b(T,E[C]);for(l(T,O(_)),R=i(T),C=0;C<R;)E[C]=T[C++];for(;C<P;)s(E,C++);return E}}),TO}var Yc,DO;function V3(){if(DO)return Yc;DO=1,H3();var n=Pt();return Yc=n("Array","sort"),Yc}var Xc,MO;function U3(){if(MO)return Xc;MO=1;var n=st(),e=V3(),t=Array.prototype;return Xc=function(r){var i=r.sort;return r===t||n(t,r)&&i===t.sort?e:i},Xc}var Jc,AO;function G3(){if(AO)return Jc;AO=1;var n=U3();return Jc=n,Jc}var Zc,FO;function K3(){return FO||(FO=1,Zc=G3()),Zc}var Y3=K3(),Zm=me(Y3),Qc,NO;function X3(){if(NO)return Qc;NO=1,ai();var n=Pt();return Qc=n("Array","values"),Qc}var eh,BO;function J3(){if(BO)return eh;BO=1;var n=X3();return eh=n,eh}var th,jO;function Z3(){if(jO)return th;jO=1,li();var n=si(),e=ot(),t=st(),r=J3(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return th=function(o){var a=o.values;return o===i||t(i,o)&&a===i.values||e(s,n(o))?r:a},th}var rh,LO;function Q3(){return LO||(LO=1,rh=Z3()),rh}var e4=Q3(),zO=me(e4),ih,WO;function t4(){return WO||(WO=1,ih=$2()),ih}var r4=t4(),hn=me(r4),nh,HO;function i4(){if(HO)return nh;HO=1,ai();var n=Pt();return nh=n("Array","entries"),nh}var sh,VO;function n4(){if(VO)return sh;VO=1;var n=i4();return sh=n,sh}var oh,UO;function s4(){if(UO)return oh;UO=1,li();var n=si(),e=ot(),t=st(),r=n4(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return oh=function(o){var a=o.entries;return o===i||t(i,o)&&a===i.entries||e(s,n(o))?r:a},oh}var ah,GO;function o4(){return GO||(GO=1,ah=s4()),ah}var a4=o4(),l4=me(a4);const ct=[];for(let n=0;n<256;++n)ct.push((n+256).toString(16).slice(1));function u4(n,e=0){return(ct[n[e+0]]+ct[n[e+1]]+ct[n[e+2]]+ct[n[e+3]]+"-"+ct[n[e+4]]+ct[n[e+5]]+"-"+ct[n[e+6]]+ct[n[e+7]]+"-"+ct[n[e+8]]+ct[n[e+9]]+"-"+ct[n[e+10]]+ct[n[e+11]]+ct[n[e+12]]+ct[n[e+13]]+ct[n[e+14]]+ct[n[e+15]]).toLowerCase()}let lh;const d4=new Uint8Array(16);function c4(){if(!lh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lh=crypto.getRandomValues.bind(crypto)}return lh(d4)}const h4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var KO={randomUUID:h4};function f4(n,e,t){var i;n=n||{};const r=n.random??((i=n.rng)==null?void 0:i.call(n))??c4();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,u4(r)}function v4(n,e,t){return KO.randomUUID&&!n?KO.randomUUID():f4(n)}function YO(n){return typeof n=="string"||typeof n=="number"}class Mb{constructor(e){Yr(this,"_queue",[]),Yr(this,"_timeout",null),Yr(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const r=new Mb(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{r.flush()};const i=[{name:"flush",original:void 0}];if(t&&t.replace)for(let s=0;s<t.replace.length;s++){const o=t.replace[s];i.push({name:o,original:e[o]}),r.replace(e,o)}return r._extended={object:e,methods:i},r}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let r=0;r<t.length;r++){const i=t[r];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,t){const r=this,i=e[t];if(!i)throw new Error("Method "+t+" undefined");e[t]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];r.queue({args:o,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Jz(()=>{this.flush()},this.delay))}flush(){var e,t;xi(e=P2(t=this._queue).call(t,0)).call(e,r=>{r.fn.apply(r.context||r.fn,r.args||[])})}}class xo{constructor(){Yr(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Yr(this,"subscribe",xo.prototype.on),Yr(this,"unsubscribe",xo.prototype.off)}_trigger(e,t,r){var i;if(e==="*")throw new Error("Cannot trigger event *");xi(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,t,r??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){var r;this._subscribers[e]=un(r=this._subscribers[e]).call(r,i=>i!==t)}}var XO={},JO={},ZO;function p4(){if(ZO)return JO;ZO=1;var n=uF(),e=dF();return n("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),JO}var QO;function g4(){return QO||(QO=1,p4()),XO}var eI={},uh,tI;function Bi(){if(tI)return uh;tI=1;var n=Pn(),e=TypeError;return uh=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(n(t)+" is not a set")},uh}var dh,rI;function ji(){if(rI)return dh;rI=1;var n=kt(),e=cF(),t=n("Set"),r=t.prototype;return dh={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},dh}var ch,iI;function Li(){if(iI)return ch;iI=1;var n=Tt();return ch=function(e,t,r){for(var i=r?e:e.iterator,s=e.next,o,a;!(o=n(s,i)).done;)if(a=t(o.value),a!==void 0)return a},ch}var hh,nI;function zs(){if(nI)return hh;nI=1;var n=Li();return hh=function(e,t,r){return r?n(e.keys(),t,!0):e.forEach(t)},hh}var fh,sI;function Ab(){if(sI)return fh;sI=1;var n=ji(),e=zs(),t=n.Set,r=n.add;return fh=function(i){var s=new t;return e(i,function(o){r(s,o)}),s},fh}var vh,oI;function Ws(){return oI||(oI=1,vh=function(n){return n.size}),vh}var ph,aI;function y4(){return aI||(aI=1,ph=function(n){return{iterator:n,next:n.next,done:!1}}),ph}var gh,lI;function zi(){if(lI)return gh;lI=1;var n=Dr(),e=Mr(),t=Tt(),r=kn(),i=y4(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,u=function(d,c){this.set=d,this.size=l(c,0),this.has=n(d.has),this.keys=n(d.keys)};return u.prototype={getIterator:function(){return i(e(t(this.keys,this.set)))},includes:function(d){return t(this.has,this.set,d)}},gh=function(d){e(d);var c=+d.size;if(c!==c)throw new a(s);var h=r(c);if(h<0)throw new o(s);return new u(d,h)},gh}var yh,uI;function m4(){if(uI)return yh;uI=1;var n=Bi(),e=ji(),t=Ab(),r=Ws(),i=zi(),s=zs(),o=Li(),a=e.has,l=e.remove;return yh=function(d){var c=n(this),h=i(d),f=t(c);return r(c)<=h.size?s(c,function(v){h.includes(v)&&l(f,v)}):o(h.getIterator(),function(v){a(f,v)&&l(f,v)}),f},yh}var mh,dI;function Wi(){return dI||(dI=1,mh=function(){return!1}),mh}var cI;function b4(){if(cI)return eI;cI=1;var n=he(),e=m4(),t=Oe(),r=Wi(),i=!r("difference",function(o){return o.size===0}),s=i||t(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return a.has(1)&&a.clear(),{done:u,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return n({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),eI}var hI={},bh,fI;function _4(){if(fI)return bh;fI=1;var n=Bi(),e=ji(),t=Ws(),r=zi(),i=zs(),s=Li(),o=e.Set,a=e.add,l=e.has;return bh=function(d){var c=n(this),h=r(d),f=new o;return t(c)>h.size?s(h.getIterator(),function(v){l(c,v)&&a(f,v)}):i(c,function(v){h.includes(v)&&a(f,v)}),f},bh}var vI;function w4(){if(vI)return hI;vI=1;var n=he(),e=Oe(),t=_4(),r=Wi(),i=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return n({target:"Set",proto:!0,real:!0,forced:i},{intersection:t}),hI}var pI={},_h,gI;function S4(){if(gI)return _h;gI=1;var n=Bi(),e=ji().has,t=Ws(),r=zi(),i=zs(),s=Li(),o=kb();return _h=function(l){var u=n(this),d=r(l);if(t(u)<=d.size)return i(u,function(h){if(d.includes(h))return!1},!0)!==!1;var c=d.getIterator();return s(c,function(h){if(e(u,h))return o(c,"normal",!1)})!==!1},_h}var yI;function E4(){if(yI)return pI;yI=1;var n=he(),e=S4(),t=Wi(),r=!t("isDisjointFrom",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),pI}var mI={},wh,bI;function $4(){if(bI)return wh;bI=1;var n=Bi(),e=Ws(),t=zs(),r=zi();return wh=function(s){var o=n(this),a=r(s);return e(o)>a.size?!1:t(o,function(l){if(!a.includes(l))return!1},!0)!==!1},wh}var _I;function O4(){if(_I)return mI;_I=1;var n=he(),e=$4(),t=Wi(),r=!t("isSubsetOf",function(i){return i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),mI}var wI={},Sh,SI;function I4(){if(SI)return Sh;SI=1;var n=Bi(),e=ji().has,t=Ws(),r=zi(),i=Li(),s=kb();return Sh=function(a){var l=n(this),u=r(a);if(t(l)<u.size)return!1;var d=u.getIterator();return i(d,function(c){if(!e(l,c))return s(d,"normal",!1)})!==!1},Sh}var EI;function x4(){if(EI)return wI;EI=1;var n=he(),e=I4(),t=Wi(),r=!t("isSupersetOf",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),wI}var $I={},Eh,OI;function T4(){if(OI)return Eh;OI=1;var n=Bi(),e=ji(),t=Ab(),r=zi(),i=Li(),s=e.add,o=e.has,a=e.remove;return Eh=function(u){var d=n(this),c=r(u).getIterator(),h=t(d);return i(c,function(f){o(d,f)?a(h,f):s(h,f)}),h},Eh}var $h,II;function fF(){return II||(II=1,$h=function(n){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[n](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),$h}var xI;function P4(){if(xI)return $I;xI=1;var n=he(),e=T4(),t=fF(),r=Wi(),i=!r("symmetricDifference")||!t("symmetricDifference");return n({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),$I}var TI={},Oh,PI;function R4(){if(PI)return Oh;PI=1;var n=Bi(),e=ji().add,t=Ab(),r=zi(),i=Li();return Oh=function(o){var a=n(this),l=r(o).getIterator(),u=t(a);return i(l,function(d){e(u,d)}),u},Oh}var RI;function C4(){if(RI)return TI;RI=1;var n=he(),e=R4(),t=fF(),r=Wi(),i=!r("union")||!t("union");return n({target:"Set",proto:!0,real:!0,forced:i},{union:e}),TI}var Ih,CI;function q4(){if(CI)return Ih;CI=1,ai(),g4(),b4(),w4(),E4(),O4(),x4(),P4(),C4(),Ko();var n=rt();return Ih=n.Set,Ih}var xh,qI;function k4(){if(qI)return xh;qI=1;var n=q4();return li(),xh=n,xh}var Th,kI;function D4(){return kI||(kI=1,Th=k4()),Th}var M4=D4(),Ph=me(M4),Rh,DI;function A4(){if(DI)return Rh;DI=1,ai(),Ko();var n=aF();return Rh=n,Rh}var Ch,MI;function F4(){if(MI)return Ch;MI=1;var n=A4();return li(),Ch=n,Ch}var qh,AI;function N4(){if(AI)return qh;AI=1;var n=F4();return qh=n,qh}var kh,FI;function B4(){if(FI)return kh;FI=1;var n=N4();return kh=n,kh}var Dh,NI;function j4(){return NI||(NI=1,Dh=B4()),Dh}var Mh,BI;function L4(){return BI||(BI=1,Mh=j4()),Mh}var z4=L4(),Ah=me(z4);class mi{constructor(e){this._pairs=e}*[hn](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Xt(e=[...this._pairs]).call(e,t=>t[0])}toItemArray(){var e;return Xt(e=[...this._pairs]).call(e,t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Dz(null);for(const[t,r]of this._pairs)e[t]=r;return e}toMap(){return new hF(this._pairs)}toIdSet(){return new Ph(this.toIdArray())}toItemSet(){return new Ph(this.toItemArray())}cache(){return new mi([...this._pairs])}distinct(e){const t=new Ph;for(const[r,i]of this._pairs)t.add(e(i,r));return t}filter(e){const t=this._pairs;return new mi({*[hn](){for(const[r,i]of t)e(i,r)&&(yield[r,i])}})}forEach(e){for(const[t,r]of this._pairs)e(r,t)}map(e){const t=this._pairs;return new mi({*[hn](){for(const[r,i]of t)yield[r,e(i,r)]}})}max(e){const t=Ah(this._pairs);let r=t.next();if(r.done)return null;let i=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,l=e(a,o);l>s&&(s=l,i=a)}return i}min(e){const t=Ah(this._pairs);let r=t.next();if(r.done)return null;let i=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,l=e(a,o);l<s&&(s=l,i=a)}return i}reduce(e,t){for(const[r,i]of this._pairs)t=e(t,i,r);return t}sort(e){return new mi({[hn]:()=>{var t;return Ah(Zm(t=[...this._pairs]).call(t,(r,i)=>{let[s,o]=r,[a,l]=i;return e(o,l,s,a)}))}})}}function jI(n,e){var t=Ob(n);if(P$){var r=P$(n);e&&(r=un(r).call(r,function(i){return nF(n,i).enumerable})),t.push.apply(t,r)}return t}function LI(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?xi(t=jI(Object(i),!0)).call(t,function(s){Yr(n,s,i[s])}):j$?d3(n,j$(i)):xi(r=jI(Object(i))).call(r,function(s){f3(n,s,nF(i,s))})}return n}function W4(n,e){return n[e]==null&&(n[e]=v4()),n}class To extends xo{get idProp(){return this._idProp}constructor(e,t){super(),Yr(this,"_queue",null),e&&!nr(e)&&(t=e,e=[]),this._options=t||{},this._data=new hF,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(t)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Mb.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,t){const r=[];let i;if(nr(e)){const s=Xt(e).call(e,o=>o[this._idProp]);if(D3(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)i=this._addItem(e[o]),r.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),r.push(i);else throw new Error("Unknown dataType");return r.length&&this._trigger("add",{items:r},t),r}update(e,t){const r=[],i=[],s=[],o=[],a=this._idProp,l=u=>{const d=u[a];if(d!=null&&this._data.has(d)){const c=u,h=Sz({},this._data.get(d)),f=this._updateItem(c);i.push(f),o.push(c),s.push(h)}else{const c=this._addItem(u);r.push(c)}};if(nr(e))for(let u=0,d=e.length;u<d;u++)e[u]&&typeof e[u]=="object"?l(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(r.length&&this._trigger("add",{items:r},t),i.length){const u={items:i,oldData:s,data:o};this._trigger("update",u,t)}return Tz(r).call(r,i)}updateOnly(e,t){var r;nr(e)||(e=[e]);const i=Xt(r=Xt(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(r,s=>{let{oldData:o,update:a}=s;const l=o[this._idProp],u=L5(o,a);return this._data.set(l,u),{id:l,oldData:o,updatedData:u}});if(i.length){const s={items:Xt(i).call(i,o=>o.id),oldData:Xt(i).call(i,o=>o.oldData),data:Xt(i).call(i,o=>o.updatedData)};return this._trigger("update",s,t),s.items}else return[]}get(e,t){let r,i,s;YO(e)?(r=e,s=t):nr(e)?(i=e,s=t):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&un(s),l=[];let u,d,c;if(r!=null)u=this._data.get(r),u&&a&&!a(u)&&(u=void 0);else if(i!=null)for(let f=0,v=i.length;f<v;f++)u=this._data.get(i[f]),u!=null&&(!a||a(u))&&l.push(u);else{var h;d=[...nn(h=this._data).call(h)];for(let f=0,v=d.length;f<v;f++)c=d[f],u=this._data.get(c),u!=null&&(!a||a(u))&&l.push(u)}if(s&&s.order&&r==null&&this._sort(l,s.order),s&&s.fields){const f=s.fields;if(r!=null&&u!=null)u=this._filterFields(u,f);else for(let v=0,y=l.length;v<y;v++)l[v]=this._filterFields(l[v],f)}if(o=="Object"){const f={};for(let v=0,y=l.length;v<y;v++){const b=l[v],g=b[this._idProp];f[g]=b}return f}else return r!=null?u??null:l}getIds(e){const t=this._data,r=e&&un(e),i=e&&e.order,s=[...nn(t).call(t)],o=[];if(r)if(i){const a=[];for(let l=0,u=s.length;l<u;l++){const d=s[l],c=this._data.get(d);c!=null&&r(c)&&a.push(c)}this._sort(a,i);for(let l=0,u=a.length;l<u;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const u=s[a],d=this._data.get(u);d!=null&&r(d)&&o.push(d[this._idProp])}else if(i){const a=[];for(let l=0,u=s.length;l<u;l++){const d=s[l];a.push(t.get(d))}this._sort(a,i);for(let l=0,u=a.length;l<u;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const u=s[a],d=t.get(u);d!=null&&o.push(d[this._idProp])}return o}getDataSet(){return this}forEach(e,t){const r=t&&un(t),i=this._data,s=[...nn(i).call(i)];if(t&&t.order){const o=this.get(t);for(let a=0,l=o.length;a<l;a++){const u=o[a],d=u[this._idProp];e(u,d)}}else for(let o=0,a=s.length;o<a;o++){const l=s[o],u=this._data.get(l);u!=null&&(!r||r(u))&&e(u,l)}}map(e,t){const r=t&&un(t),i=[],s=this._data,o=[...nn(s).call(s)];for(let a=0,l=o.length;a<l;a++){const u=o[a],d=this._data.get(u);d!=null&&(!r||r(d))&&i.push(e(d,u))}return t&&t.order&&this._sort(i,t.order),i}_filterFields(e,t){var r;return e&&dL(r=nr(t)?t:Ob(t)).call(r,(i,s)=>(i[s]=e[s],i),{})}_sort(e,t){if(typeof t=="string"){const r=t;Zm(e).call(e,(i,s)=>{const o=i[r],a=s[r];return o>a?1:o<a?-1:0})}else if(typeof t=="function")Zm(e).call(e,t);else throw new TypeError("Order must be a function or a string")}remove(e,t){const r=[],i=[],s=nr(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const l=this._remove(s[o]);if(l){const u=l[this._idProp];u!=null&&(r.push(u),i.push(l))}}return r.length&&this._trigger("remove",{items:r,oldData:i},t),r}_remove(e){let t;if(YO(e)?t=e:e&&typeof e=="object"&&(t=e[this._idProp]),t!=null&&this._data.has(t)){const r=this._data.get(t)||null;return this._data.delete(t),--this.length,r}return null}clear(e){var t;const r=[...nn(t=this._data).call(t)],i=[];for(let s=0,o=r.length;s<o;s++)i.push(this._data.get(r[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:r,oldData:i},e),r}max(e){let t=null,r=null;for(const s of zO(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(r==null||o>r)&&(t=s,r=o)}return t||null}min(e){let t=null,r=null;for(const s of zO(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(r==null||o<r)&&(t=s,r=o)}return t||null}distinct(e){const t=this._data,r=[...nn(t).call(t)],i=[];let s=0;for(let o=0,a=r.length;o<a;o++){const l=r[o],d=t.get(l)[e];let c=!1;for(let h=0;h<s;h++)if(i[h]==d){c=!0;break}!c&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const t=W4(e,this._idProp),r=t[this._idProp];if(this._data.has(r))throw new Error("Cannot add item: item with id "+r+" already exists");return this._data.set(r,t),++this.length,r}_updateItem(e){const t=e[this._idProp];if(t==null)throw new Error("Cannot update item: item has no id (item: "+Wz(e)+")");const r=this._data.get(t);if(!r)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,LI(LI({},r),e)),t}stream(e){if(e){const r=this._data;return new mi({*[hn](){for(const i of e){const s=r.get(i);s!=null&&(yield[i,s])}}})}else{var t;return new mi({[hn]:O2(t=l4(this._data)).call(t,this._data)})}}}function H4(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof xi(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Xt(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function vF(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof xi(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Xt(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&H4(n,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var zI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ue(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var WI={},ts,HI;function Ne(){if(HI)return ts;HI=1;var n=function(e){return e&&e.Math===Math&&e};return ts=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof zI=="object"&&zI)||n(typeof ts=="object"&&ts)||(function(){return this})()||Function("return this")(),ts}var Fh,VI;function be(){return VI||(VI=1,Fh=function(n){try{return!!n()}catch{return!0}}),Fh}var Nh,UI;function Hs(){if(UI)return Nh;UI=1;var n=be();return Nh=!n(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Nh}var Bh,GI;function Zo(){if(GI)return Bh;GI=1;var n=Hs(),e=Function.prototype,t=e.apply,r=e.call;return Bh=typeof Reflect=="object"&&Reflect.apply||(n?r.bind(t):function(){return r.apply(t,arguments)}),Bh}var jh,KI;function _e(){if(KI)return jh;KI=1;var n=Hs(),e=Function.prototype,t=e.call,r=n&&e.bind.bind(t,t);return jh=n?r:function(i){return function(){return t.apply(i,arguments)}},jh}var Lh,YI;function hr(){if(YI)return Lh;YI=1;var n=_e(),e=n({}.toString),t=n("".slice);return Lh=function(r){return t(e(r),8,-1)},Lh}var zh,XI;function Fb(){if(XI)return zh;XI=1;var n=hr(),e=_e();return zh=function(t){if(n(t)==="Function")return e(t)},zh}var Wh,JI;function lt(){if(JI)return Wh;JI=1;var n=typeof document=="object"&&document.all;return Wh=typeof n>"u"&&n!==void 0?function(e){return typeof e=="function"||e===n}:function(e){return typeof e=="function"},Wh}var Hh={},Vh,ZI;function Ke(){if(ZI)return Vh;ZI=1;var n=be();return Vh=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Vh}var Uh,QI;function Rt(){if(QI)return Uh;QI=1;var n=Hs(),e=Function.prototype.call;return Uh=n?e.bind(e):function(){return e.apply(e,arguments)},Uh}var Gh={},ex;function Qo(){if(ex)return Gh;ex=1;var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!n.call({1:2},1);return Gh.f=t?function(i){var s=e(this,i);return!!s&&s.enumerable}:n,Gh}var Kh,tx;function Vs(){return tx||(tx=1,Kh=function(n,e){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:e}}),Kh}var Yh,rx;function ea(){if(rx)return Yh;rx=1;var n=_e(),e=be(),t=hr(),r=Object,i=n("".split);return Yh=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?i(s,""):r(s)}:r,Yh}var Xh,ix;function Nn(){return ix||(ix=1,Xh=function(n){return n==null}),Xh}var Jh,nx;function Ar(){if(nx)return Jh;nx=1;var n=Nn(),e=TypeError;return Jh=function(t){if(n(t))throw new e("Can't call method on "+t);return t},Jh}var Zh,sx;function tr(){if(sx)return Zh;sx=1;var n=ea(),e=Ar();return Zh=function(t){return n(e(t))},Zh}var Qh,ox;function ut(){if(ox)return Qh;ox=1;var n=lt();return Qh=function(e){return typeof e=="object"?e!==null:n(e)},Qh}var ef,ax;function Ie(){return ax||(ax=1,ef={}),ef}var tf,lx;function Dt(){if(lx)return tf;lx=1;var n=Ie(),e=Ne(),t=lt(),r=function(i){return t(i)?i:void 0};return tf=function(i,s){return arguments.length<2?r(n[i])||r(e[i]):n[i]&&n[i][s]||e[i]&&e[i][s]},tf}var rf,ux;function et(){if(ux)return rf;ux=1;var n=_e();return rf=n({}.isPrototypeOf),rf}var nf,dx;function Bn(){if(dx)return nf;dx=1;var n=Ne(),e=n.navigator,t=e&&e.userAgent;return nf=t?String(t):"",nf}var sf,cx;function Us(){if(cx)return sf;cx=1;var n=Ne(),e=Bn(),t=n.process,r=n.Deno,i=t&&t.versions||r&&r.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),sf=a,sf}var of,hx;function jn(){if(hx)return of;hx=1;var n=Us(),e=be(),t=Ne(),r=t.String;return of=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!r(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&n&&n<41}),of}var af,fx;function pF(){if(fx)return af;fx=1;var n=jn();return af=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol",af}var lf,vx;function Gs(){if(vx)return lf;vx=1;var n=Dt(),e=lt(),t=et(),r=pF(),i=Object;return lf=r?function(s){return typeof s=="symbol"}:function(s){var o=n("Symbol");return e(o)&&t(o.prototype,i(s))},lf}var uf,px;function Ln(){if(px)return uf;px=1;var n=String;return uf=function(e){try{return n(e)}catch{return"Object"}},uf}var df,gx;function Fr(){if(gx)return df;gx=1;var n=lt(),e=Ln(),t=TypeError;return df=function(r){if(n(r))return r;throw new t(e(r)+" is not a function")},df}var cf,yx;function Nb(){if(yx)return cf;yx=1;var n=Fr(),e=Nn();return cf=function(t,r){var i=t[r];return e(i)?void 0:n(i)},cf}var hf,mx;function V4(){if(mx)return hf;mx=1;var n=Rt(),e=lt(),t=ut(),r=TypeError;return hf=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!t(a=n(o,i))||e(o=i.valueOf)&&!t(a=n(o,i))||s!=="string"&&e(o=i.toString)&&!t(a=n(o,i)))return a;throw new r("Can't convert object to primitive value")},hf}var ff={exports:{}},vf,bx;function zn(){return bx||(bx=1,vf=!0),vf}var pf,_x;function U4(){if(_x)return pf;_x=1;var n=Ne(),e=Object.defineProperty;return pf=function(t,r){try{e(n,t,{value:r,configurable:!0,writable:!0})}catch{n[t]=r}return r},pf}var wx;function Bb(){if(wx)return ff.exports;wx=1;var n=zn(),e=Ne(),t=U4(),r="__core-js_shared__",i=ff.exports=e[r]||t(r,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:n?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),ff.exports}var gf,Sx;function Wn(){if(Sx)return gf;Sx=1;var n=Bb();return gf=function(e,t){return n[e]||(n[e]=t||{})},gf}var yf,Ex;function Mt(){if(Ex)return yf;Ex=1;var n=Ar(),e=Object;return yf=function(t){return e(n(t))},yf}var mf,$x;function ft(){if($x)return mf;$x=1;var n=_e(),e=Mt(),t=n({}.hasOwnProperty);return mf=Object.hasOwn||function(i,s){return t(e(i),s)},mf}var bf,Ox;function ta(){if(Ox)return bf;Ox=1;var n=_e(),e=0,t=Math.random(),r=n(1.1.toString);return bf=function(i){return"Symbol("+(i===void 0?"":i)+")_"+r(++e+t,36)},bf}var _f,Ix;function tt(){if(Ix)return _f;Ix=1;var n=Ne(),e=Wn(),t=ft(),r=ta(),i=jn(),s=pF(),o=n.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||r;return _f=function(u){return t(a,u)||(a[u]=i&&t(o,u)?o[u]:l("Symbol."+u)),a[u]},_f}var wf,xx;function gF(){if(xx)return wf;xx=1;var n=Rt(),e=ut(),t=Gs(),r=Nb(),i=V4(),s=tt(),o=TypeError,a=s("toPrimitive");return wf=function(l,u){if(!e(l)||t(l))return l;var d=r(l,a),c;if(d){if(u===void 0&&(u="default"),c=n(d,l,u),!e(c)||t(c))return c;throw new o("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},wf}var Sf,Tx;function jb(){if(Tx)return Sf;Tx=1;var n=gF(),e=Gs();return Sf=function(t){var r=n(t,"string");return e(r)?r:r+""},Sf}var Ef,Px;function yF(){if(Px)return Ef;Px=1;var n=Ne(),e=ut(),t=n.document,r=e(t)&&e(t.createElement);return Ef=function(i){return r?t.createElement(i):{}},Ef}var $f,Rx;function mF(){if(Rx)return $f;Rx=1;var n=Ke(),e=be(),t=yF();return $f=!n&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),$f}var Cx;function ra(){if(Cx)return Hh;Cx=1;var n=Ke(),e=Rt(),t=Qo(),r=Vs(),i=tr(),s=jb(),o=ft(),a=mF(),l=Object.getOwnPropertyDescriptor;return Hh.f=n?l:function(d,c){if(d=i(d),c=s(c),a)try{return l(d,c)}catch{}if(o(d,c))return r(!e(t.f,d,c),d[c])},Hh}var Of,qx;function G4(){if(qx)return Of;qx=1;var n=be(),e=lt(),t=/#|\.prototype\./,r=function(l,u){var d=s[i(l)];return d===a?!0:d===o?!1:e(u)?n(u):!!u},i=r.normalize=function(l){return String(l).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return Of=r,Of}var If,kx;function ia(){if(kx)return If;kx=1;var n=Fb(),e=Fr(),t=Hs(),r=n(n.bind);return If=function(i,s){return e(i),s===void 0?i:t?r(i,s):function(){return i.apply(s,arguments)}},If}var xf={},Tf,Dx;function bF(){if(Dx)return Tf;Dx=1;var n=Ke(),e=be();return Tf=n&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Tf}var Pf,Mx;function fr(){if(Mx)return Pf;Mx=1;var n=ut(),e=String,t=TypeError;return Pf=function(r){if(n(r))return r;throw new t(e(r)+" is not an object")},Pf}var Ax;function zt(){if(Ax)return xf;Ax=1;var n=Ke(),e=mF(),t=bF(),r=fr(),i=jb(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",d="writable";return xf.f=n?t?function(h,f,v){if(r(h),f=i(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&d in v&&!v[d]){var y=a(h,f);y&&y[d]&&(h[f]=v.value,v={configurable:u in v?v[u]:y[u],enumerable:l in v?v[l]:y[l],writable:!1})}return o(h,f,v)}:o:function(h,f,v){if(r(h),f=i(f),r(v),e)try{return o(h,f,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(h[f]=v.value),h},xf}var Rf,Fx;function Hn(){if(Fx)return Rf;Fx=1;var n=Ke(),e=zt(),t=Vs();return Rf=n?function(r,i,s){return e.f(r,i,t(1,s))}:function(r,i,s){return r[i]=s,r},Rf}var Cf,Nx;function ee(){if(Nx)return Cf;Nx=1;var n=Ne(),e=Zo(),t=Fb(),r=lt(),i=ra().f,s=G4(),o=Ie(),a=ia(),l=Hn(),u=ft(),d=function(c){var h=function(f,v,y){if(this instanceof h){switch(arguments.length){case 0:return new c;case 1:return new c(f);case 2:return new c(f,v)}return new c(f,v,y)}return e(c,this,arguments)};return h.prototype=c.prototype,h};return Cf=function(c,h){var f=c.target,v=c.global,y=c.stat,b=c.proto,g=v?n:y?n[f]:n[f]&&n[f].prototype,p=v?o:o[f]||l(o,f,{})[f],$=p.prototype,m,S,O,x,_,E,T,P,R;for(x in h)m=s(v?x:f+(y?".":"#")+x,c.forced),S=!m&&g&&u(g,x),E=p[x],S&&(c.dontCallGetSet?(R=i(g,x),T=R&&R.value):T=g[x]),_=S&&T?T:h[x],!(!m&&!b&&typeof E==typeof _)&&(c.bind&&S?P=a(_,n):c.wrap&&S?P=d(_):b&&r(_)?P=t(_):P=_,(c.sham||_&&_.sham||E&&E.sham)&&l(P,"sham",!0),l(p,x,P),b&&(O=f+"Prototype",u(o,O)||l(o,O,{}),l(o[O],x,_),c.real&&$&&(m||!$[x])&&l($,x,_)))},Cf}var qf,Bx;function K4(){if(Bx)return qf;Bx=1;var n=Math.ceil,e=Math.floor;return qf=Math.trunc||function(r){var i=+r;return(i>0?e:n)(i)},qf}var kf,jx;function Vn(){if(jx)return kf;jx=1;var n=K4();return kf=function(e){var t=+e;return t!==t||t===0?0:n(t)},kf}var Df,Lx;function na(){if(Lx)return Df;Lx=1;var n=Vn(),e=Math.max,t=Math.min;return Df=function(r,i){var s=n(r);return s<0?e(s+i,0):t(s,i)},Df}var Mf,zx;function _F(){if(zx)return Mf;zx=1;var n=Vn(),e=Math.min;return Mf=function(t){var r=n(t);return r>0?e(r,9007199254740991):0},Mf}var Af,Wx;function Nr(){if(Wx)return Af;Wx=1;var n=_F();return Af=function(e){return n(e.length)},Af}var Ff,Hx;function Lb(){if(Hx)return Ff;Hx=1;var n=tr(),e=na(),t=Nr(),r=function(i){return function(s,o,a){var l=n(s),u=t(l);if(u===0)return!i&&-1;var d=e(a,u),c;if(i&&o!==o){for(;u>d;)if(c=l[d++],c!==c)return!0}else for(;u>d;d++)if((i||d in l)&&l[d]===o)return i||d||0;return!i&&-1}};return Ff={includes:r(!0),indexOf:r(!1)},Ff}var Nf,Vx;function Ks(){return Vx||(Vx=1,Nf={}),Nf}var Bf,Ux;function wF(){if(Ux)return Bf;Ux=1;var n=_e(),e=ft(),t=tr(),r=Lb().indexOf,i=Ks(),s=n([].push);return Bf=function(o,a){var l=t(o),u=0,d=[],c;for(c in l)!e(i,c)&&e(l,c)&&s(d,c);for(;a.length>u;)e(l,c=a[u++])&&(~r(d,c)||s(d,c));return d},Bf}var jf,Gx;function zb(){return Gx||(Gx=1,jf=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),jf}var Lf,Kx;function Ys(){if(Kx)return Lf;Kx=1;var n=wF(),e=zb();return Lf=Object.keys||function(r){return n(r,e)},Lf}var zf={},Yx;function sa(){return Yx||(Yx=1,zf.f=Object.getOwnPropertySymbols),zf}var Wf,Xx;function Y4(){if(Xx)return Wf;Xx=1;var n=Ke(),e=_e(),t=Rt(),r=be(),i=Ys(),s=sa(),o=Qo(),a=Mt(),l=ea(),u=Object.assign,d=Object.defineProperty,c=e([].concat);return Wf=!u||r(function(){if(n&&u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),y="abcdefghijklmnopqrst";return h[v]=7,y.split("").forEach(function(b){f[b]=b}),u({},h)[v]!==7||i(u({},f)).join("")!==y})?function(f,v){for(var y=a(f),b=arguments.length,g=1,p=s.f,$=o.f;b>g;)for(var m=l(arguments[g++]),S=p?c(i(m),p(m)):i(m),O=S.length,x=0,_;O>x;)_=S[x++],(!n||t($,m,_))&&(y[_]=m[_]);return y}:u,Wf}var Jx;function X4(){if(Jx)return WI;Jx=1;var n=ee(),e=Y4();return n({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),WI}var Hf,Zx;function J4(){if(Zx)return Hf;Zx=1,X4();var n=Ie();return Hf=n.Object.assign,Hf}var Vf,Qx;function Z4(){if(Qx)return Vf;Qx=1;var n=J4();return Vf=n,Vf}var Uf,eT;function Q4(){return eT||(eT=1,Uf=Z4()),Uf}var eW=Q4(),Xe=ue(eW),tT={},Gf,rT;function Un(){if(rT)return Gf;rT=1;var n=_e();return Gf=n([].slice),Gf}var Kf,iT;function tW(){if(iT)return Kf;iT=1;var n=_e(),e=Fr(),t=ut(),r=ft(),i=Un(),s=Hs(),o=Function,a=n([].concat),l=n([].join),u={},d=function(c,h,f){if(!r(u,h)){for(var v=[],y=0;y<h;y++)v[y]="a["+y+"]";u[h]=o("C,a","return new C("+l(v,",")+")")}return u[h](c,f)};return Kf=s?o.bind:function(h){var f=e(this),v=f.prototype,y=i(arguments,1),b=function(){var p=a(y,i(arguments));return this instanceof b?d(f,p.length,p):f.apply(h,p)};return t(v)&&(b.prototype=v),b},Kf}var nT;function rW(){if(nT)return tT;nT=1;var n=ee(),e=tW();return n({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),tT}var Yf,sT;function vt(){if(sT)return Yf;sT=1;var n=Ne(),e=Ie();return Yf=function(t,r){var i=e[t+"Prototype"],s=i&&i[r];if(s)return s;var o=n[t],a=o&&o.prototype;return a&&a[r]},Yf}var Xf,oT;function iW(){if(oT)return Xf;oT=1,rW();var n=vt();return Xf=n("Function","bind"),Xf}var Jf,aT;function nW(){if(aT)return Jf;aT=1;var n=et(),e=iW(),t=Function.prototype;return Jf=function(r){var i=r.bind;return r===t||n(t,r)&&i===t.bind?e:i},Jf}var Zf,lT;function sW(){if(lT)return Zf;lT=1;var n=nW();return Zf=n,Zf}var Qf,uT;function oW(){return uT||(uT=1,Qf=sW()),Qf}var aW=oW(),B=ue(aW);function Wb(n,e,t,r){n.beginPath(),n.arc(e,t,r,0,2*Math.PI,!1),n.closePath()}function lW(n,e,t,r){n.beginPath(),n.rect(e-r,t-r,r*2,r*2),n.closePath()}function uW(n,e,t,r){n.beginPath(),r*=1.15,t+=.275*r;const i=r*2,s=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-s*s);n.moveTo(e,t-(a-o)),n.lineTo(e+s,t+o),n.lineTo(e-s,t+o),n.lineTo(e,t-(a-o)),n.closePath()}function dW(n,e,t,r){n.beginPath(),r*=1.15,t-=.275*r;const i=r*2,s=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-s*s);n.moveTo(e,t+(a-o)),n.lineTo(e+s,t-o),n.lineTo(e-s,t-o),n.lineTo(e,t+(a-o)),n.closePath()}function cW(n,e,t,r){n.beginPath(),r*=.82,t+=.1*r;for(let i=0;i<10;i++){const s=i%2===0?r*1.3:r*.5;n.lineTo(e+s*Math.sin(i*2*Math.PI/10),t-s*Math.cos(i*2*Math.PI/10))}n.closePath()}function hW(n,e,t,r){n.beginPath(),n.lineTo(e,t+r),n.lineTo(e+r,t),n.lineTo(e,t-r),n.lineTo(e-r,t),n.closePath()}function SF(n,e,t,r,i,s){const o=Math.PI/180;r-2*s<0&&(s=r/2),i-2*s<0&&(s=i/2),n.beginPath(),n.moveTo(e+s,t),n.lineTo(e+r-s,t),n.arc(e+r-s,t+s,s,o*270,o*360,!1),n.lineTo(e+r,t+i-s),n.arc(e+r-s,t+i-s,s,0,o*90,!1),n.lineTo(e+s,t+i),n.arc(e+s,t+i-s,s,o*90,o*180,!1),n.lineTo(e,t+s),n.arc(e+s,t+s,s,o*180,o*270,!1),n.closePath()}function Qm(n,e,t,r,i){const s=.5522848,o=r/2*s,a=i/2*s,l=e+r,u=t+i,d=e+r/2,c=t+i/2;n.beginPath(),n.moveTo(e,c),n.bezierCurveTo(e,c-a,d-o,t,d,t),n.bezierCurveTo(d+o,t,l,c-a,l,c),n.bezierCurveTo(l,c+a,d+o,u,d,u),n.bezierCurveTo(d-o,u,e,c+a,e,c),n.closePath()}function EF(n,e,t,r,i){const s=.3333333333333333,o=r,a=i*s,l=.5522848,u=o/2*l,d=a/2*l,c=e+o,h=t+a,f=e+o/2,v=t+a/2,y=t+(i-a/2),b=t+i;n.beginPath(),n.moveTo(c,v),n.bezierCurveTo(c,v+d,f+u,h,f,h),n.bezierCurveTo(f-u,h,e,v+d,e,v),n.bezierCurveTo(e,v-d,f-u,t,f,t),n.bezierCurveTo(f+u,t,c,v-d,c,v),n.lineTo(c,y),n.bezierCurveTo(c,y+d,f+u,b,f,b),n.bezierCurveTo(f-u,b,e,y+d,e,y),n.lineTo(e,v)}function $F(n,e,t,r,i,s){n.beginPath(),n.moveTo(e,t);const o=s.length,a=r-e,l=i-t,u=l/a;let d=Math.sqrt(a*a+l*l),c=0,h=!0,f=0,v=+s[0];for(;d>=.1;)v=+s[c++%o],v>d&&(v=d),f=Math.sqrt(v*v/(1+u*u)),f=a<0?-f:f,e+=f,t+=u*f,h===!0?n.lineTo(e,t):n.moveTo(e,t),d-=v,h=!h}function fW(n,e,t,r){n.beginPath();const i=6,s=Math.PI*2/i;n.moveTo(e+r,t);for(let o=1;o<i;o++)n.lineTo(e+r*Math.cos(s*o),t+r*Math.sin(s*o));n.closePath()}const dT={circle:Wb,dashedLine:$F,database:EF,diamond:hW,ellipse:Qm,ellipse_vis:Qm,hexagon:fW,roundRect:SF,square:lW,star:cW,triangle:uW,triangleDown:dW};function vW(n){return Object.prototype.hasOwnProperty.call(dT,n)?dT[n]:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];CanvasRenderingContext2D.prototype[n].call(e,r)}}var ev={exports:{}},cT;function pW(){return cT||(cT=1,(function(n){n.exports=e;function e(r){if(r)return t(r)}function t(r){for(var i in e.prototype)r[i]=e.prototype[i];return r}e.prototype.on=e.prototype.addEventListener=function(r,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(i),this},e.prototype.once=function(r,i){function s(){this.off(r,s),i.apply(this,arguments)}return s.fn=i,this.on(r,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===i||o.fn===i){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+r],this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+r],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,i)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length}})(ev)),ev.exports}var gW=pW(),OF=ue(gW),hT={},tv,fT;function Hi(){if(fT)return tv;fT=1;var n=hr();return tv=Array.isArray||function(t){return n(t)==="Array"},tv}var rv,vT;function IF(){if(vT)return rv;vT=1;var n=TypeError,e=9007199254740991;return rv=function(t){if(t>e)throw n("Maximum allowed index exceeded");return t},rv}var iv,pT;function oa(){if(pT)return iv;pT=1;var n=Ke(),e=zt(),t=Vs();return iv=function(r,i,s){n?e.f(r,i,t(0,s)):r[i]=s},iv}var nv,gT;function Hb(){if(gT)return nv;gT=1;var n=tt(),e=n("toStringTag"),t={};return t[e]="z",nv=String(t)==="[object z]",nv}var sv,yT;function Gn(){if(yT)return sv;yT=1;var n=Hb(),e=lt(),t=hr(),r=tt(),i=r("toStringTag"),s=Object,o=t((function(){return arguments})())==="Arguments",a=function(l,u){try{return l[u]}catch{}};return sv=n?t:function(l){var u,d,c;return l===void 0?"Undefined":l===null?"Null":typeof(d=a(u=s(l),i))=="string"?d:o?t(u):(c=t(u))==="Object"&&e(u.callee)?"Arguments":c},sv}var ov,mT;function yW(){if(mT)return ov;mT=1;var n=_e(),e=lt(),t=Bb(),r=n(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(i){return r(i)}),ov=t.inspectSource,ov}var av,bT;function xF(){if(bT)return av;bT=1;var n=_e(),e=be(),t=lt(),r=Gn(),i=Dt(),s=yW(),o=function(){},a=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=n(l.exec),d=!l.test(o),c=function(v){if(!t(v))return!1;try{return a(o,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!u(l,s(v))}catch{return!0}};return h.sham=!0,av=!a||e(function(){var f;return c(c.call)||!c(Object)||!c(function(){f=!0})||f})?h:c,av}var lv,_T;function mW(){if(_T)return lv;_T=1;var n=Hi(),e=xF(),t=ut(),r=tt(),i=r("species"),s=Array;return lv=function(o){var a;return n(o)&&(a=o.constructor,e(a)&&(a===s||n(a.prototype))?a=void 0:t(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},lv}var uv,wT;function Vb(){if(wT)return uv;wT=1;var n=mW();return uv=function(e,t){return new(n(e))(t===0?0:t)},uv}var dv,ST;function Xs(){if(ST)return dv;ST=1;var n=be(),e=tt(),t=Us(),r=e("species");return dv=function(i){return t>=51||!n(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[i](Boolean).foo!==1})},dv}var ET;function TF(){if(ET)return hT;ET=1;var n=ee(),e=be(),t=Hi(),r=ut(),i=Mt(),s=Nr(),o=IF(),a=oa(),l=Vb(),u=Xs(),d=tt(),c=Us(),h=d("isConcatSpreadable"),f=c>=51||!e(function(){var b=[];return b[h]=!1,b.concat()[0]!==b}),v=function(b){if(!r(b))return!1;var g=b[h];return g!==void 0?!!g:t(b)},y=!f||!u("concat");return n({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var p=i(this),$=l(p,0),m=0,S,O,x,_,E;for(S=-1,x=arguments.length;S<x;S++)if(E=S===-1?p:arguments[S],v(E))for(_=s(E),o(m+_),O=0;O<_;O++,m++)O in E&&a($,m,E[O]);else o(m+1),a($,m++,E);return $.length=m,$}}),hT}var $T={},OT={},cv,IT;function Wt(){if(IT)return cv;IT=1;var n=Gn(),e=String;return cv=function(t){if(n(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},cv}var hv={},xT;function Ub(){if(xT)return hv;xT=1;var n=Ke(),e=bF(),t=zt(),r=fr(),i=tr(),s=Ys();return hv.f=n&&!e?Object.defineProperties:function(a,l){r(a);for(var u=i(l),d=s(l),c=d.length,h=0,f;c>h;)t.f(a,f=d[h++],u[f]);return a},hv}var fv,TT;function bW(){if(TT)return fv;TT=1;var n=Dt();return fv=n("document","documentElement"),fv}var vv,PT;function aa(){if(PT)return vv;PT=1;var n=Wn(),e=ta(),t=n("keys");return vv=function(r){return t[r]||(t[r]=e(r))},vv}var pv,RT;function Js(){if(RT)return pv;RT=1;var n=fr(),e=Ub(),t=zb(),r=Ks(),i=bW(),s=yF(),o=aa(),a=">",l="<",u="prototype",d="script",c=o("IE_PROTO"),h=function(){},f=function(p){return l+d+a+p+l+"/"+d+a},v=function(p){p.write(f("")),p.close();var $=p.parentWindow.Object;return p=null,$},y=function(){var p=s("iframe"),$="java"+d+":",m;return p.style.display="none",i.appendChild(p),p.src=String($),m=p.contentWindow.document,m.open(),m.write(f("document.F=Object")),m.close(),m.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?v(b):y():v(b);for(var p=t.length;p--;)delete g[u][t[p]];return g()};return r[c]=!0,pv=Object.create||function($,m){var S;return $!==null?(h[u]=n($),S=new h,h[u]=null,S[c]=$):S=g(),m===void 0?S:e.f(S,m)},pv}var gv={},CT;function la(){if(CT)return gv;CT=1;var n=wF(),e=zb(),t=e.concat("length","prototype");return gv.f=Object.getOwnPropertyNames||function(i){return n(i,t)},gv}var yv={},qT;function Gb(){if(qT)return yv;qT=1;var n=hr(),e=tr(),t=la().f,r=Un(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(i)}};return yv.f=function(a){return i&&n(a)==="Window"?s(a):t(e(a))},yv}var mv,kT;function Zs(){if(kT)return mv;kT=1;var n=Hn();return mv=function(e,t,r,i){return i&&i.enumerable?e[t]=r:n(e,t,r),e},mv}var bv,DT;function Kb(){if(DT)return bv;DT=1;var n=zt();return bv=function(e,t,r){return n.f(e,t,r)},bv}var _v={},MT;function ua(){if(MT)return _v;MT=1;var n=tt();return _v.f=n,_v}var wv,AT;function Le(){if(AT)return wv;AT=1;var n=Ie(),e=ft(),t=ua(),r=zt().f;return wv=function(i){var s=n.Symbol||(n.Symbol={});e(s,i)||r(s,i,{value:t.f(i)})},wv}var Sv,FT;function PF(){if(FT)return Sv;FT=1;var n=Rt(),e=Dt(),t=tt(),r=Zs();return Sv=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(l){return n(o,this)},{arity:1})},Sv}var Ev,NT;function _W(){if(NT)return Ev;NT=1;var n=Hb(),e=Gn();return Ev=n?{}.toString:function(){return"[object "+e(this)+"]"},Ev}var $v,BT;function Vi(){if(BT)return $v;BT=1;var n=Hb(),e=zt().f,t=Hn(),r=ft(),i=_W(),s=tt(),o=s("toStringTag");return $v=function(a,l,u,d){var c=u?a:a&&a.prototype;c&&(r(c,o)||e(c,o,{configurable:!0,value:l}),d&&!n&&t(c,"toString",i))},$v}var Ov,jT;function RF(){if(jT)return Ov;jT=1;var n=Ne(),e=lt(),t=n.WeakMap;return Ov=e(t)&&/native code/.test(String(t)),Ov}var Iv,LT;function Ui(){if(LT)return Iv;LT=1;var n=RF(),e=Ne(),t=ut(),r=Hn(),i=ft(),s=Bb(),o=aa(),a=Ks(),l="Object already initialized",u=e.TypeError,d=e.WeakMap,c,h,f,v=function(p){return f(p)?h(p):c(p,{})},y=function(p){return function($){var m;if(!t($)||(m=h($)).type!==p)throw new u("Incompatible receiver, "+p+" required");return m}};if(n||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,c=function(p,$){if(b.has(p))throw new u(l);return $.facade=p,b.set(p,$),$},h=function(p){return b.get(p)||{}},f=function(p){return b.has(p)}}else{var g=o("state");a[g]=!0,c=function(p,$){if(i(p,g))throw new u(l);return $.facade=p,r(p,g,$),$},h=function(p){return i(p,g)?p[g]:{}},f=function(p){return i(p,g)}}return Iv={set:c,get:h,has:f,enforce:v,getterFor:y},Iv}var xv,zT;function ui(){if(zT)return xv;zT=1;var n=ia(),e=_e(),t=ea(),r=Mt(),i=Nr(),s=Vb(),o=e([].push),a=function(l){var u=l===1,d=l===2,c=l===3,h=l===4,f=l===6,v=l===7,y=l===5||f;return function(b,g,p,$){for(var m=r(b),S=t(m),O=i(S),x=n(g,p),_=0,E=$||s,T=u?E(b,O):d||v?E(b,0):void 0,P,R;O>_;_++)if((y||_ in S)&&(P=S[_],R=x(P,_,m),l))if(u)T[_]=R;else if(R)switch(l){case 3:return!0;case 5:return P;case 6:return _;case 2:o(T,P)}else switch(l){case 4:return!1;case 7:o(T,P)}return f?-1:c||h?h:T}};return xv={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},xv}var WT;function wW(){if(WT)return OT;WT=1;var n=ee(),e=Ne(),t=Rt(),r=_e(),i=zn(),s=Ke(),o=jn(),a=be(),l=ft(),u=et(),d=fr(),c=tr(),h=jb(),f=Wt(),v=Vs(),y=Js(),b=Ys(),g=la(),p=Gb(),$=sa(),m=ra(),S=zt(),O=Ub(),x=Qo(),_=Zs(),E=Kb(),T=Wn(),P=aa(),R=Ks(),C=ta(),A=tt(),L=ua(),ne=Le(),H=PF(),ae=Vi(),de=Ui(),fe=ui().forEach,G=P("hidden"),pe="Symbol",ce="prototype",we=de.set,Z=de.getterFor(pe),D=Object[ce],K=e.Symbol,xe=K&&K[ce],vr=e.RangeError,en=e.TypeError,pr=e.QObject,gr=m.f,ke=S.f,hi=p.f,tn=x.f,ge=r([].push),De=T("symbols"),Ct=T("op-symbols"),Br=T("wks"),Vt=!pr||!pr[ce]||!pr[ce].findChild,fi=function(re,W,V){var U=gr(D,W);U&&delete D[W],ke(re,W,V),U&&re!==D&&ke(D,W,U)},yr=s&&a(function(){return y(ke({},"a",{get:function(){return ke(this,"a",{value:7}).a}})).a!==7})?fi:ke,mr=function(re,W){var V=De[re]=y(xe);return we(V,{type:pe,tag:re,description:W}),s||(V.description=W),V},Ut=function(W,V,U){W===D&&Ut(Ct,V,U),d(W);var ie=h(V);return d(U),l(De,ie)?(U.enumerable?(l(W,G)&&W[G][ie]&&(W[G][ie]=!1),U=y(U,{enumerable:v(0,!1)})):(l(W,G)||ke(W,G,v(1,y(null))),W[G][ie]=!0),yr(W,ie,U)):ke(W,ie,U)},br=function(W,V){d(W);var U=c(V),ie=b(U).concat(vi(U));return fe(ie,function(Se){(!s||t(rr,U,Se))&&Ut(W,Se,U[Se])}),W},rn=function(W,V){return V===void 0?y(W):br(y(W),V)},rr=function(W){var V=h(W),U=t(tn,this,V);return this===D&&l(De,V)&&!l(Ct,V)?!1:U||!l(this,V)||!l(De,V)||l(this,G)&&this[G][V]?U:!0},_r=function(W,V){var U=c(W),ie=h(V);if(!(U===D&&l(De,ie)&&!l(Ct,ie))){var Se=gr(U,ie);return Se&&l(De,ie)&&!(l(U,G)&&U[G][ie])&&(Se.enumerable=!0),Se}},wr=function(W){var V=hi(c(W)),U=[];return fe(V,function(ie){!l(De,ie)&&!l(R,ie)&&ge(U,ie)}),U},vi=function(re){var W=re===D,V=hi(W?Ct:c(re)),U=[];return fe(V,function(ie){l(De,ie)&&(!W||l(D,ie))&&ge(U,De[ie])}),U};return o||(K=function(){if(u(xe,this))throw new en("Symbol is not a constructor");var W=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),V=C(W),U=function(ie){var Se=this===void 0?e:this;Se===D&&t(U,Ct,ie),l(Se,G)&&l(Se[G],V)&&(Se[G][V]=!1);var jr=v(1,ie);try{yr(Se,V,jr)}catch(Lr){if(!(Lr instanceof vr))throw Lr;fi(Se,V,jr)}};return s&&Vt&&yr(D,V,{configurable:!0,set:U}),mr(V,W)},xe=K[ce],_(xe,"toString",function(){return Z(this).tag}),_(K,"withoutSetter",function(re){return mr(C(re),re)}),x.f=rr,S.f=Ut,O.f=br,m.f=_r,g.f=p.f=wr,$.f=vi,L.f=function(re){return mr(A(re),re)},s&&(E(xe,"description",{configurable:!0,get:function(){return Z(this).description}}),i||_(D,"propertyIsEnumerable",rr,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:K}),fe(b(Br),function(re){ne(re)}),n({target:pe,stat:!0,forced:!o},{useSetter:function(){Vt=!0},useSimple:function(){Vt=!1}}),n({target:"Object",stat:!0,forced:!o,sham:!s},{create:rn,defineProperty:Ut,defineProperties:br,getOwnPropertyDescriptor:_r}),n({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:wr}),H(),ae(K,pe),R[G]=!0,OT}var HT={},Tv,VT;function CF(){if(VT)return Tv;VT=1;var n=jn();return Tv=n&&!!Symbol.for&&!!Symbol.keyFor,Tv}var UT;function SW(){if(UT)return HT;UT=1;var n=ee(),e=Dt(),t=ft(),r=Wt(),i=Wn(),s=CF(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=r(l);if(t(o,u))return o[u];var d=e("Symbol")(u);return o[u]=d,a[d]=u,d}}),HT}var GT={},KT;function EW(){if(KT)return GT;KT=1;var n=ee(),e=ft(),t=Gs(),r=Ln(),i=Wn(),s=CF(),o=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!t(l))throw new TypeError(r(l)+" is not a symbol");if(e(o,l))return o[l]}}),GT}var YT={},Pv,XT;function $W(){if(XT)return Pv;XT=1;var n=_e(),e=Hi(),t=lt(),r=hr(),i=Wt(),s=n([].push);return Pv=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,l=[],u=0;u<a;u++){var d=o[u];typeof d=="string"?s(l,d):(typeof d=="number"||r(d)==="Number"||r(d)==="String")&&s(l,i(d))}var c=l.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var y=0;y<c;y++)if(l[y]===f)return v}}},Pv}var JT;function qF(){if(JT)return YT;JT=1;var n=ee(),e=Dt(),t=Zo(),r=Rt(),i=_e(),s=be(),o=lt(),a=Gs(),l=Un(),u=$W(),d=jn(),c=String,h=e("JSON","stringify"),f=i(/./.exec),v=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),p=/[\uD800-\uDFFF]/g,$=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,S=!d||s(function(){var E=e("Symbol")("stringify detection");return h([E])!=="[null]"||h({a:E})!=="{}"||h(Object(E))!=="{}"}),O=s(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),x=function(E,T){var P=l(arguments),R=u(T);if(!(!o(R)&&(E===void 0||a(E))))return P[1]=function(C,A){if(o(R)&&(A=r(R,this,c(C),A)),!a(A))return A},t(h,null,P)},_=function(E,T,P){var R=v(P,T-1),C=v(P,T+1);return f($,E)&&!f(m,C)||f(m,E)&&!f($,R)?"\\u"+g(y(E,0),16):E};return h&&n({target:"JSON",stat:!0,arity:3,forced:S||O},{stringify:function(T,P,R){var C=l(arguments),A=t(S?x:h,null,C);return O&&typeof A=="string"?b(A,p,_):A}}),YT}var ZT={},QT;function OW(){if(QT)return ZT;QT=1;var n=ee(),e=jn(),t=be(),r=sa(),i=Mt(),s=!e||t(function(){r.f(1)});return n({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=r.f;return l?l(i(a)):[]}}),ZT}var eP;function kF(){return eP||(eP=1,wW(),SW(),EW(),qF(),OW()),$T}var tP={},rP;function DF(){if(rP)return tP;rP=1;var n=Le();return n("asyncDispose"),tP}var iP={},nP;function IW(){if(nP)return iP;nP=1;var n=Le();return n("asyncIterator"),iP}var sP={},oP;function MF(){if(oP)return sP;oP=1;var n=Le();return n("dispose"),sP}var aP={},lP;function xW(){if(lP)return aP;lP=1;var n=Le();return n("hasInstance"),aP}var uP={},dP;function TW(){if(dP)return uP;dP=1;var n=Le();return n("isConcatSpreadable"),uP}var cP={},hP;function AF(){if(hP)return cP;hP=1;var n=Le();return n("iterator"),cP}var fP={},vP;function PW(){if(vP)return fP;vP=1;var n=Le();return n("match"),fP}var pP={},gP;function RW(){if(gP)return pP;gP=1;var n=Le();return n("matchAll"),pP}var yP={},mP;function CW(){if(mP)return yP;mP=1;var n=Le();return n("replace"),yP}var bP={},_P;function qW(){if(_P)return bP;_P=1;var n=Le();return n("search"),bP}var wP={},SP;function kW(){if(SP)return wP;SP=1;var n=Le();return n("species"),wP}var EP={},$P;function DW(){if($P)return EP;$P=1;var n=Le();return n("split"),EP}var OP={},IP;function FF(){if(IP)return OP;IP=1;var n=Le(),e=PF();return n("toPrimitive"),e(),OP}var xP={},TP;function MW(){if(TP)return xP;TP=1;var n=Dt(),e=Le(),t=Vi();return e("toStringTag"),t(n("Symbol"),"Symbol"),xP}var PP={},RP;function AW(){if(RP)return PP;RP=1;var n=Le();return n("unscopables"),PP}var CP={},qP;function FW(){if(qP)return CP;qP=1;var n=Ne(),e=Vi();return e(n.JSON,"JSON",!0),CP}var Rv,kP;function NW(){if(kP)return Rv;kP=1,TF(),kF(),DF(),IW(),MF(),xW(),TW(),AF(),PW(),RW(),CW(),qW(),kW(),DW(),FF(),MW(),AW(),FW();var n=Ie();return Rv=n.Symbol,Rv}var DP={},Cv,MP;function Yb(){return MP||(MP=1,Cv=function(){}),Cv}var qv,AP;function Kn(){return AP||(AP=1,qv={}),qv}var kv,FP;function BW(){if(FP)return kv;FP=1;var n=Ke(),e=ft(),t=Function.prototype,r=n&&Object.getOwnPropertyDescriptor,i=e(t,"name"),s=i&&(function(){}).name==="something",o=i&&(!n||n&&r(t,"name").configurable);return kv={EXISTS:i,PROPER:s,CONFIGURABLE:o},kv}var Dv,NP;function NF(){if(NP)return Dv;NP=1;var n=be();return Dv=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Dv}var Mv,BP;function da(){if(BP)return Mv;BP=1;var n=ft(),e=lt(),t=Mt(),r=aa(),i=NF(),s=r("IE_PROTO"),o=Object,a=o.prototype;return Mv=i?o.getPrototypeOf:function(l){var u=t(l);if(n(u,s))return u[s];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof o?a:null},Mv}var Av,jP;function BF(){if(jP)return Av;jP=1;var n=be(),e=lt(),t=ut(),r=Js(),i=da(),s=Zs(),o=tt(),a=zn(),l=o("iterator"),u=!1,d,c,h;[].keys&&(h=[].keys(),"next"in h?(c=i(i(h)),c!==Object.prototype&&(d=c)):u=!0);var f=!t(d)||n(function(){var v={};return d[l].call(v)!==v});return f?d={}:a&&(d=r(d)),e(d[l])||s(d,l,function(){return this}),Av={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},Av}var Fv,LP;function jW(){if(LP)return Fv;LP=1;var n=BF().IteratorPrototype,e=Js(),t=Vs(),r=Vi(),i=Kn(),s=function(){return this};return Fv=function(o,a,l,u){var d=a+" Iterator";return o.prototype=e(n,{next:t(+!u,l)}),r(o,d,!1,!0),i[d]=s,o},Fv}var Nv,zP;function LW(){if(zP)return Nv;zP=1;var n=_e(),e=Fr();return Nv=function(t,r,i){try{return n(e(Object.getOwnPropertyDescriptor(t,r)[i]))}catch{}},Nv}var Bv,WP;function zW(){if(WP)return Bv;WP=1;var n=ut();return Bv=function(e){return n(e)||e===null},Bv}var jv,HP;function WW(){if(HP)return jv;HP=1;var n=zW(),e=String,t=TypeError;return jv=function(r){if(n(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},jv}var Lv,VP;function HW(){if(VP)return Lv;VP=1;var n=LW(),e=ut(),t=Ar(),r=WW();return Lv=Object.setPrototypeOf||("__proto__"in{}?(function(){var i=!1,s={},o;try{o=n(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(l,u){return t(l),r(u),e(l)&&(i?o(l,u):l.__proto__=u),l}})():void 0),Lv}var zv,UP;function Xb(){if(UP)return zv;UP=1;var n=ee(),e=Rt(),t=zn(),r=BW(),i=lt(),s=jW(),o=da(),a=HW(),l=Vi(),u=Hn(),d=Zs(),c=tt(),h=Kn(),f=BF(),v=r.PROPER,y=r.CONFIGURABLE,b=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,p=c("iterator"),$="keys",m="values",S="entries",O=function(){return this};return zv=function(x,_,E,T,P,R,C){s(E,_,T);var A=function(we){if(we===P&&de)return de;if(!g&&we&&we in H)return H[we];switch(we){case $:return function(){return new E(this,we)};case m:return function(){return new E(this,we)};case S:return function(){return new E(this,we)}}return function(){return new E(this)}},L=_+" Iterator",ne=!1,H=x.prototype,ae=H[p]||H["@@iterator"]||P&&H[P],de=!g&&ae||A(P),fe=_==="Array"&&H.entries||ae,G,pe,ce;if(fe&&(G=o(fe.call(new x)),G!==Object.prototype&&G.next&&(!t&&o(G)!==b&&(a?a(G,b):i(G[p])||d(G,p,O)),l(G,L,!0,!0),t&&(h[L]=O))),v&&P===m&&ae&&ae.name!==m&&(!t&&y?u(H,"name",m):(ne=!0,de=function(){return e(ae,this)})),P)if(pe={values:A(m),keys:R?de:A($),entries:A(S)},C)for(ce in pe)(g||ne||!(ce in H))&&d(H,ce,pe[ce]);else n({target:_,proto:!0,forced:g||ne},pe);return(!t||C)&&H[p]!==de&&d(H,p,de,{name:P}),h[_]=de,pe},zv}var Wv,GP;function Jb(){return GP||(GP=1,Wv=function(n,e){return{value:n,done:e}}),Wv}var Hv,KP;function Yn(){if(KP)return Hv;KP=1;var n=tr(),e=Yb(),t=Kn(),r=Ui(),i=zt().f,s=Xb(),o=Jb(),a=zn(),l=Ke(),u="Array Iterator",d=r.set,c=r.getterFor(u);Hv=s(Array,"Array",function(f,v){d(this,{type:u,target:n(f),index:0,kind:v})},function(){var f=c(this),v=f.target,y=f.index++;if(!v||y>=v.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(y,!1);case"values":return o(v[y],!1)}return o([y,v[y]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&h.name!=="values")try{i(h,"name",{value:"values"})}catch{}return Hv}var Vv,YP;function VW(){return YP||(YP=1,Vv={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Vv}var XP;function Xn(){if(XP)return DP;XP=1,Yn();var n=VW(),e=Ne(),t=Vi(),r=Kn();for(var i in n)t(e[i],i),r[i]=r.Array;return DP}var Uv,JP;function jF(){if(JP)return Uv;JP=1;var n=NW();return Xn(),Uv=n,Uv}var Gv,ZP;function UW(){return ZP||(ZP=1,Gv=jF()),Gv}var GW=UW(),KW=ue(GW),QP={},eR;function YW(){if(eR)return QP;eR=1;var n=ee(),e=Hi(),t=xF(),r=ut(),i=na(),s=Nr(),o=tr(),a=oa(),l=tt(),u=Xs(),d=Un(),c=u("slice"),h=l("species"),f=Array,v=Math.max;return n({target:"Array",proto:!0,forced:!c},{slice:function(b,g){var p=o(this),$=s(p),m=i(b,$),S=i(g===void 0?$:g,$),O,x,_;if(e(p)&&(O=p.constructor,t(O)&&(O===f||e(O.prototype))?O=void 0:r(O)&&(O=O[h],O===null&&(O=void 0)),O===f||O===void 0))return d(p,m,S);for(x=new(O===void 0?f:O)(v(S-m,0)),_=0;m<S;m++,_++)m in p&&a(x,_,p[m]);return x.length=_,x}}),QP}var Kv,tR;function XW(){if(tR)return Kv;tR=1,YW();var n=vt();return Kv=n("Array","slice"),Kv}var Yv,rR;function JW(){if(rR)return Yv;rR=1;var n=et(),e=XW(),t=Array.prototype;return Yv=function(r){var i=r.slice;return r===t||n(t,r)&&i===t.slice?e:i},Yv}var Xv,iR;function ZW(){if(iR)return Xv;iR=1;var n=JW();return Xv=n,Xv}var Jv,nR;function QW(){return nR||(nR=1,Jv=ZW()),Jv}var eH=QW(),sr=ue(eH),Zv,sR;function tH(){if(sR)return Zv;sR=1;var n=Dt(),e=_e(),t=la(),r=sa(),i=fr(),s=e([].concat);return Zv=n("Reflect","ownKeys")||function(a){var l=t.f(i(a)),u=r.f;return u?s(l,u(a)):l},Zv}var oR={},aR;function rH(){if(aR)return oR;aR=1;var n=ee(),e=Hi();return n({target:"Array",stat:!0},{isArray:e}),oR}var Qv,lR;function iH(){if(lR)return Qv;lR=1,rH();var n=Ie();return Qv=n.Array.isArray,Qv}var ep,uR;function nH(){if(uR)return ep;uR=1;var n=iH();return ep=n,ep}var tp,dR;function sH(){return dR||(dR=1,tp=nH()),tp}var oH=sH(),Ue=ue(oH),cR={},hR;function aH(){if(hR)return cR;hR=1;var n=ee(),e=ui().map,t=Xs(),r=t("map");return n({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),cR}var rp,fR;function lH(){if(fR)return rp;fR=1,aH();var n=vt();return rp=n("Array","map"),rp}var ip,vR;function uH(){if(vR)return ip;vR=1;var n=et(),e=lH(),t=Array.prototype;return ip=function(r){var i=r.map;return r===t||n(t,r)&&i===t.map?e:i},ip}var np,pR;function dH(){if(pR)return np;pR=1;var n=uH();return np=n,np}var sp,gR;function cH(){return gR||(gR=1,sp=dH()),sp}var hH=cH(),Sn=ue(hH),yR={},mR;function fH(){if(mR)return yR;mR=1;var n=ee(),e=Mt(),t=Ys(),r=be(),i=r(function(){t(1)});return n({target:"Object",stat:!0,forced:i},{keys:function(o){return t(e(o))}}),yR}var op,bR;function vH(){if(bR)return op;bR=1,fH();var n=Ie();return op=n.Object.keys,op}var ap,_R;function pH(){if(_R)return ap;_R=1;var n=vH();return ap=n,ap}var lp,wR;function gH(){return wR||(wR=1,lp=pH()),lp}var yH=gH(),Ve=ue(yH),SR={},ER;function mH(){if(ER)return SR;ER=1;var n=ee(),e=_e(),t=Date,r=e(t.prototype.getTime);return n({target:"Date",stat:!0},{now:function(){return r(new t)}}),SR}var up,$R;function bH(){if($R)return up;$R=1,mH();var n=Ie();return up=n.Date.now,up}var dp,OR;function _H(){if(OR)return dp;OR=1;var n=bH();return dp=n,dp}var cp,IR;function wH(){return IR||(IR=1,cp=_H()),cp}var SH=wH(),Po=ue(SH),xR={},hp,TR;function Jn(){if(TR)return hp;TR=1;var n=be();return hp=function(e,t){var r=[][e];return!!r&&n(function(){r.call(null,t||function(){return 1},1)})},hp}var fp,PR;function EH(){if(PR)return fp;PR=1;var n=ui().forEach,e=Jn(),t=e("forEach");return fp=t?[].forEach:function(i){return n(this,i,arguments.length>1?arguments[1]:void 0)},fp}var RR;function $H(){if(RR)return xR;RR=1;var n=ee(),e=EH();return n({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),xR}var vp,CR;function OH(){if(CR)return vp;CR=1,$H();var n=vt();return vp=n("Array","forEach"),vp}var pp,qR;function IH(){if(qR)return pp;qR=1;var n=OH();return pp=n,pp}var gp,kR;function xH(){if(kR)return gp;kR=1;var n=Gn(),e=ft(),t=et(),r=IH(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return gp=function(o){var a=o.forEach;return o===i||t(i,o)&&a===i.forEach||e(s,n(o))?r:a},gp}var yp,DR;function TH(){return DR||(DR=1,yp=xH()),yp}var PH=TH(),Te=ue(PH),MR={},AR;function RH(){if(AR)return MR;AR=1;var n=ee(),e=_e(),t=Hi(),r=e([].reverse),i=[1,2];return n({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),MR}var mp,FR;function CH(){if(FR)return mp;FR=1,RH();var n=vt();return mp=n("Array","reverse"),mp}var bp,NR;function qH(){if(NR)return bp;NR=1;var n=et(),e=CH(),t=Array.prototype;return bp=function(r){var i=r.reverse;return r===t||n(t,r)&&i===t.reverse?e:i},bp}var _p,BR;function kH(){if(BR)return _p;BR=1;var n=qH();return _p=n,_p}var wp,jR;function DH(){return jR||(jR=1,wp=kH()),wp}var MH=DH(),Ei=ue(MH),LR={},Sp,zR;function AH(){if(zR)return Sp;zR=1;var n=Ke(),e=Hi(),t=TypeError,r=Object.getOwnPropertyDescriptor,i=n&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}})();return Sp=i?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Sp}var Ep,WR;function LF(){if(WR)return Ep;WR=1;var n=Ln(),e=TypeError;return Ep=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+n(r)+" of "+n(t))},Ep}var HR;function FH(){if(HR)return LR;HR=1;var n=ee(),e=Mt(),t=na(),r=Vn(),i=Nr(),s=AH(),o=IF(),a=Vb(),l=oa(),u=LF(),d=Xs(),c=d("splice"),h=Math.max,f=Math.min;return n({target:"Array",proto:!0,forced:!c},{splice:function(y,b){var g=e(this),p=i(g),$=t(y,p),m=arguments.length,S,O,x,_,E,T;for(m===0?S=O=0:m===1?(S=0,O=p-$):(S=m-2,O=f(h(r(b),0),p-$)),o(p+S-O),x=a(g,O),_=0;_<O;_++)E=$+_,E in g&&l(x,_,g[E]);if(x.length=O,S<O){for(_=$;_<p-O;_++)E=_+O,T=_+S,E in g?g[T]=g[E]:u(g,T);for(_=p;_>p-O+S;_--)u(g,_-1)}else if(S>O)for(_=p-O;_>$;_--)E=_+O-1,T=_+S-1,E in g?g[T]=g[E]:u(g,T);for(_=0;_<S;_++)g[_+$]=arguments[_+2];return s(g,p-O+S),x}}),LR}var $p,VR;function NH(){if(VR)return $p;VR=1,FH();var n=vt();return $p=n("Array","splice"),$p}var Op,UR;function BH(){if(UR)return Op;UR=1;var n=et(),e=NH(),t=Array.prototype;return Op=function(r){var i=r.splice;return r===t||n(t,r)&&i===t.splice?e:i},Op}var Ip,GR;function jH(){if(GR)return Ip;GR=1;var n=BH();return Ip=n,Ip}var xp,KR;function LH(){return KR||(KR=1,xp=jH()),xp}var zH=LH(),Tr=ue(zH),YR={},XR;function WH(){if(XR)return YR;XR=1;var n=ee(),e=Lb().includes,t=be(),r=Yb(),i=t(function(){return!Array(1).includes()});return n({target:"Array",proto:!0,forced:i},{includes:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),r("includes"),YR}var Tp,JR;function HH(){if(JR)return Tp;JR=1,WH();var n=vt();return Tp=n("Array","includes"),Tp}var ZR={},Pp,QR;function VH(){if(QR)return Pp;QR=1;var n=ut(),e=hr(),t=tt(),r=t("match");return Pp=function(i){var s;return n(i)&&((s=i[r])!==void 0?!!s:e(i)==="RegExp")},Pp}var Rp,eC;function UH(){if(eC)return Rp;eC=1;var n=VH(),e=TypeError;return Rp=function(t){if(n(t))throw new e("The method doesn't accept regular expressions");return t},Rp}var Cp,tC;function GH(){if(tC)return Cp;tC=1;var n=tt(),e=n("match");return Cp=function(t){var r=/./;try{"/./"[t](r)}catch{try{return r[e]=!1,"/./"[t](r)}catch{}}return!1},Cp}var rC;function KH(){if(rC)return ZR;rC=1;var n=ee(),e=_e(),t=UH(),r=Ar(),i=Wt(),s=GH(),o=e("".indexOf);return n({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~o(i(r(this)),i(t(l)),arguments.length>1?arguments[1]:void 0)}}),ZR}var qp,iC;function YH(){if(iC)return qp;iC=1,KH();var n=vt();return qp=n("String","includes"),qp}var kp,nC;function XH(){if(nC)return kp;nC=1;var n=et(),e=HH(),t=YH(),r=Array.prototype,i=String.prototype;return kp=function(s){var o=s.includes;return s===r||n(r,s)&&o===r.includes?e:typeof s=="string"||s===i||n(i,s)&&o===i.includes?t:o},kp}var Dp,sC;function JH(){if(sC)return Dp;sC=1;var n=XH();return Dp=n,Dp}var Mp,oC;function ZH(){return oC||(oC=1,Mp=JH()),Mp}var QH=ZH(),Jr=ue(QH),aC={},lC;function eV(){if(lC)return aC;lC=1;var n=ee(),e=be(),t=Mt(),r=da(),i=NF(),s=e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(a){return r(t(a))}}),aC}var Ap,uC;function tV(){if(uC)return Ap;uC=1,eV();var n=Ie();return Ap=n.Object.getPrototypeOf,Ap}var Fp,dC;function rV(){if(dC)return Fp;dC=1;var n=tV();return Fp=n,Fp}var Np,cC;function iV(){return cC||(cC=1,Np=rV()),Np}var nV=iV(),hC=ue(nV),Bp,fC;function sV(){if(fC)return Bp;fC=1,TF();var n=vt();return Bp=n("Array","concat"),Bp}var jp,vC;function oV(){if(vC)return jp;vC=1;var n=et(),e=sV(),t=Array.prototype;return jp=function(r){var i=r.concat;return r===t||n(t,r)&&i===t.concat?e:i},jp}var Lp,pC;function aV(){if(pC)return Lp;pC=1;var n=oV();return Lp=n,Lp}var zp,gC;function lV(){return gC||(gC=1,zp=aV()),zp}var uV=lV(),dV=ue(uV),yC={},mC;function cV(){if(mC)return yC;mC=1;var n=ee(),e=ui().filter,t=Xs(),r=t("filter");return n({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),yC}var Wp,bC;function hV(){if(bC)return Wp;bC=1,cV();var n=vt();return Wp=n("Array","filter"),Wp}var Hp,_C;function fV(){if(_C)return Hp;_C=1;var n=et(),e=hV(),t=Array.prototype;return Hp=function(r){var i=r.filter;return r===t||n(t,r)&&i===t.filter?e:i},Hp}var Vp,wC;function vV(){if(wC)return Vp;wC=1;var n=fV();return Vp=n,Vp}var Up,SC;function pV(){return SC||(SC=1,Up=vV()),Up}var gV=pV(),Ot=ue(gV),EC={},Gp,$C;function yV(){if($C)return Gp;$C=1;var n=Ke(),e=be(),t=_e(),r=da(),i=Ys(),s=tr(),o=Qo().f,a=t(o),l=t([].push),u=n&&e(function(){var c=Object.create(null);return c[2]=2,!a(c,2)}),d=function(c){return function(h){for(var f=s(h),v=i(f),y=u&&r(f)===null,b=v.length,g=0,p=[],$;b>g;)$=v[g++],(!n||(y?$ in f:a(f,$)))&&l(p,c?[$,f[$]]:f[$]);return p}};return Gp={entries:d(!0),values:d(!1)},Gp}var OC;function mV(){if(OC)return EC;OC=1;var n=ee(),e=yV().values;return n({target:"Object",stat:!0},{values:function(r){return e(r)}}),EC}var Kp,IC;function bV(){if(IC)return Kp;IC=1,mV();var n=Ie();return Kp=n.Object.values,Kp}var Yp,xC;function _V(){if(xC)return Yp;xC=1;var n=bV();return Yp=n,Yp}var Xp,TC;function wV(){return TC||(TC=1,Xp=_V()),Xp}var SV=wV(),EV=ue(SV),PC={},Jp,RC;function Zb(){return RC||(RC=1,Jp=`	
\v\f\r Â áââââââââââââ¯âã\u2028\u2029\uFEFF`),Jp}var Zp,CC;function zF(){if(CC)return Zp;CC=1;var n=_e(),e=Ar(),t=Wt(),r=Zb(),i=n("".replace),s=RegExp("^["+r+"]+"),o=RegExp("(^|[^"+r+"])["+r+"]+$"),a=function(l){return function(u){var d=t(e(u));return l&1&&(d=i(d,s,"")),l&2&&(d=i(d,o,"$1")),d}};return Zp={start:a(1),end:a(2),trim:a(3)},Zp}var Qp,qC;function $V(){if(qC)return Qp;qC=1;var n=Ne(),e=be(),t=_e(),r=Wt(),i=zF().trim,s=Zb(),o=n.parseInt,a=n.Symbol,l=a&&a.iterator,u=/^[+-]?0x/i,d=t(u.exec),c=o(s+"08")!==8||o(s+"0x16")!==22||l&&!e(function(){o(Object(l))});return Qp=c?function(f,v){var y=i(r(f));return o(y,v>>>0||(d(u,y)?16:10))}:o,Qp}var kC;function OV(){if(kC)return PC;kC=1;var n=ee(),e=$V();return n({global:!0,forced:parseInt!==e},{parseInt:e}),PC}var eg,DC;function IV(){if(DC)return eg;DC=1,OV();var n=Ie();return eg=n.parseInt,eg}var tg,MC;function xV(){if(MC)return tg;MC=1;var n=IV();return tg=n,tg}var rg,AC;function TV(){return AC||(AC=1,rg=xV()),rg}var PV=TV(),Jt=ue(PV),FC={},NC;function RV(){if(NC)return FC;NC=1;var n=ee(),e=Fb(),t=Lb().indexOf,r=Jn(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,o=s||!r("indexOf");return n({target:"Array",proto:!0,forced:o},{indexOf:function(l){var u=arguments.length>1?arguments[1]:void 0;return s?i(this,l,u)||0:t(this,l,u)}}),FC}var ig,BC;function CV(){if(BC)return ig;BC=1,RV();var n=vt();return ig=n("Array","indexOf"),ig}var ng,jC;function qV(){if(jC)return ng;jC=1;var n=et(),e=CV(),t=Array.prototype;return ng=function(r){var i=r.indexOf;return r===t||n(t,r)&&i===t.indexOf?e:i},ng}var sg,LC;function kV(){if(LC)return sg;LC=1;var n=qV();return sg=n,sg}var og,zC;function DV(){return zC||(zC=1,og=kV()),og}var MV=DV(),$e=ue(MV),WC={},HC;function AV(){if(HC)return WC;HC=1;var n=ee(),e=Ke(),t=Js();return n({target:"Object",stat:!0,sham:!e},{create:t}),WC}var ag,VC;function FV(){if(VC)return ag;VC=1,AV();var n=Ie(),e=n.Object;return ag=function(r,i){return e.create(r,i)},ag}var lg,UC;function NV(){if(UC)return lg;UC=1;var n=FV();return lg=n,lg}var ug,GC;function BV(){return GC||(GC=1,ug=NV()),ug}var jV=BV(),$i=ue(jV),KC={},dg,YC;function LV(){if(YC)return dg;YC=1;var n=Vn(),e=Wt(),t=Ar(),r=RangeError;return dg=function(s){var o=e(t(this)),a="",l=n(s);if(l<0||l===1/0)throw new r("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},dg}var cg,XC;function zV(){if(XC)return cg;XC=1;var n=_e(),e=_F(),t=Wt(),r=LV(),i=Ar(),s=n(r),o=n("".slice),a=Math.ceil,l=function(u){return function(d,c,h){var f=t(i(d)),v=e(c),y=f.length,b=h===void 0?" ":t(h),g,p;return v<=y||b===""?f:(g=v-y,p=s(b,a(g/b.length)),p.length>g&&(p=o(p,0,g)),u?f+p:p+f)}};return cg={start:l(!1),end:l(!0)},cg}var hg,JC;function WV(){if(JC)return hg;JC=1;var n=_e(),e=be(),t=zV().start,r=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=n(o.getTime),u=n(o.getUTCDate),d=n(o.getUTCFullYear),c=n(o.getUTCHours),h=n(o.getUTCMilliseconds),f=n(o.getUTCMinutes),v=n(o.getUTCMonth),y=n(o.getUTCSeconds);return hg=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(l(this)))throw new r("Invalid time value");var g=this,p=d(g),$=h(g),m=p<0?"-":p>9999?"+":"";return m+t(s(p),m?6:4,0)+"-"+t(v(g)+1,2,0)+"-"+t(u(g),2,0)+"T"+t(c(g),2,0)+":"+t(f(g),2,0)+":"+t(y(g),2,0)+"."+t($,3,0)+"Z"}:a,hg}var ZC;function HV(){if(ZC)return KC;ZC=1;var n=ee(),e=Rt(),t=Mt(),r=gF(),i=WV(),s=hr(),o=be(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return n({target:"Date",proto:!0,forced:a},{toJSON:function(u){var d=t(this),c=r(d,"number");return typeof c=="number"&&!isFinite(c)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),KC}var fg,QC;function VV(){if(QC)return fg;QC=1,HV(),qF();var n=Ie(),e=Zo();return n.JSON||(n.JSON={stringify:JSON.stringify}),fg=function(r,i,s){return e(n.JSON.stringify,null,arguments)},fg}var vg,eq;function UV(){if(eq)return vg;eq=1;var n=VV();return vg=n,vg}var pg,tq;function GV(){return tq||(tq=1,pg=UV()),pg}var KV=GV(),Qs=ue(KV),rq={},iq={},gg,nq;function WF(){if(nq)return gg;nq=1;var n=Ne(),e=Bn(),t=hr(),r=function(i){return e.slice(0,i.length)===i};return gg=(function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":n.Bun&&typeof Bun.version=="string"?"BUN":n.Deno&&typeof Deno.version=="object"?"DENO":t(n.process)==="process"?"NODE":n.window&&n.document?"BROWSER":"REST"})(),gg}var yg,sq;function YV(){if(sq)return yg;sq=1;var n=TypeError;return yg=function(e,t){if(e<t)throw new n("Not enough arguments");return e},yg}var mg,oq;function HF(){if(oq)return mg;oq=1;var n=Ne(),e=Zo(),t=lt(),r=WF(),i=Bn(),s=Un(),o=YV(),a=n.Function,l=/MSIE .\./.test(i)||r==="BUN"&&(function(){var u=n.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")})();return mg=function(u,d){var c=d?2:1;return l?function(h,f){var v=o(arguments.length,1)>c,y=t(h)?h:a(h),b=v?s(arguments,c):[],g=v?function(){e(y,this,b)}:y;return d?u(g,f):u(g)}:u},mg}var aq;function XV(){if(aq)return iq;aq=1;var n=ee(),e=Ne(),t=HF(),r=t(e.setInterval,!0);return n({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),iq}var lq={},uq;function JV(){if(uq)return lq;uq=1;var n=ee(),e=Ne(),t=HF(),r=t(e.setTimeout,!0);return n({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),lq}var dq;function VF(){return dq||(dq=1,XV(),JV()),rq}var bg,cq;function ZV(){if(cq)return bg;cq=1,VF();var n=Ie();return bg=n.setTimeout,bg}var _g,hq;function QV(){return hq||(hq=1,_g=ZV()),_g}var eU=QV(),Pr=ue(eU),fq={},wg,vq;function tU(){if(vq)return wg;vq=1;var n=Mt(),e=na(),t=Nr();return wg=function(i){for(var s=n(this),o=t(s),a=arguments.length,l=e(a>1?arguments[1]:void 0,o),u=a>2?arguments[2]:void 0,d=u===void 0?o:e(u,o);d>l;)s[l++]=i;return s},wg}var pq;function rU(){if(pq)return fq;pq=1;var n=ee(),e=tU(),t=Yb();return n({target:"Array",proto:!0},{fill:e}),t("fill"),fq}var Sg,gq;function iU(){if(gq)return Sg;gq=1,rU();var n=vt();return Sg=n("Array","fill"),Sg}var Eg,yq;function nU(){if(yq)return Eg;yq=1;var n=et(),e=iU(),t=Array.prototype;return Eg=function(r){var i=r.fill;return r===t||n(t,r)&&i===t.fill?e:i},Eg}var $g,mq;function sU(){if(mq)return $g;mq=1;var n=nU();return $g=n,$g}var Og,bq;function oU(){return bq||(bq=1,Og=sU()),Og}var aU=oU(),eo=ue(aU);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Qt(){return Qt=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qt.apply(this,arguments)}function Ht(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function po(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var eb;typeof Object.assign!="function"?eb=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t}:eb=Object.assign;var Ci=eb,_q=["","webkit","Moz","MS","ms","o"],lU=typeof document>"u"?{style:{}}:document.createElement("div"),uU="function",fn=Math.round,qi=Math.abs,Qb=Date.now;function ca(n,e){for(var t,r,i=e[0].toUpperCase()+e.slice(1),s=0;s<_q.length;){if(t=_q[s],r=t?t+i:e,r in n)return r;s++}}var Rr;typeof window>"u"?Rr={}:Rr=window;var UF=ca(lU.style,"touchAction"),GF=UF!==void 0;function dU(){if(!GF)return!1;var n={},e=Rr.CSS&&Rr.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return n[t]=e?Rr.CSS.supports("touch-action",t):!0}),n}var KF="compute",YF="auto",tb="manipulation",Oi="none",ws="pan-x",Ss="pan-y",go=dU(),cU=/mobile|tablet|ip(ad|hone|od)|android/i,XF="ontouchstart"in Rr,hU=ca(Rr,"PointerEvent")!==void 0,fU=XF&&cU.test(navigator.userAgent),to="touch",vU="pen",e1="mouse",pU="kinect",gU=25,wt=1,Gi=2,Je=4,xt=8,Ro=1,ro=2,io=4,no=8,En=16,dr=ro|io,Ii=no|En,JF=dr|Ii,ZF=["x","y"],Co=["clientX","clientY"];function Cr(n,e,t){var r;if(n)if(n.forEach)n.forEach(e,t);else if(n.length!==void 0)for(r=0;r<n.length;)e.call(t,n[r],r,n),r++;else for(r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r,n)}function ha(n,e){return typeof n===uU?n.apply(e&&e[0]||void 0,e):n}function bi(n,e){return n.indexOf(e)>-1}function yU(n){if(bi(n,Oi))return Oi;var e=bi(n,ws),t=bi(n,Ss);return e&&t?Oi:e||t?e?ws:Ss:bi(n,tb)?tb:YF}var QF=(function(){function n(t,r){this.manager=t,this.set(r)}var e=n.prototype;return e.set=function(r){r===KF&&(r=this.compute()),GF&&this.manager.element.style&&go[r]&&(this.manager.element.style[UF]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return Cr(this.manager.recognizers,function(i){ha(i.options.enable,[i])&&(r=r.concat(i.getTouchAction()))}),yU(r.join(" "))},e.preventDefaults=function(r){var i=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=bi(o,Oi)&&!go[Oi],l=bi(o,Ss)&&!go[Ss],u=bi(o,ws)&&!go[ws];if(a){var d=r.pointers.length===1,c=r.distance<2,h=r.deltaTime<250;if(d&&c&&h)return}if(!(u&&l)&&(a||l&&s&dr||u&&s&Ii))return this.preventSrc(i)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},n})();function t1(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function eN(n){var e=n.length;if(e===1)return{x:fn(n[0].clientX),y:fn(n[0].clientY)};for(var t=0,r=0,i=0;i<e;)t+=n[i].clientX,r+=n[i].clientY,i++;return{x:fn(t/e),y:fn(r/e)}}function wq(n){for(var e=[],t=0;t<n.pointers.length;)e[t]={clientX:fn(n.pointers[t].clientX),clientY:fn(n.pointers[t].clientY)},t++;return{timeStamp:Qb(),pointers:e,center:eN(e),deltaX:n.deltaX,deltaY:n.deltaY}}function qo(n,e,t){t||(t=ZF);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.sqrt(r*r+i*i)}function rb(n,e,t){t||(t=ZF);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.atan2(i,r)*180/Math.PI}function tN(n,e){return n===e?Ro:qi(n)>=qi(e)?n<0?ro:io:e<0?no:En}function mU(n,e){var t=e.center,r=n.offsetDelta||{},i=n.prevDelta||{},s=n.prevInput||{};(e.eventType===wt||s.eventType===Je)&&(i=n.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=n.offsetDelta={x:t.x,y:t.y}),e.deltaX=i.x+(t.x-r.x),e.deltaY=i.y+(t.y-r.y)}function rN(n,e,t){return{x:e/n||0,y:t/n||0}}function bU(n,e){return qo(e[0],e[1],Co)/qo(n[0],n[1],Co)}function _U(n,e){return rb(e[1],e[0],Co)+rb(n[1],n[0],Co)}function wU(n,e){var t=n.lastInterval||e,r=e.timeStamp-t.timeStamp,i,s,o,a;if(e.eventType!==xt&&(r>gU||t.velocity===void 0)){var l=e.deltaX-t.deltaX,u=e.deltaY-t.deltaY,d=rN(r,l,u);s=d.x,o=d.y,i=qi(d.x)>qi(d.y)?d.x:d.y,a=tN(l,u),n.lastInterval=e}else i=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function SU(n,e){var t=n.session,r=e.pointers,i=r.length;t.firstInput||(t.firstInput=wq(e)),i>1&&!t.firstMultiple?t.firstMultiple=wq(e):i===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,l=e.center=eN(r);e.timeStamp=Qb(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=rb(a,l),e.distance=qo(a,l),mU(t,e),e.offsetDirection=tN(e.deltaX,e.deltaY);var u=rN(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=qi(u.x)>qi(u.y)?u.x:u.y,e.scale=o?bU(o.pointers,r):1,e.rotation=o?_U(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,wU(t,e);var d=n.element,c=e.srcEvent,h;c.composedPath?h=c.composedPath()[0]:c.path?h=c.path[0]:h=c.target,t1(h,d)&&(d=h),e.target=d}function EU(n,e,t){var r=t.pointers.length,i=t.changedPointers.length,s=e&wt&&r-i===0,o=e&(Je|xt)&&r-i===0;t.isFirst=!!s,t.isFinal=!!o,s&&(n.session={}),t.eventType=e,SU(n,t),n.emit("hammer.input",t),n.recognize(t),n.session.prevInput=t}function Es(n){return n.trim().split(/\s+/g)}function ds(n,e,t){Cr(Es(e),function(r){n.addEventListener(r,t,!1)})}function cs(n,e,t){Cr(Es(e),function(r){n.removeEventListener(r,t,!1)})}function Sq(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var Zn=(function(){function n(t,r){var i=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){ha(t.options.enable,[t])&&i.handler(s)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&ds(this.element,this.evEl,this.domHandler),this.evTarget&&ds(this.target,this.evTarget,this.domHandler),this.evWin&&ds(Sq(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&cs(this.element,this.evEl,this.domHandler),this.evTarget&&cs(this.target,this.evTarget,this.domHandler),this.evWin&&cs(Sq(this.element),this.evWin,this.domHandler)},n})();function ki(n,e,t){if(n.indexOf&&!t)return n.indexOf(e);for(var r=0;r<n.length;){if(t&&n[r][t]==e||!t&&n[r]===e)return r;r++}return-1}var $U={pointerdown:wt,pointermove:Gi,pointerup:Je,pointercancel:xt,pointerout:xt},OU={2:to,3:vU,4:e1,5:pU},iN="pointerdown",nN="pointermove pointerup pointercancel";Rr.MSPointerEvent&&!Rr.PointerEvent&&(iN="MSPointerDown",nN="MSPointerMove MSPointerUp MSPointerCancel");var sN=(function(n){Ht(e,n);function e(){var r,i=e.prototype;return i.evEl=iN,i.evWin=nN,r=n.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),l=$U[a],u=OU[i.pointerType]||i.pointerType,d=u===to,c=ki(s,i.pointerId,"pointerId");l&wt&&(i.button===0||d)?c<0&&(s.push(i),c=s.length-1):l&(Je|xt)&&(o=!0),!(c<0)&&(s[c]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),o&&s.splice(c,1))},e})(Zn);function $s(n){return Array.prototype.slice.call(n,0)}function r1(n,e,t){for(var r=[],i=[],s=0;s<n.length;){var o=e?n[s][e]:n[s];ki(i,o)<0&&r.push(n[s]),i[s]=o,s++}return t&&(e?r=r.sort(function(a,l){return a[e]>l[e]}):r=r.sort()),r}var IU={touchstart:wt,touchmove:Gi,touchend:Je,touchcancel:xt},xU="touchstart touchmove touchend touchcancel",i1=(function(n){Ht(e,n);function e(){var r;return e.prototype.evTarget=xU,r=n.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(i){var s=IU[i.type],o=TU.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:to,srcEvent:i})},e})(Zn);function TU(n,e){var t=$s(n.touches),r=this.targetIds;if(e&(wt|Gi)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var i,s,o=$s(n.changedTouches),a=[],l=this.target;if(s=t.filter(function(u){return t1(u.target,l)}),e===wt)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&a.push(o[i]),e&(Je|xt)&&delete r[o[i].identifier],i++;if(a.length)return[r1(s.concat(a),"identifier",!0),a]}var PU={mousedown:wt,mousemove:Gi,mouseup:Je},RU="mousedown",CU="mousemove mouseup",n1=(function(n){Ht(e,n);function e(){var r,i=e.prototype;return i.evEl=RU,i.evWin=CU,r=n.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(i){var s=PU[i.type];s&wt&&i.button===0&&(this.pressed=!0),s&Gi&&i.which!==1&&(s=Je),this.pressed&&(s&Je&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:e1,srcEvent:i}))},e})(Zn),qU=2500,Eq=25;function $q(n){var e=n.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},i=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=i.indexOf(r);a>-1&&i.splice(a,1)};setTimeout(s,qU)}}function kU(n,e){n&wt?(this.primaryTouch=e.changedPointers[0].identifier,$q.call(this,e)):n&(Je|xt)&&$q.call(this,e)}function DU(n){for(var e=n.srcEvent.clientX,t=n.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(e-i.x),o=Math.abs(t-i.y);if(s<=Eq&&o<=Eq)return!0}return!1}var oN=(function(){var n=(function(e){Ht(t,e);function t(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,l,u){var d=u.pointerType===to,c=u.pointerType===e1;if(!(c&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(d)kU.call(po(po(o)),l,u);else if(c&&DU.call(po(po(o)),u))return;o.callback(a,l,u)}},o.touch=new i1(o.manager,o.handler),o.mouse=new n1(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t})(Zn);return n})();function MU(n){var e,t=n.options.inputClass;return t?e=t:hU?e=sN:fU?e=i1:XF?e=oN:e=n1,new e(n,EU)}function vn(n,e,t){return Array.isArray(n)?(Cr(n,t[e],t),!0):!1}var _o=1,Bt=2,$n=4,Zr=8,qr=Zr,Os=16,ar=32,AU=1;function FU(){return AU++}function yo(n,e){var t=e.manager;return t?t.get(n):n}function Oq(n){return n&Os?"cancel":n&Zr?"end":n&$n?"move":n&Bt?"start":""}var so=(function(){function n(t){t===void 0&&(t={}),this.options=Qt({enable:!0},t),this.id=FU(),this.manager=null,this.state=_o,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(r){return Ci(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(vn(r,"recognizeWith",this))return this;var i=this.simultaneous;return r=yo(r,this),i[r.id]||(i[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return vn(r,"dropRecognizeWith",this)?this:(r=yo(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(vn(r,"requireFailure",this))return this;var i=this.requireFail;return r=yo(r,this),ki(i,r)===-1&&(i.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(vn(r,"dropRequireFailure",this))return this;r=yo(r,this);var i=ki(this.requireFail,r);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var i=this,s=this.state;function o(a){i.manager.emit(a,r)}s<Zr&&o(i.options.event+Oq(s)),o(i.options.event),r.additionalEvent&&o(r.additionalEvent),s>=Zr&&o(i.options.event+Oq(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=ar},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(ar|_o)))return!1;r++}return!0},e.recognize=function(r){var i=Ci({},r);if(!ha(this.options.enable,[this,i])){this.reset(),this.state=ar;return}this.state&(qr|Os|ar)&&(this.state=_o),this.state=this.process(i),this.state&(Bt|$n|Zr|Os)&&this.tryEmit(i)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},n})(),ib=(function(n){Ht(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Qt({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var t=e.prototype;return t.getTouchAction=function(){return[tb]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime<o.time;if(this.reset(),i.eventType&wt&&this.count===0)return this.failTimeout();if(l&&u&&a){if(i.eventType!==Je)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<o.interval:!0,c=!this.pCenter||qo(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!c||!d?this.count=1:this.count+=1,this._input=i;var h=this.count%o.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=qr,s.tryEmit()},o.interval),Bt):qr}return ar},t.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=ar},this.options.interval),ar},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===qr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e})(so),On=(function(n){Ht(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Qt({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},t.process=function(i){var s=this.state,o=i.eventType,a=s&(Bt|$n),l=this.attrTest(i);return a&&(o&xt||!l)?s|Os:a||l?o&Je?s|Zr:s&Bt?s|$n:Bt:ar},e})(so);function aN(n){return n===En?"down":n===no?"up":n===ro?"left":n===io?"right":""}var s1=(function(n){Ht(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Qt({event:"pan",threshold:10,pointers:1,direction:JF},r))||this,i.pX=null,i.pY=null,i}var t=e.prototype;return t.getTouchAction=function(){var i=this.options.direction,s=[];return i&dr&&s.push(Ss),i&Ii&&s.push(ws),s},t.directionTest=function(i){var s=this.options,o=!0,a=i.distance,l=i.direction,u=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&dr?(l=u===0?Ro:u<0?ro:io,o=u!==this.pX,a=Math.abs(i.deltaX)):(l=d===0?Ro:d<0?no:En,o=d!==this.pY,a=Math.abs(i.deltaY))),i.direction=l,o&&a>s.threshold&&l&s.direction},t.attrTest=function(i){return On.prototype.attrTest.call(this,i)&&(this.state&Bt||!(this.state&Bt)&&this.directionTest(i))},t.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=aN(i.direction);s&&(i.additionalEvent=this.options.event+s),n.prototype.emit.call(this,i)},e})(On),lN=(function(n){Ht(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Qt({event:"swipe",threshold:10,velocity:.3,direction:dr|Ii,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return s1.prototype.getTouchAction.call(this)},t.attrTest=function(i){var s=this.options.direction,o;return s&(dr|Ii)?o=i.overallVelocity:s&dr?o=i.overallVelocityX:s&Ii&&(o=i.overallVelocityY),n.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&qi(o)>this.options.velocity&&i.eventType&Je},t.emit=function(i){var s=aN(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e})(On),uN=(function(n){Ht(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Qt({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Oi]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Bt)},t.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}n.prototype.emit.call(this,i)},e})(On),dN=(function(n){Ht(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Qt({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Oi]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Bt)},e})(On),cN=(function(n){Ht(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Qt({event:"press",pointers:1,time:251,threshold:9},r))||this,i._timer=null,i._input=null,i}var t=e.prototype;return t.getTouchAction=function(){return[YF]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime>o.time;if(this._input=i,!l||!a||i.eventType&(Je|xt)&&!u)this.reset();else if(i.eventType&wt)this.reset(),this._timer=setTimeout(function(){s.state=qr,s.tryEmit()},o.time);else if(i.eventType&Je)return qr;return ar},t.reset=function(){clearTimeout(this._timer)},t.emit=function(i){this.state===qr&&(i&&i.eventType&Je?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=Qb(),this.manager.emit(this.options.event,this._input)))},e})(so),hN={domEvents:!1,touchAction:KF,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Iq=[[dN,{enable:!1}],[uN,{enable:!1},["rotate"]],[lN,{direction:dr}],[s1,{direction:dr},["swipe"]],[ib],[ib,{event:"doubletap",taps:2},["tap"]],[cN]],NU=1,xq=2;function Tq(n,e){var t=n.element;if(t.style){var r;Cr(n.options.cssProps,function(i,s){r=ca(t.style,s),e?(n.oldCssProps[r]=t.style[r],t.style[r]=i):t.style[r]=n.oldCssProps[r]||""}),e||(n.oldCssProps={})}}function BU(n,e){var t=document.createEvent("Event");t.initEvent(n,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var Pq=(function(){function n(t,r){var i=this;this.options=Ci({},hN,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=MU(this),this.touchAction=new QF(this,this.options.touchAction),Tq(this,!0),Cr(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=n.prototype;return e.set=function(r){return Ci(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?xq:NU},e.recognize=function(r){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&qr)&&(i.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],i.stopped!==xq&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(Bt|$n|Zr)&&(i.curRecognizer=s,a=s),l++}},e.get=function(r){if(r instanceof so)return r;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===r)return i[s];return null},e.add=function(r){if(vn(r,"add",this))return this;var i=this.get(r.options.event);return i&&this.remove(i),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(vn(r,"remove",this))return this;var i=this.get(r);if(r){var s=this.recognizers,o=ki(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,i){if(r===void 0||i===void 0)return this;var s=this.handlers;return Cr(Es(r),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(r,i){if(r===void 0)return this;var s=this.handlers;return Cr(Es(r),function(o){i?s[o]&&s[o].splice(ki(s[o],i),1):delete s[o]}),this},e.emit=function(r,i){this.options.domEvents&&BU(r,i);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){i.type=r,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&Tq(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n})(),jU={touchstart:wt,touchmove:Gi,touchend:Je,touchcancel:xt},LU="touchstart",zU="touchstart touchmove touchend touchcancel",WU=(function(n){Ht(e,n);function e(){var r,i=e.prototype;return i.evTarget=LU,i.evWin=zU,r=n.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(i){var s=jU[i.type];if(s===wt&&(this.started=!0),!!this.started){var o=HU.call(this,i,s);s&(Je|xt)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:to,srcEvent:i})}},e})(Zn);function HU(n,e){var t=$s(n.touches),r=$s(n.changedTouches);return e&(Je|xt)&&(t=r1(t.concat(r),"identifier",!0)),[t,r]}function fN(n,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),n.apply(this,arguments)}}var vN=fN(function(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;)(!t||t&&n[r[i]]===void 0)&&(n[r[i]]=e[r[i]]),i++;return n},"extend","Use `assign`."),VU=fN(function(n,e){return vN(n,e,!0)},"merge","Use `assign`.");function UU(n,e,t){var r=e.prototype,i;i=n.prototype=Object.create(r),i.constructor=n,i._super=r,t&&Ci(i,t)}function Rq(n,e){return function(){return n.apply(e,arguments)}}var pN=(function(){var n=function(t,r){return r===void 0&&(r={}),new Pq(t,Qt({recognizers:Iq.concat()},r))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=JF,n.DIRECTION_DOWN=En,n.DIRECTION_LEFT=ro,n.DIRECTION_RIGHT=io,n.DIRECTION_UP=no,n.DIRECTION_HORIZONTAL=dr,n.DIRECTION_VERTICAL=Ii,n.DIRECTION_NONE=Ro,n.DIRECTION_DOWN=En,n.INPUT_START=wt,n.INPUT_MOVE=Gi,n.INPUT_END=Je,n.INPUT_CANCEL=xt,n.STATE_POSSIBLE=_o,n.STATE_BEGAN=Bt,n.STATE_CHANGED=$n,n.STATE_ENDED=Zr,n.STATE_RECOGNIZED=qr,n.STATE_CANCELLED=Os,n.STATE_FAILED=ar,n.Manager=Pq,n.Input=Zn,n.TouchAction=QF,n.TouchInput=i1,n.MouseInput=n1,n.PointerEventInput=sN,n.TouchMouseInput=oN,n.SingleTouchInput=WU,n.Recognizer=so,n.AttrRecognizer=On,n.Tap=ib,n.Pan=s1,n.Swipe=lN,n.Pinch=uN,n.Rotate=dN,n.Press=cN,n.on=ds,n.off=cs,n.each=Cr,n.merge=VU,n.extend=vN,n.bindFn=Rq,n.assign=Ci,n.inherit=UU,n.bindFn=Rq,n.prefixed=ca,n.toArray=$s,n.inArray=ki,n.uniqueArray=r1,n.splitStr=Es,n.boolOrFn=ha,n.hasParent=t1,n.addEventListeners=ds,n.removeEventListeners=cs,n.defaults=Ci({},hN,{preset:Iq}),n})();pN.defaults;KW("DELETE");function fa(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return GU(e.length?e:[Po()])}function GU(n){let[e,t,r]=KU(n),i=1;const s=()=>{const o=2091639*e+i*23283064365386963e-26;return e=t,t=r,r=o-(i=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=n,s.version="0.9",s}function KU(){const n=YU();let e=n(" "),t=n(" "),r=n(" ");for(let i=0;i<arguments.length;i++)e-=n(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),t-=n(i<0||arguments.length<=i?void 0:arguments[i]),t<0&&(t+=1),r-=n(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1);return[e,t,r]}function YU(){let n=4022871197;return function(e){const t=e.toString();for(let r=0;r<t.length;r++){n+=t.charCodeAt(r);let i=.02519603282416938*n;n=i>>>0,i-=n,i*=n,n=i>>>0,i-=n,n+=i*4294967296}return(n>>>0)*23283064365386963e-26}}function XU(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}const o1=typeof window<"u"?window.Hammer||pN:function(){return XU()};function lr(n){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=o1(this._dom.overlay);t.on("tap",B(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{t.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Te(r).call(r,i=>{t.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{JU(i.target,n)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}OF(lr.prototype);lr.current=null;lr.prototype.destroy=function(){this.deactivate();for(const t of Ei(n=Tr(e=this._cleanupQueue).call(e,0)).call(n)){var n,e;t()}};lr.prototype.activate=function(){lr.current&&lr.current.deactivate(),lr.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};lr.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};lr.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};function JU(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const ZU=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,QU=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,eG=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,tG=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Vr(n){if(n)for(;n.hasChildNodes()===!0;){const e=n.firstChild;e&&(Vr(e),n.removeChild(e))}}function pn(n){return n instanceof String||typeof n=="string"}function Cq(n){return typeof n=="object"&&n!==null}function Di(n,e,t,r){let i=!1;r===!0&&(i=e[t]===null&&n[t]!==void 0),i?delete n[t]:n[t]=e[t]}function gN(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const r in n)if(e[r]!==void 0)if(e[r]===null||typeof e[r]!="object")Di(n,e,r,t);else{const i=n[r],s=e[r];Cq(i)&&Cq(s)&&gN(i,s,t)}}function Qn(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ue(t))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<n.length;i++){const s=n[i];if(Object.prototype.hasOwnProperty.call(t,s))if(t[s]&&t[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?Ce(e[s],t[s],!1,r):Di(e,t,s,r);else{if(Ue(t[s]))throw new TypeError("Arrays are not supported by deepExtend");Di(e,t,s,r)}}return e}function ko(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ue(t))throw new TypeError("Arrays are not supported by deepExtend");for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&!Jr(n).call(n,i))if(t[i]&&t[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?Ce(e[i],t[i]):Di(e,t,i,r);else if(Ue(t[i])){e[i]=[];for(let s=0;s<t[i].length;s++)e[i].push(t[i][s])}else Di(e,t,i,r);return e}function Ce(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||t===!0)if(typeof e[s]=="object"&&e[s]!==null&&hC(e[s])===Object.prototype)n[s]===void 0?n[s]=Ce({},e[s],t):typeof n[s]=="object"&&n[s]!==null&&hC(n[s])===Object.prototype?Ce(n[s],e[s],t):Di(n,e,s,r);else if(Ue(e[s])){var i;n[s]=sr(i=e[s]).call(i)}else Di(n,e,s,r);return n}function Do(n,e){return[...n,e]}function rG(n){return sr(n).call(n)}function iG(n){return n.getBoundingClientRect().left}function nG(n){return n.getBoundingClientRect().top}function ye(n,e){if(Ue(n)){const t=n.length;for(let r=0;r<t;r++)e(n[r],r,n)}else for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(n[t],t,n)}function a1(n){let e;switch(n.length){case 3:case 4:return e=QU.exec(n),e?{r:Jt(e[1]+e[1],16),g:Jt(e[2]+e[2],16),b:Jt(e[3]+e[3],16)}:null;case 6:case 7:return e=ZU.exec(n),e?{r:Jt(e[1],16),g:Jt(e[2],16),b:Jt(e[3],16)}:null;default:return null}}function Ft(n,e){if(Jr(n).call(n,"rgba"))return n;if(Jr(n).call(n,"rgb")){const t=n.substr($e(n).call(n,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{const t=a1(n);return t==null?n:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function yN(n,e,t){var r;return"#"+sr(r=((1<<24)+(n<<16)+(e<<8)+t).toString(16)).call(r,1)}function nb(n,e){if(pn(n)){let r=n;if(bN(r)){var t;const i=Sn(t=r.substr(4).substr(0,r.length-5).split(",")).call(t,function(s){return Jt(s)});r=yN(i[0],i[1],i[2])}if(mN(r)===!0){const i=sG(r),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},o={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},a=sb(o.h,o.s,o.v),l=sb(s.h,s.s,s.v);return{background:r,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else return{background:r,border:r,highlight:{background:r,border:r},hover:{background:r,border:r}}}else return{background:n.background||void 0,border:n.border||void 0,highlight:pn(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||void 0,border:n.highlight&&n.highlight.border||void 0},hover:pn(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||void 0,background:n.hover&&n.hover.background||void 0}}}function ns(n,e,t){n=n/255,e=e/255,t=t/255;const r=Math.min(n,Math.min(e,t)),i=Math.max(n,Math.max(e,t));if(r===i)return{h:0,s:0,v:r};const s=n===r?e-t:t===r?n-e:t-n,a=60*((n===r?3:t===r?1:5)-s/(i-r))/360,l=(i-r)/i;return{h:a,s:l,v:i}}function wo(n,e,t){let r,i,s;const o=Math.floor(n*6),a=n*6-o,l=t*(1-e),u=t*(1-a*e),d=t*(1-(1-a)*e);switch(o%6){case 0:r=t,i=d,s=l;break;case 1:r=u,i=t,s=l;break;case 2:r=l,i=t,s=d;break;case 3:r=l,i=u,s=t;break;case 4:r=d,i=l,s=t;break;case 5:r=t,i=l,s=u;break}return{r:Math.floor(r*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function sb(n,e,t){const r=wo(n,e,t);return yN(r.r,r.g,r.b)}function sG(n){const e=a1(n);if(!e)throw new TypeError("'".concat(n,"' is not a valid color."));return ns(e.r,e.g,e.b)}function mN(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}function bN(n){return eG.test(n)}function oG(n){return tG.test(n)}function Qr(n){if(n===null||typeof n!="object")return null;if(n instanceof Element)return n;const e=$i(n);for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&typeof n[t]=="object"&&(e[t]=Qr(n[t]));return e}function At(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(f){return f!=null},s=function(f){return f!==null&&typeof f=="object"},o=function(f){for(const v in f)if(Object.prototype.hasOwnProperty.call(f,v))return!1;return!0};if(!s(n))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(t))throw new Error("Parameter option must have a value");if(!s(r))throw new Error("Parameter globalOptions must be an object");const a=function(f,v,y){s(f[y])||(f[y]={});const b=v[y],g=f[y];for(const p in b)Object.prototype.hasOwnProperty.call(b,p)&&(g[p]=b[p])},l=e[t],d=s(r)&&!o(r)?r[t]:void 0,c=d?d.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(n[t])||(n[t]={}),n[t].enabled=l;return}if(l===null&&!s(n[t]))if(i(d))n[t]=$i(d);else return;if(!s(l))return;let h=!0;l.enabled!==void 0?h=l.enabled:c!==void 0&&(h=d.enabled),a(n,e,t),n[t].enabled=h}const aG={linear(n){return n},easeInQuad(n){return n*n},easeOutQuad(n){return n*(2-n)},easeInOutQuad(n){return n<.5?2*n*n:-1+(4-2*n)*n},easeInCubic(n){return n*n*n},easeOutCubic(n){return--n*n*n+1},easeInOutCubic(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart(n){return n*n*n*n},easeOutQuart(n){return 1- --n*n*n*n},easeInOutQuart(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint(n){return n*n*n*n*n},easeOutQuint(n){return 1+--n*n*n*n*n},easeInOutQuint(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};function Ur(n,e){let t;Ue(e)||(e=[e]);for(const r of n)if(r){t=r[e[0]];for(let i=1;i<e.length;i++)t&&(t=t[e[i]]);if(typeof t<"u")break}return t}const lG={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let uG=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return lG[e]}setColor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let r;const i=this._isColorString(e);if(i!==void 0&&(e=i),pn(e)===!0){if(bN(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if(oG(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(mN(e)===!0){const s=a1(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Qs(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Xe({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Pr(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Xe({},e)),this.color=e;const r=ns(e.r,e.g,e.b),i=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(i*r.h),a=this.centerCoordinates.y+s*Math.cos(i*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=ns(this.color.r,this.color.g,this.color.b);t.v=e/100;const r=wo(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const t=ns(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,i,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),eo(r).call(r),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,t,r,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=B(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=B(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=B(r=this._save).call(r,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=B(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new o1(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let i,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;const l=2*Math.PI/360,u=1/360,d=1/this.r;let c;for(o=0;o<360;o++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),c=wo(o*u,a*d,1),e.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,i=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,l=i-s,u=Math.atan2(a,l),d=.98*Math.min(Math.sqrt(a*a+l*l),o),c=Math.cos(u)*d+s,h=Math.sin(u)*d+o;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";let f=u/(2*Math.PI);f=f<0?f+1:f;const v=d/this.r,y=ns(this.color.r,this.color.g,this.color.b);y.h=f,y.s=v;const b=wo(y.h,y.s,y.v);b.a=this.color.a,this.color=b,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function ob(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const r=document.createElement(e[0]);return r.appendChild(ob(...sr(e).call(e,1))),r}}let dG=class{constructor(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Xe(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new uG(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Ue(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Ot(e)!==void 0&&(this.options.filter=Ot(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);Ot(this.options)===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=Ot(this.options);let t=0,r=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(i,[]),r=r||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||$e(e).call(e,i)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Te(r).call(r,o=>{s.appendChild(o)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(ob("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,t,r){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;t!==void 0&&$e(e).call(e,t)!==-1&&(s=$e(e).call(e,t));for(let l=0;l<e.length;l++){const u=document.createElement("option");u.value=e[l],l===s&&(u.selected="selected"),u.innerText=e[l],i.appendChild(u)}const o=this;i.onchange=function(){o._update(this.value,r)};const a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,i)}_makeRange(e,t,r){const i=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let u="",d=0;t!==void 0?(t<0&&t*1.2<s?(l.min=Math.ceil(t*1.2),d=l.min,u="range increased"):t/1.2<s&&(l.min=Math.ceil(t/1.2),d=l.min,u="range increased"),t*1.2>o&&o!==1&&(l.max=Math.ceil(t*1.2),d=l.max,u="range increased"),l.value=t):l.value=i;const c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=l.value;const h=this;l.onchange=function(){c.value=this.value,h._update(Number(this.value),r)},l.oninput=function(){c.value=this.value};const f=this._makeLabel(r[r.length-1],r),v=this._makeItem(r,f,l,c);u!==""&&this.popupHistory[v]!==d&&(this.popupHistory[v]=d,this._setupPopup(u,v))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=e,r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Pr(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Pr(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,t!==void 0&&(i.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));const s=this;i.onchange=function(){s._update(this.checked,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeTextInput(e,t,r){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=t,t!==e&&this.changedOptions.push({path:r,value:t});const s=this;i.onchange=function(){s._update(this.value,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeColorField(e,t,r){const i=e[1],s=document.createElement("div");t=t===void 0?i:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?i:t,s.onclick=()=>{this._showColorPicker(t,s,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=Ot(this.options);let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){i=!0;const l=e[a],u=Do(t,a);if(typeof s=="function"&&(i=s(a,t),i===!1&&!Ue(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,u,!0),this.allowCreation=r===!1)),i!==!1){o=!0;const d=this._getValue(u);if(Ue(l))this._handleArray(l,d,u);else if(typeof l=="string")this._makeTextInput(l,d,u);else if(typeof l=="boolean")this._makeCheckbox(l,d,u);else if(l instanceof Object){if(!this.hideOption(t,a,this.moduleOptions))if(l.enabled!==void 0){const c=Do(u,"enabled"),h=this._getValue(c);if(h===!0){const f=this._makeLabel(a,u,!0);this._makeItem(u,f),o=this._handleObject(l,u)||o}else this._makeCheckbox(l,h,u)}else{const c=this._makeLabel(a,u,!0);this._makeItem(u,c),o=this._handleObject(l,u)||o}}else console.error("dont know how to handle",l,a,u)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){const r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(i[t[s]]===void 0&&(i[t[s]]={}),s!==t.length-1?i=i[t[s]]:i[t[s]]=e);return r}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(ob("pre","const options = "+Qs(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},cG=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=Jt(e),this.y=Jt(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const t=this.frame.clientHeight,r=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let l=!1,u=!0;this.y-t<this.padding&&(u=!1),this.x+r>s-this.padding&&(l=!0),l?o=this.x-r:o=this.x,u?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>i&&(a=i-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},rs=!1,qq;const ab="background: #FFeeee; color: #dd0000";let hG=class He{static validate(e,t,r){rs=!1,qq=t;let i=t;return r!==void 0&&(i=t[r]),He.parse(e,i,[]),rs}static parse(e,t,r){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&He.check(i,e,t,r)}static check(e,t,r,i){if(r[e]===void 0&&r.__any__===void 0){He.getSuggestion(e,r,i);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=He.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),He.checkFields(e,t,r,s,a,i)}static checkFields(e,t,r,i,s,o){const a=function(d){console.error("%c"+d+He.printLocation(o,e),ab)},l=He.getType(t[e]),u=s[l];u!==void 0?He.getType(u)==="array"&&$e(u).call(u,t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+He.print(u)+' not "'+t[e]+'". '),rs=!0):l==="object"&&i!=="__any__"&&(o=Do(o,e),He.parse(t[e],r[i],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+He.print(Ve(s))+". Received ["+l+'] "'+t[e]+'"'),rs=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Ue(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){const i=He.findInOptions(e,t,r,!1),s=He.findInOptions(e,qq,[],!0),o=8,a=4;let l;i.indexMatch!==void 0?l=" in "+He.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=a&&i.distance>s.distance?l=" in "+He.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+He.printLocation(s.path,s.closestMatch,""):i.distance<=o?l='. Did you mean "'+i.closestMatch+'"?'+He.printLocation(i.path,e):l=". Did you mean one of these: "+He.print(Ve(t))+He.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+l,ab),rs=!0}static findInOptions(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",a=[];const l=e.toLowerCase();let u;for(const c in t){let h;if(t[c].__type__!==void 0&&i===!0){const f=He.findInOptions(e,t[c],Do(r,c));s>f.distance&&(o=f.closestMatch,a=f.path,s=f.distance,u=f.indexMatch)}else{var d;$e(d=c.toLowerCase()).call(d,l)!==-1&&(u=c),h=He.levenshteinDistance(e,c),s>h&&(o=c,a=rG(r),s=h)}}return{closestMatch:o,path:a,distance:s,indexMatch:u}}static printLocation(e,t){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Qs(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const r=[];let i;for(i=0;i<=t.length;i++)r[i]=[i];let s;for(s=0;s<=e.length;s++)r[0][s]=s;for(i=1;i<=t.length;i++)for(s=1;s<=e.length;s++)t.charAt(i-1)==e.charAt(s-1)?r[i][s]=r[i-1][s-1]:r[i][s]=Math.min(r[i-1][s-1]+1,Math.min(r[i][s-1]+1,r[i-1][s]+1));return r[t.length][e.length]}};const fG=lr,vG=dG,gn=o1,pG=cG,_N=ab,gG=hG;function yG(n){return Kr=n,wG()}var wN={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},l1=$i(wN);l1.color="color.color";l1.style="dashes";var yt={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},kq={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Kr="",In=0,ve="",se="",$t=yt.NULL;function mG(){In=0,ve=Kr.charAt(0)}function it(){In++,ve=Kr.charAt(In)}function sn(){return Kr.charAt(In+1)}function Dq(n){var e=n.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function ti(n,e){if(n||(n={}),e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function bG(n,e,t){for(var r=e.split("."),i=n;r.length;){var s=r.shift();r.length?(i[s]||(i[s]={}),i=i[s]):i[s]=t}}function SN(n,e){for(var t,r,i=null,s=[n],o=n;o.parent;)s.push(o.parent),o=o.parent;if(o.nodes){for(t=0,r=o.nodes.length;t<r;t++)if(e.id===o.nodes[t].id){i=o.nodes[t];break}}for(i||(i={id:e.id},n.node&&(i.attr=ti(i.attr,n.node))),t=s.length-1;t>=0;t--){var a,l=s[t];l.nodes||(l.nodes=[]),$e(a=l.nodes).call(a,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=ti(i.attr,e.attr))}function _G(n,e){if(n.edges||(n.edges=[]),n.edges.push(e),n.edge){var t=ti({},n.edge);e.attr=ti(t,e.attr)}}function EN(n,e,t,r,i){var s={from:e,to:t,type:r};return n.edge&&(s.attr=ti({},n.edge)),s.attr=ti(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function qe(){for($t=yt.NULL,se="";ve===" "||ve==="	"||ve===`
`||ve==="\r";)it();do{var n=!1;if(ve==="#"){for(var e=In-1;Kr.charAt(e)===" "||Kr.charAt(e)==="	";)e--;if(Kr.charAt(e)===`
`||Kr.charAt(e)===""){for(;ve!=""&&ve!=`
`;)it();n=!0}}if(ve==="/"&&sn()==="/"){for(;ve!=""&&ve!=`
`;)it();n=!0}if(ve==="/"&&sn()==="*"){for(;ve!="";)if(ve==="*"&&sn()==="/"){it(),it();break}else it();n=!0}for(;ve===" "||ve==="	"||ve===`
`||ve==="\r";)it()}while(n);if(ve===""){$t=yt.DELIMITER;return}var t=ve+sn();if(kq[t]){$t=yt.DELIMITER,se=t,it(),it();return}if(kq[ve]){$t=yt.DELIMITER,se=ve,it();return}if(Dq(ve)||ve==="-"){for(se+=ve,it();Dq(ve);)se+=ve,it();se==="false"?se=!1:se==="true"?se=!0:isNaN(Number(se))||(se=Number(se)),$t=yt.IDENTIFIER;return}if(ve==='"'){for(it();ve!=""&&(ve!='"'||ve==='"'&&sn()==='"');)ve==='"'?(se+=ve,it()):ve==="\\"&&sn()==="n"?(se+=`
`,it()):se+=ve,it();if(ve!='"')throw mt('End of string " expected');it(),$t=yt.IDENTIFIER;return}for($t=yt.UNKNOWN;ve!="";)se+=ve,it();throw new SyntaxError('Syntax error in part "'+xN(se,30)+'"')}function wG(){var n={};if(mG(),qe(),se==="strict"&&(n.strict=!0,qe()),(se==="graph"||se==="digraph")&&(n.type=se,qe()),$t===yt.IDENTIFIER&&(n.id=se,qe()),se!="{")throw mt("Angle bracket { expected");if(qe(),$N(n),se!="}")throw mt("Angle bracket } expected");if(qe(),se!=="")throw mt("End of file expected");return qe(),delete n.node,delete n.edge,delete n.graph,n}function $N(n){for(;se!==""&&se!="}";)SG(n),se===";"&&qe()}function SG(n){var e=ON(n);if(e){IN(n,e);return}var t=EG(n);if(!t){if($t!=yt.IDENTIFIER)throw mt("Identifier expected");var r=se;if(qe(),se==="="){if(qe(),$t!=yt.IDENTIFIER)throw mt("Identifier expected");n[r]=se,qe()}else $G(n,r)}}function ON(n){var e=null;if(se==="subgraph"&&(e={},e.type="subgraph",qe(),$t===yt.IDENTIFIER&&(e.id=se,qe())),se==="{"){if(qe(),e||(e={}),e.parent=n,e.node=n.node,e.edge=n.edge,e.graph=n.graph,$N(e),se!="}")throw mt("Angle bracket } expected");qe(),delete e.node,delete e.edge,delete e.graph,delete e.parent,n.subgraphs||(n.subgraphs=[]),n.subgraphs.push(e)}return e}function EG(n){return se==="node"?(qe(),n.node=hs(),"node"):se==="edge"?(qe(),n.edge=hs(),"edge"):se==="graph"?(qe(),n.graph=hs(),"graph"):null}function $G(n,e){var t={id:e},r=hs();r&&(t.attr=r),SN(n,t),IN(n,e)}function IN(n,e){for(;se==="->"||se==="--";){var t,r=se;qe();var i=ON(n);if(i)t=i;else{if($t!=yt.IDENTIFIER)throw mt("Identifier or subgraph expected");t=se,SN(n,{id:t}),qe()}var s=hs(),o=EN(n,e,t,r,s);_G(n,o),e=t}}function hs(){for(var n,e=null,t={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;se==="[";){for(qe(),e={};se!==""&&se!="]";){if($t!=yt.IDENTIFIER)throw mt("Attribute name expected");var o=se;if(qe(),se!="=")throw mt("Equal sign = expected");if(qe(),$t!=yt.IDENTIFIER)throw mt("Attribute value expected");var a=se;o==="style"&&(a=t[a]);var l;o==="arrowhead"&&(l=r[a],o="arrows",a={to:{enabled:!0,type:l}}),o==="arrowtail"&&(l=r[a],o="arrows",a={from:{enabled:!0,type:l}}),i.push({attr:e,name:o,value:a}),s.push(o),qe(),se==","&&qe()}if(se!="]")throw mt("Bracket ] expected");qe()}if(Jr(s).call(s,"dir")){var u={};for(u.arrows={},n=0;n<i.length;n++)if(i[n].name==="arrows")if(i[n].value.to!=null)u.arrows.to=n;else if(i[n].value.from!=null)u.arrows.from=n;else throw mt("Invalid value of arrows");else i[n].name==="dir"&&(u.dir=n);var d=i[u.dir].value;if(!Jr(s).call(s,"arrows"))if(d==="both")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1,i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[u.dir].attr,name:"arrows",value:""}),u.arrows.to=i.length-1;else throw mt('Invalid dir type "'+d+'"');var c,h;if(d==="both")u.arrows.to&&u.arrows.from?(h=i[u.arrows.to].value.to.type,c=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}},Tr(i).call(i,u.arrows.from,1)):u.arrows.to?(h=i[u.arrows.to].value.to.type,c="arrow",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.from&&(h="arrow",c=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}});else if(d==="back")u.arrows.to&&u.arrows.from?(h="",c=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.to?(h="",c="arrow",u.arrows.from=u.arrows.to,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.from&&(h="",c=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{from:{enabled:!0,type:i[u.arrows.from].value.from.type}}};else if(d==="none"){var f;u.arrows.to?f=u.arrows.to:f=u.arrows.from,i[f]={attr:i[f].attr,name:i[f].name,value:""}}else if(d==="forward")u.arrows.to&&u.arrows.from?(h=i[u.arrows.to].value.to.type,c="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.to?(h=i[u.arrows.to].value.to.type,c="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.from&&(h="arrow",c="",u.arrows.to=u.arrows.from,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:i[u.arrows.to].value.to.type}}};else throw mt('Invalid dir type "'+d+'"');Tr(i).call(i,u.dir,1)}var v;if(Jr(s).call(s,"penwidth")){var y=[];for(v=i.length,n=0;n<v;n++)i[n].name!=="width"&&(i[n].name==="penwidth"&&(i[n].name="width"),y.push(i[n]));i=y}for(v=i.length,n=0;n<v;n++)bG(i[n].attr,i[n].name,i[n].value);return e}function mt(n){return new SyntaxError(n+', got "'+xN(se,30)+'" (char '+In+")")}function xN(n,e){return n.length<=e?n:n.substr(0,27)+"..."}function OG(n,e,t){Ue(n)?Te(n).call(n,function(r){Ue(e)?Te(e).call(e,function(i){t(r,i)}):t(r,e)}):Ue(e)?Te(e).call(e,function(r){t(n,r)}):t(n,e)}function Ig(n,e,t){for(var r=e.split("."),i=r.pop(),s=n,o=0;o<r.length;o++){var a=r[o];a in s||(s[a]={}),s=s[a]}return s[i]=t,n}function Mq(n,e){var t={};for(var r in n)if(n.hasOwnProperty(r)){var i=e[r];Ue(i)?Te(i).call(i,function(s){Ig(t,s,n[r])}):typeof i=="string"?Ig(t,i,n[r]):Ig(t,r,n[r])}return t}function IG(n){var e=yG(n),t={nodes:[],edges:[],options:{}};if(e.nodes){var r;Te(r=e.nodes).call(r,function(o){var a={id:o.id,label:String(o.label||o.id)};ti(a,Mq(o.attr,wN)),a.image&&(a.shape="image"),t.nodes.push(a)})}if(e.edges){var i,s=function(o){var a={from:o.from,to:o.to};return ti(a,Mq(o.attr,l1)),a.arrows==null&&o.type==="->"&&(a.arrows="to"),a};Te(i=e.edges).call(i,function(o){var a,l;if(o.from instanceof Object?a=o.from.nodes:a={id:o.from},o.to instanceof Object?l=o.to.nodes:l={id:o.to},o.from instanceof Object&&o.from.edges){var u;Te(u=o.from.edges).call(u,function(c){var h=s(c);t.edges.push(h)})}if(OG(a,l,function(c,h){var f=EN(t,c.id,h.id,o.type,o.attr),v=s(f);t.edges.push(v)}),o.to instanceof Object&&o.to.edges){var d;Te(d=o.to.edges).call(d,function(c){var h=s(c);t.edges.push(h)})}})}return e.attr&&(t.options=e.attr),t}function xG(n,e){var t;const r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(r.nodes.fixed=e.fixed),e.parseColor!=null&&(r.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(r.edges.inheritColor=e.inheritColor));const i=n.edges,s=Sn(i).call(i,a=>{const l={from:a.source,id:a.id,to:a.target};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.type==="Directed"&&(l.arrows="to"),a.color&&r.edges.inheritColor===!1&&(l.color=a.color),l});return{nodes:Sn(t=n.nodes).call(t,a=>{const l={id:a.id,fixed:r.nodes.fixed&&a.x!=null&&a.y!=null};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.size!=null&&(l.size=a.size),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.title!=null&&(l.title=a.title),a.x!=null&&(l.x=a.x),a.y!=null&&(l.y=a.y),a.color!=null&&(r.nodes.parseColor===!0?l.color=a.color:l.color={background:a.color,border:a.color,highlight:{background:a.color,border:a.color},hover:{background:a.color,border:a.color}}),l}),edges:s}}const TG={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},PG={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufÃ¼gen",addNode:"Knoten hinzufÃ¼gen",back:"ZurÃ¼ck",close:"SchlieÃen",createEdgeError:"Es ist nicht mÃ¶glich, Kanten mit Clustern zu verbinden.",del:"LÃ¶sche Auswahl",deleteClusterError:"Cluster kÃ¶nnen nicht gelÃ¶scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster kÃ¶nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},RG={addDescription:"Haga clic en un lugar vacÃ­o para colocar un nuevo nodo.",addEdge:"AÃ±adir arista",addNode:"AÃ±adir nodo",back:"AtrÃ¡s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecciÃ³n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},CG={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},qG={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},kG={addDescription:"Clique em um espaÃ§o em branco para adicionar um novo nÃ³",addEdge:"Adicionar aresta",addNode:"Adicionar nÃ³",back:"Voltar",close:"Fechar",createEdgeError:"NÃ£o foi possÃ­vel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters nÃ£o puderam ser removidos.",edgeDescription:"Clique em um nÃ³ e arraste a aresta atÃ© outro nÃ³ para conectÃ¡-los",edit:"Editar",editClusterError:"Clusters nÃ£o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nÃ³ para conectÃ¡-los",editNode:"Editar nÃ³"},DG={addDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð² ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ðµ Ð¼ÐµÑÑÐ¾, ÑÑÐ¾Ð±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÐ¹ ÑÐ·ÐµÐ».",addEdge:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ±ÑÐ¾",addNode:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ·ÐµÐ»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÑÐ²Ð°ÑÑ",createEdgeError:"ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ ÑÐµÐ±ÑÐ° Ð² ÐºÐ»Ð°ÑÑÐµÑ.",del:"Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ðµ",deleteClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½Ðµ Ð¼Ð¾Ð³ÑÑ Ð±ÑÑÑ ÑÐ´Ð°Ð»ÐµÐ½Ñ",edgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÑÐ·ÐµÐ» Ð¸ Ð¿ÑÐ¾ÑÑÐ½Ð¸ÑÐµ ÑÐµÐ±ÑÐ¾ Ðº Ð´ÑÑÐ³Ð¾Ð¼Ñ ÑÐ·Ð»Ñ, ÑÑÐ¾Ð±Ñ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ Ð¸Ñ.",edit:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ",editClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ.",editEdge:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐµÐ±ÑÐ¾",editEdgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½ÑÐµ ÑÐ¾ÑÐºÐ¸ Ð¸ Ð¿ÐµÑÐµÑÐ°ÑÐ¸ÑÐµ Ð¸Ñ Ð² ÑÐ·ÐµÐ», ÑÑÐ¾Ð±Ñ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ¸ÑÑÑÑ Ðº Ð½ÐµÐ¼Ñ.",editNode:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐ·ÐµÐ»"},MG={addDescription:"åå»ç©ºç½å¤æ¾ç½®æ°èç¹ã",addEdge:"æ·»å è¿æ¥çº¿",addNode:"æ·»å èç¹",back:"è¿å",close:"éé",createEdgeError:"æ æ³å°è¿æ¥çº¿è¿æ¥å°ç¾¤éã",del:"å é¤éå®",deleteClusterError:"æ æ³å é¤ç¾¤éã",edgeDescription:"åå»æä¸ªèç¹å¹¶å°è¯¥è¿æ¥çº¿æå¨å°å¦ä¸ä¸ªèç¹ä»¥è¿æ¥å®ä»¬ã",edit:"ç¼è¾",editClusterError:"æ æ³ç¼è¾ç¾¤éã",editEdge:"ç¼è¾è¿æ¥çº¿",editEdgeDescription:"åå»æ§å¶èç¹å¹¶å°å®ä»¬æå°èç¹ä¸è¿æ¥ã",editNode:"ç¼è¾èç¹"},AG={addDescription:"KÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ»ÑÐ½Ðµ Ð¼ÑÑÑÐµ, ÑÐ¾Ð± Ð´Ð¾Ð´Ð°ÑÐ¸ Ð½Ð¾Ð²Ð¸Ð¹ Ð²ÑÐ·Ð¾Ð».",addEdge:"ÐÐ¾Ð´Ð°ÑÐ¸ ÐºÑÐ°Ð¹",addNode:"ÐÐ¾Ð´Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÐ¸ÑÐ¸",createEdgeError:"ÐÐµ Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ Ð¾Ð±'ÑÐ´Ð½Ð°ÑÐ¸ ÐºÑÐ°Ñ Ð² Ð³ÑÑÐ¿Ñ.",del:"ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¾Ð±ÑÐ°Ð½Ðµ",deleteClusterError:"ÐÑÑÐ¿Ð¸ Ð½Ðµ Ð¼Ð¾Ð¶ÑÑÑ Ð±ÑÑÐ¸ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ñ.",edgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ·Ð¾Ð» Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÐºÑÐ°Ð¹ Ð´Ð¾ ÑÐ½ÑÐ¾Ð³Ð¾ Ð²ÑÐ·Ð»Ð°, ÑÐ¾Ð± ÑÑ Ð·'ÑÐ´Ð½Ð°ÑÐ¸.",edit:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸",editClusterError:"ÐÑÑÐ¿Ð¸ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°Ð³ÑÐ²Ð°Ð½Ð½Ñ.",editEdge:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ ÐºÑÐ°Ð¹",editEdgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½Ñ ÑÐ¾ÑÐºÐ¸ Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÑÑ Ñ Ð²ÑÐ·Ð¾Ð», ÑÐ¾Ð± Ð¿ÑÐ´ÐºÐ»ÑÑÐ¸ÑÐ¸ÑÑ Ð´Ð¾ Ð½ÑÐ¾Ð³Ð¾.",editNode:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»"},FG={addDescription:"Cliquez dans un endroit vide pour placer un nÅud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nÅud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crÃ©er un lien vers un cluster.",del:"Effacer la sÃ©lection",deleteClusterError:"Les clusters ne peuvent pas Ãªtre effacÃ©s.",edgeDescription:"Cliquez sur un nÅud et glissez le lien vers un autre nÅud pour les connecter.",edit:"Ãditer",editClusterError:"Les clusters ne peuvent pas Ãªtre Ã©ditÃ©s.",editEdge:"Ãditer le lien",editEdgeDescription:"Cliquez sur les points de contrÃ´le et glissez-les pour connecter un nÅud.",editNode:"Ãditer le nÅud"},NG={addDescription:"KluknutÃ­m do prÃ¡zdnÃ©ho prostoru mÅ¯Å¾ete pÅidat novÃ½ vrchol.",addEdge:"PÅidat hranu",addNode:"PÅidat vrchol",back:"ZpÄt",close:"ZavÅÃ­t",createEdgeError:"Nelze pÅipojit hranu ke shluku.",del:"Smazat vÃ½bÄr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"PÅetaÅ¾enÃ­m z jednoho vrcholu do druhÃ©ho mÅ¯Å¾ete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"PÅetaÅ¾enÃ­m kontrolnÃ­ho vrcholu hrany ji mÅ¯Å¾ete pÅipojit k jinÃ©mu vrcholu.",editNode:"Upravit vrchol"};var BG=Object.freeze({__proto__:null,cn:MG,cs:NG,de:PG,en:TG,es:RG,fr:FG,it:CG,nl:qG,pt:kG,ru:DG,uk:AG});function jG(n,e){try{const[r,i]=e.split(/[-_ /]/,2),s=r!=null?r.toLowerCase():null,o=i!=null?i.toUpperCase():null;if(s&&o){const a=s+"-"+o;if(Object.prototype.hasOwnProperty.call(n,a))return a;var t;console.warn(dV(t="Unknown variant ".concat(o," of language ")).call(t,s,"."))}if(s){const a=s;if(Object.prototype.hasOwnProperty.call(n,a))return a;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(r){return console.error(r),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class LG{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,t=this.image.height;this.width=e,this.height=t;const r=Math.floor(t/2),i=Math.floor(t/4),s=Math.floor(t/8),o=Math.floor(t/16),a=Math.floor(e/2),l=Math.floor(e/4),u=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=r,this.coordinates=[[0,0,a,r],[a,0,l,i],[a,i,u,s],[5*u,i,d,o]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(let r=1;r<this.NUM_ITERATIONS;r++){const i=this.coordinates[r-1],s=this.coordinates[r];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,t,r,i,s,o){if(this.initialized())if(t>2){t*=.5;let a=0;for(;t>2&&a<this.NUM_ITERATIONS;)t*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);const l=this.coordinates[a];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],r,i,s,o)}else e.drawImage(this.image,r,i,s,o)}}class zG{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,t,r){if(!(e===void 0||r===void 0)){if(t===void 0){console.warn("No broken url image defined");return}r.image.onerror=()=>{console.error("Could not load brokenImage:",t)},r.image.src=t}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,t){const r=this.images[e];if(r)return r;const i=new LG;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,t,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var Aq={},Fq={},xg={exports:{}},Tg,Nq;function WG(){if(Nq)return Tg;Nq=1;var n=be();return Tg=n(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Tg}var Pg,Bq;function HG(){if(Bq)return Pg;Bq=1;var n=be(),e=ut(),t=hr(),r=WG(),i=Object.isExtensible,s=n(function(){});return Pg=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,Pg}var Rg,jq;function TN(){if(jq)return Rg;jq=1;var n=be();return Rg=!n(function(){return Object.isExtensible(Object.preventExtensions({}))}),Rg}var Lq;function va(){if(Lq)return xg.exports;Lq=1;var n=ee(),e=_e(),t=Ks(),r=ut(),i=ft(),s=zt().f,o=la(),a=Gb(),l=HG(),u=ta(),d=TN(),c=!1,h=u("meta"),f=0,v=function(m){s(m,h,{value:{objectID:"O"+f++,weakData:{}}})},y=function(m,S){if(!r(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!i(m,h)){if(!l(m))return"F";if(!S)return"E";v(m)}return m[h].objectID},b=function(m,S){if(!i(m,h)){if(!l(m))return!0;if(!S)return!1;v(m)}return m[h].weakData},g=function(m){return d&&c&&l(m)&&!i(m,h)&&v(m),m},p=function(){$.enable=function(){},c=!0;var m=o.f,S=e([].splice),O={};O[h]=1,m(O).length&&(o.f=function(x){for(var _=m(x),E=0,T=_.length;E<T;E++)if(_[E]===h){S(_,E,1);break}return _},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},$=xg.exports={enable:p,fastKey:y,getWeakData:b,onFreeze:g};return t[h]=!0,xg.exports}var Cg,zq;function VG(){if(zq)return Cg;zq=1;var n=tt(),e=Kn(),t=n("iterator"),r=Array.prototype;return Cg=function(i){return i!==void 0&&(e.Array===i||r[t]===i)},Cg}var qg,Wq;function PN(){if(Wq)return qg;Wq=1;var n=Gn(),e=Nb(),t=Nn(),r=Kn(),i=tt(),s=i("iterator");return qg=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[n(o)]},qg}var kg,Hq;function UG(){if(Hq)return kg;Hq=1;var n=Rt(),e=Fr(),t=fr(),r=Ln(),i=PN(),s=TypeError;return kg=function(o,a){var l=arguments.length<2?i(o):a;if(e(l))return t(n(l,o));throw new s(r(o)+" is not iterable")},kg}var Dg,Vq;function u1(){if(Vq)return Dg;Vq=1;var n=Rt(),e=fr(),t=Nb();return Dg=function(r,i,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(i==="throw")throw s;return s}o=n(o,r)}catch(l){a=!0,o=l}if(i==="throw")throw s;if(a)throw o;return e(o),s},Dg}var Mg,Uq;function pa(){if(Uq)return Mg;Uq=1;var n=ia(),e=Rt(),t=fr(),r=Ln(),i=VG(),s=Nr(),o=et(),a=UG(),l=PN(),u=u1(),d=TypeError,c=function(f,v){this.stopped=f,this.result=v},h=c.prototype;return Mg=function(f,v,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),p=!!(y&&y.IS_RECORD),$=!!(y&&y.IS_ITERATOR),m=!!(y&&y.INTERRUPTED),S=n(v,b),O,x,_,E,T,P,R,C=function(L){return O&&u(O,"normal"),new c(!0,L)},A=function(L){return g?(t(L),m?S(L[0],L[1],C):S(L[0],L[1])):m?S(L,C):S(L)};if(p)O=f.iterator;else if($)O=f;else{if(x=l(f),!x)throw new d(r(f)+" is not iterable");if(i(x)){for(_=0,E=s(f);E>_;_++)if(T=A(f[_]),T&&o(h,T))return T;return new c(!1)}O=a(f,x)}for(P=p?f.next:O.next;!(R=e(P,O)).done;){try{T=A(R.value)}catch(L){u(O,"throw",L)}if(typeof T=="object"&&T&&o(h,T))return T}return new c(!1)},Mg}var Ag,Gq;function d1(){if(Gq)return Ag;Gq=1;var n=et(),e=TypeError;return Ag=function(t,r){if(n(r,t))return t;throw new e("Incorrect invocation")},Ag}var Fg,Kq;function c1(){if(Kq)return Fg;Kq=1;var n=ee(),e=Ne(),t=va(),r=be(),i=Hn(),s=pa(),o=d1(),a=lt(),l=ut(),u=Nn(),d=Vi(),c=zt().f,h=ui().forEach,f=Ke(),v=Ui(),y=v.set,b=v.getterFor;return Fg=function(g,p,$){var m=g.indexOf("Map")!==-1,S=g.indexOf("Weak")!==-1,O=m?"set":"add",x=e[g],_=x&&x.prototype,E={},T;if(!f||!a(x)||!(S||_.forEach&&!r(function(){new x().entries().next()})))T=$.getConstructor(p,g,m,O),t.enable();else{T=p(function(C,A){y(o(C,P),{type:g,collection:new x}),u(A)||s(A,C[O],{that:C,AS_ENTRIES:m})});var P=T.prototype,R=b(g);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(C){var A=C==="add"||C==="set";C in _&&!(S&&C==="clear")&&i(P,C,function(L,ne){var H=R(this).collection;if(!A&&S&&!l(L))return C==="get"?void 0:!1;var ae=H[C](L===0?0:L,ne);return A?this:ae})}),S||c(P,"size",{configurable:!0,get:function(){return R(this).collection.size}})}return d(T,g,!1,!0),E[g]=T,n({global:!0,forced:!0},E),S||$.setStrong(T,g,m),T},Fg}var Ng,Yq;function h1(){if(Yq)return Ng;Yq=1;var n=Zs();return Ng=function(e,t,r){for(var i in t)r&&r.unsafe&&e[i]?e[i]=t[i]:n(e,i,t[i],r);return e},Ng}var Bg,Xq;function GG(){if(Xq)return Bg;Xq=1;var n=Dt(),e=Kb(),t=tt(),r=Ke(),i=t("species");return Bg=function(s){var o=n(s);r&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},Bg}var jg,Jq;function RN(){if(Jq)return jg;Jq=1;var n=Js(),e=Kb(),t=h1(),r=ia(),i=d1(),s=Nn(),o=pa(),a=Xb(),l=Jb(),u=GG(),d=Ke(),c=va().fastKey,h=Ui(),f=h.set,v=h.getterFor;return jg={getConstructor:function(y,b,g,p){var $=y(function(_,E){i(_,m),f(_,{type:b,index:n(null),first:null,last:null,size:0}),d||(_.size=0),s(E)||o(E,_[p],{that:_,AS_ENTRIES:g})}),m=$.prototype,S=v(b),O=function(_,E,T){var P=S(_),R=x(_,E),C,A;return R?R.value=T:(P.last=R={index:A=c(E,!0),key:E,value:T,previous:C=P.last,next:null,removed:!1},P.first||(P.first=R),C&&(C.next=R),d?P.size++:_.size++,A!=="F"&&(P.index[A]=R)),_},x=function(_,E){var T=S(_),P=c(E),R;if(P!=="F")return T.index[P];for(R=T.first;R;R=R.next)if(R.key===E)return R};return t(m,{clear:function(){for(var E=this,T=S(E),P=T.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=null),P=P.next;T.first=T.last=null,T.index=n(null),d?T.size=0:E.size=0},delete:function(_){var E=this,T=S(E),P=x(E,_);if(P){var R=P.next,C=P.previous;delete T.index[P.index],P.removed=!0,C&&(C.next=R),R&&(R.previous=C),T.first===P&&(T.first=R),T.last===P&&(T.last=C),d?T.size--:E.size--}return!!P},forEach:function(E){for(var T=S(this),P=r(E,arguments.length>1?arguments[1]:void 0),R;R=R?R.next:T.first;)for(P(R.value,R.key,this);R&&R.removed;)R=R.previous},has:function(E){return!!x(this,E)}}),t(m,g?{get:function(E){var T=x(this,E);return T&&T.value},set:function(E,T){return O(this,E===0?0:E,T)}}:{add:function(E){return O(this,E=E===0?0:E,E)}}),d&&e(m,"size",{configurable:!0,get:function(){return S(this).size}}),$},setStrong:function(y,b,g){var p=b+" Iterator",$=v(b),m=v(p);a(y,b,function(S,O){f(this,{type:p,target:S,state:$(S),kind:O,last:null})},function(){for(var S=m(this),O=S.kind,x=S.last;x&&x.removed;)x=x.previous;return!S.target||!(S.last=x=x?x.next:S.state.first)?(S.target=null,l(void 0,!0)):l(O==="keys"?x.key:O==="values"?x.value:[x.key,x.value],!1)},g?"entries":"values",!g,!0),u(b)}},jg}var Zq;function KG(){if(Zq)return Fq;Zq=1;var n=c1(),e=RN();return n("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),Fq}var Qq;function YG(){return Qq||(Qq=1,KG()),Aq}var ek={},Lg,tk;function CN(){return tk||(tk=1,Lg=function(n,e){return e===1?function(t,r){return t[n](r)}:function(t,r,i){return t[n](r,i)}}),Lg}var zg,rk;function XG(){if(rk)return zg;rk=1;var n=Dt(),e=CN(),t=n("Map");return zg={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},zg}var ik;function JG(){if(ik)return ek;ik=1;var n=ee(),e=_e(),t=Fr(),r=Ar(),i=pa(),s=XG(),o=zn(),a=be(),l=s.Map,u=s.has,d=s.get,c=s.set,h=e([].push),f=o||a(function(){return l.groupBy("ab",function(v){return v}).get("a").length!==1});return n({target:"Map",stat:!0,forced:o||f},{groupBy:function(y,b){r(y),t(b);var g=new l,p=0;return i(y,function($){var m=b($,p++);u(g,m)?h(d(g,m),$):c(g,m,[$])}),g}}),ek}var nk={},Wg,sk;function ZG(){if(sk)return Wg;sk=1;var n=_e(),e=Vn(),t=Wt(),r=Ar(),i=n("".charAt),s=n("".charCodeAt),o=n("".slice),a=function(l){return function(u,d){var c=t(r(u)),h=e(d),f=c.length,v,y;return h<0||h>=f?l?"":void 0:(v=s(c,h),v<55296||v>56319||h+1===f||(y=s(c,h+1))<56320||y>57343?l?i(c,h):v:l?o(c,h,h+2):(v-55296<<10)+(y-56320)+65536)}};return Wg={codeAt:a(!1),charAt:a(!0)},Wg}var ok;function f1(){if(ok)return nk;ok=1;var n=ZG().charAt,e=Wt(),t=Ui(),r=Xb(),i=Jb(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var u=a(this),d=u.string,c=u.index,h;return c>=d.length?i(void 0,!0):(h=n(d,c),u.index+=h.length,i(h,!1))}),nk}var Hg,ak;function QG(){if(ak)return Hg;ak=1,Yn(),YG(),JG(),f1();var n=Ie();return Hg=n.Map,Hg}var Vg,lk;function e8(){if(lk)return Vg;lk=1;var n=QG();return Xn(),Vg=n,Vg}var Ug,uk;function t8(){return uk||(uk=1,Ug=e8()),Ug}var r8=t8(),v1=ue(r8);class i8{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Xe(this.options,this.defaultOptions)}setOptions(e){const t=["useDefaultGroups"];if(e!==void 0){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&$e(t).call(t,r)===-1){const i=e[r];this.add(r,i)}}}clear(){this._groups=new v1,this._groupNames=[]}get(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this._groups.get(e);if(r===void 0&&t)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,r={},r.color=this._groups.get(this._groupNames[i]),this._groups.set(e,r)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,r={},r.color=this._defaultGroups[i],this._groups.set(e,r)}return r}add(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}var dk={},ck;function n8(){if(ck)return dk;ck=1;var n=ee();return n({target:"Number",stat:!0},{isNaN:function(t){return t!==t}}),dk}var Gg,hk;function s8(){if(hk)return Gg;hk=1,n8();var n=Ie();return Gg=n.Number.isNaN,Gg}var Kg,fk;function o8(){if(fk)return Kg;fk=1;var n=s8();return Kg=n,Kg}var Yg,vk;function a8(){return vk||(vk=1,Yg=o8()),Yg}var l8=a8(),lb=ue(l8),pk={},Xg,gk;function u8(){if(gk)return Xg;gk=1;var n=Ne(),e=n.isFinite;return Xg=Number.isFinite||function(r){return typeof r=="number"&&e(r)},Xg}var yk;function d8(){if(yk)return pk;yk=1;var n=ee(),e=u8();return n({target:"Number",stat:!0},{isFinite:e}),pk}var Jg,mk;function c8(){if(mk)return Jg;mk=1,d8();var n=Ie();return Jg=n.Number.isFinite,Jg}var Zg,bk;function h8(){if(bk)return Zg;bk=1;var n=c8();return Zg=n,Zg}var Qg,_k;function f8(){return _k||(_k=1,Qg=h8()),Qg}var v8=f8(),_i=ue(v8),wk={},Sk;function p8(){if(Sk)return wk;Sk=1;var n=ee(),e=ui().some,t=Jn(),r=t("some");return n({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),wk}var ey,Ek;function g8(){if(Ek)return ey;Ek=1,p8();var n=vt();return ey=n("Array","some"),ey}var ty,$k;function y8(){if($k)return ty;$k=1;var n=et(),e=g8(),t=Array.prototype;return ty=function(r){var i=r.some;return r===t||n(t,r)&&i===t.some?e:i},ty}var ry,Ok;function m8(){if(Ok)return ry;Ok=1;var n=y8();return ry=n,ry}var iy,Ik;function b8(){return Ik||(Ik=1,iy=m8()),iy}var _8=b8(),w8=ue(_8),ny={exports:{}},xk={},Tk;function S8(){if(Tk)return xk;Tk=1;var n=ee(),e=Ke(),t=zt().f;return n({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),xk}var Pk;function E8(){if(Pk)return ny.exports;Pk=1,S8();var n=Ie(),e=n.Object,t=ny.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(t.sham=!0),ny.exports}var sy,Rk;function qN(){if(Rk)return sy;Rk=1;var n=E8();return sy=n,sy}var oy,Ck;function $8(){if(Ck)return oy;Ck=1;var n=qN();return oy=n,oy}var ay,qk;function O8(){if(qk)return ay;qk=1;var n=$8();return ay=n,ay}var ly,kk;function I8(){return kk||(kk=1,ly=O8()),ly}var x8=I8(),T8=ue(x8),Dk={},Mk;function P8(){if(Mk)return Dk;Mk=1;var n=tt(),e=zt().f,t=n("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),Dk}var Ak={},Fk;function R8(){return Fk||(Fk=1,DF()),Ak}var Nk={},Bk;function C8(){return Bk||(Bk=1,MF()),Nk}var jk={},Lk;function q8(){if(Lk)return jk;Lk=1;var n=Le();return n("metadata"),jk}var uy,zk;function k8(){if(zk)return uy;zk=1;var n=jF();return P8(),R8(),C8(),q8(),uy=n,uy}var Wk={},dy,Hk;function kN(){if(Hk)return dy;Hk=1;var n=Dt(),e=_e(),t=n("Symbol"),r=t.keyFor,i=e(t.prototype.valueOf);return dy=t.isRegisteredSymbol||function(o){try{return r(i(o))!==void 0}catch{return!1}},dy}var Vk;function D8(){if(Vk)return Wk;Vk=1;var n=ee(),e=kN();return n({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Wk}var Uk={},cy,Gk;function DN(){if(Gk)return cy;Gk=1;for(var n=Wn(),e=Dt(),t=_e(),r=Gs(),i=tt(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=t(s.prototype.valueOf),u=n("wks"),d=0,c=a(s),h=c.length;d<h;d++)try{var f=c[d];r(s[f])&&i(f)}catch{}return cy=function(y){if(o&&o(y))return!0;try{for(var b=l(y),g=0,p=a(u),$=p.length;g<$;g++)if(u[p[g]]==b)return!0}catch{}return!1},cy}var Kk;function M8(){if(Kk)return Uk;Kk=1;var n=ee(),e=DN();return n({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Uk}var Yk={},Xk;function A8(){if(Xk)return Yk;Xk=1;var n=Le();return n("customMatcher"),Yk}var Jk={},Zk;function F8(){if(Zk)return Jk;Zk=1;var n=Le();return n("observable"),Jk}var Qk={},eD;function N8(){if(eD)return Qk;eD=1;var n=ee(),e=kN();return n({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Qk}var tD={},rD;function B8(){if(rD)return tD;rD=1;var n=ee(),e=DN();return n({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),tD}var iD={},nD;function j8(){if(nD)return iD;nD=1;var n=Le();return n("matcher"),iD}var sD={},oD;function L8(){if(oD)return sD;oD=1;var n=Le();return n("metadataKey"),sD}var aD={},lD;function z8(){if(lD)return aD;lD=1;var n=Le();return n("patternMatch"),aD}var uD={},dD;function W8(){if(dD)return uD;dD=1;var n=Le();return n("replaceAll"),uD}var hy,cD;function H8(){if(cD)return hy;cD=1;var n=k8();return D8(),M8(),A8(),F8(),N8(),B8(),j8(),L8(),z8(),W8(),hy=n,hy}var fy,hD;function V8(){return hD||(hD=1,fy=H8()),fy}var U8=V8(),mo=ue(U8),vy,fD;function G8(){if(fD)return vy;fD=1,Yn(),f1(),AF();var n=ua();return vy=n.f("iterator"),vy}var py,vD;function K8(){if(vD)return py;vD=1;var n=G8();return Xn(),py=n,py}var gy,pD;function Y8(){if(pD)return gy;pD=1;var n=K8();return gy=n,gy}var yy,gD;function X8(){if(gD)return yy;gD=1;var n=Y8();return yy=n,yy}var my,yD;function J8(){return yD||(yD=1,my=X8()),my}var Z8=J8(),Q8=ue(Z8);function Is(n){"@babel/helpers - typeof";return Is=typeof mo=="function"&&typeof Q8=="symbol"?function(e){return typeof e}:function(e){return e&&typeof mo=="function"&&e.constructor===mo&&e!==mo.prototype?"symbol":typeof e},Is(n)}var by,mD;function e6(){if(mD)return by;mD=1,FF();var n=ua();return by=n.f("toPrimitive"),by}var _y,bD;function t6(){if(bD)return _y;bD=1;var n=e6();return _y=n,_y}var wy,_D;function r6(){if(_D)return wy;_D=1;var n=t6();return wy=n,wy}var Sy,wD;function i6(){if(wD)return Sy;wD=1;var n=r6();return Sy=n,Sy}var Ey,SD;function n6(){return SD||(SD=1,Ey=i6()),Ey}var s6=n6(),o6=ue(s6);function a6(n,e){if(Is(n)!="object"||!n)return n;var t=n[o6];if(t!==void 0){var r=t.call(n,e);if(Is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function l6(n){var e=a6(n,"string");return Is(e)=="symbol"?e:e+""}function $r(n,e,t){return(e=l6(e))in n?T8(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var ED={},$y,$D;function u6(){if($D)return $y;$D=1;var n=Ne(),e=be(),t=_e(),r=Wt(),i=zF().trim,s=Zb(),o=t("".charAt),a=n.parseFloat,l=n.Symbol,u=l&&l.iterator,d=1/a(s+"-0")!==-1/0||u&&!e(function(){a(Object(u))});return $y=d?function(h){var f=i(r(h)),v=a(f);return v===0&&o(f,0)==="-"?-0:v}:a,$y}var OD;function d6(){if(OD)return ED;OD=1;var n=ee(),e=u6();return n({global:!0,forced:parseFloat!==e},{parseFloat:e}),ED}var Oy,ID;function c6(){if(ID)return Oy;ID=1,d6();var n=Ie();return Oy=n.parseFloat,Oy}var Iy,xD;function h6(){if(xD)return Iy;xD=1;var n=c6();return Iy=n,Iy}var xy,TD;function f6(){return TD||(TD=1,xy=h6()),xy}var v6=f6(),MN=ue(v6),PD={},RD;function p6(){if(RD)return PD;RD=1;var n=ee(),e=be(),t=Gb().f,r=e(function(){return!Object.getOwnPropertyNames(1)});return n({target:"Object",stat:!0,forced:r},{getOwnPropertyNames:t}),PD}var Ty,CD;function g6(){if(CD)return Ty;CD=1,p6();var n=Ie(),e=n.Object;return Ty=function(r){return e.getOwnPropertyNames(r)},Ty}var Py,qD;function y6(){if(qD)return Py;qD=1;var n=g6();return Py=n,Py}var Ry,kD;function m6(){return kD||(kD=1,Ry=y6()),Ry}var b6=m6(),_6=ue(b6),Cy,DD;function w6(){if(DD)return Cy;DD=1,kF();var n=Ie();return Cy=n.Object.getOwnPropertySymbols,Cy}var qy,MD;function S6(){if(MD)return qy;MD=1;var n=w6();return qy=n,qy}var ky,AD;function E6(){return AD||(AD=1,ky=S6()),ky}var $6=E6(),ri=ue($6),Dy={exports:{}},FD={},ND;function O6(){if(ND)return FD;ND=1;var n=ee(),e=be(),t=tr(),r=ra().f,i=Ke(),s=!i||e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,l){return r(t(a),l)}}),FD}var BD;function I6(){if(BD)return Dy.exports;BD=1,O6();var n=Ie(),e=n.Object,t=Dy.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),Dy.exports}var My,jD;function x6(){if(jD)return My;jD=1;var n=I6();return My=n,My}var Ay,LD;function T6(){return LD||(LD=1,Ay=x6()),Ay}var P6=T6(),di=ue(P6),zD={},WD;function R6(){if(WD)return zD;WD=1;var n=ee(),e=Ke(),t=tH(),r=tr(),i=ra(),s=oa();return n({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=r(a),u=i.f,d=t(l),c={},h=0,f,v;d.length>h;)v=u(l,f=d[h++]),v!==void 0&&s(c,f,v);return c}}),zD}var Fy,HD;function C6(){if(HD)return Fy;HD=1,R6();var n=Ie();return Fy=n.Object.getOwnPropertyDescriptors,Fy}var Ny,VD;function q6(){if(VD)return Ny;VD=1;var n=C6();return Ny=n,Ny}var By,UD;function k6(){return UD||(UD=1,By=q6()),By}var D6=k6(),ii=ue(D6),jy={exports:{}},GD={},KD;function M6(){if(KD)return GD;KD=1;var n=ee(),e=Ke(),t=Ub().f;return n({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),GD}var YD;function A6(){if(YD)return jy.exports;YD=1,M6();var n=Ie(),e=n.Object,t=jy.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(t.sham=!0),jy.exports}var Ly,XD;function F6(){if(XD)return Ly;XD=1;var n=A6();return Ly=n,Ly}var zy,JD;function N6(){return JD||(JD=1,zy=F6()),zy}var B6=N6(),ga=ue(B6),Wy,ZD;function j6(){return ZD||(ZD=1,Wy=qN()),Wy}var L6=j6(),ya=ue(L6);function p1(n,e){const t=["node","edge","label"];let r=!0;const i=Ur(e,"chosen");if(typeof i=="boolean")r=i;else if(typeof i=="object"){if($e(t).call(t,n)===-1)throw new Error("choosify: subOption '"+n+"' should be one of '"+t.join("', '")+"'");const s=Ur(e,["chosen",n]);(typeof s=="boolean"||typeof s=="function")&&(r=s)}return r}function ub(n,e,t){if(n.width<=0||n.height<=0)return!1;if(t!==void 0){const s={x:e.x-t.x,y:e.y-t.y};if(t.angle!==0){const o=-t.angle;e={x:Math.cos(o)*s.x-Math.sin(o)*s.y,y:Math.sin(o)*s.x+Math.cos(o)*s.y}}else e=s}const r=n.x+n.width,i=n.y+n.width;return n.left<e.x&&r>e.x&&n.top<e.y&&i>e.y}function Mo(n){return typeof n=="string"&&n!==""}function AN(n,e,t,r){let i=r.x,s=r.y;if(typeof r.distanceToBorder=="function"){const o=r.distanceToBorder(n,e),a=Math.sin(e)*o,l=Math.cos(e)*o;l===o?(i+=o,s=r.y):a===o?(i=r.x,s-=o):(i+=l,s-=a)}else r.shape.width>r.shape.height?(i=r.x+r.shape.width*.5,s=r.y-t):(i=r.x+t,s=r.y-r.shape.height*.5);return{x:i,y:s}}var Hy,QD;function z6(){if(QD)return Hy;QD=1,Yn();var n=vt();return Hy=n("Array","values"),Hy}var Vy,eM;function W6(){if(eM)return Vy;eM=1;var n=z6();return Vy=n,Vy}var Uy,tM;function H6(){if(tM)return Uy;tM=1,Xn();var n=Gn(),e=ft(),t=et(),r=W6(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Uy=function(o){var a=o.values;return o===i||t(i,o)&&a===i.values||e(s,n(o))?r:a},Uy}var Gy,rM;function V6(){return rM||(rM=1,Gy=H6()),Gy}var U6=V6(),FN=ue(U6);class G6{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=t;(t===void 0||t==="")&&(i=" ");const s=this.measureText(i,r),o=Xe({},FN(s));o.text=t,o.width=s.width,o.mod=r,(t===void 0||t==="")&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t)}newLine(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const t=this.lines[e];let r=0;if(t.blocks!==void 0)for(let i=0;i<t.blocks.length;i++){const s=t.blocks[i];r<s.height&&(r=s.height)}t.height=r}}determineLabelSize(){let e=0,t=0;for(let r=0;r<this.lines.length;r++){const i=this.lines[r];i.width>e&&(e=i.width),t+=i.height}this.width=e,this.height=t}removeEmptyBlocks(){const e=[];for(let t=0;t<this.lines.length;t++){const r=this.lines[t];if(r.blocks.length===0||t===this.lines.length-1&&r.width===0)continue;const i={};Xe(i,r),i.blocks=[];let s;const o=[];for(let a=0;a<r.blocks.length;a++){const l=r.blocks[a];l.width!==0?o.push(l):s===void 0&&(s=l)}o.length===0&&s!==void 0&&o.push(s),i.blocks=o,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const K6={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class iM{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,t){return!this.mono&&!this[e]&&this.match(t)?(this.setTag(e),!0):!1}match(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[r,i]=this.prepareRegExp(e),s=r.test(this.text.substr(this.position,i));return s&&t&&(this.position+=i-1),s}parseEndTag(e,t,r){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(t)?(r!==void 0?(this.position===this.text.length-1||this.match(r,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,t){return this.match(e)?(this.add(t),this.position+=length-1,!0):!1}prepareRegExp(e){let t,r;if(e instanceof RegExp)r=e,t=1;else{const i=K6[e];i!==void 0?r=i:r=new RegExp(e),t=e.length}return[r,t]}}class Y6{constructor(e,t,r,i){this.ctx=e,this.parent=t,this.selected=r,this.hover=i;const s=(o,a)=>{if(o===void 0)return 0;const l=this.parent.getFormattingValues(e,r,i,a);let u=0;return o!==""&&(u=this.ctx.measureText(o).width),{width:u,values:l}};this.lines=new G6(s)}process(e){if(!Mo(e))return this.lines.finalize();const t=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const r=String(e).split(`
`),i=r.length;if(t.multi)for(let s=0;s<i;s++){const o=this.splitBlocks(r[s],t.multi);if(o!==void 0){if(o.length===0){this.lines.newLine("");continue}if(t.maxWdt>0)for(let a=0;a<o.length;a++){const l=o[a].mod,u=o[a].text;this.splitStringIntoLines(u,l,!0)}else for(let a=0;a<o.length;a++){const l=o[a].mod,u=o[a].text;this.lines.append(u,l)}this.lines.newLine()}}else if(t.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(r[s]);else for(let s=0;s<i;s++)this.lines.newLine(r[s]);return this.lines.finalize()}decodeMarkupSystem(e){let t="none";return e==="markdown"||e==="md"?t="markdown":(e===!0||e==="html")&&(t="html"),t}splitHtmlBlocks(e){const t=new iM(e),r=i=>/&/.test(i)?(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0):!1;for(;t.position<t.text.length;){const i=t.text.charAt(t.position);t.parseWS(i)||/</.test(i)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||r(i)||t.add(i),t.position++}return t.emitBlock(),t.blocks}splitMarkdownBlocks(e){const t=new iM(e);let r=!0;const i=s=>/\\/.test(s)?(t.position<this.text.length+1&&(t.position++,s=this.text.charAt(t.position),/ \t/.test(s)?t.spacing=!0:(t.add(s),r=!1)),!0):!1;for(;t.position<t.text.length;){const s=t.text.charAt(t.position);t.parseWS(s)||i(s)||(r||t.spacing)&&(t.parseStartTag("bold","*")||t.parseStartTag("ital","_")||t.parseStartTag("mono","`"))||t.parseEndTag("bold","*","afterBold")||t.parseEndTag("ital","_","afterItal")||t.parseEndTag("mono","`","afterMono")||(t.add(s),r=!1),t.position++}return t.emitBlock(),t.blocks}splitBlocks(e,t){const r=this.decodeMarkupSystem(t);if(r==="none")return[{text:e,mod:"normal"}];if(r==="markdown")return this.splitMarkdownBlocks(e);if(r==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}getLongestFit(e){let t="",r=0;for(;r<e.length;){const s=t+(t===""?"":" ")+e[r];if(this.overMaxWidth(s))break;t=s,r++}return r}getLongestFitWord(e){let t=0;for(;t<e.length&&!this.overMaxWidth(sr(e).call(e,0,t));)t++;return t}splitStringIntoLines(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const o=i[0],a=this.getLongestFitWord(o);this.lines.newLine(sr(o).call(o,0,a),t),i[0]=sr(o).call(o,a)}else{let o=s;i[s-1]===" "?s--:i[o]===" "&&o++;const a=sr(i).call(i,0,s).join("");s==i.length&&r?this.lines.append(a,t):this.lines.newLine(a,t),i=sr(i).call(i,o)}}}}const is=["bold","ital","boldital","mono"];class yn{constructor(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Mo(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const t=e.font.size;t!==void 0&&(this.baseSize=t)}}}initFontOptions(e){if(ye(is,t=>{this.fontOptions[t]={}}),yn.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}ye(e,(t,r)=>{t!=null&&typeof t!="object"&&(this.fontOptions[r]=t)})}static parseFontString(e,t){if(!t||typeof t!="string")return!1;const r=t.split(" ");return e.size=+r[0].replace("px",""),e.face=r[1],e.color=r[2],!0}constrain(e){const t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},r=Ur(e,"widthConstraint");if(typeof r=="number")t.maxWdt=Number(r),t.minWdt=Number(r);else if(typeof r=="object"){const s=Ur(e,["widthConstraint","maximum"]);typeof s=="number"&&(t.maxWdt=Number(s));const o=Ur(e,["widthConstraint","minimum"]);typeof o=="number"&&(t.minWdt=Number(o))}const i=Ur(e,"heightConstraint");if(typeof i=="number")t.minHgt=Number(i);else if(typeof i=="object"){const s=Ur(e,["heightConstraint","minimum"]);typeof s=="number"&&(t.minHgt=Number(s));const o=Ur(e,["heightConstraint","valign"]);typeof o=="string"&&(o==="top"||o==="bottom")&&(t.valign=o)}return t}update(e,t){this.setOptions(e,!0),this.propagateFonts(t),Ce(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=p1("label",t)}adjustSizes(e){const t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);const r=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=r)}addFontOptionsToPile(e,t){for(let r=0;r<t.length;++r)this.addFontToPile(e,t[r])}addFontToPile(e,t){if(t===void 0||t.font===void 0||t.font===null)return;const r=t.font;e.push(r)}getBasicOptions(e){const t={};for(let r=0;r<e.length;++r){let i=e[r];const s={};yn.parseFontString(s,i)&&(i=s),ye(i,(o,a)=>{o!==void 0&&(Object.prototype.hasOwnProperty.call(t,a)||($e(is).call(is,a)!==-1?t[a]={}:t[a]=o))})}return t}getFontOption(e,t,r){let i;for(let s=0;s<e.length;++s){const o=e[s];if(Object.prototype.hasOwnProperty.call(o,t)){if(i=o[t],i==null)continue;const a={};if(yn.parseFontString(a,i)&&(i=a),Object.prototype.hasOwnProperty.call(i,r))return i[r]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,r))return this.fontOptions[r];throw new Error("Did not find value for multi-font for property: '"+r+"'")}getFontOptions(e,t){const r={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const o=i[s];r[o]=this.getFontOption(e,t,o)}return r}propagateFonts(e){const t=[];this.addFontOptionsToPile(t,e),this.fontOptions=this.getBasicOptions(t);for(let r=0;r<is.length;++r){const i=is[r],s=this.fontOptions[i],o=this.getFontOptions(t,i);ye(o,(a,l)=>{s[l]=a}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,t,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,t,r,o),this._drawBackground(e),this._drawText(e,t,this.size.yLine,o,a))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}_drawText(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[t,r]=this._setAlignment(e,t,r,i),e.textAlign="left",t=t-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(r-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(r+=(this.size.height-this.size.labelHeight)/2));for(let o=0;o<this.lineCount;o++){const a=this.lines[o];if(a&&a.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-a.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-a.width);for(let u=0;u<a.blocks.length;u++){const d=a.blocks[u];e.font=d.font;const[c,h]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=h,e.lineJoin="round"),e.fillStyle=c,d.strokeWidth>0&&e.strokeText(d.text,t+l,r+d.vadjust),e.fillText(d.text,t+l,r+d.vadjust),l+=d.width}r+=a.height}}}_setAlignment(e,t,r,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){t=0,r=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",r-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",r+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[t,r]}_getColor(e,t,r){let i=e||"#000000",s=r||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){const o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));i=Ft(i,o),s=Ft(s,o)}return[i,s]}getTextSize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,t,r),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let t=this.size.left,r=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":t=s,r=-this.size.height*.5;break;case"top":t=s,r=-(this.size.height+2);break;case"bottom":t=s,r=2;break}}return{left:t,top:r,width:this.size.width,height:this.size.height}}calculateLabelSize(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,t,r),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,o==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,t,r,i){const s=function(l,u,d){return u==="normal"?d==="mod"?"":l[d]:l[u][d]!==void 0?l[u][d]:l[d]},o={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||r)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?o.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(o,this.elementOptions.id,t,r));let a="";return o.mod!==void 0&&o.mod!==""&&(a+=o.mod+" "),a+=o.size+"px "+o.face,e.font=a.replace(/"/g,""),o.font=e.font,o.height=o.size,o}differentState(e,t){return e!==this.selectedState||t!==this.hoverState}_processLabelText(e,t,r,i){return new Y6(e,this,t,r).process(i)}_processLabel(e,t,r){if(this.labelDirty===!1&&!this.differentState(t,r))return;const i=this._processLabelText(e,t,r,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=t,this.hoverState=r,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class Ki{constructor(e,t,r){this.body=t,this.labelModule=r,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,t){const r=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}enableShadow(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,t){if(t.borderDashes!==!1)if(e.setLineDash!==void 0){let r=t.borderDashes;r===!0&&(r=[5,15]),e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}disableBorderDashes(e,t){t.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}needsRefresh(e,t){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,t)}initContextForDraw(e,t){const r=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,r),e.strokeStyle=t.borderColor,e.fillStyle=t.color}performStroke(e,t){const r=t.borderWidth/this.body.view.scale;e.save(),r>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}performFill(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),eo(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,t,r,i,s){r!==void 0&&this.resize(r,i,s),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,t,r,i,s){this._updateBoundingBox(e,t,r,i,s)}getDimensionsFromLabel(e,t,r){this.textSize=this.labelModule.getTextSize(e,t,r);let i=this.textSize.width,s=this.textSize.height;const o=14;return i===0&&(i=o,s=o),{width:i,height:s}}}let X6=class extends Ki{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const i=this.getDimensionsFromLabel(e,t,r);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,o),SF(e,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(t,r,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,t,r,i,s){this._updateBoundingBox(e,t,r,i,s);const o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}distanceToBorder(e,t){e&&this.resize(e);const r=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}};class g1 extends Ki{constructor(e,t,r){super(e,t,r),this.labelOffset=0,this.selected=!1}setOptions(e,t,r){this.options=e,t===void 0&&r===void 0||this.setImages(t,r)}setImages(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}switchImages(e){const t=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&t){const r=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=r}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const t=this.options.imagePadding;typeof t=="object"?(e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left):(e.top=t,e.right=t,e.bottom=t,e.left=t)}return e}_resizeImage(){let e,t;if(this.options.shapeProperties.useImageSize===!1){let r=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?r=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*r,t=this.options.size*2*i}else{const r=this._getImagePadding();e=this.imageObj.width+r.left+r.right,t=this.imageObj.height+r.top+r.bottom}this.width=e,this.height=t,this.radius=.5*this.width}_drawRawCircle(e,t,r,i){this.initContextForDraw(e,i),Wb(e,t,r,i.size),this.performFill(e,i)}_drawImageAtPosition(e,t){if(this.imageObj.width!=0){e.globalAlpha=t.opacity!==void 0?t.opacity:1,this.enableShadow(e,t);let r=1;this.options.shapeProperties.interpolation===!0&&(r=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,o=this.top+i.top,a=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,r,s,o,a,l),this.disableShadow(e,t)}}_drawImageLabel(e,t,r,i,s){let o=0;if(this.height!==void 0){o=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(o+=l.height/2)}const a=r+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(e,t,a,i,s,"hanging")}}let J6=class extends g1{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const i=this.getDimensionsFromLabel(e,t,r),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width/2,this.top=r-this.height/2,this._drawRawCircle(e,t,r,o),this.updateBoundingBox(t,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,r,i,s)}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class Z6 extends g1{constructor(e,t,r,i,s){super(e,t,r),this.setImages(i,s)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,i,s,o){this.switchImages(i),this.resize();let a=t,l=r;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,l+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this._drawRawCircle(e,a,l,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,a,l,i,s),this.updateBoundingBox(t,r)}updateBoundingBox(e,t){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=t,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=t+this.options.size*2):(this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class ci extends Ki{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,r)){var s,o;this.labelModule.getTextSize(e,t,r);const a=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:a,this.height=(o=this.customSizeHeight)!==null&&o!==void 0?o:a,this.radius=.5*this.width}}_drawShape(e,t,r,i,s,o,a,l){return this.resize(e,o,a,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),vW(t)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,o,a,i,s,"hanging");const u=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,u,o,a,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function nM(n,e){var t=Ve(n);if(ri){var r=ri(n);e&&(r=Ot(r).call(r,function(i){return di(n,i).enumerable})),t.push.apply(t,r)}return t}function Q6(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?Te(t=nM(Object(i),!0)).call(t,function(s){$r(n,s,i[s])}):ii?ga(n,ii(i)):Te(r=nM(Object(i))).call(r,function(s){ya(n,s,di(i,s))})}return n}class eK extends ci{constructor(e,t,r,i){super(e,t,r,i),this.ctxRenderer=i}draw(e,t,r,i,s,o){this.resize(e,i,s,o),this.left=t-this.width/2,this.top=r-this.height/2,e.save();const a=this.ctxRenderer({ctx:e,id:this.options.id,x:t,y:r,state:{selected:i,hover:s},style:Q6({},o),label:this.options.label});if(a.drawNode!=null&&a.drawNode(),e.restore(),a.drawExternalLabel){const l=a.drawExternalLabel;a.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class tK extends Ki{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){if(this.needsRefresh(t,r)){const s=this.getDimensionsFromLabel(e,t,r).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,o),EF(e,t-this.width/2,r-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,r,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let rK=class extends ci{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"diamond",4,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class iK extends ci{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"circle",2,t,r,i,s,o)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class sM extends Ki{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const i=this.getDimensionsFromLabel(e,t,r);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width*.5,this.top=r-this.height*.5,this.initContextForDraw(e,o),Qm(e,this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,r,e,i,s),this.labelModule.draw(e,t,r,i,s)}distanceToBorder(e,t){e&&this.resize(e);const r=this.width*.5,i=this.height*.5,s=Math.sin(t)*r,o=Math.cos(t)*i;return r*i/Math.sqrt(s*s+o*o)}}class nK extends Ki{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,i,s,o){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=r-this.height/2,this._icon(e,t,r,i,s,o),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,r+this.height/2+5,i),this.updateBoundingBox(t,r)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=t+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,t,r,i,s,o){const a=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,t,r),this.disableShadow(e,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let sK=class extends g1{constructor(e,t,r,i,s){super(e,t,r),this.setImages(i,s)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,i,s,o){e.save(),this.switchImages(i),this.resize();let a=t,l=r;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,l+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const u=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,c=(i?d:u)/this.body.view.scale;e.lineWidth=Math.min(this.width,c),e.beginPath();let h=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,f=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;o.opacity!==void 0&&(h=Ft(h,o.opacity),f=Ft(f,o.opacity)),e.strokeStyle=h,e.fillStyle=f,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),eo(e).call(e),this.performStroke(e,o),e.closePath()}this._drawImageAtPosition(e,o),this._drawImageLabel(e,a,l,i,s),this.updateBoundingBox(t,r),e.restore()}updateBoundingBox(e,t){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=t):(this.left=e-this.width/2,this.top=t-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class oK extends ci{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"square",2,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class aK extends ci{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"hexagon",4,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class lK extends ci{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"star",4,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class uK extends Ki{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.textSize=this.labelModule.getTextSize(e,t,r),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width/2,this.top=r-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,o),this.updateBoundingBox(t,r,e,i,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let dK=class extends ci{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"triangle",3,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class cK extends ci{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"triangleDown",3,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}function oM(n,e){var t=Ve(n);if(ri){var r=ri(n);e&&(r=Ot(r).call(r,function(i){return di(n,i).enumerable})),t.push.apply(t,r)}return t}function aM(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?Te(t=oM(Object(i),!0)).call(t,function(s){$r(n,s,i[s])}):ii?ga(n,ii(i)):Te(r=oM(Object(i))).call(r,function(s){ya(n,s,di(i,s))})}return n}class Fe{constructor(e,t,r,i,s,o){this.options=Qr(s),this.globalOptions=s,this.defaultOptions=o,this.body=t,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new yn(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var t;$e(t=this.edges).call(t,e)===-1&&this.edges.push(e)}detachEdge(e){var t;const r=$e(t=this.edges).call(t,e);if(r!=-1){var i;Tr(i=this.edges).call(i,r,1)}}setOptions(e){const t=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");Fe.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Jt(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Jt(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=MN(e.value)),Fe.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const r=[e,this.options,this.defaultOptions];return this.chooser=p1("node",r),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&Fe.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,t,r){var i;if(r===void 0)return;const s=e.group;if(t!==void 0&&t.group!==void 0&&s!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const a=r.get(s);a.opacity!==void 0&&t.opacity===void 0&&(Fe.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));const l=Ot(i=_6(t)).call(i,u=>t[u]!=null);l.push("font"),ko(l,e,a),e.color=nb(e.color)}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(ko(["color","fixed","shadow"],e,t,r),Fe.checkMass(t),e.opacity!==void 0&&(Fe.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),t.opacity!==void 0&&(Fe.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!Fe.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),At(e,t,"shadow",i),t.color!==void 0&&t.color!==null){const a=nb(t.color);gN(e.color,a)}else r===!0&&t.color===null&&(e.color=Qr(i.color));t.fixed!==void 0&&t.fixed!==null&&(typeof t.fixed=="boolean"?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(t.fixed.x!==void 0&&typeof t.fixed.x=="boolean"&&(e.fixed.x=t.fixed.x),t.fixed.y!==void 0&&typeof t.fixed.y=="boolean"&&(e.fixed.y=t.fixed.y))),r===!0&&t.font===null&&(e.font=Qr(i.font)),Fe.updateGroupOptions(e,t,s),t.scaling!==void 0&&At(e.scaling,t.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const t=this.options.opacity;e.borderColor=Ft(e.borderColor,t),e.color=Ft(e.color,t),e.shadowColor=Ft(e.shadowColor,t)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),Fe.updateGroupOptions(this.options,aM(aM({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const t=this.grouplist.get(this.options.group,!1),r=[e,this.options,t,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new X6(this.options,this.body,this.labelModule);break;case"circle":this.shape=new J6(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Z6(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new eK(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new tK(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new rK(this.options,this.body,this.labelModule);break;case"dot":this.shape=new iK(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new sM(this.options,this.body,this.labelModule);break;case"icon":this.shape=new nK(this.options,this.body,this.labelModule);break;case"image":this.shape=new sK(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new oK(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new aK(this.options,this.body,this.labelModule);break;case"star":this.shape=new lK(this.options,this.body,this.labelModule);break;case"text":this.shape=new uK(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new dK(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new cK(this.options,this.body,this.labelModule);break;default:this.shape=new sM(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,t){return this.shape.distanceToBorder(e,t)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,t,r){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}getItemsOnPoint(e){const t=[];return this.labelModule.visible()&&ub(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),ub(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,t){if(e.mass!==void 0&&e.mass<=0){let r="";t!==void 0&&(r=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+r+", setting mass to 1.",_N),e.mass=1}}}class hK{constructor(e,t,r,i){var s;if(this.body=e,this.images=t,this.groups=r,this.layoutEngine=i,this.body.functions.createNode=B(s=this.create).call(s,this),this.nodesListeners={add:(o,a)=>{this.add(a.items)},update:(o,a)=>{this.update(a.items,a.data,a.oldData)},remove:(o,a)=>{this.remove(a.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,a,l,u){if(a===o)return .5;{const d=1/(a-o);return Math.max(0,(u-o)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Qr(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,t;this.body.emitter.on("refreshNodes",B(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",B(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",()=>{ye(this.nodesListeners,(r,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,r)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(Fe.parseOptions(this.options,e),e.opacity!==void 0&&(lb(e.opacity)||!_i(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const t of Ve(this.body.nodes))this.body.nodes[t].updateLabelModule(),this.body.nodes[t].needsRefresh();if(e.size!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.nodes;if(vF("id",e))this.body.data.nodes=e;else if(Ue(e))this.body.data.nodes=new To,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new To;else throw new TypeError("Array or DataSet expected");if(r&&ye(this.nodesListeners,function(i,s){r.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;ye(this.nodesListeners,function(o,a){i.body.data.nodes.on(a,o)});const s=this.body.data.nodes.getIds();this.add(s,!0)}t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;const i=[];for(let s=0;s<e.length;s++){r=e[s];const o=this.body.data.nodes.get(r),a=this.create(o);i.push(a),this.body.nodes[r]=a}this.layoutEngine.positionInitially(i),t===!1&&this.body.emitter.emit("_dataChanged")}update(e,t,r){const i=this.body.nodes;let s=!1;for(let o=0;o<e.length;o++){const a=e[o];let l=i[a];const u=t[o];l!==void 0?l.setOptions(u)&&(s=!0):(s=!0,l=this.create(u),i[a]=l)}!s&&r!==void 0&&(s=w8(t).call(t,function(o,a){const l=r[a];return l&&l.level!==o.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const t=this.body.nodes;for(let r=0;r<e.length;r++){const i=e[r];delete t[i]}this.body.emitter.emit("_dataChanged")}create(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fe;return new t(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ye(this.body.nodes,(t,r)=>{const i=this.body.data.nodes.get(r);i!==void 0&&(e===!0&&t.setOptions({x:null,y:null}),t.setOptions({fixed:!1}),t.setOptions(i))})}getPositions(e){const t={};if(e!==void 0){if(Ue(e)===!0){for(let r=0;r<e.length;r++)if(this.body.nodes[e[r]]!==void 0){const i=this.body.nodes[e[r]];t[e[r]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];t[e]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(let r=0;r<this.body.nodeIndices.length;r++){const i=this.body.nodes[this.body.nodeIndices[r]];t[this.body.nodeIndices[r]]={x:Math.round(i.x),y:Math.round(i.y)}}return t}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],t=this.body.data.nodes.getDataSet();for(const r of t.get()){const i=r.id,s=this.body.nodes[i],o=Math.round(s.x),a=Math.round(s.y);(r.x!==o||r.y!==a)&&e.push({id:i,x:o,y:a})}t.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,t){const r=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let o=0;o<i.edges.length;o++){const a=i.edges[o];t!=="to"&&a.toId==i.id?s[a.fromId]===void 0&&(r.push(a.fromId),s[a.fromId]=!0):t!=="from"&&a.fromId==i.id&&s[a.toId]===void 0&&(r.push(a.toId),s[a.toId]=!0)}}return r}getConnectedEdges(e){const t=[];if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];for(let i=0;i<r.edges.length;i++)t.push(r.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}moveNode(e,t,r){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(r),Pr(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var lM={},uM;function fK(){if(uM)return lM;uM=1;var n=ee(),e=Math.hypot,t=Math.abs,r=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return n({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(o,a){for(var l=0,u=0,d=arguments.length,c=0,h,f;u<d;)h=t(arguments[u++]),c<h?(f=c/h,l=l*f*f+1,c=h):h>0?(f=h/c,l+=f*f):l+=h;return c===1/0?1/0:c*r(l)}}),lM}var Ky,dM;function vK(){if(dM)return Ky;dM=1,fK();var n=Ie();return Ky=n.Math.hypot,Ky}var Yy,cM;function pK(){if(cM)return Yy;cM=1;var n=vK();return Yy=n,Yy}var Xy,hM;function gK(){return hM||(hM=1,Xy=pK()),Xy}var yK=gK(),mK=ue(yK);class Ge{static transform(e,t){Ue(e)||(e=[e]);const r=t.point.x,i=t.point.y,s=t.angle,o=t.length;for(let a=0;a<e.length;++a){const l=e[a],u=l.x*Math.cos(s)-l.y*Math.sin(s),d=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=r+o*u,l.y=i+o*d}}static drawPath(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length;++r)e.lineTo(t[r].x,t[r].y);e.closePath()}}let bK=class extends Ge{static draw(e,t){if(t.image){e.save(),e.translate(t.point.x,t.point.y),e.rotate(Math.PI/2+t.angle);const r=t.imageWidth!=null?t.imageWidth:t.image.width,i=t.imageHeight!=null?t.imageHeight:t.image.height;t.image.drawImageAtPosition(e,1,-r/2,0,r,i),e.restore()}return!1}};class _K extends Ge{static draw(e,t){const r=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}class wK{static draw(e,t){const r=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}class SK{static draw(e,t){const r={x:-.4,y:0};Ge.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=t.angle-i/2,o=t.angle+i/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,s,o,!1),e.stroke(),!0}}class EK{static draw(e,t){const r={x:-.3,y:0};Ge.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=t.angle+i/2,o=t.angle+3*i/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,s,o,!1),e.stroke(),!0}}class $K{static draw(e,t){const r=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}class OK{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}class IK{static draw(e,t){const r={x:-.4,y:0};return Ge.transform(r,t),Wb(e,r.x,r.y,t.length*.4),!0}}class xK{static draw(e,t){const r=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}class TK{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}class PK{static draw(e,t){const r=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}class RK{static draw(e,t){const r=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Ge.transform(r,t),Ge.drawPath(e,r),!0}}class NN{static draw(e,t){let r;switch(t.type&&(r=t.type.toLowerCase()),r){case"image":return bK.draw(e,t);case"circle":return IK.draw(e,t);case"box":return TK.draw(e,t);case"crow":return wK.draw(e,t);case"curve":return SK.draw(e,t);case"diamond":return PK.draw(e,t);case"inv_curve":return EK.draw(e,t);case"triangle":return $K.draw(e,t);case"inv_triangle":return OK.draw(e,t);case"bar":return xK.draw(e,t);case"vee":return RK.draw(e,t);case"arrow":default:return _K.draw(e,t)}}}function fM(n,e){var t=Ve(n);if(ri){var r=ri(n);e&&(r=Ot(r).call(r,function(i){return di(n,i).enumerable})),t.push.apply(t,r)}return t}function vM(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?Te(t=fM(Object(i),!0)).call(t,function(s){$r(n,s,i[s])}):ii?ga(n,ii(i)):Te(r=fM(Object(i))).call(r,function(s){ya(n,s,di(i,s))})}return n}class BN{constructor(e,t,r){$r(this,"color",{}),$r(this,"colorDirty",!0),$r(this,"hoverWidth",1.5),$r(this,"selectionWidth",2),this._body=t,this._labelModule=r,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,t,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,t.dashes!==!1?this._drawDashedLine(e,t,s):this._drawLine(e,t,s)}_drawLine(e,t,r,i,s){if(this.from!=this.to)this._line(e,t,r,i,s);else{const[o,a,l]=this._getCircleData(e);this._circle(e,t,o,a,l)}}_drawDashedLine(e,t,r,i,s){e.lineCap="round";const o=Ue(t.dashes)?t.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,r);else{const[a,l,u]=this._getCircleData(e);this._circle(e,t,a,l,u)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)$F(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{const[a,l,u]=this._getCircleData(e);this._circle(e,t,a,l,u)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}findBorderPosition(e,t,r){return this.from!=this.to?this._findBorderPosition(e,t,r):this._findBorderPositionCircle(e,t,r)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var t;const[r,i]=sr(t=this._getCircleData(e)).call(t,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const t=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const r=AN(e,this.options.selfReference.angle,t,this.from);return[r.x,r.y,t]}_pointOnCircle(e,t,r,i){const s=i*2*Math.PI;return{x:e+r*Math.cos(s),y:t-r*Math.sin(s)}}_findBorderPositionCircle(e,t,r){const i=r.x,s=r.y;let o=r.low,a=r.high;const l=r.direction,u=10,d=this.options.selfReference.size,c=.05;let h,f=(o+a)*.5,v=0;this.options.arrowStrikethrough===!0&&(l===-1?v=this.options.endPointOffset.from:l===1&&(v=this.options.endPointOffset.to));let y=0;do{f=(o+a)*.5,h=this._pointOnCircle(i,s,d,f);const b=Math.atan2(e.y-h.y,e.x-h.x),g=e.distanceToBorder(t,b)+v,p=Math.sqrt(Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2)),$=g-p;if(Math.abs($)<c)break;$>0?l>0?o=f:a=f:l>0?a=f:o=f,++y}while(o<=a&&y<u);return vM(vM({},h),{},{t:f})}getLineWidth(e,t){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):t===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,t){if(t.inheritsColor!==!1){if(t.inheritsColor==="both"&&this.from.id!==this.to.id){const r=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=Ft(this.from.options.color.border,t.opacity),s=Ft(this.to.options.color.border,t.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),r.addColorStop(0,i),r.addColorStop(1,s),r}return t.inheritsColor==="to"?Ft(this.to.options.color.border,t.opacity):Ft(this.from.options.color.border,t.opacity)}else return Ft(t.color,t.opacity)}_circle(e,t,r,i,s){this.enableShadow(e,t);let o=0,a=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,u=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:l,high:u,direction:-1}),c=this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:l,high:u,direction:1});o=Math.atan2(d.y-i,d.x-r),a=Math.atan2(c.y-i,c.x-r)}e.beginPath(),e.arc(r,i,s,o,a,!1),e.stroke(),this.disableShadow(e,t)}getDistanceToEdge(e,t,r,i,s,o){if(this.from!=this.to)return this._getDistanceToEdge(e,t,r,i,s,o);{const[a,l,u]=this._getCircleData(void 0),d=a-s,c=l-o;return Math.abs(Math.sqrt(d*d+c*c)-u)}}_getDistanceToLine(e,t,r,i,s,o){const a=r-e,l=i-t,u=a*a+l*l;let d=((s-e)*a+(o-t)*l)/u;d>1?d=1:d<0&&(d=0);const c=e+d*a,h=t+d*l,f=c-s,v=h-o;return Math.sqrt(f*f+v*v)}getArrowData(e,t,r,i,s,o){let a,l,u,d,c,h,f;const v=o.width;t==="from"?(u=this.from,d=this.to,c=o.fromArrowScale<0,h=Math.abs(o.fromArrowScale),f=o.fromArrowType):t==="to"?(u=this.to,d=this.from,c=o.toArrowScale<0,h=Math.abs(o.toArrowScale),f=o.toArrowType):(u=this.to,d=this.from,c=o.middleArrowScale<0,h=Math.abs(o.middleArrowScale),f=o.middleArrowType);const y=15*h+3*v;if(u!=d){const $=mK(u.x-d.x,u.y-d.y),m=y/$;if(t!=="middle")if(this.options.smooth.enabled===!0){const S=this._findBorderPosition(u,e,{via:r}),O=this.getPoint(S.t+m*(t==="from"?1:-1),r);a=Math.atan2(S.y-O.y,S.x-O.x),l=S}else a=Math.atan2(u.y-d.y,u.x-d.x),l=this._findBorderPosition(u,e);else{const S=(c?-m:m)/2,O=this.getPoint(.5+S,r),x=this.getPoint(.5-S,r);a=Math.atan2(O.y-x.y,O.x-x.x),l=this.getPoint(.5,r)}}else{const[$,m,S]=this._getCircleData(e);if(t==="from"){const O=this.options.selfReference.angle,x=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,e,{x:$,y:m,low:O,high:x,direction:-1});a=_.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=_}else if(t==="to"){const O=this.options.selfReference.angle,x=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,e,{x:$,y:m,low:O,high:x,direction:1});a=_.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=_}else{const O=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle($,m,S,O),a=O*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const b=l.x-y*.9*Math.cos(a),g=l.y-y*.9*Math.sin(a);return{point:l,core:{x:b,y:g},angle:a,length:y,type:f}}drawArrowHead(e,t,r,i,s){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,NN.draw(e,s)&&(this.enableShadow(e,t),eo(e).call(e),this.disableShadow(e,t))}enableShadow(e,t){t.shadow===!0&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,t){if(t.background!==!1){const r={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=r.strokeStyle,e.lineWidth=r.lineWidth,e.dashes=r.dashes,this.setStrokeDashed(e,t.dashes)}}setStrokeDashed(e,t){if(t!==!1)if(e.setLineDash!==void 0){const r=Ue(t)?t:[5,5];e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function pM(n,e){var t=Ve(n);if(ri){var r=ri(n);e&&(r=Ot(r).call(r,function(i){return di(n,i).enumerable})),t.push.apply(t,r)}return t}function gM(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?Te(t=pM(Object(i),!0)).call(t,function(s){$r(n,s,i[s])}):ii?ga(n,ii(i)):Te(r=pM(Object(i))).call(r,function(s){ya(n,s,di(i,s))})}return n}class y1 extends BN{constructor(e,t,r){super(e,t,r)}_findBorderPositionBezier(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let o=!1,a=1,l=0,u=this.to,d,c,h=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(u=this.from,o=!0,h=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(h=0);let f=0;do{c=(l+a)*.5,d=this.getPoint(c,r);const v=Math.atan2(u.y-d.y,u.x-d.x),y=u.distanceToBorder(t,v)+h,b=Math.sqrt(Math.pow(d.x-u.x,2)+Math.pow(d.y-u.y,2)),g=y-b;if(Math.abs(g)<s)break;g<0?o===!1?l=c:a=c:o===!1?a=c:l=c,++f}while(l<=a&&f<i);return gM(gM({},d),{},{t:c})}_getDistanceToBezierEdge(e,t,r,i,s,o,a){let l=1e9,u,d,c,h,f,v=e,y=t;for(d=1;d<10;d++)c=.1*d,h=Math.pow(1-c,2)*e+2*c*(1-c)*a.x+Math.pow(c,2)*r,f=Math.pow(1-c,2)*t+2*c*(1-c)*a.y+Math.pow(c,2)*i,d>0&&(u=this._getDistanceToLine(v,y,h,f,s,o),l=u<l?u:l),v=h,y=f;return l}_bezierCurve(e,t,r,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),r!=null&&r.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(r.x,r.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(r.x,r.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,t),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){return this._getViaCoordinates()}}class yM extends y1{constructor(e,t,r){super(e,t,r),$r(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),t===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,t=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,t,r){this._bezierCurve(e,t,r)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[r,i,s]=this._getCircleData(),o=2*Math.PI*(1-e);return{x:r+s*Math.sin(o),y:i+s-s*(1-Math.cos(o))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*t.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*t.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t,this.via)}_getDistanceToEdge(e,t,r,i,s,o){return this._getDistanceToBezierEdge(e,t,r,i,s,o,this.via)}}class mM extends y1{constructor(e,t,r){super(e,t,r)}_line(e,t,r){this._bezierCurve(e,t,r)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,t=this.options.smooth.type;let r=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(t==="discrete"||t==="diagonalCross"){let s,o;r<=i?s=o=e*i:s=o=e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,l=this.from.y+o;return t==="discrete"&&(r<=i?a=r<e*i?this.from.x:a:l=i<e*r?this.from.y:l),{x:a,y:l}}else if(t==="straightCross"){let s=(1-e)*r,o=(1-e)*i;return r<=i?(s=0,this.from.y<this.to.y&&(o=-o)):(this.from.x<this.to.x&&(s=-s),o=0),{x:this.to.x+s,y:this.to.y+o}}else if(t==="horizontal"){let s=(1-e)*r;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(t==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(t==="curvedCW"){r=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(r*r+i*i),o=Math.PI,l=(Math.atan2(i,r)+(e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(t==="curvedCCW"){r=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(r*r+i*i),o=Math.PI,l=(Math.atan2(i,r)+(-e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,o;r<=i?s=o=e*i:s=o=e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,l=this.from.y+o;return r<=i?this.from.x<=this.to.x?a=this.to.x<a?this.to.x:a:a=this.to.x>a?this.to.x:a:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:a,y:l}}}_findBorderPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,t,r.via)}_getDistanceToEdge(e,t,r,i,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,r,i,s,o,a)}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const r=e,i=Math.pow(1-r,2)*this.fromPoint.x+2*r*(1-r)*t.x+Math.pow(r,2)*this.toPoint.x,s=Math.pow(1-r,2)*this.fromPoint.y+2*r*(1-r)*t.y+Math.pow(r,2)*this.toPoint.y;return{x:i,y:s}}}class CK extends y1{constructor(e,t,r){super(e,t,r)}_getDistanceToBezierEdge2(e,t,r,i,s,o,a,l){let u=1e9,d=e,c=t;const h=[0,0,0,0];for(let f=1;f<10;f++){const v=.1*f;h[0]=Math.pow(1-v,3),h[1]=3*v*Math.pow(1-v,2),h[2]=3*Math.pow(v,2)*(1-v),h[3]=Math.pow(v,3);const y=h[0]*e+h[1]*a.x+h[2]*l.x+h[3]*r,b=h[0]*t+h[1]*a.y+h[2]*l.y+h[3]*i;if(f>0){const g=this._getDistanceToLine(d,c,y,b,s,o);u=g<u?g:u}d=y,c=b}return u}}class bM extends CK{constructor(e,t,r){super(e,t,r)}_line(e,t,r){const i=r[0],s=r[1];this._bezierCurve(e,t,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,t=this.from.y-this.to.y;let r,i,s,o;const a=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(t)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,o=this.to.y,r=this.from.x-a*e,s=this.to.x+a*e):(i=this.from.y-a*t,o=this.to.y+a*t,r=this.from.x,s=this.to.x),[{x:r,y:i},{x:s,y:o}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t)}_getDistanceToEdge(e,t,r,i,s,o){let[a,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,t,r,i,s,o,a,l)}getPoint(e){let[t,r]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],o=s[0]*this.fromPoint.x+s[1]*t.x+s[2]*r.x+s[3]*this.toPoint.x,a=s[0]*this.fromPoint.y+s[1]*t.y+s[2]*r.y+s[3]*this.toPoint.y;return{x:o,y:a}}}class _M extends BN{constructor(e,t,r){super(e,t,r)}_line(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,t){let r=this.to,i=this.from;e.id===this.from.id&&(r=this.from,i=this.to);const s=Math.atan2(r.y-i.y,r.x-i.x),o=r.x-i.x,a=r.y-i.y,l=Math.sqrt(o*o+a*a),u=e.distanceToBorder(t,s),d=(l-u)/l;return{x:(1-d)*i.x+d*r.x,y:(1-d)*i.y+d*r.y,t:0}}_getDistanceToEdge(e,t,r,i,s,o){return this._getDistanceToLine(e,t,r,i,s,o)}}class ei{constructor(e,t,r,i,s){if(t===void 0)throw new Error("No body provided");this.options=Qr(i),this.globalOptions=i,this.defaultOptions=s,this.body=t,this.imagelist=r,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new yn(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let t=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;ei.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=MN(e.value));const r=[e,this.options,this.defaultOptions];return this.chooser=p1("edge",r),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Qn(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,r),t.endPointOffset!==void 0&&t.endPointOffset.from!==void 0&&(_i(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),t.endPointOffset!==void 0&&t.endPointOffset.to!==void 0&&(_i(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Mo(t.label)?e.label=t.label:Mo(e.label)||(e.label=void 0),At(e,t,"smooth",i),At(e,t,"shadow",i),At(e,t,"background",i),t.dashes!==void 0&&t.dashes!==null?e.dashes=t.dashes:r===!0&&t.dashes===null&&(e.dashes=$i(i.dashes)),t.scaling!==void 0&&t.scaling!==null?(t.scaling.min!==void 0&&(e.scaling.min=t.scaling.min),t.scaling.max!==void 0&&(e.scaling.max=t.scaling.max),At(e.scaling,t.scaling,"label",i.scaling)):r===!0&&t.scaling===null&&(e.scaling=$i(i.scaling)),t.arrows!==void 0&&t.arrows!==null)if(typeof t.arrows=="string"){const a=t.arrows.toLowerCase();e.arrows.to.enabled=$e(a).call(a,"to")!=-1,e.arrows.middle.enabled=$e(a).call(a,"middle")!=-1,e.arrows.from.enabled=$e(a).call(a,"from")!=-1}else if(typeof t.arrows=="object")At(e.arrows,t.arrows,"to",i.arrows),At(e.arrows,t.arrows,"middle",i.arrows),At(e.arrows,t.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Qs(t.arrows));else r===!0&&t.arrows===null&&(e.arrows=$i(i.arrows));if(t.color!==void 0&&t.color!==null){const a=pn(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,l=e.color;if(s)Ce(l,i.color,!1,r);else for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&delete l[u];if(pn(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,a.opacity===void 0&&(l.opacity=1);else{let u=!1;a.color!==void 0&&(l.color=a.color,u=!0),a.highlight!==void 0&&(l.highlight=a.highlight,u=!0),a.hover!==void 0&&(l.hover=a.hover,u=!0),a.inherit!==void 0&&(l.inherit=a.inherit),a.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,a.opacity))),u===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else r===!0&&t.color===null&&(e.color=Qr(i.color));r===!0&&t.font===null&&(e.font=Qr(i.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,t=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,r=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:r,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const o=this.options.selectionWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const o=this.options.hoverWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let t=!1,r=!0;return this.edgeType!==void 0&&((this.edgeType instanceof yM&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof bM&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof mM&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof _M&&e.type.enabled===!1)&&(r=!1),r===!0&&(t=this.cleanup())),r===!0?e.enabled===!0?e.type==="dynamic"?(t=!0,this.edgeType=new yM(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new bM(this.options,this.body,this.labelModule):this.edgeType=new mM(this.options,this.body,this.labelModule):this.edgeType=new _M(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,t,r){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,r),this.drawLabel(e,r)}drawArrows(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),t.fromArrowSrc&&(i.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(i.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(i.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),t.toArrowSrc&&(i.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(i.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(i.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",r,this.selected,this.hover,t),t.middleArrowSrc&&(i.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(i.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(i.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.to)}drawLabel(e,t){if(this.options.label!==void 0){const r=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(r.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,t),e.save();const o=this._getRotation(e);o.angle!=0&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const o=AN(e,this.options.selfReference.angle,this.options.selfReference.size,r);s=this._pointOnCircle(o.x,o.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const t=[];if(this.labelModule.visible()){const i=this._getRotation();ub(this.labelModule.getSize(),e,i)&&t.push({edgeId:this.id,labelId:0})}const r={left:e.x,top:e.y};return this.isOverlappingWith(r)&&t.push({edgeId:this.id}),t}isOverlappingWith(e){if(this.connected){const r=this.from.x,i=this.from.y,s=this.to.x,o=this.to.y,a=e.left,l=e.top;return this.edgeType.getDistanceToEdge(r,i,s,o,a,l)<10}else return!1}_getRotation(e){const t=this.edgeType.getViaNode(),r=this.edgeType.getPoint(.5,t);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,r.x,r.y);const i={x:r.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,o=this.from.x-this.to.x;let a=Math.atan2(s,o);return(a<-1&&o<0||a>0&&o<0)&&(a+=Math.PI),i.angle=a,i}_pointOnCircle(e,t,r,i){return{x:e+r*Math.cos(i),y:t-r*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class qK{constructor(e,t,r){var i;this.body=e,this.images=t,this.groups=r,this.body.functions.createEdge=B(i=this.create).call(i,this),this.edgesListeners={add:(s,o)=>{this.add(o.items)},update:(s,o)=>{this.update(o.items)},remove:(s,o)=>{this.remove(o.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,o,a,l){if(o===s)return .5;{const u=1/(o-s);return Math.max(0,(l-s)*u)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Ce(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,t,r;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let o=!1;for(const a in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,a)){const l=e.body.edges[a],u=e.body.data.edges.get(a);if(u!=null){const d=u.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),o=!0)}}s===!0&&o===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",B(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",B(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{ye(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){ei.parseOptions(this.options,e,!0,this.defaultOptions,!0);let t=!1;if(e.smooth!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&(t=this.body.edges[r].updateEdgeType()||t);if(e.font!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&this.body.edges[r].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||t===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.edges;if(vF("id",e))this.body.data.edges=e;else if(Ue(e))this.body.data.edges=new To,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new To;else throw new TypeError("Array or DataSet expected");if(r&&ye(this.edgesListeners,(i,s)=>{r.off(s,i)}),this.body.edges={},this.body.data.edges){ye(this.edgesListeners,(s,o)=>{this.body.data.edges.on(o,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const o=e[s],a=r[o];a&&a.disconnect();const l=i.get(o,{showInternalIds:!0});r[o]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}update(e){const t=this.body.edges,r=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const o=e[s],a=r.get(o),l=t[o];l!==void 0?(l.disconnect(),i=l.setOptions(a)||i,l.connect()):(this.body.edges[o]=this.create(a),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const r=this.body.edges;ye(e,i=>{const s=r[i];s!==void 0&&s.remove()}),t&&this.body.emitter.emit("_dataChanged")}refresh(){ye(this.body.edges,(e,t)=>{const r=this.body.data.edges.get(t);r!==void 0&&e.setOptions(r)})}create(e){return new ei(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const t=this.body.nodes,r=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const i=r[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const t=[];if(this.body.edges[e]!==void 0){const r=this.body.edges[e];r.fromId!==void 0&&t.push(r.fromId),r.toId!==void 0&&t.push(r.toId)}return t}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];ye(this.body.edges,(t,r)=>{const i=this.body.nodes[t.toId],s=this.body.nodes[t.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(r)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const t=this.body.edges,r=[];Te(e).call(e,(i,s)=>{t[s]===void 0&&r.push(s)}),this.add(r,!0)}}class jN{constructor(e,t,r){this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(r),this._rng=fa("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const t=this.body.nodes,r=this.physicsBody.physicsNodeIndices,i=r.length,s=this._formBarnesHutTree(t,r);this.barnesHutTree=s;for(let o=0;o<i;o++)e=t[r[o]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}_getForceContribution(e,t){if(e.childrenCount>0){const r=e.centerOfMass.x-t.x,i=e.centerOfMass.y-t.y,s=Math.sqrt(r*r+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,r,i,t,e):e.childrenCount===4?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(s,r,i,t,e)}}_calculateForces(e,t,r,i,s){e===0&&(e=.1,t=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const o=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),a=t*o,l=r*o;this.physicsBody.forces[i.id].x+=a,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,t){let r;const i=t.length;let s=e[t[0]].x,o=e[t[0]].y,a=e[t[0]].x,l=e[t[0]].y;for(let b=1;b<i;b++){const g=e[t[b]],p=g.x,$=g.y;g.options.mass>0&&(p<s&&(s=p),p>a&&(a=p),$<o&&(o=$),$>l&&(l=$))}const u=Math.abs(a-s)-Math.abs(l-o);u>0?(o-=.5*u,l+=.5*u):(s+=.5*u,a-=.5*u);const c=Math.max(1e-5,Math.abs(a-s)),h=.5*c,f=.5*(s+a),v=.5*(o+l),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-h,maxX:f+h,minY:v-h,maxY:v+h},size:c,calcSize:1/c,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let b=0;b<i;b++)r=e[t[b]],r.options.mass>0&&this._placeInTree(y.root,r);return y}_updateBranchMass(e,t){const r=e.centerOfMass,i=e.mass+t.options.mass,s=1/i;r.x=r.x*e.mass+t.x*t.options.mass,r.x*=s,r.y=r.y*e.mass+t.y*t.options.mass,r.y*=s,e.mass=i;const o=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}_placeInTree(e,t,r){(r!=!0||r===void 0)&&this._updateBranchMass(e,t);const i=e.children.NW.range;let s;i.maxX>t.x?i.maxY>t.y?s="NW":s="SW":i.maxY>t.y?s="NE":s="SE",this._placeInRegion(e,t,s)}_placeInRegion(e,t,r){const i=e.children[r];switch(i.childrenCount){case 0:i.children.data=t,i.childrenCount=1,this._updateBranchMass(i,t);break;case 1:i.children.data.x===t.x&&i.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,t));break;case 4:this._placeInTree(i,t);break}}_splitBranch(e){let t=null;e.childrenCount===1&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),t!=null&&this._placeInTree(e,t)}_insertRegion(e,t){let r,i,s,o;const a=.5*e.size;switch(t){case"NW":r=e.range.minX,i=e.range.minX+a,s=e.range.minY,o=e.range.minY+a;break;case"NE":r=e.range.minX+a,i=e.range.maxX,s=e.range.minY,o=e.range.minY+a;break;case"SW":r=e.range.minX,i=e.range.minX+a,s=e.range.minY+a,o=e.range.maxY;break;case"SE":r=e.range.minX+a,i=e.range.maxX,s=e.range.minY+a,o=e.range.maxY;break}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:r,maxX:i,minY:s,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,t){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}_drawBranch(e,t,r){r===void 0&&(r="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=r,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}class kK{constructor(e,t,r){this._rng=fa("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,i,s,o,a,l;const u=this.body.nodes,d=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,h=this.options.nodeDistance,f=-2/3/h,v=4/3;for(let y=0;y<d.length-1;y++){a=u[d[y]];for(let b=y+1;b<d.length;b++)l=u[d[b]],e=l.x-a.x,t=l.y-a.y,r=Math.sqrt(e*e+t*t),r===0&&(r=.1*this._rng(),e=r),r<2*h&&(r<.5*h?o=1:o=f*r+v,o=o/r,i=e*o,s=t*o,c[a.id].x-=i,c[a.id].y-=s,c[l.id].x+=i,c[l.id].y+=s)}}}class DK{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<t.length-1;s++){const o=e[t[s]];for(let a=s+1;a<t.length;a++){const l=e[t[a]];if(o.level===l.level){const u=i+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(l.shape.radius||0)/2),d=l.x-o.x,c=l.y-o.y,h=Math.sqrt(d*d+c*c),f=.05;let v;h<u?v=-Math.pow(f*h,2)+Math.pow(f*u,2):v=0,h!==0&&(v=v/h);const y=d*v,b=c*v;r[o.id].x-=y,r[o.id].y-=b,r[l.id].x+=y,r[l.id].y+=b}}}}}class Jy{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t;const r=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,o,a;for(let l=0;l<r.length;l++)t=i[r[l]],t.connected===!0&&t.toId!==t.fromId&&this.body.nodes[t.toId]!==void 0&&this.body.nodes[t.fromId]!==void 0&&(t.edgeType.via!==void 0?(e=t.options.length===void 0?this.options.springLength:t.options.length,s=t.to,o=t.edgeType.via,a=t.from,this._calculateSpringForce(s,o,.5*e),this._calculateSpringForce(o,a,.5*e)):(e=t.options.length===void 0?this.options.springLength*1.5:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}_calculateSpringForce(e,t,r){const i=e.x-t.x,s=e.y-t.y,o=Math.max(Math.sqrt(i*i+s*s),.01),a=this.options.springConstant*(r-o)/o,l=i*a,u=s*a;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=u),this.physicsBody.forces[t.id]!==void 0&&(this.physicsBody.forces[t.id].x-=l,this.physicsBody.forces[t.id].y-=u)}}class MK{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,i,s,o,a,l;const u=this.body.edges,d=.5,c=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces;for(let m=0;m<h.length;m++){const S=h[m];f[S].springFx=0,f[S].springFy=0}for(let m=0;m<c.length;m++)t=u[c[m]],t.connected===!0&&(e=t.options.length===void 0?this.options.springLength:t.options.length,r=t.from.x-t.to.x,i=t.from.y-t.to.y,l=Math.sqrt(r*r+i*i),l=l===0?.01:l,a=this.options.springConstant*(e-l)/l,s=r*a,o=i*a,t.to.level!=t.from.level?(f[t.toId]!==void 0&&(f[t.toId].springFx-=s,f[t.toId].springFy-=o),f[t.fromId]!==void 0&&(f[t.fromId].springFx+=s,f[t.fromId].springFy+=o)):(f[t.toId]!==void 0&&(f[t.toId].x-=d*s,f[t.toId].y-=d*o),f[t.fromId]!==void 0&&(f[t.fromId].x+=d*s,f[t.fromId].y+=d*o)));a=1;let v,y;for(let m=0;m<h.length;m++){const S=h[m];v=Math.min(a,Math.max(-a,f[S].springFx)),y=Math.min(a,Math.max(-a,f[S].springFy)),f[S].x+=v,f[S].y+=y}let b=0,g=0;for(let m=0;m<h.length;m++){const S=h[m];b+=f[S].x,g+=f[S].y}const p=b/h.length,$=g/h.length;for(let m=0;m<h.length;m++){const S=h[m];f[S].x-=p,f[S].y-=$}}}class So{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,i;const s=this.body.nodes,o=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces;for(let l=0;l<o.length;l++){const u=o[l];i=s[u],e=-i.x,t=-i.y,r=Math.sqrt(e*e+t*t),this._calculateForces(r,e,t,a,i)}}_calculateForces(e,t,r,i,s){const o=e===0?0:this.options.centralGravity/e;i[s.id].x=t*o,i[s.id].y=r*o}}class AK extends jN{constructor(e,t,r){super(e,t,r),this._rng=fa("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,t,r,i,s){e===0&&(e=.1*this._rng(),t=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const o=i.edges.length+1,a=this.options.gravitationalConstant*s.mass*i.options.mass*o/Math.pow(e,2),l=t*a,u=r*a;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=u}}class FK extends So{constructor(e,t,r){super(e,t,r)}_calculateForces(e,t,r,i,s){if(e>0){const o=s.edges.length+1,a=this.options.centralGravity*o*s.options.mass;i[s.id].x=t*a,i[s.id].y=r*a}}}class NK{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Xe(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,ko(["stabilization"],this.options,e),At(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const t=this.options.wind;t&&((typeof t.x!="number"||lb(t.x))&&(t.x=0),(typeof t.y!="number"||lb(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new AK(this.body,this.physicsBody,e),this.edgesSolver=new Jy(this.body,this.physicsBody,e),this.gravitySolver=new FK(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new kK(this.body,this.physicsBody,e),this.edgesSolver=new Jy(this.body,this.physicsBody,e),this.gravitySolver=new So(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new DK(this.body,this.physicsBody,e),this.edgesSolver=new MK(this.body,this.physicsBody,e),this.gravitySolver=new So(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new jN(this.body,this.physicsBody,e),this.edgesSolver=new Jy(this.body,this.physicsBody,e),this.gravitySolver=new So(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=B(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Po();this.physicsTick(),(Po()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Pr(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,t=this.body.edges;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[r].id);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&t[r].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(t[r].id);for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const i=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const r in this.physicsBody.velocities)e[r]===void 0&&delete this.physicsBody.velocities[r]}revert(){const e=Ve(this.previousStates),t=this.body.nodes,r=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];t[s]!==void 0?t[s].options.physics===!0&&(this.referenceState[s]={positions:{x:t[s].x,y:t[s].y}},r[s].x=this.previousStates[s].vx,r[s].y=this.previousStates[s].vy,t[s].x=this.previousStates[s].x,t[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,t,r;const i=this.body.nodes,s=this.referenceState,o=.3;for(const a in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,a)&&i[a]!==void 0&&(e=i[a].x-s[a].positions.x,t=i[a].y-s[a].positions.y,r=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),r>o))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let t=0,r=0;const i=5;for(let s=0;s<e.length;s++){const o=e[s],a=this._performStep(o);t=Math.max(t,a),r+=a}this.adaptiveTimestepEnabled=r/e.length<i,this.stabilized=t<this.options.minVelocity}calculateComponentVelocity(e,t,r){const i=this.modelOptions.damping*e,s=(t-i)/r;e+=s*this.timestep;const o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}_performStep(e){const t=this.body.nodes[e],r=this.physicsBody.forces[e];this.options.wind&&(r.x+=this.options.wind.x,r.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:i.x,vy:i.y},t.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,r.x,t.options.mass),t.x+=i.x*this.timestep):(r.x=0,i.x=0),t.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,r.y,t.options.mass),t.y+=i.y*this.timestep):(r.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){const r=e[t].options.fixed;this.freezeCache[t]={x:r.x,y:r.y},r.x=!0,r.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.freezeCache[t]!==void 0&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Pr(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,t=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&t();let r=0;for(;e()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;if(t(),e()){var i;Pr(B(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let t=0;t<this.physicsBody.physicsNodeIndices.length;t++){const r=this.physicsBody.physicsNodeIndices[t],i=this.body.nodes[r],s=this.physicsBody.forces[r],o=20,a=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),u=Math.min(Math.max(5,l),15),d=3*u,c=sb((180-Math.min(1,Math.max(0,a*l))*180)/360,1,1),h={x:i.x+o*s.x,y:i.y+o*s.y};e.lineWidth=u,e.strokeStyle=c,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(h.x,h.y),e.stroke();const f=Math.atan2(s.y,s.x);e.fillStyle=c,NN.draw(e,{type:"arrow",point:h,angle:f,length:d}),eo(e).call(e)}}}const ht=[];for(let n=0;n<256;++n)ht.push((n+256).toString(16).slice(1));function BK(n,e=0){return(ht[n[e+0]]+ht[n[e+1]]+ht[n[e+2]]+ht[n[e+3]]+"-"+ht[n[e+4]]+ht[n[e+5]]+"-"+ht[n[e+6]]+ht[n[e+7]]+"-"+ht[n[e+8]]+ht[n[e+9]]+"-"+ht[n[e+10]]+ht[n[e+11]]+ht[n[e+12]]+ht[n[e+13]]+ht[n[e+14]]+ht[n[e+15]]).toLowerCase()}let Zy;const jK=new Uint8Array(16);function LK(){if(!Zy){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Zy=crypto.getRandomValues.bind(crypto)}return Zy(jK)}const zK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var wM={randomUUID:zK};function WK(n,e,t){var i;n=n||{};const r=n.random??((i=n.rng)==null?void 0:i.call(n))??LK();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,BK(r)}function fs(n,e,t){return wM.randomUUID&&!n?wM.randomUUID():WK(n)}class bt{constructor(){}static getRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,i=-1e9,s=1e9,o=-1e9,a;if(t.length>0)for(let l=0;l<t.length;l++)a=e[t[l]],s>a.shape.boundingBox.left&&(s=a.shape.boundingBox.left),o<a.shape.boundingBox.right&&(o=a.shape.boundingBox.right),r>a.shape.boundingBox.top&&(r=a.shape.boundingBox.top),i<a.shape.boundingBox.bottom&&(i=a.shape.boundingBox.bottom);return s===1e9&&o===-1e9&&r===1e9&&i===-1e9&&(r=0,i=0,s=0,o=0),{minX:s,maxX:o,minY:r,maxY:i}}static getRangeCore(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,i=-1e9,s=1e9,o=-1e9,a;if(t.length>0)for(let l=0;l<t.length;l++)a=e[t[l]],s>a.x&&(s=a.x),o<a.x&&(o=a.x),r>a.y&&(r=a.y),i<a.y&&(i=a.y);return s===1e9&&o===-1e9&&r===1e9&&i===-1e9&&(r=0,i=0,s=0,o=0),{minX:s,maxX:o,minY:r,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,t){const r={};return t===void 0||t==="node"?(Ce(r,e.options,!0),r.x=e.x,r.y=e.y,r.amountOfConnections=e.edges.length):Ce(r,e.options,!0),r}}class HK extends Fe{constructor(e,t,r,i,s,o){super(e,t,r,i,s,o),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const t=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!t.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],ye(t.edges,r=>{delete this.containedEdges[r.id]}),ye(t.containedNodes,(r,i)=>{this.containedNodes[i]=r}),t.containedNodes={},ye(t.containedEdges,(r,i)=>{this.containedEdges[i]=r}),t.containedEdges={},ye(t.edges,r=>{ye(this.edges,i=>{var s,o;const a=$e(s=i.clusteringEdgeReplacingIds).call(s,r.id);a!==-1&&(ye(r.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),Tr(o=i.clusteringEdgeReplacingIds).call(o,a,1))})}),t.edges=[]}}class VK{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Xe(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,t){e===void 0?e=this._getHubSize():typeof e=="object"&&(t=this._checkOptions(e),e=this._getHubSize());const r=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&r.push(s.id)}for(let i=0;i<r.length;i++)this.clusterByConnection(r[i],t,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const r={},i={};ye(this.body.nodes,(s,o)=>{s.options&&e.joinCondition(s.options)===!0&&(r[o]=s,ye(s.edges,a=>{this.clusteredEdges[a.id]===void 0&&(i[a.id]=a)}))}),this._cluster(r,i,e,t)}clusterByEdgeCount(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;t=this._checkOptions(t);const i=[],s={};let o,a,l;for(let u=0;u<this.body.nodeIndices.length;u++){const d={},c={},h=this.body.nodeIndices[u],f=this.body.nodes[h];if(s[h]===void 0){l=0,a=[];for(let v=0;v<f.edges.length;v++)o=f.edges[v],this.clusteredEdges[o.id]===void 0&&(o.toId!==o.fromId&&l++,a.push(o));if(l===e){const v=function(b){if(t.joinCondition===void 0||t.joinCondition===null)return!0;const g=bt.cloneOptions(b);return t.joinCondition(g)};let y=!0;for(let b=0;b<a.length;b++){o=a[b];const g=this._getConnectedId(o,h);if(v(f))c[o.id]=o,d[h]=f,d[g]=this.body.nodes[g],s[h]=!0;else{y=!1;break}}if(Ve(d).length>0&&Ve(c).length>0&&y===!0){const g=function(){for(let p=0;p<i.length;++p)for(const $ in d)if(i[p].nodes[$]!==void 0)return i[p]}();if(g!==void 0){for(const p in d)g.nodes[p]===void 0&&(g.nodes[p]=d[p]);for(const p in c)g.edges[p]===void 0&&(g.edges[p]=c[p])}else i.push({nodes:d,edges:c})}}}}for(let u=0;u<i.length;u++)this._cluster(i[u].nodes,i[u].edges,t,!1);r===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,t)}clusterBridges(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,t)}clusterByConnection(e,t){var r;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];t=this._checkOptions(t,s),t.clusterNodeProperties.x===void 0&&(t.clusterNodeProperties.x=s.x),t.clusterNodeProperties.y===void 0&&(t.clusterNodeProperties.y=s.y),t.clusterNodeProperties.fixed===void 0&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=s.options.fixed.x,t.clusterNodeProperties.fixed.y=s.options.fixed.y);const o={},a={},l=s.id,u=bt.cloneOptions(s);o[l]=s;for(let c=0;c<s.edges.length;c++){const h=s.edges[c];if(this.clusteredEdges[h.id]===void 0){const f=this._getConnectedId(h,l);if(this.clusteredNodes[f]===void 0)if(f!==l)if(t.joinCondition===void 0)a[h.id]=h,o[f]=this.body.nodes[f];else{const v=bt.cloneOptions(this.body.nodes[f]);t.joinCondition(u,v)===!0&&(a[h.id]=h,o[f]=this.body.nodes[f])}else a[h.id]=h}}const d=Sn(r=Ve(o)).call(r,function(c){return o[c].id});for(const c in o){if(!Object.prototype.hasOwnProperty.call(o,c))continue;const h=o[c];for(let f=0;f<h.edges.length;f++){const v=h.edges[f];$e(d).call(d,this._getConnectedId(v,h.id))>-1&&(a[v.id]=v)}}this._cluster(o,a,t,i)}_createClusterEdges(e,t,r,i){let s,o,a,l,u,d;const c=Ve(e),h=[];for(let y=0;y<c.length;y++){o=c[y],a=e[o];for(let b=0;b<a.edges.length;b++)s=a.edges[b],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?t[s.id]=s:s.toId==o?(l=r.id,u=s.fromId,d=u):(l=s.toId,u=r.id,d=l),e[d]===void 0&&h.push({edge:s,fromId:u,toId:l}))}const f=[],v=function(y){for(let b=0;b<f.length;b++){const g=f[b],p=y.fromId===g.fromId&&y.toId===g.toId,$=y.fromId===g.toId&&y.toId===g.fromId;if(p||$)return g}return null};for(let y=0;y<h.length;y++){const b=h[y],g=b.edge;let p=v(b);p===null?(p=this._createClusteredEdge(b.fromId,b.toId,g,i),f.push(p)):p.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=p.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(Ve(e).length==0||Ve(e).length==1&&r.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let o=Ce({},r.clusterNodeProperties);if(r.processProperties!==void 0){const d=[];for(const h in e)if(Object.prototype.hasOwnProperty.call(e,h)){const f=bt.cloneOptions(e[h]);d.push(f)}const c=[];for(const h in t)if(Object.prototype.hasOwnProperty.call(t,h)&&h.substr(0,12)!=="clusterEdge:"){const f=bt.cloneOptions(t[h],"edge");c.push(f)}if(o=r.processProperties(o,d,c),!o)throw new Error("The processProperties function does not return properties!")}o.id===void 0&&(o.id="cluster:"+fs());const a=o.id;o.label===void 0&&(o.label="cluster");let l;o.x===void 0&&(l=this._getClusterPosition(e),o.x=l.x),o.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),o.y=l.y),o.id=a;const u=this.body.functions.createNode(o,HK);u.containedNodes=e,u.containedEdges=t,u.clusterEdgeProperties=r.clusterEdgeProperties,this.body.nodes[o.id]=u,this._clusterEdges(e,t,o,r.clusterEdgeProperties),o.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const t=this.clusteredEdges[e.id];t!==void 0&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const t=Ve(e);let r=e[t[0]].x,i=e[t[0]].x,s=e[t[0]].y,o=e[t[0]].y,a;for(let l=1;l<t.length;l++)a=e[t[l]],r=a.x<r?a.x:r,i=a.x>i?a.x:i,s=a.y<s?a.y:s,o=a.y>o?a.y:o;return{x:.5*(r+i),y:.5*(s+o)}}openCluster(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),o=$e(s).call(s,e)-1;if(o>=0){const d=s[o];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged");return}const a=i.containedNodes,l=i.containedEdges;if(t!==void 0&&t.releaseFunction!==void 0&&typeof t.releaseFunction=="function"){const d={},c={x:i.x,y:i.y};for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];d[f]={x:v.x,y:v.y}}const h=t.releaseFunction(c,d);for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];h[f]!==void 0&&(v.x=h[f].x===void 0?i.x:h[f].x,v.y=h[f].y===void 0?i.y:h[f].y)}}else ye(a,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)){const c=this.body.nodes[d];c.vx=i.vx,c.vy=i.vy,c.setOptions({physics:!0}),delete this.clusteredNodes[d]}const u=[];for(let d=0;d<i.edges.length;d++)u.push(i.edges[d]);for(let d=0;d<u.length;d++){const c=u[d],h=this._getConnectedId(c,e),f=this.clusteredNodes[h];for(let v=0;v<c.clusteringEdgeReplacingIds.length;v++){const y=c.clusteringEdgeReplacingIds[v],b=this.body.edges[y];if(b!==void 0)if(f!==void 0){const g=this.body.nodes[f.clusterId];g.containedEdges[b.id]=b,delete l[b.id];let p=b.fromId,$=b.toId;b.toId==h?$=f.clusterId:p=f.clusterId,this._createClusteredEdge(p,$,b,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(b)}c.remove()}for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&this._restoreEdge(l[d]);delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const t=[];if(this.isCluster(e)===!0){const r=this.body.nodes[e].containedNodes;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.push(this.body.nodes[i].id)}return t}findNode(e){const t=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];t.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(t.push(s.id),Ei(t).call(t),t)}updateClusteredNode(e,t){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(t===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}updateEdge(e,t){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(t===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const r=this.getClusteredEdges(e);for(let i=0;i<r.length;i++)this.body.edges[r[i]].setOptions(t);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const t=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return Ei(t).call(t),t}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const t=[e],r=[],i=[],s=100;let o=0;for(;t.length>0&&o<s;){const a=t.pop();if(a===void 0)continue;const l=this.body.edges[a];if(l===void 0)continue;o++;const u=l.clusteringEdgeReplacingIds;if(u===void 0)i.push(a);else for(let d=0;d<u.length;++d){const c=u[d];$e(t).call(t,u)!==-1||$e(r).call(r,u)!==-1||t.push(c)}r.push(a)}return i}_getConnectedId(e,t){return e.toId!=t?e.toId:(e.fromId!=t,e.fromId)}_getHubSize(){let e=0,t=0,r=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const u=this.body.nodes[this.body.nodeIndices[l]];u.edges.length>i&&(i=u.edges.length),e+=u.edges.length,t+=Math.pow(u.edges.length,2),r+=1}e=e/r,t=t/r;const s=t-Math.pow(e,2),o=Math.sqrt(s);let a=Math.floor(e+2*o);return a>i&&(a=i),a}_createClusteredEdge(e,t,r,i,s){const o=bt.cloneOptions(r,"edge");Ce(o,i),o.from=e,o.to=t,o.id="clusterEdge:"+fs(),s!==void 0&&Ce(o,s);const a=this.body.functions.createEdge(o);return a.clusteringEdgeReplacingIds=[r.id],a.connect(),this.body.edges[a.id]=a,a}_clusterEdges(e,t,r,i){if(t instanceof ei){const s=t,o={};o[s.id]=s,t=o}if(e instanceof Fe){const s=e,o={};o[s.id]=s,e=o}if(r==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=r.clusterEdgeProperties),this._createClusterEdges(e,t,r,i);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&this.body.edges[s]!==void 0){const o=this.body.edges[s];this._backupEdgeOptions(o),o.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:r.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const t=this.clusteredNodes[e];if(t===void 0)return;const r=t.clusterId;if(r!==void 0)return this.body.nodes[r]}_filter(e,t){const r=[];return ye(e,i=>{t(i)&&r.push(i)}),r}_updateState(){let e;const t=[],r={},i=l=>{ye(this.body.nodes,u=>{u.isCluster===!0&&l(u)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&t.push(e)}i(function(l){for(let u=0;u<t.length;u++)delete l.containedNodes[t[u]]});for(let l=0;l<t.length;l++)delete this.clusteredNodes[t[l]];ye(this.clusteredEdges,l=>{const u=this.body.edges[l];(u===void 0||!u.endPointsValid())&&(r[l]=l)}),i(function(l){ye(l.containedEdges,(u,d)=>{!u.endPointsValid()&&!r[d]&&(r[d]=d)})}),ye(this.body.edges,(l,u)=>{let d=!0;const c=l.clusteringEdgeReplacingIds;if(c!==void 0){let h=0;ye(c,f=>{const v=this.body.edges[f];v!==void 0&&v.endPointsValid()&&(h+=1)}),d=h>0}(!l.endPointsValid()||!d)&&(r[u]=u)}),i(l=>{ye(r,u=>{delete l.containedEdges[u],ye(l.edges,(d,c)=>{if(d.id===u){l.edges[c]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(h){return!r[h]})}),l.edges=this._filter(l.edges,function(d){return d!==null})})}),ye(r,l=>{delete this.clusteredEdges[l]}),ye(r,l=>{delete this.body.edges[l]});const s=Ve(this.body.edges);ye(s,l=>{const u=this.body.edges[l],d=this._isClusteredNode(u.fromId)||this._isClusteredNode(u.toId);if(d!==this._isClusteredEdge(u.id))if(d){const c=this._getClusterNodeForNode(u.fromId);c!==void 0&&this._clusterEdges(this.body.nodes[u.fromId],u,c);const h=this._getClusterNodeForNode(u.toId);h!==void 0&&this._clusterEdges(this.body.nodes[u.toId],u,h)}else delete this._clusterEdges[l],this._restoreEdge(u)});let o=!1,a=!0;for(;a;){const l=[];i(function(u){const d=Ve(u.containedNodes).length,c=u.options.allowSingleNodeCluster===!0;(c&&d<1||!c&&d<2)&&l.push(u.id)});for(let u=0;u<l.length;++u)this.openCluster(l[u],{},!1);a=l.length>0,o=o||a}o&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class UK{constructor(e,t){this.body=e,this.canvas=t,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Xe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Pr(()=>{var t;this.zooming=!1,B(t=this._requestRedraw).call(t,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",B(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&Qn(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(B(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const t={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const r=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(r.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(r.save(),r.translate(this.body.view.translation.x,this.body.view.translation.y),r.scale(this.body.view.scale,this.body.view.scale),r.beginPath(),this.body.emitter.emit("beforeDrawing",r),r.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(r),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:o}=this._drawNodes(r,e);t.drawExternalLabels=o}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(r),t.drawExternalLabels!=null&&t.drawExternalLabels(),e===!1&&this._drawSelectionBox(r),r.beginPath(),this.body.emitter.emit("afterDrawing",r),r.closePath(),r.restore(),e===!0&&r.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const t=this.body.nodes;let r;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r=t[i],r.resize(e),r.updateBoundingBox(e,r.selected));e.restore()}_drawNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.nodes,i=this.body.nodeIndices;let s;const o=[],a=[],l=20,u=this.canvas.DOMtoCanvas({x:-l,y:-l}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),c={top:u.y,left:u.x,bottom:d.y,right:d.x},h=[];for(let b=0;b<i.length;b++)if(s=r[i[b]],s.hover)a.push(i[b]);else if(s.isSelected())o.push(i[b]);else if(t===!0){const g=s.draw(e);g.drawExternalLabel!=null&&h.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(c)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&h.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let f;const v=o.length,y=a.length;for(f=0;f<v;f++){s=r[o[f]];const b=s.draw(e);b.drawExternalLabel!=null&&h.push(b.drawExternalLabel)}for(f=0;f<y;f++){s=r[a[f]];const b=s.draw(e);b.drawExternalLabel!=null&&h.push(b.drawExternalLabel)}return{drawExternalLabels:()=>{for(const b of h)b()}}}_drawEdges(e){const t=this.body.edges,r=this.body.edgeIndices;for(let i=0;i<r.length;i++){const s=t[r[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const t=this.body.edges,r=this.body.edgeIndices;for(let i=0;i<r.length;i++){const s=t[r[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,r=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var Qy,SM;function GK(){if(SM)return Qy;SM=1,VF();var n=Ie();return Qy=n.setInterval,Qy}var em,EM;function KK(){return EM||(EM=1,em=GK()),em}var YK=KK(),XK=ue(YK);function Ao(n,e){e.inputHandler=function(t){t.isFirst&&e(t)},n.on("hammer.input",e.inputHandler)}function LN(n,e){return e.inputHandler=function(t){t.isFinal&&e(t)},n.on("hammer.input",e.inputHandler)}class JK{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Xe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",t=>{t.width!==0&&(this.body.view.translation.x=t.width*.5),t.height!==0&&(this.body.view.translation.y=t.height*.5)}),this.body.emitter.on("setSize",B(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&Qn(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var t;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=XK(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const r=B(t=this._onResize).call(t,this);window.addEventListener("resize",r),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",r)})}}_cleanUp(){var e,t,r;Te(e=Ei(t=Tr(r=this._cleanupCallbacks).call(r,0)).call(t)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let r=this.cameraState.scale;e!=1&&t!=1?r=this.cameraState.scale*.5*(e+t):e!=1?r=this.cameraState.scale*e:t!=1&&(r=this.cameraState.scale*t),this.body.view.scale=r;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if($e(e).call(e,"%")!==-1||$e(e).call(e,"px")!==-1)return e;if($e(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new gn(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:gn.DIRECTION_ALL}),Ao(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new gn(this.frame),LN(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);let r=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},r=!0;else{const a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==l)&&this._getCameraState(o),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,r=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,r=!0)}return r===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,r}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let t=1;typeof window<"u"&&(t=window.devicePixelRatio||1);const r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function ZK(n,e){const t=Xe({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},n??{});if(!Ue(t.nodes))throw new TypeError("Nodes has to be an array of ids.");if(t.nodes.length===0&&(t.nodes=e),!(typeof t.minZoomLevel=="number"&&t.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof t.maxZoomLevel=="number"&&t.minZoomLevel<=t.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return t}class QK{constructor(e,t){var r,i;this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",B(r=this.fit).call(r,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",B(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=ZK(e,this.body.nodeIndices);const r=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,o;if(r===0||i===0)o=1,s=bt.getRange(this.body.nodes,e.nodes);else if(t===!0){let u=0;for(const h in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,h)&&this.body.nodes[h].predefinedPosition===!0&&(u+=1);if(u>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=bt.getRange(this.body.nodes,e.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const c=Math.min(r/600,i/600);o*=c}else{this.body.emitter.emit("_resizeNodes"),s=bt.getRange(this.body.nodes,e.nodes);const u=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,c=r/u,h=i/d;o=c<=h?c:h}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);const l={position:bt.findCenter(s),scale:o,animation:e.animation};this.moveTo(l)}focus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const r={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=r,t.lockedOnNode=e,this.moveTo(t)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!_i(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!_i(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!_i(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!_i(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.position.x,y:t.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+r.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+r.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=B(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=B(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.x,y:t.y-e.y},i=this.body.view.translation,s={x:i.x+r.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+r.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const t=aG[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var r;this.viewFunction=B(r=this._lockedRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function $M(n){var e=n&&n.preventDefault||!1,t=n&&n.container||window,r={},i={keydown:{},keyup:{}},s={},o;for(o=97;o<=122;o++)s[String.fromCharCode(o)]={code:65+(o-97),shift:!1};for(o=65;o<=90;o++)s[String.fromCharCode(o)]={code:o,shift:!0};for(o=0;o<=9;o++)s[""+o]={code:48+o,shift:!1};for(o=1;o<=12;o++)s["F"+o]={code:111+o,shift:!1};for(o=0;o<=9;o++)s["num"+o]={code:96+o,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(d){u(d,"keydown")},l=function(d){u(d,"keyup")},u=function(d,c){if(i[c][d.keyCode]!==void 0){for(var h=i[c][d.keyCode],f=0;f<h.length;f++)(h[f].shift===void 0||h[f].shift==!0&&d.shiftKey==!0||h[f].shift==!1&&d.shiftKey==!1)&&h[f].fn(d);e==!0&&d.preventDefault()}};return r.bind=function(d,c,h){if(h===void 0&&(h="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[h][s[d].code]===void 0&&(i[h][s[d].code]=[]),i[h][s[d].code].push({fn:c,shift:s[d].shift})},r.bindAll=function(d,c){c===void 0&&(c="keydown");for(var h in s)s.hasOwnProperty(h)&&r.bind(h,d,c)},r.getKey=function(d){for(var c in s)if(s.hasOwnProperty(c)){if(d.shiftKey==!0&&s[c].shift==!0&&d.keyCode==s[c].code)return c;if(d.shiftKey==!1&&s[c].shift==!1&&d.keyCode==s[c].code)return c;if(d.keyCode==s[c].code&&c=="shift")return c}return"unknown key, currently not supported"},r.unbind=function(d,c,h){if(h===void 0&&(h="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(c!==void 0){var f=[],v=i[h][s[d].code];if(v!==void 0)for(var y=0;y<v.length;y++)v[y].fn==c&&v[y].shift==s[d].shift||f.push(i[h][s[d].code][y]);i[h][s[d].code]=f}else i[h][s[d].code]=[]},r.reset=function(){i={keydown:{},keyup:{}}},r.destroy=function(){i={keydown:{},keyup:{}},t.removeEventListener("keydown",a,!0),t.removeEventListener("keyup",l,!0)},t.addEventListener("keydown",a,!0),t.addEventListener("keyup",l,!0),r}class e7{constructor(e,t){this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],t=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);const a=new gn(this.navigationDOM[e[o]]);if(t[o]==="_fit"){var r;Ao(a,B(r=this._fit).call(r,this))}else{var i;Ao(a,B(i=this.bindToRedraw).call(i,this,t[o]))}this.navigationHammers.push(a)}const s=new gn(this.canvas.frame);LN(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var t;this.boundFunctions[e]=B(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,i=t/e,s=(1-i)*this.canvas.canvasViewCenter.x+r.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+r.y*i;this.body.view.scale=t,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,i=t/e,s=(1-i)*this.canvas.canvasViewCenter.x+r.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+r.y*i;this.body.view.scale=t,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=$M({container:window,preventDefault:!0}):this.keycharm=$M({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,t,r,i,s,o,a,l,u,d,c,h,f,v,y,b,g,p,$,m,S,O,x,_;B(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),B(t=this.keycharm).call(t,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),B(r=this.keycharm).call(r,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),B(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),B(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),B(o=this.keycharm).call(o,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),B(a=this.keycharm).call(a,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),B(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),B(u=this.keycharm).call(u,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),B(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),B(c=this.keycharm).call(c,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),B(h=this.keycharm).call(h,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),B(f=this.keycharm).call(f,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),B(v=this.keycharm).call(v,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),B(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),B(b=this.keycharm).call(b,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),B(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),B(p=this.keycharm).call(p,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),B($=this.keycharm).call($,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),B(m=this.keycharm).call(m,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),B(S=this.keycharm).call(S,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),B(O=this.keycharm).call(O,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),B(x=this.keycharm).call(x,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),B(_=this.keycharm).call(_,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class t7{constructor(e,t,r){var i,s,o,a,l,u,d,c,h,f,v,y,b;this.body=e,this.canvas=t,this.selectionHandler=r,this.navigationHandler=new e7(e,t),this.body.eventListeners.onTap=B(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=B(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=B(o=this.onDoubleTap).call(o,this),this.body.eventListeners.onHold=B(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=B(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=B(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=B(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=B(c=this.onMouseWheel).call(c,this),this.body.eventListeners.onPinch=B(h=this.onPinch).call(h,this),this.body.eventListeners.onMouseMove=B(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=B(v=this.onRelease).call(v,this),this.body.eventListeners.onContext=B(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=B(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Xe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(ko(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),At(this.options,e,"keyboard"),e.tooltip&&(Xe(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=nb(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-iG(this.canvas.frame.canvas),y:e.y-nG(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}onDoubleTap(e){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}onHold(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=new Date().valueOf()}}onContext(e){const t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,t){const r=function(i,s){const o=[];for(let a=0;a<i.length;a++){const l=i[a];$e(s).call(s,l)===-1&&o.push(l)}return o};return{nodes:r(e.nodes,t.nodes),edges:r(e.edges,t.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Xe({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const r=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)}}else if(t!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=t.id,t.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const r of this.selectionHandler.getSelectedNodes()){const i={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const t=this.getPointer(e.center),r=this.drag.selection;if(r&&r.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,t);const i=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;Te(r).call(r,o=>{const a=o.node;o.xFixed===!1&&(a.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(o.x)+i)),o.yFixed===!1&&(a.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(o.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(t.x),y:this.canvas._YconvertDOMtoCanvas(t.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var t;this.body.selectionBox.show=!1;const r=this.body.selectionBox.position,i={minX:Math.min(r.start.x,r.end.x),minY:Math.min(r.start.y,r.end.y),maxX:Math.max(r.start.x,r.end.x),maxY:Math.max(r.start.y,r.end.y)},s=Ot(t=this.body.nodeIndices).call(t,a=>{const l=this.body.nodes[a];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});Te(s).call(s,a=>this.selectionHandler.selectObject(this.body.nodes[a]));const o=this.getPointer(e.center);this.selectionHandler.commitAndEmit(o,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const r=this.drag.selection;r&&r.length?(Te(r).call(r,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const t=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const r=this.pinch.scale*e.scale;this.zoom(r,t)}zoom(e,t){if(this.options.zoomView===!0){const r=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,o=e/r,a=(1-o)*t.x+s.x*o,l=(1-o)*t.y+s.y*o;if(this.body.view.scale=e,this.body.view.translation={x:a,y:l},i!=null){const u=this.canvas.canvasToDOM(i);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),r<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let t=this.body.view.scale;t*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const r=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,r)}e.preventDefault()}}onMouseMove(e){const t=this.getPointer({x:e.clientX,y:e.clientY});let r=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(t),this.popup.hidden===!1&&(r=!0,this.popup.setPosition(t.x+3,t.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),r===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Pr(()=>this._checkShowPopup(t),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,t)}_checkShowPopup(e){const t=this.canvas._XconvertDOMtoCanvas(e.x),r=this.canvas._YconvertDOMtoCanvas(e.y),i={left:t,top:r,right:t,bottom:r},s=this.popupObj===void 0?void 0:this.popupObj.id;let o=!1,a="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,u=this.body.nodes;let d;const c=[];for(let h=0;h<l.length;h++)d=u[l[h]],d.isOverlappingWith(i)===!0&&(o=!0,d.getTitle()!==void 0&&c.push(l[h]));c.length>0&&(this.popupObj=u[c[c.length-1]],o=!0)}if(this.popupObj===void 0&&o===!1){const l=this.body.edgeIndices,u=this.body.edges;let d;const c=[];for(let h=0;h<l.length;h++)d=u[l[h]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&c.push(l[h]);c.length>0&&(this.popupObj=u[c[c.length-1]],a="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new pG(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const t=this.selectionHandler._pointerToPositionObject(e);let r=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(r=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t),r===!0)){const i=this.selectionHandler.getNodeAt(e);r=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(r=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));r===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var OM={},IM={},xM;function r7(){if(xM)return IM;xM=1;var n=c1(),e=RN();return n("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),IM}var TM;function i7(){return TM||(TM=1,r7()),OM}var PM={},tm,RM;function Yi(){if(RM)return tm;RM=1;var n=Ln(),e=TypeError;return tm=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(n(t)+" is not a set")},tm}var rm,CM;function Xi(){if(CM)return rm;CM=1;var n=Dt(),e=CN(),t=n("Set"),r=t.prototype;return rm={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},rm}var im,qM;function Ji(){if(qM)return im;qM=1;var n=Rt();return im=function(e,t,r){for(var i=r?e:e.iterator,s=e.next,o,a;!(o=n(s,i)).done;)if(a=t(o.value),a!==void 0)return a},im}var nm,kM;function oo(){if(kM)return nm;kM=1;var n=Ji();return nm=function(e,t,r){return r?n(e.keys(),t,!0):e.forEach(t)},nm}var sm,DM;function m1(){if(DM)return sm;DM=1;var n=Xi(),e=oo(),t=n.Set,r=n.add;return sm=function(i){var s=new t;return e(i,function(o){r(s,o)}),s},sm}var om,MM;function ao(){return MM||(MM=1,om=function(n){return n.size}),om}var am,AM;function n7(){return AM||(AM=1,am=function(n){return{iterator:n,next:n.next,done:!1}}),am}var lm,FM;function Zi(){if(FM)return lm;FM=1;var n=Fr(),e=fr(),t=Rt(),r=Vn(),i=n7(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,u=function(d,c){this.set=d,this.size=l(c,0),this.has=n(d.has),this.keys=n(d.keys)};return u.prototype={getIterator:function(){return i(e(t(this.keys,this.set)))},includes:function(d){return t(this.has,this.set,d)}},lm=function(d){e(d);var c=+d.size;if(c!==c)throw new a(s);var h=r(c);if(h<0)throw new o(s);return new u(d,h)},lm}var um,NM;function s7(){if(NM)return um;NM=1;var n=Yi(),e=Xi(),t=m1(),r=ao(),i=Zi(),s=oo(),o=Ji(),a=e.has,l=e.remove;return um=function(d){var c=n(this),h=i(d),f=t(c);return r(c)<=h.size?s(c,function(v){h.includes(v)&&l(f,v)}):o(h.getIterator(),function(v){a(f,v)&&l(f,v)}),f},um}var dm,BM;function Qi(){return BM||(BM=1,dm=function(){return!1}),dm}var jM;function o7(){if(jM)return PM;jM=1;var n=ee(),e=s7(),t=be(),r=Qi(),i=!r("difference",function(o){return o.size===0}),s=i||t(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return a.has(1)&&a.clear(),{done:u,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return n({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),PM}var LM={},cm,zM;function a7(){if(zM)return cm;zM=1;var n=Yi(),e=Xi(),t=ao(),r=Zi(),i=oo(),s=Ji(),o=e.Set,a=e.add,l=e.has;return cm=function(d){var c=n(this),h=r(d),f=new o;return t(c)>h.size?s(h.getIterator(),function(v){l(c,v)&&a(f,v)}):i(c,function(v){h.includes(v)&&a(f,v)}),f},cm}var WM;function l7(){if(WM)return LM;WM=1;var n=ee(),e=be(),t=a7(),r=Qi(),i=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return n({target:"Set",proto:!0,real:!0,forced:i},{intersection:t}),LM}var HM={},hm,VM;function u7(){if(VM)return hm;VM=1;var n=Yi(),e=Xi().has,t=ao(),r=Zi(),i=oo(),s=Ji(),o=u1();return hm=function(l){var u=n(this),d=r(l);if(t(u)<=d.size)return i(u,function(h){if(d.includes(h))return!1},!0)!==!1;var c=d.getIterator();return s(c,function(h){if(e(u,h))return o(c,"normal",!1)})!==!1},hm}var UM;function d7(){if(UM)return HM;UM=1;var n=ee(),e=u7(),t=Qi(),r=!t("isDisjointFrom",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),HM}var GM={},fm,KM;function c7(){if(KM)return fm;KM=1;var n=Yi(),e=ao(),t=oo(),r=Zi();return fm=function(s){var o=n(this),a=r(s);return e(o)>a.size?!1:t(o,function(l){if(!a.includes(l))return!1},!0)!==!1},fm}var YM;function h7(){if(YM)return GM;YM=1;var n=ee(),e=c7(),t=Qi(),r=!t("isSubsetOf",function(i){return i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),GM}var XM={},vm,JM;function f7(){if(JM)return vm;JM=1;var n=Yi(),e=Xi().has,t=ao(),r=Zi(),i=Ji(),s=u1();return vm=function(a){var l=n(this),u=r(a);if(t(l)<u.size)return!1;var d=u.getIterator();return i(d,function(c){if(!e(l,c))return s(d,"normal",!1)})!==!1},vm}var ZM;function v7(){if(ZM)return XM;ZM=1;var n=ee(),e=f7(),t=Qi(),r=!t("isSupersetOf",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),XM}var QM={},pm,eA;function p7(){if(eA)return pm;eA=1;var n=Yi(),e=Xi(),t=m1(),r=Zi(),i=Ji(),s=e.add,o=e.has,a=e.remove;return pm=function(u){var d=n(this),c=r(u).getIterator(),h=t(d);return i(c,function(f){o(d,f)?a(h,f):s(h,f)}),h},pm}var gm,tA;function zN(){return tA||(tA=1,gm=function(n){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[n](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),gm}var rA;function g7(){if(rA)return QM;rA=1;var n=ee(),e=p7(),t=zN(),r=Qi(),i=!r("symmetricDifference")||!t("symmetricDifference");return n({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),QM}var iA={},ym,nA;function y7(){if(nA)return ym;nA=1;var n=Yi(),e=Xi().add,t=m1(),r=Zi(),i=Ji();return ym=function(o){var a=n(this),l=r(o).getIterator(),u=t(a);return i(l,function(d){e(u,d)}),u},ym}var sA;function m7(){if(sA)return iA;sA=1;var n=ee(),e=y7(),t=zN(),r=Qi(),i=!r("union")||!t("union");return n({target:"Set",proto:!0,real:!0,forced:i},{union:e}),iA}var mm,oA;function b7(){if(oA)return mm;oA=1,Yn(),i7(),o7(),l7(),d7(),h7(),v7(),g7(),m7(),f1();var n=Ie();return mm=n.Set,mm}var bm,aA;function _7(){if(aA)return bm;aA=1;var n=b7();return Xn(),bm=n,bm}var _m,lA;function w7(){return lA||(lA=1,_m=_7()),_m}var S7=w7(),Gr=ue(S7),uA={},dA={},wm,cA;function E7(){if(cA)return wm;cA=1;var n=_e(),e=h1(),t=va().getWeakData,r=d1(),i=fr(),s=Nn(),o=ut(),a=pa(),l=ui(),u=ft(),d=Ui(),c=d.set,h=d.getterFor,f=l.find,v=l.findIndex,y=n([].splice),b=0,g=function(m){return m.frozen||(m.frozen=new p)},p=function(){this.entries=[]},$=function(m,S){return f(m.entries,function(O){return O[0]===S})};return p.prototype={get:function(m){var S=$(this,m);if(S)return S[1]},has:function(m){return!!$(this,m)},set:function(m,S){var O=$(this,m);O?O[1]=S:this.entries.push([m,S])},delete:function(m){var S=v(this.entries,function(O){return O[0]===m});return~S&&y(this.entries,S,1),!!~S}},wm={getConstructor:function(m,S,O,x){var _=m(function(R,C){r(R,E),c(R,{type:S,id:b++,frozen:null}),s(C)||a(C,R[x],{that:R,AS_ENTRIES:O})}),E=_.prototype,T=h(S),P=function(R,C,A){var L=T(R),ne=t(i(C),!0);return ne===!0?g(L).set(C,A):ne[L.id]=A,R};return e(E,{delete:function(R){var C=T(this);if(!o(R))return!1;var A=t(R);return A===!0?g(C).delete(R):A&&u(A,C.id)&&delete A[C.id]},has:function(C){var A=T(this);if(!o(C))return!1;var L=t(C);return L===!0?g(A).has(C):L&&u(L,A.id)}}),e(E,O?{get:function(C){var A=T(this);if(o(C)){var L=t(C);if(L===!0)return g(A).get(C);if(L)return L[A.id]}},set:function(C,A){return P(this,C,A)}}:{add:function(C){return P(this,C,!0)}}),_}},wm}var hA;function $7(){if(hA)return dA;hA=1;var n=TN(),e=Ne(),t=_e(),r=h1(),i=va(),s=c1(),o=E7(),a=ut(),l=Ui().enforce,u=be(),d=RF(),c=Object,h=Array.isArray,f=c.isExtensible,v=c.isFrozen,y=c.isSealed,b=c.freeze,g=c.seal,p=!e.ActiveXObject&&"ActiveXObject"in e,$,m=function(R){return function(){return R(this,arguments.length?arguments[0]:void 0)}},S=s("WeakMap",m,o),O=S.prototype,x=t(O.set),_=function(){return n&&u(function(){var R=b([]);return x(new S,R,1),!v(R)})};if(d)if(p){$=o.getConstructor(m,"WeakMap",!0),i.enable();var E=t(O.delete),T=t(O.has),P=t(O.get);r(O,{delete:function(R){if(a(R)&&!f(R)){var C=l(this);return C.frozen||(C.frozen=new $),E(this,R)||C.frozen.delete(R)}return E(this,R)},has:function(C){if(a(C)&&!f(C)){var A=l(this);return A.frozen||(A.frozen=new $),T(this,C)||A.frozen.has(C)}return T(this,C)},get:function(C){if(a(C)&&!f(C)){var A=l(this);return A.frozen||(A.frozen=new $),T(this,C)?P(this,C):A.frozen.get(C)}return P(this,C)},set:function(C,A){if(a(C)&&!f(C)){var L=l(this);L.frozen||(L.frozen=new $),T(this,C)?x(this,C,A):L.frozen.set(C,A)}else x(this,C,A);return this}})}else _()&&r(O,{set:function(C,A){var L;return h(C)&&(v(C)?L=b:y(C)&&(L=g)),x(this,C,A),L&&L(C),this}});return dA}var fA;function O7(){return fA||(fA=1,$7()),uA}var Sm,vA;function I7(){if(vA)return Sm;vA=1,Yn(),O7();var n=Ie();return Sm=n.WeakMap,Sm}var Em,pA;function x7(){if(pA)return Em;pA=1;var n=I7();return Xn(),Em=n,Em}var $m,gA;function T7(){return gA||(gA=1,$m=x7()),$m}var P7=T7(),lo=ue(P7);function vs(n,e,t){R7(n,e),e.set(n,t)}function R7(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function db(n,e,t){return n.set(WN(n,e),t),t}function Re(n,e){return n.get(WN(n,e))}function WN(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function yA(n,e){const t=new Gr;for(const r of e)n.has(r)||t.add(r);return t}var on=new lo,Kt=new lo;class mA{constructor(){vs(this,on,new Gr),vs(this,Kt,new Gr)}get size(){return Re(Kt,this).size}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const i of t)Re(Kt,this).add(i)}delete(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const i of t)Re(Kt,this).delete(i)}clear(){Re(Kt,this).clear()}getSelection(){return[...Re(Kt,this)]}getChanges(){return{added:[...yA(Re(on,this),Re(Kt,this))],deleted:[...yA(Re(Kt,this),Re(on,this))],previous:[...new Gr(Re(on,this))],current:[...new Gr(Re(Kt,this))]}}commit(){const e=this.getChanges();db(on,this,Re(Kt,this)),db(Kt,this,new Gr(Re(on,this)));for(const t of e.added)t.select();for(const t of e.deleted)t.unselect();return e}}var pi=new lo,gi=new lo,Om=new lo;class C7{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};vs(this,pi,new mA),vs(this,gi,new mA),vs(this,Om,void 0),db(Om,this,e)}get sizeNodes(){return Re(pi,this).size}get sizeEdges(){return Re(gi,this).size}getNodes(){return Re(pi,this).getSelection()}getEdges(){return Re(gi,this).getSelection()}addNodes(){Re(pi,this).add(...arguments)}addEdges(){Re(gi,this).add(...arguments)}deleteNodes(e){Re(pi,this).delete(e)}deleteEdges(e){Re(gi,this).delete(e)}clear(){Re(pi,this).clear(),Re(gi,this).clear()}commit(){const e={nodes:Re(pi,this).commit(),edges:Re(gi,this).commit()};for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Re(Om,this).call(this,e,...r),e}}class q7{constructor(e,t){this.body=e,this.canvas=t,this._selectionAccumulator=new C7,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Xe(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&Qn(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),r!==void 0&&(t=this.selectObject(r)),this.body.emitter.emit("_requestRedraw")}return t}selectAdditionalOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);r!==void 0&&(t=!0,r.isSelected()===!0?this.deselectObject(r):this.selectObject(r),this.body.emitter.emit("_requestRedraw"))}return t}_initBaseEvent(e,t){const r={};return r.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},r.event=e,r}generateClickEvent(e,t,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const o=this._initBaseEvent(t,r);if(s===!0)o.nodes=[],o.edges=[];else{const a=this.getSelection();o.nodes=a.nodes,o.edges=a.edges}i!==void 0&&(o.previousSelection=i),e=="click"&&(o.items=this.getClickedItems(r)),t.controlEdge!==void 0&&(o.controlEdge=t.controlEdge),this.body.emitter.emit(e,o)}selectObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof Fe?(t===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const t=[],r=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];r[s].isOverlappingWith(e)&&t.push(s)}return t}_pointerToPositionObject(e){const t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}getNodeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(r);if(i.length>0)return t===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,t){const r=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];r[s].isOverlappingWith(e)&&t.push(s)}}_getAllEdgesOverlappingWith(e){const t=[];return this._getEdgesOverlappingWith(e,t),t}getEdgeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this.canvas.DOMtoCanvas(e);let i=10,s=null;const o=this.body.edges;for(let a=0;a<this.body.edgeIndices.length;a++){const l=this.body.edgeIndices[a],u=o[l];if(u.connected){const d=u.from.x,c=u.from.y,h=u.to.x,f=u.to.y,v=u.edgeType.getDistanceToEdge(d,c,h,f,r.x,r.y);v<i&&(s=l,i=v)}}if(s!==null)return t===!0?this.body.edges[s]:s}_addToHover(e){e instanceof Fe?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof Fe?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let t=0;t<e.edges.length;t++){const r=e.edges[t];r.hover=!0,this._addToHover(r)}}emitBlurEvent(e,t,r){const i=this._initBaseEvent(e,t);r.hover===!0&&(r.hover=!1,r instanceof Fe?(i.node=r.id,this.body.emitter.emit("blurNode",i)):(i.edge=r.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,t,r){const i=this._initBaseEvent(e,t);let s=!1;return r.hover===!1&&(r.hover=!0,this._addToHover(r),s=!0,r instanceof Fe?(i.node=r.id,this.body.emitter.emit("hoverNode",i)):(i.edge=r.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,t){let r=this.getNodeAt(t);r===void 0&&(r=this.getEdgeAt(t));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(r===void 0||r instanceof Fe&&r.id!=s||r instanceof ei)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(r===void 0||r instanceof ei&&r.id!=s||r instanceof Fe&&!r.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(r!==void 0){const s=Ve(this.hoverObj.edges).length,o=Ve(this.hoverObj.nodes).length,a=r instanceof ei&&s===0&&o===0,l=r instanceof Fe&&s===0&&o===0;(i||a||l)&&(i=this.emitHoverEvent(e,t,r)),r instanceof Fe&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(r)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,t){let r=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,s),r=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,s),r=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),r=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),r=!0),r===!0&&this.generateClickEvent("select",t,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return Sn(e=this._selectionAccumulator.getNodes()).call(e,t=>t.id)}getSelectedEdgeIds(){var e;return Sn(e=this._selectionAccumulator.getEdges()).call(e,t=>t.id)}setSelection(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||t.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const r of e.nodes){const i=this.body.nodes[r];if(!i)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(i,t.highlightEdges)}if(e.edges)for(const r of e.edges){const i=this.body.edges[r];if(!i)throw new RangeError('Edge with id "'+r+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const t=this.canvas.DOMtoCanvas(e),r=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const d=s[i[l]].getItemsOnPoint(t);r.push.apply(r,d)}const o=this.body.edgeIndices,a=this.body.edges;for(let l=o.length-1;l>=0;l--){const d=a[o[l]].getItemsOnPoint(t);r.push.apply(r,d)}return r}}var bA={},Im,_A;function k7(){if(_A)return Im;_A=1;var n=Un(),e=Math.floor,t=function(r,i){var s=r.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=r[o];l&&i(r[l-1],a)>0;)r[l]=r[--l];l!==o++&&(r[l]=a)}else for(var u=e(s/2),d=t(n(r,0,u),i),c=t(n(r,u),i),h=d.length,f=c.length,v=0,y=0;v<h||y<f;)r[v+y]=v<h&&y<f?i(d[v],c[y])<=0?d[v++]:c[y++]:v<h?d[v++]:c[y++];return r};return Im=t,Im}var xm,wA;function D7(){if(wA)return xm;wA=1;var n=Bn(),e=n.match(/firefox\/(\d+)/i);return xm=!!e&&+e[1],xm}var Tm,SA;function M7(){if(SA)return Tm;SA=1;var n=Bn();return Tm=/MSIE|Trident/.test(n),Tm}var Pm,EA;function A7(){if(EA)return Pm;EA=1;var n=Bn(),e=n.match(/AppleWebKit\/(\d+)\./);return Pm=!!e&&+e[1],Pm}var $A;function F7(){if($A)return bA;$A=1;var n=ee(),e=_e(),t=Fr(),r=Mt(),i=Nr(),s=LF(),o=Wt(),a=be(),l=k7(),u=Jn(),d=D7(),c=M7(),h=Us(),f=A7(),v=[],y=e(v.sort),b=e(v.push),g=a(function(){v.sort(void 0)}),p=a(function(){v.sort(null)}),$=u("sort"),m=!a(function(){if(h)return h<70;if(!(d&&d>3)){if(c)return!0;if(f)return f<603;var x="",_,E,T,P;for(_=65;_<76;_++){switch(E=String.fromCharCode(_),_){case 66:case 69:case 70:case 72:T=3;break;case 68:case 71:T=4;break;default:T=2}for(P=0;P<47;P++)v.push({k:E+P,v:T})}for(v.sort(function(R,C){return C.v-R.v}),P=0;P<v.length;P++)E=v[P].k.charAt(0),x.charAt(x.length-1)!==E&&(x+=E);return x!=="DGBEFHACIJK"}}),S=g||!p||!$||!m,O=function(x){return function(_,E){return E===void 0?-1:_===void 0?1:x!==void 0?+x(_,E)||0:o(_)>o(E)?1:-1}};return n({target:"Array",proto:!0,forced:S},{sort:function(_){_!==void 0&&t(_);var E=r(this);if(m)return _===void 0?y(E):y(E,_);var T=[],P=i(E),R,C;for(C=0;C<P;C++)C in E&&b(T,E[C]);for(l(T,O(_)),R=i(T),C=0;C<R;)E[C]=T[C++];for(;C<P;)s(E,C++);return E}}),bA}var Rm,OA;function N7(){if(OA)return Rm;OA=1,F7();var n=vt();return Rm=n("Array","sort"),Rm}var Cm,IA;function B7(){if(IA)return Cm;IA=1;var n=et(),e=N7(),t=Array.prototype;return Cm=function(r){var i=r.sort;return r===t||n(t,r)&&i===t.sort?e:i},Cm}var qm,xA;function j7(){if(xA)return qm;xA=1;var n=B7();return qm=n,qm}var km,TA;function L7(){return TA||(TA=1,km=j7()),km}var z7=L7(),mn=ue(z7),PA={},Dm,RA;function W7(){if(RA)return Dm;RA=1;var n=Fr(),e=Mt(),t=ea(),r=Nr(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,u,d,c){var h=e(l),f=t(h),v=r(h);if(n(u),v===0&&d<2)throw new i(s);var y=a?v-1:0,b=a?-1:1;if(d<2)for(;;){if(y in f){c=f[y],y+=b;break}if(y+=b,a?y<0:v<=y)throw new i(s)}for(;a?y>=0:v>y;y+=b)y in f&&(c=u(c,f[y],y,h));return c}};return Dm={left:o(!1),right:o(!0)},Dm}var Mm,CA;function H7(){if(CA)return Mm;CA=1;var n=WF();return Mm=n==="NODE",Mm}var qA;function V7(){if(qA)return PA;qA=1;var n=ee(),e=W7().left,t=Jn(),r=Us(),i=H7(),s=!i&&r>79&&r<83,o=s||!t("reduce");return n({target:"Array",proto:!0,forced:o},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),PA}var Am,kA;function U7(){if(kA)return Am;kA=1,V7();var n=vt();return Am=n("Array","reduce"),Am}var Fm,DA;function G7(){if(DA)return Fm;DA=1;var n=et(),e=U7(),t=Array.prototype;return Fm=function(r){var i=r.reduce;return r===t||n(t,r)&&i===t.reduce?e:i},Fm}var Nm,MA;function K7(){if(MA)return Nm;MA=1;var n=G7();return Nm=n,Nm}var Bm,AA;function Y7(){return AA||(AA=1,Bm=K7()),Bm}var X7=Y7(),HN=ue(X7);class VN{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,t,r),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,t){this.fake_use(e,t),this.abstract()}shift(e,t){this.fake_use(e,t),this.abstract()}}class J7 extends VN{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.x=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}sort(e){mn(e).call(e,function(t,r){return t.x-r.x})}fix(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}shift(e,t){this.layout.body.nodes[e].x+=t}}class Z7 extends VN{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.y=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}sort(e){mn(e).call(e,function(t,r){return t.y-r.y})}fix(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}shift(e,t){this.layout.body.nodes[e].y+=t}}var FA={},NA;function Q7(){if(NA)return FA;NA=1;var n=ee(),e=ui().every,t=Jn(),r=t("every");return n({target:"Array",proto:!0,forced:!r},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),FA}var jm,BA;function e9(){if(BA)return jm;BA=1,Q7();var n=vt();return jm=n("Array","every"),jm}var Lm,jA;function t9(){if(jA)return Lm;jA=1;var n=et(),e=e9(),t=Array.prototype;return Lm=function(r){var i=r.every;return r===t||n(t,r)&&i===t.every?e:i},Lm}var zm,LA;function r9(){if(LA)return zm;LA=1;var n=t9();return zm=n,zm}var Wm,zA;function i9(){return zA||(zA=1,Wm=r9()),Wm}var n9=i9(),UN=ue(n9);function s9(n,e){const t=new Gr;return Te(n).call(n,r=>{var i;Te(i=r.edges).call(i,s=>{s.connected&&t.add(s)})}),Te(t).call(t,r=>{const i=r.from.id,s=r.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function o9(n){return GN(e=>{var t,r;return UN(t=Ot(r=e.edges).call(r,i=>n.has(i.toId))).call(t,i=>i.to===e)},(e,t)=>t>e,"from",n)}function a9(n){return GN(e=>{var t,r;return UN(t=Ot(r=e.edges).call(r,i=>n.has(i.toId))).call(t,i=>i.from===e)},(e,t)=>t<e,"to",n)}function GN(n,e,t,r){var i;const s=$i(null),o=HN(i=[...FN(r).call(r)]).call(i,(c,h)=>c+1+h.edges.length,0),a=t+"Id",l=t==="to"?1:-1;for(const[c,h]of r){if(!r.has(c)||!n(h))continue;s[c]=0;const f=[h];let v=0,y;for(;y=f.pop();){var u,d;if(!r.has(c))continue;const b=s[y.id]+l;if(Te(u=Ot(d=y.edges).call(d,g=>g.connected&&g.to!==g.from&&g[t]!==y&&r.has(g.toId)&&r.has(g.fromId))).call(u,g=>{const p=g[a],$=s[p];($==null||e(b,$))&&(s[p]=b,f.push(g[t]))}),v>o)return s9(r,s);++v}}return s}class l9{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,t){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),this.parentReference[t]===void 0&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,t){t!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const t={},r=i=>{if(t[i]!==void 0)return t[i];let s=this.levels[i];if(this.childrenReference[i]){const o=this.childrenReference[i];if(o.length>0)for(let a=0;a<o.length;a++)s=Math.max(s,r(o[a]))}return t[i]=s,s};return r(e)}levelDownstream(e,t){this.levels[t.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const t=new v1;let r=0;const i=mn(e=[...new Gr(EV(this.levels))]).call(e,(s,o)=>s-o);for(const s of i)t.set(s,r++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=t.get(this.levels[s]))}getTreeSize(e,t){let r=1e9,i=-1e9,s=1e9,o=-1e9;for(const a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===t){const l=e[a];r=Math.min(l.x,r),i=Math.max(l.x,i),s=Math.min(l.y,s),o=Math.max(l.y,o)}return{min_x:r,max_x:i,min_y:s,max_y:o}}hasSameParent(e,t){const r=this.parentReference[e.id],i=this.parentReference[t.id];if(r===void 0||i===void 0)return!1;for(let s=0;s<r.length;s++)for(let o=0;o<i.length;o++)if(r[s]==i[o])return!0;return!1}inSameSubNetwork(e,t){return this.trees[e.id]===this.trees[t.id]}getLevels(){return Ve(this.distributionOrdering)}addToOrdering(e,t){this.distributionOrdering[t]===void 0&&(this.distributionOrdering[t]=[]);let r=!1;const i=this.distributionOrdering[t];for(const s in i)if(i[s]===e){r=!0;break}r||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}class u9{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Po()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Xe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,t){if(e!==void 0){const r=this.options.hierarchical,i=r.enabled;if(Qn(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),At(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),r.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),r.direction==="RL"||r.direction==="DU"?r.levelSeparation>0&&(r.levelSeparation*=-1):r.levelSeparation<0&&(r.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(i===!0)return this.body.emitter.emit("refresh"),Ce(t,this.optionsBackup)}return t}_resetRNG(e){this.initialRandomSeed=e,this._rng=fa(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const t=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:t.enabled===void 0?!0:t.enabled,solver:"hierarchicalRepulsion"},t.enabled=t.enabled===void 0?!0:t.enabled,t.solver=t.solver||"barnesHut"):typeof e.physics=="object"?(t.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let r=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:r};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(r=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:r,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",r)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const t=e.length+50;for(let r=0;r<e.length;r++){const i=e[r],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=t*Math.cos(s)),i.y===void 0&&(i.y=t*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let t=0;for(let r=0;r<e.length;r++)this.body.nodes[e[r]].predefinedPosition===!0&&(t+=1);if(t<.5*e.length){let i=0;const s=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const u=e.length;i%3===0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o);const d=e.length;if(u==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const a=70;for(let l=0;l<e.length;l++){const u=this.body.nodes[e[l]];u.predefinedPosition===!1&&(u.x+=(.5-this._rng())*a,u.y+=(.5-this._rng())*a)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=bt.getRangeCore(this.body.nodes,this.body.nodeIndices),t=bt.findCenter(e);for(let r=0;r<this.body.nodeIndices.length;r++){const i=this.body.nodes[this.body.nodeIndices[r]];i.x-=t.x,i.y-=t.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let t=0;t<this.body.nodeIndices.length;t++)this.body.nodes[this.body.nodeIndices[t]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,t,r=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new l9;for(t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&(e=this.body.nodes[t],e.options.level!==void 0?(r=!0,this.hierarchical.levels[t]=e.options.level):i=!0);if(i===!0&&r===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const o=this.options.hierarchical.sortMethod;o==="hubsize"?this._determineLevelsByHubsize():o==="directed"?this._determineLevelsDirected():o==="custom"&&this._determineLevelsCustomCallback()}for(const o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let t=!1;const r={},i=()=>{const g=o();let p=0;for(let $=0;$<g.length-1;$++){const m=g[$].max-g[$+1].min;p+=m+this.options.hierarchical.treeSpacing,s($+1,p)}},s=(g,p)=>{const $=this.hierarchical.trees;for(const m in $)Object.prototype.hasOwnProperty.call($,m)&&$[m]===g&&this.direction.shift(m,p)},o=()=>{const g=[];for(let p=0;p<this.hierarchical.numTrees();p++)g.push(this.direction.getTreeSize(p));return g},a=(g,p)=>{if(!p[g.id]&&(p[g.id]=!0,this.hierarchical.childrenReference[g.id])){const $=this.hierarchical.childrenReference[g.id];if($.length>0)for(let m=0;m<$.length;m++)a(this.body.nodes[$[m]],p)}},l=function(g){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,$=1e9,m=1e9,S=1e9,O=-1e9;for(const x in g)if(Object.prototype.hasOwnProperty.call(g,x)){const _=e.body.nodes[x],E=e.hierarchical.levels[_.id],T=e.direction.getPosition(_),[P,R]=e._getSpaceAroundNode(_,g);$=Math.min(P,$),m=Math.min(R,m),E<=p&&(S=Math.min(T,S),O=Math.max(T,O))}return[S,O,$,m]},u=(g,p)=>{const $=this.hierarchical.getMaxLevel(g.id),m=this.hierarchical.getMaxLevel(p.id);return Math.min($,m)},d=(g,p,$)=>{const m=this.hierarchical;for(let S=0;S<p.length;S++){const O=p[S],x=m.distributionOrdering[O];if(x.length>1)for(let _=0;_<x.length-1;_++){const E=x[_],T=x[_+1];m.hasSameParent(E,T)&&m.inSameSubNetwork(E,T)&&g(E,T,$)}}},c=function(g,p){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const m=e.direction.getPosition(g),S=e.direction.getPosition(p),O=Math.abs(S-m),x=e.options.hierarchical.nodeSpacing;if(O>x){const _={},E={};a(g,_),a(p,E);const T=u(g,p),P=l(_,T),R=l(E,T),C=P[1],A=R[0],L=R[2];if(Math.abs(C-A)>x){let H=C-A+x;H<-L+x&&(H=-L+x),H<0&&(e._shiftBlock(p.id,H),t=!0,$===!0&&e._centerParent(p))}}},h=(g,p)=>{const $=p.id,m=p.edges,S=this.hierarchical.levels[p.id],O=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,x={},_=[];for(let L=0;L<m.length;L++){const ne=m[L];if(ne.toId!=ne.fromId){const H=ne.toId==$?ne.from:ne.to;x[m[L].id]=H,this.hierarchical.levels[H.id]<S&&_.push(ne)}}const E=(L,ne)=>{let H=0;for(let ae=0;ae<ne.length;ae++)if(x[ne[ae].id]!==void 0){const de=this.direction.getPosition(x[ne[ae].id])-L;H+=de/Math.sqrt(de*de+O)}return H},T=(L,ne)=>{let H=0;for(let ae=0;ae<ne.length;ae++)if(x[ne[ae].id]!==void 0){const de=this.direction.getPosition(x[ne[ae].id])-L;H-=O*Math.pow(de*de+O,-1.5)}return H},P=(L,ne)=>{let H=this.direction.getPosition(p);const ae={};for(let de=0;de<L;de++){const fe=E(H,ne),G=T(H,ne),pe=40,ce=Math.max(-pe,Math.min(pe,Math.round(fe/G)));if(H=H-ce,ae[H]!==void 0)break;ae[H]=de}return H},R=L=>{const ne=this.direction.getPosition(p);if(r[p.id]===void 0){const pe={};a(p,pe),r[p.id]=pe}const H=l(r[p.id]),ae=H[2],de=H[3],fe=L-ne;let G=0;fe>0?G=Math.min(fe,de-this.options.hierarchical.nodeSpacing):fe<0&&(G=-Math.min(-fe,ae-this.options.hierarchical.nodeSpacing)),G!=0&&(this._shiftBlock(p.id,G),t=!0)},C=L=>{const ne=this.direction.getPosition(p),[H,ae]=this._getSpaceAroundNode(p),de=L-ne;let fe=ne;de>0?fe=Math.min(ne+(ae-this.options.hierarchical.nodeSpacing),L):de<0&&(fe=Math.max(ne-(H-this.options.hierarchical.nodeSpacing),L)),fe!==ne&&(this.direction.setPosition(p,fe),t=!0)};let A=P(g,_);R(A),A=P(g,m),C(A)},f=g=>{let p=this.hierarchical.getLevels();p=Ei(p).call(p);for(let $=0;$<g;$++){t=!1;for(let m=0;m<p.length;m++){const S=p[m],O=this.hierarchical.distributionOrdering[S];for(let x=0;x<O.length;x++)h(1e3,O[x])}if(t!==!0)break}},v=g=>{let p=this.hierarchical.getLevels();p=Ei(p).call(p);for(let $=0;$<g&&(t=!1,d(c,p,!0),t===!0);$++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},b=()=>{let g=this.hierarchical.getLevels();g=Ei(g).call(g);for(let p=0;p<g.length;p++){const $=g[p],m=this.hierarchical.distributionOrdering[$];for(let S=0;S<m.length;S++)this._centerParent(m[S])}};this.options.hierarchical.blockShifting===!0&&(v(5),y()),this.options.hierarchical.edgeMinimization===!0&&f(20),this.options.hierarchical.parentCentralization===!0&&b(),i()}_getSpaceAroundNode(e,t){let r=!0;t===void 0&&(r=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[i];let l=1e9,u=1e9;if(s!==0){const d=a[s-1];if(r===!0&&t[d.id]===void 0||r===!1){const c=this.direction.getPosition(d);l=o-c}}if(s!=a.length-1){const d=a[s+1];if(r===!0&&t[d.id]===void 0||r===!1){const c=this.direction.getPosition(d);u=Math.min(u,c-o)}}return[l,u]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const t=this.hierarchical.parentReference[e.id];for(let r=0;r<t.length;r++){const i=t[r],s=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(o!==void 0){const a=this._getCenterPosition(o),l=this.direction.getPosition(s),[u,d]=this._getSpaceAroundNode(s),c=l-a;(c<0&&Math.abs(c)<d-this.options.hierarchical.nodeSpacing||c>0&&Math.abs(c)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,a)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var t;let i=Ve(e[r]);i=this._indexArrayToNodes(i),mn(t=this.direction).call(t,i);let s=0;for(let o=0;o<i.length;o++){const a=i[o];if(this.positionedNodes[a.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let u=l*s;s>0&&(u=this.direction.getPosition(i[o-1])+l),this.direction.setPosition(a,u,r),this._validatePositionAndContinue(a,r,u),s++}}}}_placeBranchNodes(e,t){var r;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let a=0;a<i.length;a++)s.push(this.body.nodes[i[a]]);mn(r=this.direction).call(r,s);for(let a=0;a<s.length;a++){const l=s[a],u=this.hierarchical.levels[l.id];if(u>t&&this.positionedNodes[l.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let c;a===0?c=this.direction.getPosition(this.body.nodes[e]):c=this.direction.getPosition(s[a-1])+d,this.direction.setPosition(l,c,u),this._validatePositionAndContinue(l,u,c)}else return}const o=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],o,t)}_validatePositionAndContinue(e,t,r){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[t]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(r-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-r,o=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(o.withChild,s)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}_indexArrayToNodes(e){const t=[];for(let r=0;r<e.length;r++)t.push(this.body.nodes[e[r]]);return t}_getDistribution(){const e={};let t,r;for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){r=this.body.nodes[t];const i=this.hierarchical.levels[t]===void 0?0:this.hierarchical.levels[t];this.direction.fix(r,i),e[i]===void 0&&(e[i]={}),e[i][t]=r}return e}_getActiveEdges(e){const t=[];return ye(e.edges,r=>{var i;$e(i=this.body.edgeIndices).call(i,r.id)!==-1&&t.push(r)}),t}_getHubSizes(){const e={},t=this.body.nodeIndices;ye(t,i=>{const s=this.body.nodes[i],o=this._getActiveEdges(s).length;e[o]=!0});const r=[];return ye(e,i=>{r.push(Number(i))}),mn(r).call(r,function(i,s){return s-i}),r}_determineLevelsByHubsize(){const e=(r,i)=>{this.hierarchical.levelDownstream(r,i)},t=this._getHubSizes();for(let r=0;r<t.length;++r){const i=t[r];if(i===0)break;ye(this.body.nodeIndices,s=>{const o=this.body.nodes[s];i===this._getActiveEdges(o).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const t=function(i,s,o){},r=(i,s,o)=>{let a=this.hierarchical.levels[i.id];a===void 0&&(a=this.hierarchical.levels[i.id]=1e5);const l=t(bt.cloneOptions(i,"node"),bt.cloneOptions(s,"node"),bt.cloneOptions(o,"edge"));this.hierarchical.levels[s.id]=a+l};this._crawlNetwork(r),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const t=HN(e=this.body.nodeIndices).call(e,(r,i)=>(r.set(i,this.body.nodes[i]),r),new v1);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=a9(t):this.hierarchical.levels=o9(t),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(t,r)=>{this.hierarchical.levels[r.id]>this.hierarchical.levels[t.id]&&this.hierarchical.addRelation(t.id,r.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0;const r={},i=(s,o)=>{if(r[s.id]===void 0){this.hierarchical.setTreeIndex(s,o),r[s.id]=!0;let a;const l=this._getActiveEdges(s);for(let u=0;u<l.length;u++){const d=l[u];d.connected===!0&&(d.toId==s.id?a=d.from:a=d.to,s.id!=a.id&&(e(s,a,d),i(a,o)))}}};if(t===void 0){let s=0;for(let o=0;o<this.body.nodeIndices.length;o++){const a=this.body.nodeIndices[o];if(r[a]===void 0){const l=this.body.nodes[a];i(l,s),s+=1}}}else{const s=this.body.nodes[t];if(s===void 0){console.error("Node not found:",t);return}i(s)}}_shiftBlock(e,t){const r={},i=s=>{if(r[s])return;r[s]=!0,this.direction.shift(s,t);const o=this.hierarchical.childrenReference[s];if(o!==void 0)for(let a=0;a<o.length;a++)i(o[a])};i(e)}_findCommonParent(e,t){const r={},i=(o,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let u=0;u<l.length;u++){const d=l[u];o[d]=!0,i(o,d)}},s=(o,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let u=0;u<l.length;u++){const d=l[u];if(o[d]!==void 0)return{foundParent:d,withChild:a};const c=s(o,d);if(c.foundParent!==null)return c}return{foundParent:null,withChild:a}};return i(r,e),s(r,t)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new J7(this):this.direction=new Z7(this)}_getCenterPosition(e){let t=1e9,r=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const a=e[i];s=this.body.nodes[a]}const o=this.direction.getPosition(s);t=Math.min(t,o),r=Math.max(r,o)}return .5*(t+r)}}class d9{constructor(e,t,r,i){var s,o;this.body=e,this.canvas=t,this.selectionHandler=r,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Xe(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",B(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",B(o=this._restore).call(o,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,t,r){t!==void 0&&(t.locale!==void 0?this.options.locale=t.locale:this.options.locale=r.locale,t.locales!==void 0?this.options.locales=t.locales:this.options.locales=r.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,Ce(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const r=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=r+i,o=this.options.locales[this.options.locale];let a=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),a=!0),this.options.addEdge!==!1&&(a===!0?this._createSeperator(1):a=!0,this._createAddEdgeButton(o)),r===1&&typeof this.options.editNode=="function"?(a===!0?this._createSeperator(2):a=!0,this._createEditNodeButton(o)):i===1&&r===0&&this.options.editEdge!==!1&&(a===!0?this._createSeperator(3):a=!0,this._createEditEdgeButton(o)),s!==0&&(r>0&&this.options.deleteNode!==!1?(a===!0&&this._createSeperator(4),this._createDeleteButton(o)):r===0&&this.options.deleteEdge!==!1&&(a===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindElementEvents(this.closeDiv,B(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",B(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t;const r=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(r),this._createSeperator(),this._createDescription(r.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,B(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",B(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const t=Ce({},e.options,!1);if(t.x=e.x,t.y=e.y,this.options.editNode.length===2)this.options.editNode(t,r=>{r!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(r),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,t,r,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var o;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,B(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",B(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",B(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",B(r=this._dragControlNode).call(r,this)),this._temporaryBindUI("onRelease",B(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",B(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const o=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(o.from.id,o.to.id);return}if(this.guiEnabled===!0){var e;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,B(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var t,r,i,s;const o=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(o.from.x,o.from.y),l=this._getNewTargetNode(o.to.x,o.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",B(t=this._controlNodeTouch).call(t,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",B(r=this._controlNodeDragStart).call(r,this)),this._temporaryBindUI("onDrag",B(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",B(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",u=>{const d=o.edgeType.findBorderPositions(u);a.selected===!1&&(a.x=d.from.x,a.y=d.from.y),l.selected===!1&&(l.x=d.to.x,l.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),t=this.selectionHandler.getSelectedEdgeIds();let r;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(r=this.options.deleteNode)}else t.length>0&&typeof this.options.deleteEdge=="function"&&(r=this.options.deleteEdge);if(typeof r=="function"){const i={nodes:e,edges:t};if(r.length===2)r(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(t),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,t;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(t=this.options.locales[this.options.locale])===null||t===void 0?void 0:t.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,t){const r=Ce({},this.options.controlNodeStyle);r.id="targetNode"+fs(),r.hidden=!1,r.physics=!1,r.x=e,r.y=t;const i=this.body.functions.createNode(r);return i.shape.boundingBox={left:e,right:e,top:t,bottom:t},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},Vr(this.editModeDiv);const t=this.options.locales[this.options.locale],r=this._createButton("editMode","vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(r),this._bindElementEvents(r,B(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(Vr(this.editModeDiv),Vr(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const t of Tr(e=this._domEventListenerCleanupQueue).call(e,0)){var e;t()}}_removeManipulationDOM(){this._clean(),Vr(this.manipulationDiv),Vr(this.editModeDiv),Vr(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var t;const r=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,B(t=this.addNodeMode).call(t,this))}_createAddEdgeButton(e){var t;const r=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,B(t=this.addEdgeMode).call(t,this))}_createEditNodeButton(e){var t;const r=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,B(t=this.editNode).call(t,this))}_createEditEdgeButton(e){var t;const r=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,B(t=this.editEdgeMode).call(t,this))}_createDeleteButton(e){var t;let r;this.options.rtl?r="vis-delete-rtl":r="vis-delete";const i=this._createButton("delete",r,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,B(t=this.deleteSelected).call(t,this))}_createBackButton(e){var t;const r=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,B(t=this.showManipulatorToolbar).call(t,this))}_createButton(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=r,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}_temporaryBindUI(e,t){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Qs(Ve(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const t=this.temporaryEventFunctions[e].event,r=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,r)}this.temporaryEventFunctions=[]}_bindElementEvents(e,t){const r=new gn(e,{});Ao(r,t),this._domEventListenerCleanupQueue.push(()=>{r.destroy()});const i=s=>{let{keyCode:o,key:a}=s;(a==="Enter"||a===" "||o===13||o===32)&&t()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const o=$e(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(o!==-1){var t;Tr(t=this.body.edgeIndices).call(t,o,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var r;delete this.body.nodes[this.temporaryIds.nodes[s]];const o=$e(r=this.body.nodeIndices).call(r,this.temporaryIds.nodes[s]);if(o!==-1){var i;Tr(i=this.body.nodeIndices).call(i,o,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Xe({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),r=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const o=r.isOverlappingWith(t),a=i.isOverlappingWith(t);o===!0?(this.selectedControlNode=r,s.edgeType.from=r):a===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const t=this.body.functions.getPointer(e.center),r=this.canvas.DOMtoCanvas(t);this.selectedControlNode!==void 0?(this.selectedControlNode.x=r.x,this.selectedControlNode.y=r.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let a=s.length-1;a>=0;a--)if(s[a]!==this.selectedControlNode.id){o=this.body.nodes[s[a]];break}if(o!==void 0&&this.selectedControlNode!==void 0)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,i.to.id):this._performEditEdge(i.from.id,o.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Xe({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const t=this.lastTouch,r=this.selectionHandler.getNodeAt(t);if(r!==void 0)if(r.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(r.x,r.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+fs(),from:r.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let l=s.length-1;l>=0;l--){var a;if($e(a=this.temporaryIds.nodes).call(a,s[l])===-1){o=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(t.x),l.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let l=s.length-1;l>=0;l--){var a;if($e(a=this.temporaryIds.nodes).call(a,s[l])===-1){o=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),o!==void 0&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[o.id]!==void 0&&this._performAddEdge(i,o.id)),e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const t=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,t,void 0,!0)}_performAddNode(e){const t={id:fs(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(t,r=>{r!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(t),this.showManipulatorToolbar()}_performAddEdge(e,t){const r={from:e,to:t};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(r,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,t){const r={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(r,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[r.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const z="string",F="boolean",q="number",ss="array",J="object",KN="dom",c9="any",Hm=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Vm={borderWidth:{number:q},borderWidthSelected:{number:q,undefined:"undefined"},brokenImage:{string:z,undefined:"undefined"},chosen:{label:{boolean:F,function:"function"},node:{boolean:F,function:"function"},__type__:{object:J,boolean:F}},color:{border:{string:z},background:{string:z},highlight:{border:{string:z},background:{string:z},__type__:{object:J,string:z}},hover:{border:{string:z},background:{string:z},__type__:{object:J,string:z}},__type__:{object:J,string:z}},opacity:{number:q,undefined:"undefined"},fixed:{x:{boolean:F},y:{boolean:F},__type__:{object:J,boolean:F}},font:{align:{string:z},color:{string:z},size:{number:q},face:{string:z},background:{string:z},strokeWidth:{number:q},strokeColor:{string:z},vadjust:{number:q},multi:{boolean:F,string:z},bold:{color:{string:z},size:{number:q},face:{string:z},mod:{string:z},vadjust:{number:q},__type__:{object:J,string:z}},boldital:{color:{string:z},size:{number:q},face:{string:z},mod:{string:z},vadjust:{number:q},__type__:{object:J,string:z}},ital:{color:{string:z},size:{number:q},face:{string:z},mod:{string:z},vadjust:{number:q},__type__:{object:J,string:z}},mono:{color:{string:z},size:{number:q},face:{string:z},mod:{string:z},vadjust:{number:q},__type__:{object:J,string:z}},__type__:{object:J,string:z}},group:{string:z,number:q,undefined:"undefined"},heightConstraint:{minimum:{number:q},valign:{string:z},__type__:{object:J,boolean:F,number:q}},hidden:{boolean:F},icon:{face:{string:z},code:{string:z},size:{number:q},color:{string:z},weight:{string:z,number:q},__type__:{object:J}},id:{string:z,number:q},image:{selected:{string:z,undefined:"undefined"},unselected:{string:z,undefined:"undefined"},__type__:{object:J,string:z}},imagePadding:{top:{number:q},right:{number:q},bottom:{number:q},left:{number:q},__type__:{object:J,number:q}},label:{string:z,undefined:"undefined"},labelHighlightBold:{boolean:F},level:{number:q,undefined:"undefined"},margin:{top:{number:q},right:{number:q},bottom:{number:q},left:{number:q},__type__:{object:J,number:q}},mass:{number:q},physics:{boolean:F},scaling:{min:{number:q},max:{number:q},label:{enabled:{boolean:F},min:{number:q},max:{number:q},maxVisible:{number:q},drawThreshold:{number:q},__type__:{object:J,boolean:F}},customScalingFunction:{function:"function"},__type__:{object:J}},shadow:{enabled:{boolean:F},color:{string:z},size:{number:q},x:{number:q},y:{number:q},__type__:{object:J,boolean:F}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:F,array:ss},borderRadius:{number:q},interpolation:{boolean:F},useImageSize:{boolean:F},useBorderWithImage:{boolean:F},coordinateOrigin:{string:["center","top-left"]},__type__:{object:J}},size:{number:q},title:{string:z,dom:KN,undefined:"undefined"},value:{number:q,undefined:"undefined"},widthConstraint:{minimum:{number:q},maximum:{number:q},__type__:{object:J,boolean:F,number:q}},x:{number:q},y:{number:q},__type__:{object:J}},h9={configure:{enabled:{boolean:F},filter:{boolean:F,string:z,array:ss,function:"function"},container:{dom:KN},showButton:{boolean:F},__type__:{object:J,boolean:F,string:z,array:ss,function:"function"}},edges:{arrows:{to:{enabled:{boolean:F},scaleFactor:{number:q},type:{string:Hm},imageHeight:{number:q},imageWidth:{number:q},src:{string:z},__type__:{object:J,boolean:F}},middle:{enabled:{boolean:F},scaleFactor:{number:q},type:{string:Hm},imageWidth:{number:q},imageHeight:{number:q},src:{string:z},__type__:{object:J,boolean:F}},from:{enabled:{boolean:F},scaleFactor:{number:q},type:{string:Hm},imageWidth:{number:q},imageHeight:{number:q},src:{string:z},__type__:{object:J,boolean:F}},__type__:{string:["from","to","middle"],object:J}},endPointOffset:{from:{number:q},to:{number:q},__type__:{object:J,number:q}},arrowStrikethrough:{boolean:F},background:{enabled:{boolean:F},color:{string:z},size:{number:q},dashes:{boolean:F,array:ss},__type__:{object:J,boolean:F}},chosen:{label:{boolean:F,function:"function"},edge:{boolean:F,function:"function"},__type__:{object:J,boolean:F}},color:{color:{string:z},highlight:{string:z},hover:{string:z},inherit:{string:["from","to","both"],boolean:F},opacity:{number:q},__type__:{object:J,string:z}},dashes:{boolean:F,array:ss},font:{color:{string:z},size:{number:q},face:{string:z},background:{string:z},strokeWidth:{number:q},strokeColor:{string:z},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:q},multi:{boolean:F,string:z},bold:{color:{string:z},size:{number:q},face:{string:z},mod:{string:z},vadjust:{number:q},__type__:{object:J,string:z}},boldital:{color:{string:z},size:{number:q},face:{string:z},mod:{string:z},vadjust:{number:q},__type__:{object:J,string:z}},ital:{color:{string:z},size:{number:q},face:{string:z},mod:{string:z},vadjust:{number:q},__type__:{object:J,string:z}},mono:{color:{string:z},size:{number:q},face:{string:z},mod:{string:z},vadjust:{number:q},__type__:{object:J,string:z}},__type__:{object:J,string:z}},hidden:{boolean:F},hoverWidth:{function:"function",number:q},label:{string:z,undefined:"undefined"},labelHighlightBold:{boolean:F},length:{number:q,undefined:"undefined"},physics:{boolean:F},scaling:{min:{number:q},max:{number:q},label:{enabled:{boolean:F},min:{number:q},max:{number:q},maxVisible:{number:q},drawThreshold:{number:q},__type__:{object:J,boolean:F}},customScalingFunction:{function:"function"},__type__:{object:J}},selectionWidth:{function:"function",number:q},selfReferenceSize:{number:q},selfReference:{size:{number:q},angle:{number:q},renderBehindTheNode:{boolean:F},__type__:{object:J}},shadow:{enabled:{boolean:F},color:{string:z},size:{number:q},x:{number:q},y:{number:q},__type__:{object:J,boolean:F}},smooth:{enabled:{boolean:F},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:q},forceDirection:{string:["horizontal","vertical","none"],boolean:F},__type__:{object:J,boolean:F}},title:{string:z,undefined:"undefined"},width:{number:q},widthConstraint:{maximum:{number:q},__type__:{object:J,boolean:F,number:q}},value:{number:q,undefined:"undefined"},__type__:{object:J}},groups:{useDefaultGroups:{boolean:F},__any__:Vm,__type__:{object:J}},interaction:{dragNodes:{boolean:F},dragView:{boolean:F},hideEdgesOnDrag:{boolean:F},hideEdgesOnZoom:{boolean:F},hideNodesOnDrag:{boolean:F},hover:{boolean:F},keyboard:{enabled:{boolean:F},speed:{x:{number:q},y:{number:q},zoom:{number:q},__type__:{object:J}},bindToWindow:{boolean:F},autoFocus:{boolean:F},__type__:{object:J,boolean:F}},multiselect:{boolean:F},navigationButtons:{boolean:F},selectable:{boolean:F},selectConnectedEdges:{boolean:F},hoverConnectedEdges:{boolean:F},tooltipDelay:{number:q},zoomView:{boolean:F},zoomSpeed:{number:q},__type__:{object:J}},layout:{randomSeed:{undefined:"undefined",number:q,string:z},improvedLayout:{boolean:F},clusterThreshold:{number:q},hierarchical:{enabled:{boolean:F},levelSeparation:{number:q},nodeSpacing:{number:q},treeSpacing:{number:q},blockShifting:{boolean:F},edgeMinimization:{boolean:F},parentCentralization:{boolean:F},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:J,boolean:F}},__type__:{object:J}},manipulation:{enabled:{boolean:F},initiallyActive:{boolean:F},addNode:{boolean:F,function:"function"},addEdge:{boolean:F,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:J,boolean:F,function:"function"}},deleteNode:{boolean:F,function:"function"},deleteEdge:{boolean:F,function:"function"},controlNodeStyle:Vm,__type__:{object:J,boolean:F}},nodes:Vm,physics:{enabled:{boolean:F},barnesHut:{theta:{number:q},gravitationalConstant:{number:q},centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:J}},forceAtlas2Based:{theta:{number:q},gravitationalConstant:{number:q},centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:J}},repulsion:{centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},nodeDistance:{number:q},damping:{number:q},__type__:{object:J}},hierarchicalRepulsion:{centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},nodeDistance:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:J}},maxVelocity:{number:q},minVelocity:{number:q},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:F},iterations:{number:q},updateInterval:{number:q},onlyDynamicEdges:{boolean:F},fit:{boolean:F},__type__:{object:J,boolean:F}},timestep:{number:q},adaptiveTimestep:{boolean:F},wind:{x:{number:q},y:{number:q},__type__:{object:J}},__type__:{object:J,boolean:F}},autoResize:{boolean:F},clickToUse:{boolean:F},locale:{string:z},locales:{__any__:{any:c9},__type__:{object:J}},height:{string:z},width:{string:z},__type__:{object:J}},YN={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},f9=(n,e,t)=>{var r;return!!(Jr(n).call(n,"physics")&&Jr(r=YN.physics.solver).call(r,e)&&t.physics.solver!==e&&e!=="wind")};class v9{constructor(){}getDistances(e,t,r){const i={},s=e.edges;for(let a=0;a<t.length;a++){const l=t[a],u={};i[l]=u;for(let d=0;d<t.length;d++)u[t[d]]=a==d?0:1e9}for(let a=0;a<r.length;a++){const l=s[r[a]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const o=t.length;for(let a=0;a<o;a++){const l=t[a],u=i[l];for(let d=0;d<o-1;d++){const c=t[d],h=i[c];for(let f=d+1;f<o;f++){const v=t[f],y=i[v],b=Math.min(h[v],h[l]+u[v]);h[v]=b,y[c]=b}}}return i}}class p9{constructor(e,t,r){this.body=e,this.springLength=t,this.springConstant=r,this.distanceSolver=new v9}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,o=1;let a=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),u=5;let d=1e9,c=0,h=0,f=0,v=0,y=0;for(;d>s&&a<l;)for(a+=1,[c,d,h,f]=this._getHighestEnergyNode(r),v=d,y=0;v>o&&y<u;)y+=1,this._moveNode(c,h,f),[v,h,f]=this._getEnergy(c)}_getHighestEnergyNode(e){const t=this.body.nodeIndices,r=this.body.nodes;let i=0,s=t[0],o=0,a=0;for(let l=0;l<t.length;l++){const u=t[l];if(r[u].predefinedPosition!==!0||r[u].isCluster===!0&&e===!0||r[u].options.fixed.x!==!0||r[u].options.fixed.y!==!0){const[d,c,h]=this._getEnergy(u);i<d&&(i=d,s=u,o=c,a=h)}}return[s,i,o,a]}_getEnergy(e){const[t,r]=this.E_sums[e];return[Math.sqrt(t**2+r**2),t,r]}_moveNode(e,t,r){const i=this.body.nodeIndices,s=this.body.nodes;let o=0,a=0,l=0;const u=s[e].x,d=s[e].y,c=this.K_matrix[e],h=this.L_matrix[e];for(let m=0;m<i.length;m++){const S=i[m];if(S!==e){const O=s[S].x,x=s[S].y,_=c[S],E=h[S],T=1/((u-O)**2+(d-x)**2)**1.5;o+=_*(1-E*(d-x)**2*T),a+=_*(E*(u-O)*(d-x)*T),l+=_*(1-E*(u-O)**2*T)}}const f=o,v=a,y=t,b=l,g=r,p=(y/f+g/v)/(v/f-b/v),$=-(v*p+y)/f;s[e].x+=$,s[e].y+=p,this._updateE_matrix(e)}_createL_matrix(e){const t=this.body.nodeIndices,r=this.springLength;this.L_matrix=[];for(let i=0;i<t.length;i++){this.L_matrix[t[i]]={};for(let s=0;s<t.length;s++)this.L_matrix[t[i]][t[s]]=r*e[t[i]][t[s]]}}_createK_matrix(e){const t=this.body.nodeIndices,r=this.springConstant;this.K_matrix=[];for(let i=0;i<t.length;i++){this.K_matrix[t[i]]={};for(let s=0;s<t.length;s++)this.K_matrix[t[i]][t[s]]=r*e[t[i]][t[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(let r=0;r<e.length;r++)this.E_matrix[e[r]]=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[i].x,o=t[i].y;let a=0,l=0;for(let u=r;u<e.length;u++){const d=e[u];if(d!==i){const c=t[d].x,h=t[d].y,f=1/Math.sqrt((s-c)**2+(o-h)**2);this.E_matrix[i][u]=[this.K_matrix[i][d]*(s-c-this.L_matrix[i][d]*(s-c)*f),this.K_matrix[i][d]*(o-h-this.L_matrix[i][d]*(o-h)*f)],this.E_matrix[d][r]=this.E_matrix[i][u],a+=this.E_matrix[i][u][0],l+=this.E_matrix[i][u][1]}}this.E_sums[i]=[a,l]}}_updateE_matrix(e){const t=this.body.nodeIndices,r=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],o=this.L_matrix[e],a=r[e].x,l=r[e].y;let u=0,d=0;for(let c=0;c<t.length;c++){const h=t[c];if(h!==e){const f=i[c],v=f[0],y=f[1],b=r[h].x,g=r[h].y,p=1/Math.sqrt((a-b)**2+(l-g)**2),$=s[h]*(a-b-o[h]*(a-b)*p),m=s[h]*(l-g-o[h]*(l-g)*p);i[c]=[$,m],u+=$,d+=m;const S=this.E_sums[h];S[0]+=$-v,S[1]+=m-y}}this.E_sums[e]=[u,d]}}function X(n,e,t){var r,i,s,o;if(!(this instanceof X))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:BG,clickToUse:!1},Xe(this.options,this.defaultOptions),this.body={container:n,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:B(r=this.on).call(r,this),off:B(i=this.off).call(i,this),emit:B(s=this.emit).call(s,this),once:B(o=this.once).call(o,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new zG(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new i8,this.canvas=new JK(this.body),this.selectionHandler=new q7(this.body,this.canvas),this.interactionHandler=new t7(this.body,this.canvas,this.selectionHandler),this.view=new QK(this.body,this.canvas),this.renderer=new UK(this.body,this.canvas),this.physics=new NK(this.body),this.layoutEngine=new u9(this.body),this.clustering=new VK(this.body),this.manipulation=new d9(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new hK(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new qK(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new p9(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}OF(X.prototype);X.prototype.setOptions=function(n){if(n===null&&(n=void 0),n!==void 0){if(gG.validate(n,h9)===!0&&console.error("%cErrors have been found in the supplied options object.",_N),Qn(["locale","locales","clickToUse"],this.options,n),n.locale!==void 0&&(n.locale=jG(n.locales||this.options.locales,n.locale)),n=this.layoutEngine.setOptions(n.layout,n),this.canvas.setOptions(n),this.groups.setOptions(n.groups),this.nodesHandler.setOptions(n.nodes),this.edgesHandler.setOptions(n.edges),this.physics.setOptions(n.physics),this.manipulation.setOptions(n.manipulation,n,this.options),this.interactionHandler.setOptions(n.interaction),this.renderer.setOptions(n.interaction),this.selectionHandler.setOptions(n.interaction),n.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in n&&(this.configurator||(this.configurator=new vG(this,this.body.container,YN,this.canvas.pixelRatio,f9)),this.configurator.setOptions(n.configure)),this.configurator&&this.configurator.options.enabled===!0){const r={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Ce(r.nodes,this.nodesHandler.options),Ce(r.edges,this.edgesHandler.options),Ce(r.layout,this.layoutEngine.options),Ce(r.interaction,this.selectionHandler.options),Ce(r.interaction,this.renderer.options),Ce(r.interaction,this.interactionHandler.options),Ce(r.manipulation,this.manipulation.options),Ce(r.physics,this.physics.options),Ce(r.global,this.canvas.options),Ce(r.global,this.options),this.configurator.setModuleOptions(r)}n.clickToUse!==void 0?n.clickToUse===!0?this.activator===void 0&&(this.activator=new fG(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};X.prototype._updateVisibleIndices=function(){const n=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&!this.clustering._isClusteredNode(t)&&n[t].options.hidden===!1&&this.body.nodeIndices.push(n[t].id);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t],i=n[r.fromId],s=n[r.toId],o=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(t)&&r.options.hidden===!1&&o&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(r.id)}};X.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};X.prototype.setData=function(n){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),n&&n.dot&&(n.nodes||n.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(n&&n.options),n&&n.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=IG(n.dot);this.setData(e);return}else if(n&&n.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=xG(n.gephi);this.setData(e);return}else this.nodesHandler.setData(n&&n.nodes,!0),this.edgesHandler.setData(n&&n.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};X.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const n in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,n)&&delete this.body.nodes[n];for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&delete this.body.edges[n];Vr(this.body.container)};X.prototype._updateValueRange=function(n){let e,t,r,i=0;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const s=n[e].getValue();s!==void 0&&(t=t===void 0?s:Math.min(s,t),r=r===void 0?s:Math.max(s,r),i+=s)}if(t!==void 0&&r!==void 0)for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&n[e].setValueRange(t,r,i)};X.prototype.isActive=function(){return!this.activator||this.activator.active};X.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};X.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};X.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};X.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};X.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};X.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};X.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};X.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};X.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};X.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};X.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};X.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};X.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};X.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};X.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};X.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};X.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};X.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};X.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};X.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};X.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};X.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};X.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};X.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};X.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};X.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};X.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};X.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};X.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};X.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};X.prototype.getConnectedNodes=function(n){return this.body.nodes[n]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};X.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};X.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};X.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};X.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};X.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};X.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};X.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};X.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};X.prototype.getNodeAt=function(){const n=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return n!==void 0&&n.id!==void 0?n.id:n};X.prototype.getEdgeAt=function(){const n=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return n!==void 0&&n.id!==void 0?n.id:n};X.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};X.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};X.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};X.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};X.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};X.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};X.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};X.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};X.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};X.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};X.prototype.getOptionsFromConfigurator=function(){let n={};return this.configurator&&(n=this.configurator.getOptions.apply(this.configurator)),n};const g9={class:"w-full h-full relative border dark:border-gray-700 rounded-lg overflow-hidden group isolate select-none"},y9={class:"flex items-center gap-2 border-b border-gray-100 dark:border-gray-700 pb-2"},m9={class:"font-bold text-sm text-gray-800 dark:text-gray-100 break-words leading-tight"},b9={class:"space-y-1.5 text-xs text-gray-600 dark:text-gray-300"},_9={class:"flex gap-2"},w9={class:"font-medium bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-[10px] uppercase tracking-wide"},S9={class:"flex gap-2"},E9={class:"font-mono opacity-75"},$9={key:0,class:"mt-1"},O9={class:"bg-gray-50 dark:bg-gray-900/50 p-2 rounded border border-gray-100 dark:border-gray-800/50 overflow-hidden"},I9={class:"whitespace-pre-wrap font-mono text-[10px] leading-relaxed text-gray-600 dark:text-gray-400 break-all"},x9={class:"absolute bottom-4 right-4 flex gap-2 opacity-50 group-hover:opacity-100 transition-opacity z-10"},T9=["title"],P9={key:1,class:"absolute inset-0 bg-gray-500/20 backdrop-blur-sm flex items-center justify-center z-20"},R9={class:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl border dark:border-gray-700 flex flex-col items-center gap-3"},C9={class:"animate-spin"},q9={__name:"InteractiveGraphViewer",props:{nodes:{type:Array,default:()=>[]},edges:{type:Array,default:()=>[]},isLoading:{type:Boolean,default:!1}},emits:["node-select","edge-select","deselect"],setup(n,{expose:e,emit:t}){const r=n,i=t,s=cb(),o=te(null);let a=null;const l=te(!0),u=te({visible:!1,x:0,y:0,node:null,color:""}),d={Person:"#FFD700",Organization:"#87CEEB",Location:"#90EE90",Date:"#FFA07A",Product:"#20B2AA",Event:"#FF69B4",Concept:"#9370DB",Technology:"#A9A9A9",default:"#D3D3D3"};function c(g,p){let $=0;for(let x=0;x<g.length;x++)$=g.charCodeAt(x)+(($<<5)-$);return`hsl(${Math.abs($)%360}, 70%, ${p?65:45}%)`}function h(g,p){return d[g]?d[g]:c(g||"default",p)}const f=g=>{const p=g==="dark";return{nodes:{shape:"dot",size:25,font:{size:14,color:p?"#E5E7EB":"#374151",strokeWidth:3,strokeColor:p?"#111827":"#FFFFFF"},borderWidth:2,shadow:{enabled:!0,color:"rgba(0,0,0,0.2)",size:5,x:2,y:2}},edges:{width:2,color:{color:p?"#6B7280":"#9CA3AF",highlight:"#3B82F6",hover:"#60A5FA",opacity:.9,inherit:!1},smooth:{type:"continuous",roundness:.5},arrows:{to:{enabled:!0,scaleFactor:.8}},font:{align:"middle",size:11,color:p?"#9CA3AF":"#4B5563",strokeWidth:2,strokeColor:p?"#111827":"#FFFFFF",background:"transparent"},selectionWidth:3},physics:{enabled:!0,solver:"forceAtlas2Based",forceAtlas2Based:{gravitationalConstant:-30,centralGravity:.005,springLength:200,springConstant:.1,damping:.4,avoidOverlap:.5},maxVelocity:40,minVelocity:.5,stabilization:{enabled:!0,iterations:500,updateInterval:50,onlyDynamicEdges:!1}},interaction:{hover:!0,hoverConnectedEdges:!0,tooltipDelay:0,dragNodes:!0,dragView:!0,zoomView:!0,selectable:!0,selectConnectedEdges:!0}}};function v(){if(!o.value)return;const g=s.currentTheme==="dark",p={nodes:r.nodes.map(m=>{var _,E,T;const S=m.label,O=String(((_=m.properties)==null?void 0:_.identifying_value)||((E=m.properties)==null?void 0:E.name)||((T=m.properties)==null?void 0:T.label)||m.label||m.id),x=h(S,g);return{id:String(m.id),label:O.length>25?O.substring(0,24)+"...":O,title:void 0,color:{background:x,border:x,highlight:{background:x,border:g?"#FFFFFF":"#000000"},hover:{background:x,border:g?"#FFFFFF":"#000000"}},group:S,_raw:m}}),edges:r.edges.map(m=>{const S=m.source??m.source_id??m.from??m.start??m.start_node_id,O=m.target??m.target_id??m.to??m.end??m.end_node_id;return{id:m.id,from:String(S),to:String(O),label:m.label||m.type||"",properties:m.properties}}).filter(m=>m.from&&m.to&&m.from!=="undefined"&&m.to!=="undefined")},$=f(s.currentTheme);a?(a.setOptions($),a.setData(p)):(a=new X(o.value,p,$),a.on("click",m=>{if(m.nodes.length>0){const S=m.nodes[0],O=r.nodes.find(x=>String(x.id)===String(S));O&&i("node-select",O)}else if(m.edges.length>0){const S=m.edges[0],O=r.edges.find(x=>x.id===S);O&&i("edge-select",O)}else i("deselect")}),a.on("hoverNode",m=>{const S=m.node,x=a.getPositions([S])[S];if(!x)return;const _=a.canvasToDOM(x),E=r.nodes.find(P=>String(P.id)===String(S)),T=(E==null?void 0:E.label)||"default";E&&(u.value={visible:!0,x:_.x,y:_.y,node:E,color:h(T,g)})}),a.on("blurNode",()=>{u.value.visible=!1}),a.on("dragStart",()=>{u.value.visible=!1}),a.on("zoom",()=>u.value.visible=!1),a.on("dragEnd",()=>u.value.visible=!1),a.on("hoverNode",function(){o.value.style.cursor="pointer"}),a.on("blurNode",function(){o.value.style.cursor="default"}))}Sr(()=>[r.nodes,r.edges],()=>{eB(()=>{v()})},{deep:!0}),Sr(()=>s.currentTheme,g=>{if(a){const p=f(g);a.setOptions(p),v()}}),hb(()=>{v()}),ZN(()=>{a&&(a.destroy(),a=null)});function y(){a&&a.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})}function b(){a&&(l.value=!l.value,a.setOptions({physics:{enabled:l.value}}))}return e({resetView:y}),(g,p)=>(M(),N("div",g9,[w("div",{ref_key:"networkContainer",ref:o,class:"w-full h-full bg-white dark:bg-gray-900 cursor-grab active:cursor-grabbing outline-none"},null,512),u.value.visible&&u.value.node?(M(),N("div",{key:0,class:"absolute pointer-events-none z-50 bg-white dark:bg-gray-800 p-3 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 max-w-sm transition-opacity duration-200 flex flex-col gap-2",style:Um({left:u.value.x+"px",top:u.value.y+"px",transform:"translate(-50%, -100%)",marginTop:"-15px"})},[w("div",y9,[w("span",{class:"w-3 h-3 rounded-full flex-shrink-0 shadow-sm",style:Um({backgroundColor:u.value.color})},null,4),w("span",m9,Y(u.value.node.label),1)]),w("div",b9,[w("div",_9,[p[0]||(p[0]=w("span",{class:"font-semibold text-gray-500 dark:text-gray-400 w-8"},"Type:",-1)),w("span",w9,Y(u.value.node.group),1)]),w("div",S9,[p[1]||(p[1]=w("span",{class:"font-semibold text-gray-500 dark:text-gray-400 w-8"},"ID:",-1)),w("span",E9,Y(u.value.node.id),1)]),u.value.node.properties&&Object.keys(u.value.node.properties).length>0?(M(),N("div",$9,[p[2]||(p[2]=w("span",{class:"font-semibold text-gray-500 dark:text-gray-400 block mb-1"},"Properties:",-1)),w("div",O9,[w("pre",I9,Y(JSON.stringify(u.value.node.properties,null,2)),1)])])):le("",!0)]),p[3]||(p[3]=w("div",{class:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-full w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[6px] border-t-white dark:border-t-gray-800 drop-shadow-sm"},null,-1))],4)):le("",!0),w("div",x9,[w("button",{onClick:y,class:"p-2 bg-white dark:bg-gray-800 rounded-md shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200 border dark:border-gray-700 transition-colors",title:"Fit to View"},[Ee(VA,{class:"w-5 h-5"})]),w("button",{onClick:b,class:"p-2 bg-white dark:bg-gray-800 rounded-md shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200 border dark:border-gray-700 transition-colors",title:l.value?"Freeze Layout":"Enable Physics"},[l.value?(M(),pt(QN,{key:0,class:"w-5 h-5"})):(M(),pt(JA,{key:1,class:"w-5 h-5"}))],8,T9)]),n.isLoading?(M(),N("div",P9,[w("div",R9,[w("div",C9,[Ee(Yt,{class:"w-8 h-8 text-blue-500 dark:text-blue-400"})]),p[4]||(p[4]=w("span",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200 animate-pulse"},"Processing Graph...",-1))])])):le("",!0)]))}},k9=HA(q9,[["__scopeId","data-v-581152e6"]]),D9={class:"h-full flex flex-col lg:flex-row gap-6"},M9={class:"w-full lg:w-96 lg:flex-shrink-0 space-y-6 h-full overflow-y-auto custom-scrollbar pr-4"},A9={class:"grid grid-cols-2 gap-4"},F9={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3 text-center border dark:border-gray-600"},N9={key:0,class:"text-xl font-bold animate-pulse"},B9={key:1,class:"text-xl font-bold"},j9={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3 text-center border dark:border-gray-600"},L9={key:0,class:"text-xl font-bold animate-pulse"},z9={key:1,class:"text-xl font-bold"},W9={key:0,class:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-100 dark:border-blue-800"},H9={class:"font-semibold text-blue-800 dark:text-blue-200 text-sm flex justify-between"},V9={class:"text-xs opacity-75"},U9={class:"text-xs text-blue-700 dark:text-blue-300 mt-1"},G9={class:"w-full bg-blue-200 dark:bg-blue-800 rounded-full h-1.5 mt-2"},K9={key:1,class:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 space-y-3"},Y9={class:"flex justify-between items-start"},X9={class:"font-semibold text-lg"},J9={class:"px-2 py-0.5 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs"},Z9={class:"text-xs text-gray-500 font-mono"},Q9={class:"bg-gray-50 dark:bg-gray-900 p-2 rounded max-h-40 overflow-auto custom-scrollbar"},eY={class:"text-xs text-gray-700 dark:text-gray-300 whitespace-pre-wrap"},tY={key:2,class:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 space-y-3"},rY={class:"flex items-center justify-between text-sm"},iY={class:"font-medium"},nY={class:"text-xs text-gray-500 space-y-1"},sY={class:"space-y-4 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700"},oY={key:0,class:"flex gap-2"},aY=["disabled"],lY=["disabled"],uY={key:1,class:"dark:border-gray-700"},dY={class:"space-y-2"},cY=["label"],hY=["value"],fY={class:"flex justify-between items-center mb-1"},vY={class:"flex items-center gap-2"},pY={class:"flex gap-2 mb-2"},gY=["value"],yY={class:"h-48 border rounded-md overflow-hidden border-gray-300 dark:border-gray-600"},mY={class:"grid grid-cols-2 gap-3 pt-2"},bY=["disabled"],_Y=["disabled"],wY={class:"pt-2"},SY=["disabled"],EY={key:3,class:"space-y-4 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700"},$Y=["disabled"],OY={key:0,class:"flex justify-center p-4"},IY={key:1,class:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar bg-gray-50 dark:bg-gray-900 p-2 rounded-md"},xY={class:"whitespace-pre-wrap font-sans"},TY={key:2,class:"text-center text-gray-500 text-xs italic"},PY={class:"flex-grow h-[500px] lg:h-full lg:min-h-0 bg-white dark:bg-gray-900 rounded-lg shadow-inner border dark:border-gray-700 p-1 relative"},RY={key:0,class:"absolute inset-0 flex flex-col items-center justify-center bg-gray-50/80 dark:bg-gray-900/80 z-10 p-6 text-center"},CY={class:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg border dark:border-gray-700 max-w-md"},qY={class:"w-16 h-16 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center mx-auto mb-4 text-blue-600 dark:text-blue-400"},kY=["disabled"],DY={key:0,class:"text-xs text-red-500 mt-2"},WA=`{
  "entities": [
    {"name": "Person", "description": "Key individuals mentioned in the text"},
    {"name": "Organization", "description": "Companies, institutions, or groups"},
    {"name": "Location", "description": "Cities, countries, or physical places"},
    {"name": "Date", "description": "Specific points in time or durations"},
    {"name": "Concept", "description": "Abstract ideas, theories, or methodologies"},
    {"name": "Technology", "description": "Software, hardware, or tools"}
  ],
  "relationships": [
    {"source": "Person", "target": "Organization", "label": "WORKS_FOR"},
    {"source": "Person", "target": "Location", "label": "LOCATED_IN"},
    {"source": "Organization", "target": "Location", "label": "HEADQUARTERED_IN"},
    {"source": "Person", "target": "Person", "label": "KNOWS"},
    {"source": "Organization", "target": "Product", "label": "PRODUCES"},
    {"source": "Concept", "target": "Concept", "label": "RELATES_TO"}
  ]
}`,MY={__name:"DataStoreGraphManager",props:{store:{type:Object,required:!0},task:{type:Object,default:null}},setup(n){const e=n,t=UA(),r=cb(),i=GA();KA();const{user:s}=os(i),{availableLLMModelsGrouped:o}=os(t),a=te(null),l=te({nodes:0,edges:0}),u=te({nodes:[],edges:[]}),d=te(!1),c=te(null),h=te({model_binding:"",model_name:"",chunk_size:2048,overlap_size:256,ontology:WA}),f=te(""),v=te(""),y=te([]),b=te(!1),g=te(null),p=te(null),$=te("json"),m=te([]),S=te(null);Sr(f,Z=>{if(Z){const[D,...K]=Z.split("/");h.value.model_binding=D,h.value.model_name=K.join("/")}else h.value.model_binding="",h.value.model_name=""});async function O(){var Z,D;d.value=!0,g.value=null,p.value=null;try{const K=await t.fetchDataStoreGraph(e.store.id);u.value=K||{nodes:[],edges:[]},l.value={nodes:((Z=K==null?void 0:K.nodes)==null?void 0:Z.length)||0,edges:((D=K==null?void 0:K.edges)==null?void 0:D.length)||0}}catch(K){console.error("Failed to fetch graph:",K),u.value={nodes:[],edges:[]},l.value={nodes:0,edges:0}}finally{d.value=!1}}function x(){if(!h.value.model_binding||!h.value.model_name){r.addNotification("Please select a model for generation.","warning");return}t.generateDataStoreGraph({storeId:e.store.id,graphData:h.value})}function _(){if(!h.value.model_binding||!h.value.model_name){r.addNotification("Please select a model for update.","warning");return}t.updateDataStoreGraph({storeId:e.store.id,graphData:h.value})}async function E(){if((await r.showConfirmation({title:"Wipe Knowledge Graph?",message:"This will permanently delete all nodes and edges from this datastore's graph. This action cannot be undone.",confirmText:"Wipe Graph"})).confirmed)try{await t.wipeDataStoreGraph(e.store.id),O(),r.addNotification("Graph wiped successfully","success")}catch{r.addNotification("Failed to wipe graph","error")}}async function T(){if(v.value.trim()){b.value=!0;try{y.value=await t.queryDataStoreGraph({storeId:e.store.id,query:v.value,max_k:10})}finally{b.value=!1}}}function P(Z){g.value=Z,p.value=null}function R(Z){p.value=Z,g.value=null}function C(){g.value=null,p.value=null}function A(){r.openModal("NodeEditModal",{onConfirm:async Z=>{try{await t.addGraphNode({storeId:e.store.id,nodeData:Z}),r.addNotification("Node added successfully","success"),O()}catch(D){r.addNotification("Failed to add node","error"),console.error(D)}}})}function L(){var Z;r.openModal("EdgeEditModal",{sourceId:((Z=g.value)==null?void 0:Z.id)||"",onConfirm:async D=>{try{await t.addGraphEdge({storeId:e.store.id,edgeData:D}),r.addNotification("Edge added successfully","success"),O()}catch(K){r.addNotification("Failed to add edge","error"),console.error(K)}}})}function ne(){g.value&&r.openModal("NodeEditModal",{node:g.value,onConfirm:async Z=>{try{await t.updateGraphNode({storeId:e.store.id,nodeId:g.value.id,nodeData:Z}),r.addNotification("Node updated successfully","success"),O()}catch(D){r.addNotification("Failed to update node","error"),console.error(D)}}})}async function H(){if(!g.value)return;const{confirmed:Z}=await r.showConfirmation({title:"Delete Node?",message:`Delete node "${g.value.label}" (ID: ${g.value.id})? This will also delete connected edges.`});if(Z)try{await t.deleteGraphNode({storeId:e.store.id,nodeId:g.value.id}),r.addNotification("Node deleted","success"),O()}catch{r.addNotification("Failed to delete node","error")}}async function ae(){if(!p.value)return;const{confirmed:Z}=await r.showConfirmation({title:"Delete Edge?",message:`Delete edge "${p.value.label}"?`});if(Z)try{await t.deleteGraphEdge({storeId:e.store.id,edgeId:p.value.id}),r.addNotification("Edge deleted","success"),O()}catch{r.addNotification("Failed to delete edge","error")}}function de(){c.value.click()}async function fe(Z){const D=Z.target.files[0];if(D){r.addNotification("Importing ontology file...","info");try{const K=await t.extractTextFromFile(D);h.value.ontology=K,D.name.endsWith(".json")?$.value="json":D.name.endsWith(".yaml")||D.name.endsWith(".yml")?$.value="yaml":D.name.endsWith(".xml")||D.name.endsWith(".owl")||D.name.endsWith(".rdf")?$.value="xml":D.name.endsWith(".ttl")?$.value="python":$.value="markdown",r.addNotification("Ontology file imported successfully.","success")}catch(K){console.error("Ontology import failed:",K)}finally{c.value&&(c.value.value="")}}}function G(){a.value&&a.value.resetView()}function pe(){const Z=[{name:"Default (JSON)",language:"json",content:WA},{name:"Simple (YAML)",language:"yaml",content:`entities:
  - Person
  - Place
relationships:
  - visited`},{name:"OWL/RDF (Turtle)",language:"python",content:`@prefix : <http://example.org/> .
:Person a :Class .
:knows a :ObjectProperty .`},{name:"Free Text (Markdown)",language:"markdown",content:`Define Entities:
- Person
- Location

Define Relations:
- Person lives in Location`}];try{const D=JSON.parse(localStorage.getItem("lollms_graph_presets")||"[]");m.value=[...Z,...D]}catch{m.value=Z}}function ce(){S.value&&(h.value.ontology=S.value.content,$.value=S.value.language||"json")}async function we(){const Z=prompt("Enter a name for this ontology preset:");if(Z){const D={name:Z,language:$.value,content:h.value.ontology};try{const K=JSON.parse(localStorage.getItem("lollms_graph_presets")||"[]");K.push(D),localStorage.setItem("lollms_graph_presets",JSON.stringify(K)),pe(),S.value=m.value[m.value.length-1],r.addNotification("Preset saved","success")}catch(K){console.error(K),r.addNotification("Failed to save preset","error")}}}return hb(()=>{var Z;O(),pe(),(Z=s.value)!=null&&Z.lollms_model_name&&(f.value=s.value.lollms_model_name),o.value.length===0&&t.fetchAvailableLollmsModels()}),Sr(()=>e.store.id,O),Sr(()=>e.task,(Z,D)=>{D&&(D.status==="running"||D.status==="pending")&&!Z&&O()}),(Z,D)=>(M(),N("div",D9,[w("div",M9,[w("div",A9,[w("div",F9,[D[5]||(D[5]=w("h4",{class:"text-xs font-medium text-gray-500 dark:text-gray-400"},"Nodes",-1)),d.value?(M(),N("p",N9,"...")):(M(),N("p",B9,Y(l.value.nodes),1))]),w("div",j9,[D[6]||(D[6]=w("h4",{class:"text-xs font-medium text-gray-500 dark:text-gray-400"},"Edges",-1)),d.value?(M(),N("p",L9,"...")):(M(),N("p",z9,Y(l.value.edges),1))])]),n.task?(M(),N("div",W9,[w("h4",H9,[Ae(Y(n.task.name)+" ",1),w("span",V9,Y(n.task.progress)+"%",1)]),w("p",U9,Y(n.task.description),1),w("div",G9,[w("div",{class:"bg-blue-600 dark:bg-blue-400 h-1.5 rounded-full transition-all duration-500",style:Um({width:n.task.progress+"%"})},null,4)])])):le("",!0),g.value?(M(),N("div",K9,[w("div",Y9,[w("h3",X9,Y(g.value.label),1),w("span",J9,Y(g.value.group),1)]),w("div",Z9,"ID: "+Y(g.value.id),1),w("div",Q9,[w("pre",eY,Y(JSON.stringify(g.value.properties,null,2)),1)]),w("div",{class:"flex gap-2 pt-2"},[w("button",{onClick:ne,class:"btn btn-secondary btn-sm flex-1"},"Edit Properties"),w("button",{onClick:H,class:"btn btn-danger btn-sm flex-1"},"Delete")])])):le("",!0),p.value?(M(),N("div",tY,[D[9]||(D[9]=w("h3",{class:"font-semibold text-lg border-b pb-2 dark:border-gray-700"},"Relationship",-1)),w("div",rY,[w("span",iY,Y(p.value.label),1)]),w("div",nY,[w("div",null,[D[7]||(D[7]=w("span",{class:"font-semibold"},"Source:",-1)),Ae(" "+Y(p.value.source),1)]),w("div",null,[D[8]||(D[8]=w("span",{class:"font-semibold"},"Target:",-1)),Ae(" "+Y(p.value.target),1)])]),w("div",{class:"flex gap-2 pt-2"},[w("button",{onClick:ae,class:"btn btn-danger btn-sm w-full"},"Delete Relationship")])])):le("",!0),w("div",sY,[D[17]||(D[17]=w("h3",{class:"text-base font-semibold flex items-center gap-2"},[w("span",{class:"w-1 h-4 bg-primary-500 rounded-full"}),Ae(" Graph Actions ")],-1)),l.value.nodes>0?(M(),N("div",oY,[w("button",{onClick:A,disabled:!!n.task,class:"btn btn-secondary btn-sm flex-1"},"Add Node",8,aY),w("button",{onClick:L,disabled:!!n.task,class:"btn btn-secondary btn-sm flex-1"},"Add Edge",8,lY),w("button",{onClick:G,class:"btn btn-ghost btn-sm px-2",title:"Fit Graph"},[Ee(VA,{class:"w-4 h-4"})])])):le("",!0),l.value.nodes>0?(M(),N("hr",uY)):le("",!0),w("div",dY,[w("div",null,[D[11]||(D[11]=w("label",{for:"model-select",class:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-1"},"LLM Model",-1)),Be(w("select",{id:"model-select","onUpdate:modelValue":D[0]||(D[0]=K=>f.value=K),class:"input-field text-sm"},[D[10]||(D[10]=w("option",{disabled:"",value:""},"Select a model",-1)),(M(!0),N(gt,null,Et(an(o),K=>(M(),N("optgroup",{key:K.label,label:K.label},[(M(!0),N(gt,null,Et(K.items,xe=>(M(),N("option",{key:xe.id,value:xe.id},Y(xe.name),9,hY))),128))],8,cY))),128))],512),[[as,f.value]])]),w("div",null,[w("div",fY,[D[12]||(D[12]=w("label",{class:"block text-xs font-bold uppercase tracking-wider text-gray-500"},"Ontology Schema",-1)),w("div",vY,[w("button",{type:"button",onClick:de,class:"text-xs text-primary-600 hover:text-primary-700 flex items-center gap-1",title:"Import File"},[Ee(YA,{class:"w-3 h-3"})]),w("button",{type:"button",onClick:we,class:"text-xs text-primary-600 hover:text-primary-700 flex items-center gap-1",title:"Save as Preset"},[Ee(tB,{class:"w-3 h-3"})])])]),w("div",pY,[Be(w("select",{"onUpdate:modelValue":D[1]||(D[1]=K=>S.value=K),onChange:ce,class:"input-field text-xs py-1"},[D[13]||(D[13]=w("option",{value:null,disabled:""},"Load Preset...",-1)),(M(!0),N(gt,null,Et(m.value,(K,xe)=>(M(),N("option",{key:xe,value:K},Y(K.name),9,gY))),128))],544),[[as,S.value]]),Be(w("select",{"onUpdate:modelValue":D[2]||(D[2]=K=>$.value=K),class:"input-field text-xs py-1 w-24"},D[14]||(D[14]=[rB('<option value="json">JSON</option><option value="yaml">YAML</option><option value="xml">XML</option><option value="markdown">MD</option><option value="python">Code</option>',5)]),512),[[as,$.value]])]),w("div",yY,[Ee(iB,{modelValue:h.value.ontology,"onUpdate:modelValue":D[3]||(D[3]=K=>h.value.ontology=K),language:$.value,class:"h-full w-full text-xs"},null,8,["modelValue","language"])]),w("input",{type:"file",ref_key:"ontologyFileInput",ref:c,onChange:fe,class:"hidden",accept:".owl,.rdf,.ttl,.jsonld,.pdf,.docx,.txt,.md,.json,.yaml,.yml,.xml"},null,544),D[15]||(D[15]=w("p",{class:"text-[10px] text-gray-400 mt-1"},"Defines the structure for the LLM to extract knowledge.",-1))])]),w("div",mY,[w("button",{onClick:x,disabled:!!n.task,class:"btn btn-primary btn-sm"},Y(l.value.nodes>0?"Re-Generate":"Generate Graph"),9,bY),w("button",{onClick:_,disabled:!!n.task||l.value.nodes===0,class:"btn btn-secondary btn-sm"}," Update Graph ",8,_Y)]),w("div",wY,[w("button",{onClick:E,disabled:!!n.task||l.value.nodes===0,class:"btn btn-ghost text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 w-full btn-sm flex items-center justify-center gap-2"},[Ee(Gm,{class:"w-4 h-4"}),D[16]||(D[16]=Ae(" Wipe All Data "))],8,SY)])]),l.value.nodes>0?(M(),N("div",EY,[D[18]||(D[18]=w("h3",{class:"text-base font-semibold flex items-center gap-2"},[w("span",{class:"w-1 h-4 bg-green-500 rounded-full"}),Ae(" Query Graph ")],-1)),w("form",{onSubmit:ln(T,["prevent"]),class:"flex gap-2"},[Be(w("input",{"onUpdate:modelValue":D[4]||(D[4]=K=>v.value=K),type:"text",placeholder:"Search for concepts...",class:"input-field flex-grow text-sm"},null,512),[[qt,v.value]]),w("button",{type:"submit",disabled:b.value||!v.value.trim(),class:"btn btn-primary btn-sm px-4"},"Find",8,$Y)],32),b.value?(M(),N("div",OY,[Ee(Yt,{class:"w-6 h-6 text-primary-500"})])):le("",!0),y.value.length>0?(M(),N("div",IY,[(M(!0),N(gt,null,Et(y.value,(K,xe)=>(M(),N("div",{key:xe,class:"p-2 bg-white dark:bg-gray-800 rounded border dark:border-gray-700 text-xs shadow-sm"},[w("pre",xY,Y(K),1)]))),128))])):!b.value&&v.value&&y.value.length===0?(M(),N("div",TY," No results found. ")):le("",!0)])):le("",!0)]),w("div",PY,[l.value.nodes===0&&!d.value?(M(),N("div",RY,[w("div",CY,[w("div",qY,[Ee(XA,{class:"w-8 h-8"})]),D[20]||(D[20]=w("h3",{class:"text-xl font-bold text-gray-900 dark:text-white mb-2"},"No Graph Built",-1)),D[21]||(D[21]=w("p",{class:"text-gray-500 dark:text-gray-400 text-sm mb-6"},` This Data Store doesn't have a knowledge graph yet. Select a model and ontology schema on the left, then click "Generate Graph" to build one from your documents. `,-1)),w("button",{onClick:x,disabled:!!n.task||!f.value,class:"btn btn-primary w-full flex items-center justify-center gap-2"},[Ee(JA,{class:"w-5 h-5"}),D[19]||(D[19]=Ae(" Generate Graph "))],8,kY),f.value?le("",!0):(M(),N("p",DY,"Please select an LLM Model first."))])])):le("",!0),l.value.nodes>0||d.value?(M(),pt(k9,{key:1,ref_key:"graphViewer",ref:a,nodes:u.value.nodes,edges:u.value.edges,"is-loading":d.value,onNodeSelect:P,onEdgeSelect:R,onDeselect:C},null,8,["nodes","edges","is-loading"])):le("",!0)])]))}},AY={class:"space-y-1 mt-2"},FY=["onClick"],NY={class:"truncate"},BY={class:"space-y-1 mt-2"},jY=["onClick"],LY={class:"truncate"},zY={class:"relative h-full w-full"},WY={key:0,class:"p-4 sm:p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm h-full overflow-y-auto"},HY={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},VY=["label"],UY=["value"],GY={key:0,class:"text-xs text-red-500 mt-1"},KY={key:1,class:"p-4 border dark:border-gray-700 rounded-lg space-y-4"},YY={class:"font-medium text-lg"},XY={class:"text-sm text-gray-500"},JY={key:0,class:"space-y-4"},ZY={key:0},QY=["for"],eX={key:0,class:"text-red-500"},tX={class:"relative mt-1"},rX=["type","onUpdate:modelValue","placeholder"],iX=["onClick","title"],nX={class:"flex justify-end gap-3"},sX=["disabled"],oX={key:1,class:"h-full flex items-center justify-center bg-white dark:bg-gray-800 rounded-lg shadow-sm"},aX={class:"text-center"},lX={key:2,class:"text-center py-20 bg-white dark:bg-gray-800 rounded-lg shadow-sm"},uX={key:3,class:"bg-white dark:bg-gray-800 rounded-lg shadow-md h-full overflow-hidden flex flex-col"},dX={class:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-start flex-wrap gap-4"},cX={class:"text-2xl font-bold text-gray-900 dark:text-white"},hX={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},fX={class:"flex items-center text-xs text-gray-500 dark:text-gray-400 mt-2"},vX={class:"mt-2 text-xs font-mono p-2 bg-gray-100 dark:bg-gray-700/50 rounded-md"},pX={key:0,class:"mt-1"},gX={class:"flex items-center space-x-3 flex-shrink-0"},yX={class:"border-b border-gray-200 dark:border-gray-700 px-6"},mX={class:"-mb-px flex space-x-6","aria-label":"Tabs"},bX={class:"p-6 flex-grow overflow-y-auto space-y-8"},_X={key:0,class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6 space-y-4"},wX={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},SX={class:"relative flex items-start pt-7"},EX={class:"flex h-6 items-center"},$X={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-4"},OX={class:"flex justify-center gap-2 flex-wrap"},IX={class:"border rounded-lg p-6 bg-white dark:bg-gray-800 dark:border-gray-600 flex flex-col min-h-[180px]"},xX={class:"text-sm font-semibold mb-3 flex items-center gap-2"},TX={class:"space-y-3 flex-grow"},PX={class:"flex items-center gap-4"},RX={class:"flex-grow"},CX={class:"self-end"},qX=["disabled"],kX={key:0},DX={key:0,class:"mt-4"},MX={class:"flex items-center gap-4 mt-1"},AX={class:"flex items-center"},FX={class:"flex items-center"},NX={key:1,class:"mt-4"},BX={class:"text-sm font-medium mb-2"},jX={class:"list-disc list-inside text-sm space-y-1 max-h-40 overflow-y-auto mb-4 p-2 bg-gray-100 dark:bg-gray-800 rounded-md"},LX={class:"truncate"},zX=["onClick"],WX={key:2,class:"space-y-4 mt-4 max-h-96 overflow-y-auto"},HX={class:"flex justify-between items-start"},VX={class:"font-semibold text-sm truncate"},UX=["onClick"],GX=["onUpdate:modelValue"],KX={key:3,class:"mt-4"},YX={class:"text-sm font-medium mb-2"},XX={class:"space-y-1 max-h-40 overflow-y-auto"},JX={class:"truncate"},ZX=["onClick"],QX={key:1,class:"mt-4 text-center text-sm text-gray-500 italic p-4 border-2 border-dashed rounded-lg dark:border-gray-600"},eJ={class:"flex justify-end items-center mt-4"},tJ=["disabled"],rJ={key:1,class:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700 text-sm"},iJ={key:2,class:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-700 text-sm"},nJ={class:"text-xl font-semibold mb-4"},sJ={key:0,class:"flex items-center justify-between bg-gray-50 dark:bg-gray-800/50 p-2 rounded-md mb-2"},oJ={class:"flex items-center"},aJ=["checked","indeterminate"],lJ=["disabled"],uJ={key:1,class:"text-center py-10"},dJ={key:2,class:"text-center py-10 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},cJ={key:3,class:"divide-y divide-gray-200 dark:divide-gray-700"},hJ=["onChange","checked"],fJ={class:"flex-grow min-w-0"},vJ={class:"flex items-center gap-2"},pJ=["onClick"],gJ={key:0,class:"mt-2 text-xs"},yJ={class:"mt-1 p-2 bg-gray-100 dark:bg-gray-700/50 rounded"},mJ={key:0,class:"p-6 flex-grow overflow-y-auto flex flex-col"},bJ={class:"flex-shrink-0 space-y-4"},_J={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},wJ={class:"self-end"},SJ=["disabled"],EJ={class:"flex-grow min-h-0 mt-6 border-t dark:border-gray-700 pt-6"},$J={class:"flex justify-between items-center mb-4"},OJ={class:"text-lg font-semibold"},IJ={key:0,class:"flex items-center gap-2"},xJ={class:"text-sm text-gray-500 font-mono"},TJ={key:0,class:"text-center p-6 text-gray-500"},PJ={key:1,class:"p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-md"},RJ={key:2,class:"text-center p-6 text-gray-500"},CJ={key:3,class:"text-center p-6 text-gray-500"},qJ={key:4,class:"space-y-4 overflow-y-auto custom-scrollbar h-full pb-10"},kJ=["id"],DJ={class:"flex justify-between items-center text-xs text-gray-500 dark:text-gray-400 mb-2"},MJ=["title"],AJ=["title"],FJ=["innerHTML"],NJ={key:1,class:"p-6 flex-grow overflow-y-auto"},BJ={key:4,class:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm rounded-lg"},jJ={key:0,class:"space-y-4"},LJ={class:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 flex flex-col gap-2"},zJ={class:"flex justify-between items-start"},WJ={class:"text-lg font-bold text-gray-900 dark:text-white break-all"},HJ={key:0,class:"text-sm text-gray-500 dark:text-gray-400 font-mono mt-1"},VJ={class:"text-right text-xs text-gray-500 dark:text-gray-400 space-y-1 flex-shrink-0 ml-4"},UJ={title:"Total characters"},GJ={class:"font-semibold"},KJ={title:"Approximate word count"},YJ={class:"font-semibold"},XJ={title:"Estimated tokens (char/4)"},JJ={class:"font-semibold"},ZJ={key:0,class:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700"},QJ={class:"text-sm group"},eZ={class:"mt-2 p-2 bg-white dark:bg-gray-900 rounded border dark:border-gray-700"},tZ={class:"relative group"},rZ={class:"absolute top-2 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10"},iZ={class:"p-4 border rounded-lg dark:border-gray-700 bg-white dark:bg-gray-900 overflow-auto max-h-[60vh] whitespace-pre-wrap font-mono text-sm leading-relaxed"},wZ={__name:"DataStoresView",setup(n){const e=UA(),t=cb(),r=KA();yB();const i=GA();nB();const{user:s}=os(i),{ownedDataStores:o,sharedDataStores:a,availableVectorizers:l}=os(e),{tasks:u}=os(r),d=te(null),c=te(null),h=te("documents"),f=te(!1),v=te({name:"",description:"",selectedVectorizerKey:null,config:{},chunk_size:1024,chunk_overlap:256}),y=te({}),b=te([]),g=te(!1),p=te([]),$=te(null),m=te(null),S=te(null),O=te(null),x=te(null),_=te(!1),E=te(new Set),T=te(""),P=te(0),R=te(!1),C=te(!1),A=te(""),L=te(10),ne=te(50),H=te([]),ae=te(!1),de=te(""),fe=te(""),G=te([]),pe=te(-1),ce=te(null),we=te(null),Z=te("none"),D=te({}),K=te(!0),xe=te("per-file"),vr=te(`title: 
subject: 
authors: `),en=Wr(()=>b.value.length>0&&E.value.size===b.value.length),pr=Wr(()=>E.value.size>0&&!en.value),gr=Wr(()=>l.value),ke=Wr(()=>{if(!v.value.selectedVectorizerKey)return null;const j=v.value.selectedVectorizerKey.split("/");if(j.length<2)return null;const I=j[0],oe=j.slice(1).join("/"),k=gr.value.find(Q=>Q.alias===I);return k?{...k,selectedModelName:oe}:null}),hi=Wr(()=>[...o.value,...a.value].sort((j,I)=>j.name.localeCompare(I.name))),tn=Wr(()=>o.value.sort((j,I)=>j.name.localeCompare(I.name))),ge=Wr(()=>hi.value.find(j=>j.id===d.value)),De=Wr(()=>!!S.value||!!O.value||!!x.value);function Ct(j){if(!j)return"";if(!fe.value||G.value.length===0)return j;const I=fe.value,oe=new RegExp(`(${I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return j.replace(oe,'<mark class="bg-yellow-200 dark:bg-yellow-700 rounded">$1</mark>')}hb(()=>{e.fetchDataStores(),e.fetchAvailableVectorizers(),r.fetchTasks(),window.addEventListener("lollms:open-new-datastore",Vt)}),onUnmounted(()=>{window.removeEventListener("lollms:open-new-datastore",Vt)}),Sr(u,j=>{if(!ge.value){S.value=null,O.value=null,x.value=null;return}const I=ge.value.name,oe=Gt=>j.filter(Me=>Me.name.startsWith(Gt)&&Me.name.includes(I)&&(Me.status==="running"||Me.status==="pending")).sort((Me,We)=>new Date(We.created_at)-new Date(Me.created_at))[0]||null,k=oe("Add files to DataStore:"),Q=oe("Generate Graph for:")||oe("Update Graph for:"),ze=oe("Scrape URL to DataStore:");(S.value&&!k&&(S.value.status==="running"||S.value.status==="pending")||x.value&&!ze&&(x.value.status==="running"||x.value.status==="pending"))&&wr(ge.value.id),S.value=k,O.value=Q,x.value=ze},{deep:!0}),Sr(d,j=>{f.value=!1,E.value.clear(),j?(h.value="documents",wr(j),A.value="",H.value=[],de.value=""):b.value=[]},{immediate:!0}),Sr(ke,j=>{v.value.config={},j&&(v.value.config={...j.vectorizer_config||{}},j.selectedModelName&&(v.value.config.model_name=j.selectedModelName))},{deep:!0}),Sr(H,()=>{fe.value="",G.value=[],pe.value=-1});function Br(j){d.value=j}function Vt(){var j,I;f.value=!0,d.value=null,v.value={name:"",description:"",selectedVectorizerKey:null,config:{},chunk_size:((j=s.value)==null?void 0:j.default_chunk_size)||1024,chunk_overlap:((I=s.value)==null?void 0:I.default_chunk_overlap)||256}}async function fi(){if(!v.value.name.trim()||!ke.value){t.addNotification("Name and vectorizer are required.","warning");return}c.value="add_store";try{const j={name:v.value.name,description:v.value.description,vectorizer_name:ke.value.vectorizer_name,vectorizer_config:v.value.config||{},chunk_size:v.value.chunk_size,chunk_overlap:v.value.chunk_overlap},I=await e.addDataStore(j);v.value={name:"",description:"",selectedVectorizerKey:null,config:{},chunk_size:1024,chunk_overlap:256},f.value=!1,await e.fetchDataStores(),I&&I.id&&Br(I.id)}finally{c.value=null}}function yr(j){t.openModal("editDataStore",{store:j})}async function mr(j){const{confirmed:I}=await t.showConfirmation({title:`Delete Data Store '${j.name}'?`,message:"This will permanently delete the data store and all its indexed documents.",confirmText:"Delete"});if(I){c.value=`delete_store_${j.id}`;try{await e.deleteDataStore(j.id),d.value===j.id&&(d.value=null)}finally{c.value=null}}}function Ut(j){t.openModal("shareDataStore",{store:j})}async function br(j){j.preventDefault(),_.value=!1;const I=j.dataTransfer.items,oe=[];function k(Me){return new Promise((We,dt)=>{Me.readEntries(We,dt)})}async function Q(Me){const We=Me.createReader();let dt=[],ir;do ir=await k(We),dt=dt.concat(ir);while(ir.length>0);return dt}async function ze(Me){if(Me.isFile)await new Promise((We,dt)=>Me.file(ir=>{oe.push(ir),We()},dt));else if(Me.isDirectory){const We=await Q(directoryEntry);for(const dt of We)await ze(dt)}}const Gt=[];for(let Me=0;Me<I.length;Me++){const We=I[Me].webkitGetAsEntry();We&&Gt.push(ze(We))}await Promise.all(Gt),oe.length>0&&rr(oe)}function rn(j){rr(Array.from(j.target.files))}function rr(j){const I=new Set(p.value.map(Q=>Q.name+Q.size)),oe=[],k={};for(const Q of j){const ze=Q.name+Q.size;I.has(ze)||(oe.push(Q),k[Q.name]=`title: 
subject: 
authors: `,I.add(ze))}oe.length>0&&(p.value=[...p.value,...oe],D.value={...D.value,...k}),oe.length<j.length&&t.addNotification(`${j.length-oe.length} duplicate files skipped.`,"info"),$.value&&($.value.value=""),m.value&&(m.value.value="")}function _r(j){const I=p.value.splice(j,1);I.length>0&&delete D.value[I[0].name]}async function wr(j){g.value=!0;try{b.value=await e.fetchStoreFiles(j)}finally{g.value=!1}}async function vi(){if(!ge.value||p.value.length===0){t.addNotification("Please select files to upload.","warning");return}if(De.value){t.addNotification("A task is already running for this Data Store.","warning");return}R.value=!0;try{const j=new FormData;if(p.value.forEach(I=>j.append("files",I)),j.append("metadata_option",Z.value),j.append("vectorize_with_metadata",K.value),Z.value==="manual"){let I={};const oe=k=>{const Q={};if(!k)return Q;const ze=k.split(`
`);for(const Gt of ze){const Me=Gt.split(":");if(Me.length>=2){const We=Me[0].trim(),dt=Me.slice(1).join(":").trim();We&&(["authors","tags","keywords"].includes(We.toLowerCase())?Q[We]=dt.split(",").map(ir=>ir.trim()).filter(Boolean):Q[We]=dt)}}return Q};try{if(xe.value==="all"){const k=vr.value.trim()?oe(vr.value):{};for(const Q of p.value)I[Q.name]=k}else for(const k of p.value){const Q=D.value[k.name]||"";I[k.name]=Q.trim()?oe(Q):{}}j.append("manual_metadata_json",JSON.stringify(I))}catch(k){t.addNotification("Invalid metadata format. Please use 'key: value' pairs, with one entry per line.","error"),console.error("Metadata parsing error:",k);return}}await e.uploadFilesToStore({storeId:ge.value.id,formData:j}),p.value=[],D.value={},vr.value=`title: 
subject: 
authors: `}finally{R.value=!1}}async function re(){if(!T.value.trim()){t.addNotification("Please enter a URL.","warning");return}if(De.value){t.addNotification("A task is already running for this Data Store.","warning");return}C.value=!0;try{const I=(await gB.post(`/api/store/${ge.value.id}/scrape-url`,{url:T.value,depth:P.value})).data;t.addNotification(`Scrape task '${I.name}' started.`,"info"),r.addTask(I),T.value="",P.value=0}catch(j){console.error("Scrape failed:",j)}finally{C.value=!1}}function W(j){return j&&["owner","read_write","revectorize"].includes(j.permission_level)}function V(j){E.value.has(j)?E.value.delete(j):E.value.add(j)}function U(j){j.target.checked?E.value=new Set(b.value.map(I=>I.filename)):E.value.clear()}async function ie(){if(E.value.size===0)return;const{confirmed:j}=await t.showConfirmation({title:`Delete ${E.value.size} file(s)?`,message:"This will permanently remove the selected documents and their data from the data store.",confirmText:"Delete"});if(j){c.value="delete_selected_files";try{const I=Array.from(E.value);await e.deleteFilesFromStore({storeId:ge.value.id,filenames:I}),await wr(ge.value.id),E.value.clear()}finally{c.value=null}}}async function Se(){if(!(!A.value.trim()||!ge.value)){ae.value=!0,de.value="",H.value=[];try{const j=await e.queryDataStore({storeId:ge.value.id,query:A.value,top_k:L.value,min_similarity_percent:ne.value});H.value=j}catch{de.value="An error occurred during the query."}finally{ae.value=!1}}}function jr(){if(!fe.value){G.value=[],pe.value=-1,document.querySelectorAll(".current-search-highlight").forEach(oe=>oe.classList.remove("current-search-highlight"));return}const j=fe.value,I=[];H.value.forEach((oe,k)=>{const Q=oe.chunk_text||"",ze=new RegExp(j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");let Gt;for(;(Gt=ze.exec(Q))!==null;)I.push({chunkIndex:k,matchIndexInText:Gt.index})}),G.value=I,I.length>0?(pe.value=0,b1(I[0])):(pe.value=-1,t.addNotification("No matches found in results.","info"),document.querySelectorAll(".current-search-highlight").forEach(oe=>oe.classList.remove("current-search-highlight")))}function Lr(j){if(G.value.length===0)return;let I=pe.value+j;I<0&&(I=G.value.length-1),I>=G.value.length&&(I=0),pe.value=I,b1(G.value[I])}function b1(j){var oe;const I=document.getElementById(`chunk-${j.chunkIndex}`);if(I){document.querySelectorAll(".current-search-highlight").forEach(Q=>Q.classList.remove("current-search-highlight"));const k=Array.from(I.querySelectorAll("mark"));if(k.length>0){let Q=0;const ze=((oe=H.value[j.chunkIndex])==null?void 0:oe.chunk_text)||"",Gt=fe.value,Me=new RegExp(Gt.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");let We=-1;const dt=ze.split(Me);let ir=0;for(let zr=1;zr<dt.length;zr+=2){if(ir===j.matchIndexInText){We=Q;break}ir+=(dt[zr-1]?dt[zr-1].length:0)+dt[zr].length,Q++}if(We!==-1&&k[We]){const zr=k[We];zr.classList.add("current-search-highlight"),zr.scrollIntoView({behavior:"smooth",block:"center"})}else I.scrollIntoView({behavior:"smooth",block:"center"})}else I.scrollIntoView({behavior:"smooth",block:"center"})}}async function XN(j){if(!we.value){we.value=j.filename;try{const I=await e.fetchFileContent(ge.value.id,j.filename);ce.value={filename:j.filename,metadata:j.metadata,content:I},t.openModal("fileContent")}catch{}finally{we.value=null}}}function JN(){ce.value&&ce.value.content&&(navigator.clipboard.writeText(ce.value.content),t.addNotification("Content copied to clipboard","success"))}return(j,I)=>(M(),pt(mB,{title:"Data Studio","title-icon":_1},{sidebar:uo(()=>[w("button",{onClick:Vt,class:"w-full flex items-center space-x-3 text-left px-3 py-2.5 rounded-lg text-sm font-medium text-blue-700 dark:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/50 transition-colors"},[Ee(pB,{class:"w-5 h-5 flex-shrink-0"}),I[31]||(I[31]=w("span",null,"New Data Store",-1))]),w("button",{onClick:I[0]||(I[0]=oe=>an(e).fetchDataStores()),class:"w-full flex items-center space-x-3 text-left px-3 py-2.5 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors mt-2"},[Ee(XA,{class:"w-5 h-5 flex-shrink-0"}),I[32]||(I[32]=w("span",null,"Refresh All Stores",-1))]),I[34]||(I[34]=w("h3",{class:"text-sm font-semibold uppercase text-gray-500 dark:text-gray-400 mt-4 px-3"},"Your Stores",-1)),w("ul",AY,[(M(!0),N(gt,null,Et(tn.value,oe=>(M(),N("li",{key:oe.id},[w("button",{onClick:k=>Br(oe.id),class:Hr(["w-full flex items-center justify-between text-left px-3 py-2 rounded-lg text-sm transition-colors group",{"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":d.value===oe.id,"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700":d.value!==oe.id}])},[w("span",NY,Y(oe.name),1),I[33]||(I[33]=w("span",{class:"ml-2 text-xs px-2 py-0.5 rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"},"Owner",-1))],10,FY)]))),128))]),I[35]||(I[35]=w("h3",{class:"text-sm font-semibold uppercase text-gray-500 dark:text-gray-400 mt-4 px-3"},"Shared With You",-1)),w("ul",BY,[(M(!0),N(gt,null,Et(an(a),oe=>(M(),N("li",{key:oe.id},[w("button",{onClick:k=>Br(oe.id),class:Hr(["w-full flex items-center justify-between text-left px-3 py-2 rounded-lg text-sm transition-colors group",{"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":d.value===oe.id,"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700":d.value!==oe.id}])},[w("span",LY,Y(oe.name),1),w("span",{class:Hr(["ml-2 text-xs px-2 py-0.5 rounded-full",{"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":oe.permission_level==="revectorize","bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300":oe.permission_level==="read_write","bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300":oe.permission_level==="read_query"}])},Y(oe.permission_level.replace("_"," ")),3)],10,jY)]))),128))])]),main:uo(()=>{var oe;return[w("div",zY,[f.value?(M(),N("div",WY,[I[44]||(I[44]=w("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Create New Data Store",-1)),I[45]||(I[45]=w("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"A Data Store turns your documents into a queryable knowledge base.",-1)),w("form",{onSubmit:ln(fi,["prevent"]),class:"mt-6 space-y-6"},[w("div",null,[I[36]||(I[36]=w("label",{for:"new-ds-name",class:"block text-sm font-medium"},"Name",-1)),Be(w("input",{id:"new-ds-name","onUpdate:modelValue":I[1]||(I[1]=k=>v.value.name=k),type:"text",class:"input-field mt-1",required:""},null,512),[[qt,v.value.name]])]),w("div",null,[I[37]||(I[37]=w("label",{for:"new-ds-desc",class:"block text-sm font-medium"},"Description",-1)),Be(w("textarea",{id:"new-ds-desc","onUpdate:modelValue":I[2]||(I[2]=k=>v.value.description=k),rows:"2",class:"input-field mt-1"},null,512),[[qt,v.value.description]])]),an(s)&&an(s).allow_user_chunking_config?(M(),N("div",HY,[w("div",null,[I[38]||(I[38]=w("label",{for:"new-ds-chunk-size",class:"block text-sm font-medium"},"Chunk Size",-1)),Be(w("input",{id:"new-ds-chunk-size","onUpdate:modelValue":I[3]||(I[3]=k=>v.value.chunk_size=k),type:"number",min:"1",class:"input-field mt-1"},null,512),[[qt,v.value.chunk_size,void 0,{number:!0}]]),I[39]||(I[39]=w("p",{class:"text-xs text-gray-500 mt-1"},"Number of characters per data chunk.",-1))]),w("div",null,[I[40]||(I[40]=w("label",{for:"new-ds-chunk-overlap",class:"block text-sm font-medium"},"Chunk Overlap",-1)),Be(w("input",{id:"new-ds-chunk-overlap","onUpdate:modelValue":I[4]||(I[4]=k=>v.value.chunk_overlap=k),type:"number",min:"0",class:"input-field mt-1"},null,512),[[qt,v.value.chunk_overlap,void 0,{number:!0}]]),I[41]||(I[41]=w("p",{class:"text-xs text-gray-500 mt-1"},"Number of overlapping characters between chunks.",-1))])])):le("",!0),w("div",null,[I[43]||(I[43]=w("label",{for:"new-ds-vectorizer",class:"block text-sm font-medium"},"Vectorizer",-1)),Be(w("select",{id:"new-ds-vectorizer","onUpdate:modelValue":I[5]||(I[5]=k=>v.value.selectedVectorizerKey=k),class:"input-field mt-1"},[I[42]||(I[42]=w("option",{value:null,disabled:""},"-- Select a Vectorizer Model --",-1)),(M(!0),N(gt,null,Et(gr.value,k=>(M(),N("optgroup",{key:k.id,label:k.alias||k.vectorizer_name},[(M(!0),N(gt,null,Et(k.models,Q=>(M(),N("option",{key:`${k.id}-${Q.value}`,value:`${k.alias}/${Q.value}`},Y(Q.name),9,UY))),128))],8,VY))),128))],512),[[as,v.value.selectedVectorizerKey]]),gr.value.length===0?(M(),N("p",GY," No active RAG bindings found. Please configure them in Settings. ")):le("",!0)]),ke.value?(M(),N("div",KY,[w("h4",YY,Y(ke.value.title||ke.value.name),1),w("p",XY,Y(ke.value.description),1),((oe=ke.value.input_parameters)==null?void 0:oe.length)>0?(M(),N("div",JY,[(M(!0),N(gt,null,Et(ke.value.input_parameters,k=>(M(),N("div",{key:k.name},[k.name!=="model"?(M(),N("div",ZY,[w("label",{for:`param-${k.name}`,class:"block text-sm font-medium"},[Ae(Y(k.name)+" ",1),k.mandatory?(M(),N("span",eX,"*")):le("",!0)],8,QY),w("div",tX,[Be(w("input",{type:(k.name.includes("key")||k.name.includes("token"))&&!y.value[k.name]?"password":"text","onUpdate:modelValue":Q=>v.value.config[k.name]=Q,class:"input-field pr-10",placeholder:k.description},null,8,rX),[[sB,v.value.config[k.name]]]),k.name.includes("key")||k.name.includes("token")?(M(),N("button",{key:0,type:"button",onClick:Q=>y.value[k.name]=!y.value[k.name],class:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",title:y.value[k.name]?"Hide":"Show"},[y.value[k.name]?(M(),pt(oB,{key:0,class:"w-5 h-5"})):(M(),pt(aB,{key:1,class:"w-5 h-5"}))],8,iX)):le("",!0)])])):le("",!0)]))),128))])):le("",!0)])):le("",!0),w("div",nX,[w("button",{type:"button",onClick:I[6]||(I[6]=k=>{var Q;f.value=!1,Br((Q=tn.value[0])==null?void 0:Q.id)}),class:"btn btn-secondary"},"Cancel"),w("button",{type:"submit",class:"btn btn-primary",disabled:c.value==="add_store"},[c.value==="add_store"?(M(),pt(Yt,{key:0,class:"w-5 h-5 mr-2 animate-spin"})):le("",!0),Ae(" "+Y(c.value==="add_store"?"Creating...":"Create Data Store"),1)],8,sX)])],32)])):d.value?ge.value?(M(),N("div",uX,[w("div",dX,[w("div",null,[w("h2",cX,Y(ge.value.name),1),w("p",hX,Y(ge.value.description||"No description provided."),1),w("div",fX,[I[49]||(I[49]=w("span",{class:"mr-1"},"Owner:",-1)),Ee(lB,{username:ge.value.owner_username,"size-class":"h-4 w-4",class:"mr-1"},null,8,["username"]),w("span",null,Y(ge.value.owner_username),1)]),w("div",vX,[w("p",null,[I[50]||(I[50]=w("span",{class:"font-semibold"},"Vectorizer:",-1)),Ae(" "+Y(ge.value.vectorizer_name),1)]),w("p",null,[I[51]||(I[51]=w("span",{class:"font-semibold"},"Chunking:",-1)),Ae(" "+Y(ge.value.chunk_size)+" / "+Y(ge.value.chunk_overlap),1)]),Object.keys(ge.value.vectorizer_config).length>0?(M(),N("details",pX,[I[52]||(I[52]=w("summary",{class:"cursor-pointer text-gray-500"},"View Config",-1)),Ee(ba,{json:ge.value.vectorizer_config,class:"mt-1 text-xs"},null,8,["json"])])):le("",!0)])]),w("div",gX,[ge.value.permission_level==="owner"?(M(),N("button",{key:0,onClick:I[7]||(I[7]=k=>Ut(ge.value)),class:"btn btn-secondary btn-sm"},[Ee($B,{class:"w-4 h-4 mr-2"}),I[53]||(I[53]=Ae(" Share"))])):le("",!0),W(ge.value)?(M(),N("button",{key:1,onClick:I[8]||(I[8]=k=>yr(ge.value)),class:"btn btn-secondary btn-sm"},[Ee(uB,{class:"w-4 h-4 mr-2"}),I[54]||(I[54]=Ae(" Edit"))])):le("",!0),ge.value.permission_level==="owner"?(M(),N("button",{key:2,onClick:I[9]||(I[9]=k=>mr(ge.value)),class:"btn btn-danger btn-sm"},[c.value===`delete_store_${ge.value.id}`?(M(),pt(Yt,{key:0,class:"w-4 h-4 mr-2 animate-spin"})):(M(),pt(Gm,{key:1,class:"w-4 h-4 mr-2"})),I[55]||(I[55]=Ae(" Delete "))])):le("",!0)])]),w("div",yX,[w("nav",mX,[w("button",{onClick:I[10]||(I[10]=k=>h.value="documents"),class:Hr(["tab-button",h.value==="documents"?"active":"inactive"])},"Documents",2),w("button",{onClick:I[11]||(I[11]=k=>h.value="query"),class:Hr(["tab-button",h.value==="query"?"active":"inactive"])},"Query",2),w("button",{onClick:I[12]||(I[12]=k=>h.value="graph"),class:Hr(["tab-button",h.value==="graph"?"active":"inactive"])},"Graph",2)])]),Be(w("div",bX,[W(ge.value)?(M(),N("div",_X,[I[70]||(I[70]=w("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Add Documents",-1)),w("div",wX,[w("div",null,[I[57]||(I[57]=w("label",{for:"metadata-option",class:"block text-sm font-medium"},"Metadata Handling",-1)),Be(w("select",{id:"metadata-option","onUpdate:modelValue":I[13]||(I[13]=k=>Z.value=k),class:"input-field mt-1"},I[56]||(I[56]=[w("option",{value:"none"},"None",-1),w("option",{value:"manual"},"Manual Entry",-1),w("option",{value:"auto-generate"},"Auto-generate for each file",-1),w("option",{value:"rewrite-chunk"},"Rewrite full content with metadata for each chunk",-1)]),512),[[as,Z.value]]),I[58]||(I[58]=w("p",{class:"text-xs text-gray-500 mt-1"},"Choose how to handle metadata for uploaded files.",-1))]),w("div",SX,[w("div",EX,[Be(w("input",{id:"vectorize-with-metadata","onUpdate:modelValue":I[14]||(I[14]=k=>K.value=k),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-600"},null,512),[[dB,K.value]])]),I[59]||(I[59]=w("div",{class:"ml-3 text-sm leading-6"},[w("label",{for:"vectorize-with-metadata",class:"font-medium text-gray-900 dark:text-gray-100"},"Vectorize with Metadata"),w("p",{class:"text-gray-500 dark:text-gray-400"},"Include document metadata in the vectorization process for better context.")],-1))])]),w("div",$X,[w("div",{onDragover:I[17]||(I[17]=ln(k=>_.value=!0,["prevent"])),onDragleave:I[18]||(I[18]=ln(k=>_.value=!1,["prevent"])),onDrop:ln(br,["prevent"]),class:Hr(["border-2 border-dashed rounded-lg p-6 text-center transition-colors flex flex-col justify-center min-h-[180px]",{"border-blue-500 bg-blue-50 dark:bg-blue-900/20":_.value,"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500":!_.value}])},[w("input",{type:"file",multiple:"",ref_key:"fileInputRef",ref:$,onChange:rn,class:"hidden",accept:".pdf,.docx,.pptx,.xlsx,.msg,.vcf,.txt,.md,.py,.js,.ts,.html,.css,.c,.cpp,.h,.hpp,.cs,.java,.json,.xml,.sh,.vhd,.v,.rb,.php,.go,.rs,.swift,.kt,.yaml,.yml,.sql,.log,.csv"},null,544),w("input",{type:"file",ref_key:"folderInputRef",ref:m,onChange:rn,class:"hidden",webkitdirectory:"",directory:"",multiple:""},null,544),I[60]||(I[60]=w("p",{class:"text-gray-600 dark:text-gray-300 font-medium mb-4"},"Drag & drop files here",-1)),w("div",OX,[w("button",{type:"button",onClick:I[15]||(I[15]=k=>$.value.click()),class:"btn btn-secondary btn-sm"},"Select File(s)"),w("button",{type:"button",onClick:I[16]||(I[16]=k=>m.value.click()),class:"btn btn-secondary btn-sm"},"Select Folder")])],34),w("div",IX,[w("h4",xX,[Ee(_B,{class:"w-4 h-4"}),I[61]||(I[61]=Ae(" Add from URL "))]),w("div",TX,[Be(w("input",{type:"text","onUpdate:modelValue":I[19]||(I[19]=k=>T.value=k),placeholder:"https://example.com/docs",class:"input-field text-sm"},null,512),[[qt,T.value]]),w("div",PX,[w("div",RX,[I[62]||(I[62]=w("label",{class:"text-xs text-gray-500 uppercase font-bold"},"Depth",-1)),Be(w("input",{type:"number","onUpdate:modelValue":I[20]||(I[20]=k=>P.value=k),min:"0",max:"5",class:"input-field text-sm mt-1"},null,512),[[qt,P.value,void 0,{number:!0}]])]),w("div",CX,[w("button",{onClick:re,class:"btn btn-primary btn-sm w-full",disabled:C.value||De.value||!T.value},[C.value?(M(),pt(Yt,{key:0,class:"w-4 h-4 mr-1 animate-spin"})):le("",!0),Ae(" "+Y(C.value?"Scraping...":"Scrape & Add"),1)],8,qX)])]),I[63]||(I[63]=w("p",{class:"text-xs text-gray-500"},"Depth 0 = single page. Depth > 0 follows internal links.",-1))])])]),p.value.length>0?(M(),N("div",kX,[Z.value==="manual"?(M(),N("div",DX,[I[66]||(I[66]=w("label",{class:"block text-sm font-medium"},"Manual Metadata Mode",-1)),w("div",MX,[w("label",AX,[Be(w("input",{type:"radio","onUpdate:modelValue":I[21]||(I[21]=k=>xe.value=k),value:"per-file",class:"radio-input"},null,512),[[w1,xe.value]]),I[64]||(I[64]=w("span",{class:"ml-2"},"Per File",-1))]),w("label",FX,[Be(w("input",{type:"radio","onUpdate:modelValue":I[22]||(I[22]=k=>xe.value=k),value:"all",class:"radio-input"},null,512),[[w1,xe.value]]),I[65]||(I[65]=w("span",{class:"ml-2"},"For All Files",-1))])])])):le("",!0),Z.value==="manual"&&xe.value==="all"?(M(),N("div",NX,[w("h4",BX,"Selected Files ("+Y(p.value.length)+")",1),w("ul",jX,[(M(!0),N(gt,null,Et(p.value,(k,Q)=>(M(),N("li",{key:Q,class:"flex justify-between items-center"},[w("span",LX,Y(k.name),1),w("button",{onClick:ze=>_r(Q),class:"text-red-500 hover:text-red-700 ml-2",title:"Remove"},[Ee(ma,{class:"w-4 h-4"})],8,zX)]))),128))]),I[67]||(I[67]=w("label",{class:"block text-sm font-medium"},"Metadata for all files (Key: Value format)",-1)),Be(w("textarea",{"onUpdate:modelValue":I[23]||(I[23]=k=>vr.value=k),rows:"4",class:"input-field mt-1 font-mono text-xs",placeholder:`title: My Document
subject: AI Research
authors: John Doe, Jane Smith`},null,512),[[qt,vr.value]])])):Z.value==="manual"&&xe.value==="per-file"?(M(),N("div",WX,[I[69]||(I[69]=w("h4",{class:"text-sm font-medium"},"Enter Metadata for Each File:",-1)),(M(!0),N(gt,null,Et(p.value,(k,Q)=>(M(),N("div",{key:Q,class:"p-3 border rounded-lg dark:border-gray-600 space-y-3"},[w("div",HX,[w("p",VX,Y(k.name),1),w("button",{onClick:ze=>_r(Q),class:"text-red-500 hover:text-red-700",title:"Remove"},[Ee(ma,{class:"w-5 h-5"})],8,UX)]),w("div",null,[I[68]||(I[68]=w("label",{class:"text-xs font-medium"},"Metadata (Key: Value format)",-1)),Be(w("textarea",{"onUpdate:modelValue":ze=>D.value[k.name]=ze,rows:"4",class:"input-field-sm w-full mt-1 font-mono text-xs",placeholder:"title: ..."},null,8,GX),[[qt,D.value[k.name]]])])]))),128))])):Z.value!=="manual"?(M(),N("div",KX,[w("h4",YX,"Selected for Upload ("+Y(p.value.length)+")",1),w("ul",XX,[(M(!0),N(gt,null,Et(p.value,(k,Q)=>(M(),N("li",{key:Q,class:"flex justify-between items-center bg-gray-100 dark:bg-gray-800 p-2 rounded text-sm"},[w("span",JX,Y(k.name)+" ("+Y((k.size/1024/1024).toFixed(2))+" MB)",1),w("button",{onClick:ze=>_r(Q),class:"text-red-500 hover:text-red-700 ml-2",title:"Remove"},[Ee(ma,{class:"w-4 h-4"})],8,ZX)]))),128))])])):le("",!0)])):Z.value==="manual"?(M(),N("div",QX," Select files to enter their metadata manually. ")):le("",!0),w("div",eJ,[w("button",{onClick:vi,class:"btn btn-primary",disabled:De.value||p.value.length===0||R.value},[R.value?(M(),pt(Yt,{key:0,class:"w-5 h-5 mr-2 animate-spin"})):(M(),pt(YA,{key:1,class:"w-5 h-5 mr-2"})),Ae(" "+Y(R.value?"Uploading...":`Add ${p.value.length} File(s)`),1)],8,tJ)])])):le("",!0),S.value?(M(),N("div",rJ,[I[71]||(I[71]=w("span",{class:"font-semibold text-blue-800 dark:text-blue-300"},"File Uploading:",-1)),Ae(" "+Y(S.value.progress)+"% - "+Y(S.value.description),1)])):le("",!0),x.value?(M(),N("div",iJ,[I[72]||(I[72]=w("span",{class:"font-semibold text-green-800 dark:text-green-300"},"Scraping:",-1)),Ae(" "+Y(x.value.progress)+"% - "+Y(x.value.description),1)])):le("",!0),w("div",null,[w("h3",nJ,"Indexed Documents ("+Y(b.value.length)+")",1),!g.value&&b.value.length>0&&W(ge.value)?(M(),N("div",sJ,[w("div",oJ,[w("input",{type:"checkbox",onChange:U,checked:en.value,indeterminate:pr.value,id:"select-all-files-checkbox",class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,40,aJ),I[73]||(I[73]=w("label",{for:"select-all-files-checkbox",class:"ml-2 text-sm select-none cursor-pointer"},"Select All",-1))]),w("button",{onClick:ie,class:"btn btn-danger btn-sm",disabled:E.value.size===0||c.value==="delete_selected_files"},[c.value==="delete_selected_files"?(M(),pt(Yt,{key:0,class:"w-4 h-4 mr-2 animate-spin"})):(M(),pt(Gm,{key:1,class:"w-4 h-4 mr-2"})),Ae(" Delete Selected ("+Y(E.value.size)+") ",1)],8,lJ)])):le("",!0),g.value?(M(),N("div",uJ,I[74]||(I[74]=[w("p",null,"Loading documents...",-1)]))):b.value.length===0?(M(),N("div",dJ,I[75]||(I[75]=[w("p",null,"No documents indexed.",-1)]))):(M(),N("ul",cJ,[(M(!0),N(gt,null,Et(b.value,k=>(M(),N("li",{key:k.filename,class:"py-3 flex items-center"},[W(ge.value)?(M(),N("input",{key:0,type:"checkbox",onChange:Q=>V(k.filename),checked:E.value.has(k.filename),class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-4 flex-shrink-0"},null,40,hJ)):le("",!0),w("div",fJ,[w("div",vJ,[w("span",{class:Hr(["text-sm font-medium truncate cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors",{"opacity-50 pointer-events-none":we.value&&we.value!==k.filename}]),onClick:Q=>XN(k)},Y(k.filename),11,pJ),we.value===k.filename?(M(),pt(Yt,{key:0,class:"w-4 h-4 text-blue-500 animate-spin flex-shrink-0"})):le("",!0)]),k.metadata&&Object.keys(k.metadata).length>0?(M(),N("details",gJ,[I[76]||(I[76]=w("summary",{class:"cursor-pointer text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"},"View Metadata",-1)),w("div",yJ,[Ee(ba,{json:k.metadata},null,8,["json"])])])):le("",!0)])]))),128))]))])],512),[[cB,h.value==="documents"]]),h.value==="query"?(M(),N("div",mJ,[w("div",bJ,[I[80]||(I[80]=w("h3",{class:"text-xl font-semibold"},"Query Data Store",-1)),w("form",{onSubmit:ln(Se,["prevent"]),class:"space-y-4"},[w("div",null,[I[77]||(I[77]=w("label",{for:"query-text",class:"block text-sm font-medium"},"Query Text",-1)),Be(w("textarea",{id:"query-text","onUpdate:modelValue":I[24]||(I[24]=k=>A.value=k),rows:"3",class:"input-field mt-1",placeholder:"Enter your question..."},null,512),[[qt,A.value]])]),w("div",_J,[w("div",null,[I[78]||(I[78]=w("label",{for:"query-topk",class:"block text-sm font-medium"},"Top K",-1)),Be(w("input",{id:"query-topk","onUpdate:modelValue":I[25]||(I[25]=k=>L.value=k),type:"number",min:"1",class:"input-field mt-1"},null,512),[[qt,L.value,void 0,{number:!0}]])]),w("div",null,[I[79]||(I[79]=w("label",{for:"query-minsim",class:"block text-sm font-medium"},"Min Similarity %",-1)),Be(w("input",{id:"query-minsim","onUpdate:modelValue":I[26]||(I[26]=k=>ne.value=k),type:"number",min:"0",max:"100",step:"0.1",class:"input-field mt-1"},null,512),[[qt,ne.value,void 0,{number:!0}]])]),w("div",wJ,[w("button",{type:"submit",class:"btn btn-primary w-full",disabled:ae.value||!A.value.trim()},[ae.value?(M(),pt(Yt,{key:0,class:"w-5 h-5 mr-2 animate-spin"})):le("",!0),Ae(" "+Y(ae.value?"Querying...":"Query"),1)],8,SJ)])])],32)]),w("div",EJ,[w("div",$J,[w("h4",OJ,"Results ("+Y(H.value.length)+")",1),H.value.length>0?(M(),N("div",IJ,[Be(w("input",{type:"text","onUpdate:modelValue":I[27]||(I[27]=k=>fe.value=k),onKeyup:hB(jr,["enter"]),placeholder:"Search in results...",class:"input-field !py-1.5 !text-sm"},null,544),[[qt,fe.value]]),w("button",{onClick:jr,class:"btn btn-secondary btn-sm p-2"},[Ee(fB,{class:"w-4 h-4"})]),G.value.length>0?(M(),N(gt,{key:0},[w("button",{onClick:I[28]||(I[28]=k=>Lr(-1)),class:"btn btn-secondary btn-sm p-2",title:"Previous match"},"â¹"),w("span",xJ,Y(pe.value+1)+" / "+Y(G.value.length),1),w("button",{onClick:I[29]||(I[29]=k=>Lr(1)),class:"btn btn-secondary btn-sm p-2",title:"Next match"},"âº")],64)):le("",!0)])):le("",!0)]),ae.value?(M(),N("div",TJ,[Ee(Yt,{class:"w-8 h-8 mx-auto animate-spin"}),I[81]||(I[81]=w("p",{class:"mt-2"},"Fetching results...",-1))])):de.value?(M(),N("div",PJ,Y(de.value),1)):H.value.length===0?(M(),N("div",RJ," No results to display. Run a query to see matching text chunks. ")):fe.value&&G.value.length===0?(M(),N("div",CJ," No chunks match your search term. ")):(M(),N("div",qJ,[(M(!0),N(gt,null,Et(H.value,(k,Q)=>(M(),N("div",{key:Q,id:`chunk-${Q}`,class:"p-4 border rounded-lg dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50"},[w("div",DJ,[w("span",{class:"font-mono truncate",title:k.file_path},".../"+Y(k.file_path.split(/[/\\]/).pop()),9,MJ),w("span",{class:"font-semibold",title:`Similarity: ${k.similarity_percent}`},Y(k.similarity_percent.toFixed(2))+"%",9,AJ)]),w("pre",{class:"whitespace-pre-wrap font-sans text-sm",innerHTML:Ct(k.chunk_text)},null,8,FJ)],8,kJ))),128))]))])])):le("",!0),h.value==="graph"?(M(),N("div",NJ,[Ee(MY,{store:ge.value,task:O.value},null,8,["store","task"])])):le("",!0)])):(M(),N("div",lX,I[48]||(I[48]=[w("h3",{class:"text-xl font-semibold text-gray-700 dark:text-gray-200"},"Data Store Not Found",-1),w("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"},"The selected data store could not be loaded.",-1)]))):(M(),N("div",oX,[w("div",aX,[Ee(_1,{class:"mx-auto h-12 w-12 text-gray-400"}),I[46]||(I[46]=w("h3",{class:"mt-2 text-xl font-semibold text-gray-900 dark:text-white"},"Select a Data Store",-1)),I[47]||(I[47]=w("p",{class:"mt-1 text-sm text-gray-500"},"Choose a store from the sidebar or create a new one to begin.",-1))])])),we.value?(M(),N("div",BJ,[Ee(Yt,{class:"w-12 h-12 text-blue-600 dark:text-blue-400 mb-4 animate-spin"}),I[82]||(I[82]=w("h3",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Loading file content",-1)),I[83]||(I[83]=w("p",{class:"text-gray-600 dark:text-gray-300"},"Please stand by...",-1))])):le("",!0)]),Ee(bB,{modalName:"fileContent",title:"Document Viewer",size:"4xl"},{body:uo(()=>{var k,Q,ze;return[ce.value?(M(),N("div",jJ,[w("div",LJ,[w("div",zJ,[w("div",null,[w("h3",WJ,Y(((k=ce.value.metadata)==null?void 0:k.title)||ce.value.filename),1),(Q=ce.value.metadata)!=null&&Q.title&&((ze=ce.value.metadata)==null?void 0:ze.title)!==ce.value.filename?(M(),N("p",HJ,Y(ce.value.filename),1)):le("",!0)]),w("div",VJ,[w("div",UJ,[w("span",GJ,Y(ce.value.content.length.toLocaleString()),1),I[84]||(I[84]=Ae(" chars"))]),w("div",KJ,[w("span",YJ,Y(ce.value.content.split(/\s+/).length.toLocaleString()),1),I[85]||(I[85]=Ae(" words"))]),w("div",XJ,[w("span",JJ,"~"+Y(Math.ceil(ce.value.content.length/4).toLocaleString()),1),I[86]||(I[86]=Ae(" tokens"))])])]),ce.value.metadata&&Object.keys(ce.value.metadata).length>0?(M(),N("div",ZJ,[w("details",QJ,[I[87]||(I[87]=w("summary",{class:"cursor-pointer text-blue-600 dark:text-blue-400 font-medium select-none"},"Show Metadata",-1)),w("div",eZ,[Ee(ba,{json:ce.value.metadata},null,8,["json"])])])])):le("",!0)]),w("div",tZ,[w("div",rZ,[w("button",{onClick:JN,class:"p-2 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",title:"Copy Content"},[Ee(vB,{class:"w-4 h-4"})])]),w("div",iZ,Y(ce.value.content),1)])])):le("",!0)]}),footer:uo(()=>[w("button",{onClick:I[30]||(I[30]=k=>an(t).closeModal("fileContent")),class:"btn btn-primary"},"Close")]),_:1})]}),_:1}))}};export{wZ as default};
