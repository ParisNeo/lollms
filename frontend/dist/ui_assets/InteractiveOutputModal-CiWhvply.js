import{L as $,u as j,c as m,a as M,o as a,w as x,b as e,e as n,f as l,Q as N,F as b,r as y,aC as R,t as p,co as S,ao as D,M as B}from"./index-7rLr_kL9.js";import{_ as F}from"./GenericModal-BlKWqts3.js";const E={class:"p-6 space-y-8 bg-gray-50 dark:bg-gray-900/50 min-h-[400px]"},T={key:0,class:"flex flex-col items-center justify-center py-20 text-gray-400"},V={key:1,class:"space-y-6"},W={class:"px-4 py-3 bg-white dark:bg-gray-800 border-b dark:border-gray-700 flex items-center justify-between"},z={class:"flex items-center gap-2"},H={class:"font-bold text-sm text-gray-700 dark:text-gray-200 uppercase tracking-wider"},J={class:"text-[10px] font-mono text-gray-400"},Q={class:"p-4 space-y-4"},U={class:"flex items-center gap-2"},q={class:"text-[10px] font-black uppercase text-blue-500 tracking-widest"},A={key:0,class:"image-result-container group"},G={class:"relative rounded-lg overflow-hidden border dark:border-gray-700 bg-gray-200 dark:bg-black"},K=["src"],P={class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3"},X=["onClick"],Y=["onClick"],Z={key:1,class:"html-result-container w-full h-[600px] border dark:border-gray-700 rounded-lg overflow-hidden bg-white shadow-sm relative"},tt=["srcdoc"],et={key:2,class:"text-result-container prose dark:prose-invert max-w-none bg-white dark:bg-gray-800 p-6 rounded-xl shadow-inner border dark:border-gray-700"},st={class:"mt-4 flex justify-end"},ot=["onClick"],at={key:3,class:"p-3 bg-gray-100 dark:bg-gray-950 rounded font-mono text-xs overflow-x-auto border dark:border-gray-800"},rt={class:"text-gray-600 dark:text-gray-400"},nt={__name:"InteractiveOutputModal",setup(it){const d=j(),u=m(()=>d.modalData("interactiveOutput")),h=m(()=>{var t;return((t=u.value)==null?void 0:t.title)||"Execution Results"}),f=m(()=>{var s,o;const t=(s=u.value)==null?void 0:s.results;return t&&Object.keys(t).length>0?t:(o=u.value)!=null&&o.content?{Info:{content:u.value.content}}:{}});function w(t,s){return typeof s!="string"?!1:t.toLowerCase().includes("image")||t.toLowerCase().includes("_b64")||s.startsWith("data:image/")}function k(t,s){if(typeof s!="string")return!1;const o=t.toLowerCase();if(o.includes("html")||o.includes("visualization")||o.includes("interactive")||o.includes("animation")||o.includes("plot"))return!0;const c=s.trim();return/^\s*<!doctype html>|^\s*<html/i.test(c)}function v(t,s){return typeof s!="string"?!1:t.toLowerCase().includes("text")||t.toLowerCase().includes("content")||t.toLowerCase().includes("summary")||t.toLowerCase().includes("markdown")}function g(t){return t.startsWith("data:image/")?t:`data:image/png;base64,${t}`}function C(t,s){const o=document.createElement("a");o.href=g(t),o.download=`${s||"generated_image"}.png`,o.click()}function I(t){d.openImageViewer({imageList:[{src:t}],startIndex:0})}function L(t){d.copyToClipboard(t,"Result copied to clipboard!")}function O(){d.closeModal("interactiveOutput")}return(t,s)=>(a(),M(F,{modalName:"interactiveOutput",title:h.value,maxWidthClass:"max-w-6xl"},{body:x(()=>[e("div",E,[Object.keys(f.value).length===0?(a(),n("div",T,[l(N,{class:"w-12 h-12 mb-4 opacity-20"}),s[0]||(s[0]=e("p",{class:"text-lg font-medium"},"No results generated yet.",-1))])):(a(),n("div",V,[(a(!0),n(b,null,y(f.value,(o,c)=>(a(),n("div",{key:c,class:"result-panel"},[e("div",W,[e("div",z,[l(R,{class:"w-5 h-5 text-green-500"}),e("span",H,p(c),1)]),e("span",J,"Node ID: "+p(c),1)]),e("div",Q,[(a(!0),n(b,null,y(o,(r,i)=>(a(),n("div",{key:i,class:"space-y-2"},[e("div",U,[e("span",q,p(i),1),s[1]||(s[1]=e("div",{class:"h-px flex-grow bg-gray-100 dark:bg-gray-700"},null,-1))]),w(i,r)?(a(),n("div",A,[e("div",G,[e("img",{src:g(r),class:"max-w-full h-auto mx-auto shadow-2xl"},null,8,K),e("div",P,[e("button",{onClick:_=>I(g(r)),class:"btn-img-action",title:"Full Screen"},[l(S,{class:"w-5 h-5"})],8,X),e("button",{onClick:_=>C(r,i),class:"btn-img-action",title:"Download"},[l(D,{class:"w-5 h-5"})],8,Y)])])])):k(i,r)?(a(),n("div",Z,[e("iframe",{srcdoc:r,class:"w-full h-full",sandbox:"allow-scripts allow-same-origin allow-popups allow-forms allow-modals",referrerpolicy:"no-referrer"},null,8,tt)])):v(i,r)?(a(),n("div",et,[l(B,{content:r},null,8,["content"]),e("div",st,[e("button",{onClick:_=>L(r),class:"text-[10px] font-bold text-gray-400 hover:text-blue-500 uppercase tracking-widest transition-colors"},"Copy Raw Text",8,ot)])])):(a(),n("div",at,[e("pre",rt,p(JSON.stringify(r,null,2)),1)]))]))),128))])]))),128))]))])]),footer:x(()=>[e("div",{class:"flex justify-between w-full px-4"},[s[2]||(s[2]=e("p",{class:"text-xs text-gray-500 self-center"},"Results are updated in real-time during flow execution.",-1)),e("button",{onClick:O,class:"btn btn-primary px-8"},"Done")])]),_:1},8,["title"]))}},dt=$(nt,[["__scopeId","data-v-42765c56"]]);export{dt as default};
