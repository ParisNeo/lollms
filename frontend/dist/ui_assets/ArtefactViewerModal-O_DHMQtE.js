import{u as x,c as s,a as k,o as a,w as p,b as l,d as _,e as o,g as i,F as h,r as w,f as b,M as V,h as C,n as S,t as $}from"./index-B_xFINIg.js";import{_ as A}from"./GenericModal-Dcu3_arU.js";const B={key:0,class:"space-y-4"},M={key:0,class:"text-center text-gray-500 italic p-4"},N={key:1,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},D=["src","onClick"],F={key:2},I={class:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg max-h-[60vh] overflow-y-auto"},T={key:3,class:"pt-4 border-t dark:border-gray-700"},j={class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},U={__name:"ArtefactViewerModal",setup(z){const c=x(),m=s(()=>c.modalData("artefactViewer")),e=s(()=>{var t;return((t=m.value)==null?void 0:t.artefact)||m.value||{}}),y=s(()=>e.value?e.value.title||e.value.document||"Artefact Details":"Artefact Viewer"),d=s(()=>{var t,r;return((t=e.value)==null?void 0:t.content)||((r=e.value)==null?void 0:r.chunk_text)||""}),u=s(()=>{var t;return((t=e.value)==null?void 0:t.images)||[]}),v=s(()=>d.value&&d.value.trim()!==""),g=s(()=>u.value&&u.value.length>0);return(t,r)=>(a(),k(A,{"modal-name":"artefactViewer",title:y.value,"max-width-class":"max-w-4xl"},{body:p(()=>[e.value?(a(),o("div",B,[v.value&&!g.value?(a(),o("div",M," This artefact has no displayable content or images. ")):i("",!0),g.value?(a(),o("div",N,[(a(!0),o(h,null,w(u.value,(n,f)=>(a(),o("div",{key:`${f}-${n.slice(0,30)}`,class:"relative group rounded-lg overflow-hidden"},[l("img",{src:"data:image/png;base64,"+n,class:"w-full h-48 object-cover cursor-pointer",onClick:E=>{_(c).openImageViewer("data:image/png;base64,"+n)},alt:"Artefact image"},null,8,D)]))),128))])):i("",!0),v.value?(a(),o("div",F,[l("div",I,[b(V,{content:d.value},null,8,["content"])])])):i("",!0),e.value.similarity_percent?(a(),o("div",T,[l("p",j,[r[1]||(r[1]=C(" Similarity Score: ")),l("span",{class:S(["font-bold",{"text-green-600 dark:text-green-400":e.value.similarity_percent>=85,"text-yellow-600 dark:text-yellow-400":e.value.similarity_percent>=70&&e.value.similarity_percent<85,"text-red-600 dark:text-red-400":e.value.similarity_percent<70}])},$(e.value.similarity_percent.toFixed(2))+"% ",3)])])):i("",!0)])):i("",!0)]),footer:p(()=>[l("button",{onClick:r[0]||(r[0]=n=>_(c).closeModal("artefactViewer")),class:"btn btn-primary"},"Close")]),_:1},8,["title"]))}};export{U as default};
