import{L as w,u as L,N as n,a as N,o as i,w as x,b as t,e as m,g as f,d as y,n as b,W as k,ak as C}from"./index-7rLr_kL9.js";import{_ as S}from"./GenericModal-BlKWqts3.js";const V={class:"space-y-4"},G={class:"border-b border-gray-200 dark:border-gray-700"},B={class:"-mb-px flex space-x-4","aria-label":"Tabs"},F={key:0},P={key:1},R={key:2},$={class:"mt-1 flex justify-center rounded-md border-2 border-dashed border-gray-300 dark:border-gray-600 px-6 pt-5 pb-6"},W={class:"space-y-1 text-center"},h={class:"flex text-sm text-gray-600 dark:text-gray-400"},j={for:"file-upload-input",class:"relative cursor-pointer rounded-md bg-white dark:bg-gray-800 font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500"},A={class:"flex justify-end space-x-3"},d="insertImage",D={__name:"InsertImageModal",emits:["insert"],setup(T,{emit:I}){const s=L(),p=I,a=n("url"),r=n(""),o=n(""),g=n(null),c=n(!1);function u(){a.value="url",r.value="",o.value="",g.value&&(g.value.value=""),c.value=!1}function U(v){const e=v.target.files[0];if(!e)return;if(!e.type.startsWith("image/")){s.addNotification("Please select a valid image file.","error");return}c.value=!0;const l=new FileReader;l.onload=_=>{p("insert",_.target.result),s.closeModal(d),u()},l.onerror=()=>{s.addNotification("Failed to read the file.","error"),c.value=!1},l.readAsDataURL(e)}function M(){if(a.value==="url"){if(!r.value){s.addNotification("Please enter an image URL.","warning");return}p("insert",r.value)}else if(a.value==="svg"){if(!o.value.trim().startsWith("<svg")||!o.value.trim().endsWith("</svg>")){s.addNotification("Please enter valid SVG code.","warning");return}const v=`data:image/svg+xml;base64,${btoa(o.value)}`;p("insert",v)}s.closeModal(d),u()}return(v,e)=>(i(),N(S,{"modal-name":d,title:"Insert Image",onClose:e[6]||(e[6]=()=>{y(s).closeModal(d),u()})},{body:x(()=>[t("div",V,[t("div",G,[t("nav",B,[t("button",{onClick:e[0]||(e[0]=l=>a.value="url"),class:b(["tab-btn",{active:a.value==="url"}])},"From URL",2),t("button",{onClick:e[1]||(e[1]=l=>a.value="svg"),class:b(["tab-btn",{active:a.value==="svg"}])},"From SVG Code",2),t("button",{onClick:e[2]||(e[2]=l=>a.value="upload"),class:b(["tab-btn",{active:a.value==="upload"}])},"Upload",2)])]),a.value==="url"?(i(),m("div",F,[e[7]||(e[7]=t("label",{for:"imageUrl",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Image URL",-1)),k(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>r.value=l),type:"url",id:"imageUrl",class:"input-field mt-1",placeholder:"https://example.com/image.png"},null,512),[[C,r.value]])])):f("",!0),a.value==="svg"?(i(),m("div",P,[e[8]||(e[8]=t("label",{for:"svgCode",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"SVG Code",-1)),k(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=l=>o.value=l),id:"svgCode",rows:"6",class:"input-field font-mono mt-1",placeholder:"<svg>...</svg>"},null,512),[[C,o.value]])])):f("",!0),a.value==="upload"?(i(),m("div",R,[e[13]||(e[13]=t("label",{for:"file-upload",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Upload Image",-1)),t("div",$,[t("div",W,[e[11]||(e[11]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[t("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),t("div",h,[t("label",j,[e[9]||(e[9]=t("span",null,"Upload a file",-1)),t("input",{id:"file-upload-input",ref_key:"fileInput",ref:g,onChange:U,type:"file",class:"sr-only",accept:"image/*"},null,544)]),e[10]||(e[10]=t("p",{class:"pl-1"},"or drag and drop",-1))]),e[12]||(e[12]=t("p",{class:"text-xs text-gray-500"},"PNG, JPG, GIF, SVG up to 2MB",-1))])])])):f("",!0)])]),footer:x(()=>[t("div",A,[t("button",{onClick:e[5]||(e[5]=()=>{y(s).closeModal(d),u()}),type:"button",class:"btn btn-secondary"},"Cancel"),a.value!=="upload"?(i(),m("button",{key:0,onClick:M,type:"button",class:"btn btn-primary"},"Insert Image")):f("",!0)])]),_:1}))}},z=w(D,[["__scopeId","data-v-f4e0ec97"]]);export{z as default};
