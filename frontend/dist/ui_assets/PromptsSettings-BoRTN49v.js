import{aH as S,u as B,L as _,l as N,V as T,W as $,c as I,e as n,o as s,b as e,f as d,h as j,z as D,d as V,F as b,r as h,g as E,t as m,n as L,ay as z,a as A,$ as G,aw as F,az as O}from"./index-DltwgrES.js";const U={class:"space-y-6"},H={class:"flex justify-between items-center"},R={class:"flex items-center gap-2"},W={key:0,class:"text-center p-4"},Y={key:1,class:"text-center p-6 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},q={key:2,class:"space-y-3"},J=["onClick"],K={class:"font-semibold"},Q={key:0,class:"border border-t-0 dark:border-gray-700/50 rounded-b-lg"},X={class:"flex items-center gap-3 flex-grow truncate"},Z=["src"],ee={class:"flex-grow truncate"},te={class:"font-medium truncate"},se={class:"text-xs text-gray-500 truncate"},ne={class:"flex items-center gap-x-2 flex-shrink-0"},oe=["onClick"],ae=["onClick"],ie={__name:"PromptsSettings",setup(re){const i=S(),a=B(),{on:y,off:k}=T(),c=_({}),u=_(null);N(()=>{i.fetchPrompts(),y("task:completed",f)}),$(()=>{k("task:completed",f)});const p=I(()=>i.userPromptsByCategory);function v(t){c.value[t]=!c.value[t]}function x(){a.openModal("editPrompt",{prompt:{},isSystemPrompt:!1})}function P(){a.openModal("generatePrompt",{isSystemPrompt:!1,onTaskSubmitted:t=>{u.value=t}})}function f(t){t&&t.id===u.value&&(u.value=null,a.isModalOpen("tasksManager")&&a.closeModal("tasksManager"),t.status==="completed"&&t.result?g(t.result):a.addNotification("Prompt generation did not complete successfully.","warning"))}function g(t){a.openModal("editPrompt",{prompt:{...t},isSystemPrompt:!1})}async function w(t){await a.showConfirmation({title:`Delete Prompt '${t.name}'?`,message:"This action cannot be undone.",confirmText:"Delete"})&&await i.deletePrompt(t.id)}return(t,r)=>(s(),n("div",U,[e("div",H,[r[1]||(r[1]=e("div",null,[e("h2",{class:"text-xl font-bold"},"My Prompts"),e("p",{class:"text-sm text-gray-500"},"Manage your personal library of reusable prompts.")],-1)),e("div",R,[e("button",{onClick:P,class:"btn btn-secondary"},[d(D,{class:"w-4 h-4 mr-2"}),r[0]||(r[0]=j(" Generate with AI "))]),e("button",{onClick:x,class:"btn btn-primary"},"Add New Prompt")])]),V(i).isLoading?(s(),n("div",W,"Loading prompts...")):Object.keys(p.value).length===0?(s(),n("div",Y,r[2]||(r[2]=[e("p",null,"You haven't created any prompts yet.",-1)]))):(s(),n("div",q,[(s(!0),n(b,null,h(p.value,(C,l)=>(s(),n("div",{key:l},[e("button",{onClick:o=>v(l),class:"w-full flex justify-between items-center p-2 bg-gray-100 dark:bg-gray-700/50 rounded-t-lg"},[e("h3",K,m(l),1),d(z,{class:L(["w-5 h-5 transition-transform",{"rotate-90":c.value[l]}])},null,8,["class"])],8,J),c.value[l]?(s(),n("div",Q,[(s(!0),n(b,null,h(C,o=>(s(),n("div",{key:o.id,class:"p-3 flex items-center justify-between border-t dark:border-gray-700/50 first:border-t-0"},[e("div",X,[o.icon?(s(),n("img",{key:0,src:o.icon,class:"h-8 w-8 rounded-md flex-shrink-0 object-cover",alt:"Icon"},null,8,Z)):(s(),A(G,{key:1,class:"h-8 w-8 flex-shrink-0 text-gray-400 p-1"})),e("div",ee,[e("p",te,m(o.name),1),e("p",se,m(o.description||"No description"),1)])]),e("div",ne,[e("button",{onClick:M=>g(o),class:"btn btn-secondary btn-sm p-2",title:"Edit"},[d(F,{class:"w-4 h-4"})],8,oe),e("button",{onClick:M=>w(o),class:"btn btn-danger btn-sm p-2",title:"Delete"},[d(O,{class:"w-4 h-4"})],8,ae)])]))),128))])):E("",!0)]))),128))]))]))}};export{ie as default};
