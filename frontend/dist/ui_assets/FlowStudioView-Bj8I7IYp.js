const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["ui_assets/FlowEditor-BwSnnbbN.js","ui_assets/index-DsFmVrVf.js","ui_assets/index-CbAlWK4R.css","ui_assets/NodeCreatorModal-DzKGNAzN.js","ui_assets/index-BxhruCxp.js","ui_assets/NodeCreatorModal-CGdKE0gi.css","ui_assets/FlowEditor-BzuTNGuS.css"])))=>i.map(i=>d[i]);
import{a2 as S,u as C,g as N,L as D,c as V,j as A,s as E,a3 as f,e as r,a as n,b as s,l as c,f as l,m as i,R as I,a4 as w,d as o,a5 as T,a6 as P,t as m,w as b,q as g,S as R,F as j,H as _,o as a}from"./index-DsFmVrVf.js";/* empty css                                                                       */const B={class:"flex items-center gap-2"},L={class:"h-full flex flex-col relative bg-gray-50 dark:bg-gray-900"},$={class:"h-12 border-b dark:border-gray-700 flex items-center px-4 gap-2 bg-white dark:bg-gray-800 flex-shrink-0 justify-between"},M={class:"flex items-center gap-2"},O=["disabled"],q=["disabled"],H={key:0,class:"text-xs text-gray-500 font-mono"},U={class:"font-bold hidden sm:inline mr-2"},z={class:"flex-grow relative bg-gray-100 dark:bg-gray-900 overflow-hidden"},G={key:1,class:"flex flex-col items-center justify-center h-full text-gray-400"},X={__name:"FlowStudioView",setup(J){const y=g(()=>_(()=>import("./FlowEditor-BwSnnbbN.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),p=g(()=>_(()=>import("./NodeCreatorModal-DzKGNAzN.js"),__vite__mapDeps([3,1,2,4,5]))),e=S(),v=C(),F=N(),d=D(!1),x=V(()=>F.isAdmin);A(()=>{e.fetchNodeDefinitions(),v.setPageTitle({title:"Flow Studio",icon:E(f)})});async function u(){e.currentFlow&&await e.saveFlow(e.currentFlow.id,e.currentFlow.data)}async function k(){e.currentFlow&&(await u(),await e.executeFlow(e.currentFlow.id))}return(K,t)=>(a(),r(j,null,[(a(),n(w,{to:"#global-header-actions-target"},[s("div",B,[x.value?(a(),r("button",{key:0,onClick:t[0]||(t[0]=h=>d.value=!0),class:"btn btn-secondary btn-sm gap-2",title:"Define New Node Type"},[l(I,{class:"w-4 h-4"}),t[2]||(t[2]=i(" Define Node "))])):c("",!0)])])),s("div",L,[s("div",$,[s("div",M,[s("button",{onClick:u,class:"btn btn-secondary btn-sm gap-2",disabled:!o(e).currentFlow},[l(T,{class:"w-4 h-4"}),t[3]||(t[3]=i(" Save"))],8,O),s("button",{onClick:k,class:"btn btn-primary btn-sm gap-2",disabled:!o(e).currentFlow},[l(P,{class:"w-4 h-4"}),t[4]||(t[4]=i(" Run Flow"))],8,q)]),o(e).currentFlow?(a(),r("div",H,[s("span",U,m(o(e).currentFlow.name),1),i(" ID: "+m(o(e).currentFlow.id),1)])):c("",!0)]),s("div",z,[(a(),n(R,null,{default:b(()=>[o(e).currentFlow?(a(),n(o(y),{key:0,flow:o(e).currentFlow},null,8,["flow"])):(a(),r("div",G,[l(f,{class:"w-16 h-16 mb-4 opacity-50"}),t[5]||(t[5]=s("p",{class:"text-lg font-medium"},"Select or create a flow from the sidebar.",-1))]))]),fallback:b(()=>t[6]||(t[6]=[s("div",{class:"flex items-center justify-center h-full text-gray-500"},"Loading...",-1)])),_:1}))])]),(a(),n(w,{to:"body"},[d.value?(a(),n(o(p),{key:0,onClose:t[1]||(t[1]=h=>d.value=!1)})):c("",!0)]))],64))}};export{X as default};
