import{u as x,h as s,c as k,o as a,w as p,a as l,i as _,d as o,e as i,F as h,A as w,z as b,S as V,j as C,n as S,t as A}from"./index-C2FPU61Y.js";import{_ as $}from"./GenericModal-BZ_c4i9n.js";const B={key:0,class:"space-y-4"},N={key:0,class:"text-center text-gray-500 italic p-4"},D={key:1,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},F=["src","onClick"],M={key:2},j={class:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg max-h-[60vh] overflow-y-auto"},z={key:3,class:"pt-4 border-t dark:border-gray-700"},I={class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},U={__name:"ArtefactViewerModal",setup(T){const c=x(),m=s(()=>c.modalData("artefactViewer")),e=s(()=>{var t;return((t=m.value)==null?void 0:t.artefact)||m.value||{}}),y=s(()=>e.value?e.value.title||e.value.document||"Artefact Details":"Artefact Viewer"),d=s(()=>{var t,r;return((t=e.value)==null?void 0:t.content)||((r=e.value)==null?void 0:r.chunk_text)||""}),u=s(()=>{var t;return((t=e.value)==null?void 0:t.images)||[]}),v=s(()=>d.value&&d.value.trim()!==""),g=s(()=>u.value&&u.value.length>0);return(t,r)=>(a(),k($,{"modal-name":"artefactViewer",title:y.value,"max-width-class":"max-w-4xl"},{body:p(()=>[e.value?(a(),o("div",B,[v.value&&!g.value?(a(),o("div",N," This artefact has no displayable content or images. ")):i("",!0),g.value?(a(),o("div",D,[(a(!0),o(h,null,w(u.value,(n,f)=>(a(),o("div",{key:`${f}-${n.slice(0,30)}`,class:"relative group rounded-lg overflow-hidden"},[l("img",{src:"data:image/png;base64,"+n,class:"w-full h-48 object-cover cursor-pointer",onClick:E=>{_(c).openImageViewer("data:image/png;base64,"+n)},alt:"Artefact image"},null,8,F)]))),128))])):i("",!0),v.value?(a(),o("div",M,[l("div",j,[b(V,{content:d.value},null,8,["content"])])])):i("",!0),e.value.similarity_percent?(a(),o("div",z,[l("p",I,[r[1]||(r[1]=C(" Similarity Score: ")),l("span",{class:S(["font-bold",{"text-green-600 dark:text-green-400":e.value.similarity_percent>=85,"text-yellow-600 dark:text-yellow-400":e.value.similarity_percent>=70&&e.value.similarity_percent<85,"text-red-600 dark:text-red-400":e.value.similarity_percent<70}])},A(e.value.similarity_percent.toFixed(2))+"% ",3)])])):i("",!0)])):i("",!0)]),footer:p(()=>[l("button",{onClick:r[0]||(r[0]=n=>_(c).closeModal("artefactViewer")),class:"btn btn-primary"},"Close")]),_:1},8,["title"]))}};export{U as default};
