import{aj as de,d as r,l as n,e as t,aD as ze,a0 as Ee,X as Ne,u as Re,Z as Le,a1 as We,a2 as E,K as g,c as y,w as ne,o as Ge,q as Ue,B as le,a4 as Oe,n as q,j as c,h as x,ax as N,t as m,x as X,f as l,cY as Be,ai as Fe,ae as Z,H as k,J as w,az as He,O as _,Y as R,au as L,F as S,i as M,a8 as qe,aa as re,a5 as Xe,N as Ze,cV as Ye,as as Je,k as Ke,P as Qe,ad as et,ab as tt,ci as at}from"./index-BETWUTlj.js";import{_ as st}from"./IconChevronUp-mOaEaF5W.js";const ot={},it={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function nt(ce,d){return n(),r("svg",it,d[0]||(d[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.776 48.776 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"},null,-1)]))}const lt=de(ot,[["render",nt]]),rt={class:"flex items-center gap-2"},dt=["disabled"],ct={class:"hidden xs:inline"},ut={key:0,class:"absolute inset-0 bg-blue-500/20 border-4 border-dashed border-blue-500 rounded-lg z-50 flex items-center justify-center m-4 pointer-events-none"},pt={class:"flex-grow min-h-0 flex relative overflow-hidden"},mt={class:"flex-grow p-4 space-y-6 overflow-y-auto custom-scrollbar"},gt={class:"flex items-center justify-between lg:hidden mb-4 border-b dark:border-gray-700 pb-2"},vt={class:"space-y-4"},ht={class:"flex justify-between items-center mb-1"},bt=["disabled"],ft={class:"relative"},xt=["disabled"],wt={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/40 dark:bg-black/40 backdrop-blur-sm rounded"},yt=["onClick"],kt={class:"text-[10px] font-black text-gray-400 uppercase tracking-widest"},_t={class:"grid grid-cols-3 gap-1.5 animate-in fade-in slide-in-from-top-1"},St=["onClick","title"],Ct={class:"text-lg mb-0.5"},jt={class:"text-[8px] font-bold truncate w-full text-center leading-tight uppercase"},It={class:"flex justify-between items-center mb-1"},Mt=["disabled"],Dt={class:"pt-4 border-t dark:border-gray-700 space-y-4"},$t={class:"space-y-2"},Tt={class:"grid grid-cols-3 sm:flex sm:flex-wrap gap-2"},Pt=["onClick"],At={class:"text-[10px] font-black uppercase"},Vt={class:"grid grid-cols-2 gap-4"},zt={class:"flex-grow flex flex-col min-w-0 h-full relative"},Et={class:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-2 sm:p-3 flex items-center justify-between flex-shrink-0 z-10 shadow-sm overflow-x-auto no-scrollbar"},Nt={class:"flex items-center gap-3 sm:gap-4 whitespace-nowrap"},Rt={class:"flex items-center gap-2"},Lt={class:"font-bold text-gray-800 dark:text-gray-200 text-xs uppercase tracking-widest"},Wt={class:"flex items-center gap-1"},Gt={class:"btn-icon text-gray-400 hover:text-blue-600 cursor-pointer p-1.5",title:"Upload"},Ut={key:0,class:"flex items-center gap-2 bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-xl border border-blue-100 dark:border-blue-800 transition-all ml-4 shadow-sm"},Ot={class:"text-[10px] font-black text-blue-800 dark:text-blue-200 uppercase"},Bt={class:"flex-grow overflow-y-auto p-4 custom-scrollbar bg-gray-50 dark:bg-gray-900"},Ft={key:0,class:"mb-8 grid grid-cols-1 xs:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4 animate-in fade-in zoom-in-95"},Ht={class:"text-[10px] font-black text-blue-600 uppercase"},qt={class:"absolute bottom-0 left-0 right-0 h-1.5 bg-gray-100 dark:bg-gray-700"},Xt={key:1,class:"h-64 flex flex-col items-center justify-center opacity-40"},Zt={key:2,class:"h-full flex flex-col items-center justify-center text-gray-400 opacity-40"},Yt={key:3,class:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-6 pb-20"},Jt=["onClick"],Kt={class:"text-white text-[10px] font-medium line-clamp-2 drop-shadow-lg mb-2 opacity-90"},Qt={class:"flex items-center justify-between pt-2 border-t border-white/20"},ea={class:"text-[9px] text-gray-400 font-black uppercase tracking-tighter"},ta={class:"flex gap-1.5"},aa=["onClick"],sa=["onClick"],oa=["onClick"],ia={__name:"ImageStudioView",setup(ce){const d=ze(),W=Ee(),b=Ne(),Y=Re(),J=Le(),K=We(),Q=Ke(),{images:h,isLoading:ue,isGenerating:G,prompt:p,negativePrompt:v,imageSize:D,nImages:$,seed:C,generationParams:pe}=E(d),{user:me}=E(Y),{imageGenerationTasks:ge,imageGenerationTasksCount:U}=E(K),{currentModelVisionSupport:na}=E(J);g(!0);const T=g("None"),f=g(!1),j=g(384),O=g(!1),P=g({"Art Style":!1,"Artist Style":!0,Enhancements:!0,Technical:!0}),ve=y(()=>({width:window.innerWidth>=1024?`${j.value}px`:void 0,minWidth:window.innerWidth>=1024?"320px":void 0}));function he(e){O.value=!0;const a=e.clientX,s=j.value,i=ie=>{O.value&&(j.value=Math.max(320,Math.min(s+(ie.clientX-a),700)))},o=()=>{O.value=!1,localStorage.setItem("lollms_image_studio_sidebar_width",j.value),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",o)};window.addEventListener("mousemove",i),window.addEventListener("mouseup",o)}const ee={"Art Style":[{name:"Photo",emoji:"ðŸ“¸",prompt:"photorealistic, RAW photo, 8k uhd, high detailed",negative:"cartoon, anime, illustration, blurred"},{name:"Cinematic",emoji:"ðŸŽ¬",prompt:"cinematic lighting, dramatic, epic scale, highly detailed",negative:"grainy, simple, low res"},{name:"Anime",emoji:"ðŸŽŒ",prompt:"anime style, vibrant colors, cell shaded, high quality 2d",negative:"3d, realistic, blurry"},{name:"Digital Art",emoji:"ðŸŽ¨",prompt:"digital art, sharp focus, intricate detail, artstation style",negative:"hand drawn, blurry"},{name:"Oil Paint",emoji:"ðŸ–¼ï¸",prompt:"oil painting, thick brushstrokes, textured canvas, classical art",negative:"photography, smooth, plastic"},{name:"Watercolor",emoji:"ðŸ–Œï¸",prompt:"watercolor painting, soft edges, paper texture, elegant",negative:"dark, heavy, photography"},{name:"Cyberpunk",emoji:"ðŸŒƒ",prompt:"cyberpunk aesthetic, neon lights, futuristic city, rainy night",negative:"nature, pastoral"},{name:"Comic",emoji:"ðŸ—¯ï¸",prompt:"comic book style, bold lines, halftone dots, vibrant",negative:"photorealistic"}],"Artist Style":[{name:"Van Gogh",emoji:"ðŸŒ»",prompt:"in the style of Vincent Van Gogh, post-impressionism, swirling colors",negative:""},{name:"Dali",emoji:"â³",prompt:"in the style of Salvador Dali, surrealism, melting objects, dreamlike",negative:""},{name:"Ghibli",emoji:"ðŸŒ³",prompt:"Studio Ghibli style, Hayao Miyazaki, lush environments, whimsical",negative:""},{name:"Picasso",emoji:"ðŸ§Š",prompt:"cubism style, Pablo Picasso, abstract geometry, fragmented",negative:""},{name:"Shinkai",emoji:"âœ¨",prompt:"Makoto Shinkai style, breathtaking sky, detailed light, emotional",negative:""}],Enhancements:[{name:"Hyperreal",emoji:"ðŸ’Ž",prompt:"hyperrealistic, insanely detailed, micro texture, masterpiece",negative:"ugly, deformed"},{name:"HDR",emoji:"ðŸŒˆ",prompt:"high dynamic range, rich colors, deep contrast",negative:"flat, dull"},{name:"Retro 8-bit",emoji:"ðŸ•¹ï¸",prompt:"8-bit style, pixel art, low resolution game aesthetic",negative:"high definition, smooth"},{name:"Macro",emoji:"ðŸ”",prompt:"macro photography, shallow depth of field, extreme close-up",negative:"wide angle"}],Thematic:[{name:"Horror",emoji:"ðŸŽƒ",prompt:"horror aesthetic, dark, eerie, macabre, halloween theme",negative:"bright, cheerful"},{name:"Minecraft",emoji:"ðŸ§±",prompt:"minecraft style, blocky, voxel art, cubic shapes",negative:"curved lines"},{name:"Steampunk",emoji:"âš™ï¸",prompt:"steampunk aesthetic, copper, brass, Victorian industrial",negative:"modern"}]};ee["Art Style"];const be=[{name:"1:1",value:"1024x1024",style:{width:"16px",height:"16px"}},{name:"16:9",value:"1344x768",style:{width:"22px",height:"12px"}},{name:"9:16",value:"768x1344",style:{width:"12px",height:"22px"}},{name:"4:3",value:"1152x896",style:{width:"20px",height:"15px"}},{name:"3:2",value:"1216x832",style:{width:"21px",height:"14px"}}],I=g(!1),B=g(!1),F=y(()=>I.value||B.value),u=g([]),A=y(()=>u.value.length>0),te=y({get:()=>h.value.length>0&&u.value.length===h.value.length,set:e=>{u.value=e?h.value.map(a=>a.id):[]}}),V=g(!1),H=y(()=>{var e;return(e=me.value)==null?void 0:e.tti_binding_model_name});y(()=>{const e=W.availableTtiModels.find(s=>s.id===H.value);return e!=null&&e.binding_params?(A.value?e.binding_params.edit_parameters||[]:e.binding_params.generation_parameters||[]).filter(s=>!["prompt","negative_prompt","image","mask","width","height","n","seed","size"].includes(s.name)):[]});function fe(e){T.value===e.name?T.value="None":(T.value=e.name,e.name!=="None"&&(p.value=p.value.trim()?`${p.value}, ${e.prompt}`:e.prompt,e.negative&&(v.value=v.value.trim()?`${v.value}, ${e.negative}`:e.negative)))}ne(U,(e,a)=>{a>0&&e===0&&setTimeout(()=>d.fetchImages(),1e3)}),Ge(()=>{const e=localStorage.getItem("lollms_image_studio_sidebar_width");e&&(j.value=parseInt(e,10)),b.setPageTitle({title:"Image Studio",icon:Ue(le)}),d.fetchImages(),W.availableTtiModels.length===0&&W.fetchAvailableTtiModels(),window.addEventListener("paste",oe)}),Oe(()=>{b.setPageTitle({title:""}),window.removeEventListener("paste",oe)});function xe(e){const a=u.value.indexOf(e);a>-1?u.value.splice(a,1):u.value.push(e)}function ae(e){return u.value.includes(e)}async function we(){if(!p.value.trim()||!H.value)return;f.value=!1;const e={prompt:p.value,negative_prompt:v.value,model:H.value,seed:C.value,...pe.value};if(A.value){const[a,s]=D.value.split("x").map(Number);await d.editImage({...e,image_ids:u.value,width:a,height:s})}else await d.generateImage({...e,size:D.value,n:$.value})}async function ye(e,a={}){var i;if(e!=="negative_prompt"&&!p.value.trim())return;(e==="prompt"||e==="both")&&(I.value=!0),(e==="negative_prompt"||e==="both")&&(B.value=!0);const s={prompt:p.value,negative_prompt:v.value,target:e,model:(i=Y.user)==null?void 0:i.lollms_model_name,instructions:a.instructions||"",mode:a.mode||"description"};try{const o=await d.enhanceImagePrompt(s);o!=null&&o.id?ke(o.id,e):z(e)}catch{z(e)}}function ke(e,a){const s=ne(()=>K.tasks.find(i=>i.id===e),i=>{if(i)if(i.status==="completed"){let o=typeof i.result=="string"?JSON.parse(i.result):i.result;o&&(o.prompt&&(d.prompt=o.prompt),o.negative_prompt&&(d.negativePrompt=o.negative_prompt)),z(a),s()}else["failed","cancelled"].includes(i.status)&&(z(a),s())},{deep:!0,immediate:!0})}function z(e){(e==="prompt"||e==="both")&&(I.value=!1),(e==="negative_prompt"||e==="both")&&(B.value=!1)}function se(e){b.openModal("enhancePrompt",{onConfirm:a=>ye(e,a)})}function _e(){Q.push("/image-studio/edit/new")}function Se(e){p.value=e.prompt,v.value=e.negative_prompt,C.value=e.seed}function Ce(e){Q.push(`/image-studio/edit/${e.id}`)}function je(e,a){b.openImageViewer({imageList:h.value.map(s=>({...s,src:`/api/image-studio/${s.id}/file`})),startIndex:a})}async function Ie(e){e.target.files.length&&await d.uploadImages(Array.from(e.target.files))}async function Me(){await b.showConfirmation({title:"Delete Images?"})&&(await Promise.all(u.value.map(e=>d.deleteImage(e))),u.value=[])}async function De(){const{confirmed:e,value:a}=await b.showConfirmation({title:"Move to Discussion",inputType:"select",inputOptions:J.sortedDiscussions.map(s=>({text:s.title,value:s.id}))});e&&a&&(await Promise.all(u.value.map(s=>d.moveImageToDiscussion(s,a))),u.value=[])}function $e(e){e.preventDefault(),V.value=!0}function Te(e){e.currentTarget.contains(e.relatedTarget)||(V.value=!1)}async function Pe(e){e.preventDefault(),V.value=!1;const a=Array.from(e.dataTransfer.files).filter(s=>s.type.startsWith("image/"));a.length&&await d.uploadImages(a)}async function oe(e){const a=(e.clipboardData||window.clipboardData).items,s=[];for(const i of a)if(i.kind==="file"&&i.type.startsWith("image/")){const o=i.getAsFile();o&&s.push(new File([o],`pasted_${Date.now()}.png`,{type:o.type}))}s.length&&(e.preventDefault(),await d.uploadImages(s))}function Ae(){b.openModal("cameraCapture")}function Ve(){d.fetchImages()}return(e,a)=>(n(),r(S,null,[(n(),q(Fe,{to:"#global-header-actions-target"},[t("div",rt,[t("button",{onClick:we,class:"btn btn-primary whitespace-nowrap",disabled:c(G)||F.value},[c(G)?(n(),q(N,{key:0,class:"w-5 h-5 mr-1 sm:mr-2 animate-spin"})):x("",!0),t("span",ct,m(A.value?"Apply Edit":"Generate"),1),c(G)?x("",!0):(n(),q(X,{key:1,class:"w-5 h-5 xs:hidden"}))],8,dt),t("button",{onClick:a[0]||(a[0]=s=>f.value=!f.value),class:"lg:hidden btn btn-secondary p-2",title:"Toggle Settings"},[l(Be,{class:"w-6 h-6"})])])])),t("div",{class:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden relative",onDragover:w($e,["prevent"]),onDragleave:w(Te,["prevent"]),onDrop:w(Pe,["prevent"])},[V.value?(n(),r("div",ut,a[10]||(a[10]=[t("p",{class:"text-xl sm:text-2xl font-bold text-blue-600 text-center"},"Drop images to upload",-1)]))):x("",!0),t("div",pt,[t("aside",{class:k(["absolute inset-y-0 left-0 z-30 bg-white dark:bg-gray-800 border-r dark:border-gray-700 transform transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 flex flex-col flex-shrink-0 shadow-lg",f.value?"translate-x-0":"-translate-x-full"]),style:Z(ve.value)},[t("div",{onMousedown:w(he,["prevent"]),class:"hidden lg:block absolute top-0 right-0 bottom-0 w-1.5 cursor-col-resize z-50 hover:bg-blue-500/50 transition-colors"},null,32),t("div",mt,[t("div",gt,[a[11]||(a[11]=t("span",{class:"font-black uppercase tracking-widest text-xs text-gray-500"},"Studio Tools",-1)),t("button",{onClick:a[1]||(a[1]=s=>f.value=!1),class:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded"},[l(He,{class:"w-6 h-6"})])]),t("div",vt,[t("div",null,[t("div",ht,[a[12]||(a[12]=t("label",{for:"prompt",class:"text-[10px] font-black uppercase text-gray-400"},"Positive Prompt",-1)),t("button",{onClick:a[2]||(a[2]=s=>se("prompt")),class:"text-blue-500 hover:text-blue-600 p-1 rounded",disabled:F.value},[l(X,{class:"w-4 h-4"})],8,bt)]),t("div",ft,[_(t("textarea",{id:"prompt","onUpdate:modelValue":a[3]||(a[3]=s=>L(p)?p.value=s:null),rows:"4",class:"input-field w-full resize-none !text-sm",disabled:I.value,placeholder:"What do you want to see?"},null,8,xt),[[R,c(p)]]),I.value?(n(),r("div",wt,[l(N,{class:"w-6 h-6 text-blue-500 animate-spin"})])):x("",!0)])]),(n(),r(S,null,M(ee,(s,i)=>t("div",{key:i,class:"space-y-2 border-t dark:border-gray-700 pt-3"},[t("div",{class:"flex items-center justify-between cursor-pointer group",onClick:o=>P.value[i]=!P.value[i]},[t("span",kt,m(i),1),l(st,{class:k(["w-3 h-3 text-gray-400 transition-transform",{"rotate-180":P.value[i]}])},null,8,["class"])],8,yt),_(t("div",_t,[(n(!0),r(S,null,M(s,o=>(n(),r("button",{key:o.name,onClick:ie=>fe(o),class:k(["flex flex-col items-center p-1.5 rounded-lg border dark:border-gray-700 transition-all hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20",T.value===o.name?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 ring-1 ring-blue-500":"bg-gray-50 dark:bg-gray-900/30"]),title:o.name},[t("span",Ct,m(o.emoji),1),t("span",jt,m(o.name),1)],10,St))),128))],512),[[Qe,!P.value[i]]])])),64)),t("div",null,[t("div",It,[a[13]||(a[13]=t("label",{for:"negative-prompt",class:"text-[10px] font-black uppercase text-gray-400"},"Negative Prompt",-1)),t("button",{onClick:a[4]||(a[4]=s=>se("negative_prompt")),class:"text-red-500 hover:text-red-600 p-1",disabled:F.value},[l(X,{class:"w-4 h-4"})],8,Mt)]),_(t("textarea",{id:"negative-prompt","onUpdate:modelValue":a[5]||(a[5]=s=>L(v)?v.value=s:null),rows:"2",class:"input-field w-full resize-none !text-xs opacity-80",placeholder:"Avoid..."},null,512),[[R,c(v)]])])]),t("div",Dt,[t("div",$t,[a[14]||(a[14]=t("label",{class:"text-[10px] font-black text-gray-400 uppercase tracking-widest"},"Aspect Ratio",-1)),t("div",Tt,[(n(),r(S,null,M(be,s=>t("button",{key:s.name,onClick:i=>D.value=s.value,class:k(["p-2 rounded-xl border dark:border-gray-700 flex flex-col items-center transition-all hover:bg-gray-100 dark:hover:bg-gray-700 flex-1 min-w-[60px]",c(D)===s.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-50 dark:bg-gray-900/30 text-gray-500"])},[t("div",{class:"border-2 border-current rounded mb-1",style:Z(s.style)},null,4),t("span",At,m(s.name),1)],10,Pt)),64))])]),t("div",Vt,[t("div",null,[a[15]||(a[15]=t("label",{class:"label text-[10px] font-bold text-gray-400 uppercase"},"Count",-1)),_(t("input",{type:"number","onUpdate:modelValue":a[6]||(a[6]=s=>L($)?$.value=s:null),min:"1",max:"10",class:"input-field mt-1 !text-xs"},null,512),[[R,c($),void 0,{number:!0}]])]),t("div",null,[a[16]||(a[16]=t("label",{class:"label text-[10px] font-bold text-gray-400 uppercase"},"Seed",-1)),_(t("input",{"onUpdate:modelValue":a[7]||(a[7]=s=>L(C)?C.value=s:null),type:"number",class:"input-field mt-1 !text-xs font-mono",placeholder:"-1"},null,512),[[R,c(C),void 0,{number:!0}]])])])])])],6),f.value?(n(),r("div",{key:0,onClick:a[8]||(a[8]=s=>f.value=!1),class:"absolute inset-0 bg-black/40 z-20 lg:hidden backdrop-blur-sm"})):x("",!0),t("main",zt,[t("div",Et,[t("div",Nt,[t("div",Rt,[_(t("input",{type:"checkbox","onUpdate:modelValue":a[9]||(a[9]=s=>te.value=s),class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer"},null,512),[[qe,te.value]]),t("h2",Lt,"Library ("+m(c(h).length)+")",1)]),a[17]||(a[17]=t("div",{class:"h-6 w-px bg-gray-300 dark:bg-gray-600"},null,-1)),t("div",Wt,[t("button",{onClick:Ve,class:"btn-icon text-gray-400 hover:text-blue-600 p-1.5",title:"Refresh"},[l(re,{class:"w-5 h-5"})]),t("label",Gt,[l(Xe,{class:"w-5 h-5"}),t("input",{type:"file",onChange:Ie,class:"hidden",accept:"image/*",multiple:""},null,32)]),t("button",{onClick:Ae,class:"btn-icon text-gray-400 hover:text-blue-600 p-1.5",title:"Camera"},[l(lt,{class:"w-5 h-5"})]),t("button",{onClick:_e,class:"btn-icon text-gray-400 hover:text-blue-600 p-1.5",title:"New Canvas"},[l(Ze,{class:"w-5 h-5"})])])]),A.value?(n(),r("div",Ut,[t("span",Ot,m(u.value.length)+" selected",1),t("button",{onClick:De,class:"text-blue-600 dark:text-blue-400 p-1",title:"Send to Chat"},[l(Ye,{class:"w-5 h-5"})]),t("button",{onClick:Me,class:"text-red-500 p-1",title:"Delete"},[l(Je,{class:"w-5 h-5"})])])):x("",!0)]),t("div",Bt,[c(U)>0?(n(),r("div",Ft,[(n(!0),r(S,null,M(c(ge),s=>(n(),r("div",{key:s.id,class:"relative aspect-square rounded-[2rem] bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col items-center justify-center p-6 overflow-hidden"},[a[18]||(a[18]=t("div",{class:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 animate-pulse"},null,-1)),l(N,{class:"w-8 h-8 text-blue-500 mb-4 animate-spin"}),t("p",Ht,m(s.progress)+"% Complete",1),t("div",qt,[t("div",{class:"h-full bg-gradient-to-r from-blue-500 to-indigo-600",style:Z({width:s.progress+"%"})},null,4)])]))),128))])):x("",!0),c(ue)&&c(h).length===0?(n(),r("div",Xt,[l(N,{class:"w-12 h-12 mb-4 text-blue-500 animate-spin"}),a[19]||(a[19]=t("p",{class:"text-xs font-black uppercase tracking-widest"},"Gathering images...",-1))])):c(h).length===0&&c(U)===0?(n(),r("div",Zt,[l(le,{class:"w-20 h-20 mb-6"}),a[20]||(a[20]=t("p",{class:"text-xl font-black uppercase tracking-widest"},"No Creations Yet",-1))])):(n(),r("div",Yt,[(n(!0),r(S,null,M(c(h),(s,i)=>(n(),r("div",{key:s.id,onClick:o=>xe(s.id),class:k(["relative aspect-square rounded-[1.5rem] overflow-hidden group cursor-pointer border-2 transition-all duration-300 bg-gray-200 dark:bg-gray-800",ae(s.id)?"border-blue-500 ring-4 ring-blue-500/10 scale-[0.98]":"border-transparent hover:border-gray-300 dark:hover:border-gray-700 hover:shadow-xl"])},[l(et,{src:`/api/image-studio/${s.id}/file`,class:"w-full h-full object-cover transition-transform duration-700 sm:group-hover:scale-110"},null,8,["src"]),t("div",{class:k(["absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent flex flex-col justify-end p-3 transition-opacity duration-300 lg:opacity-0 lg:group-hover:opacity-100",{"!opacity-100":ae(s.id)}])},[t("p",Kt,m(s.prompt||"No prompt"),1),t("div",Qt,[t("span",ea,m(s.width)+"x"+m(s.height),1),t("div",ta,[t("button",{onClick:w(o=>Se(s),["stop"]),class:"p-2 bg-white/10 hover:bg-blue-500 rounded-lg text-white backdrop-blur-md transition-all active:scale-90"},[l(re,{class:"w-4 h-4"})],8,aa),t("button",{onClick:w(o=>Ce(s),["stop"]),class:"p-2 bg-white/10 hover:bg-purple-500 rounded-lg text-white backdrop-blur-md transition-all active:scale-90"},[l(tt,{class:"w-4 h-4"})],8,sa),t("button",{onClick:w(o=>je(s,i),["stop"]),class:"p-2 bg-white/10 hover:bg-white/30 rounded-lg text-white backdrop-blur-md transition-all active:scale-90"},[l(at,{class:"w-4 h-4"})],8,oa)])])],2)],10,Jt))),128))]))])])])],32)],64))}},da=de(ia,[["__scopeId","data-v-f72e984c"]]);export{da as default};
