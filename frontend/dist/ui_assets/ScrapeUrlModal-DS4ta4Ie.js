import{K as w,N as U,c as m,s as u,w as h,n as v,l as b,g as x,e as t,j as S,h as C,m as d,an as V,t as N,z as p,f as D,ax as I,W as M,L as g,V as _}from"./index-7OJ7XwkZ.js";import{_ as L}from"./GenericModal-BayVOcWm.js";const W={class:"space-y-4 p-1"},A={class:"relative mt-1"},T={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},j={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},B={class:"flex flex-col justify-end pb-1"},K={class:"relative inline-flex items-center cursor-pointer"},R={class:"flex justify-end gap-3"},q=["disabled"],E={__name:"ScrapeUrlModal",setup(F){const l=w(),y=U(),k=m(()=>l.modalData("scrapeUrl")),c=m(()=>{var o;return(o=k.value)==null?void 0:o.discussionId}),a=u(""),n=u(0),i=u(!1),r=u(!1);h(()=>l.isModalOpen("scrapeUrl"),o=>{o&&(a.value="",n.value=0,i.value=!1)});async function f(){if(!a.value.trim()){l.addNotification("URL is required.","warning");return}if(c.value){r.value=!0;try{await y.importArtefactFromUrl(c.value,a.value.trim(),n.value,i.value),l.closeModal("scrapeUrl")}finally{r.value=!1}}}return(o,e)=>(b(),v(L,{modalName:"scrapeUrl",title:"Scrape URL to Workspace",maxWidthClass:"max-w-lg"},{body:x(()=>[t("div",W,[e[10]||(e[10]=t("p",{class:"text-sm text-gray-600 dark:text-gray-300"}," Extract content from a website and save it as an artefact in your discussion. ",-1)),t("div",null,[e[4]||(e[4]=t("label",{for:"scrape-url",class:"label"},"Target URL",-1)),t("div",A,[t("div",T,[D(I,{class:"h-4 w-4 text-gray-400"})]),p(t("input",{id:"scrape-url","onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s),type:"url",class:"input-field pl-10",placeholder:"https://example.com/article",required:"",onKeyup:M(f,["enter"])},null,544),[[g,a.value]])])]),t("div",j,[t("div",null,[e[5]||(e[5]=t("label",{for:"scrape-depth",class:"label"},"Scraping Depth",-1)),p(t("input",{id:"scrape-depth","onUpdate:modelValue":e[1]||(e[1]=s=>n.value=s),type:"number",min:"0",max:"5",class:"input-field mt-1"},null,512),[[g,n.value,void 0,{number:!0}]]),e[6]||(e[6]=t("p",{class:"text-[10px] text-gray-500 mt-1"},[d(" 0: This page only. "),t("br"),d(" 1+: Follow internal links. ")],-1))]),t("div",B,[t("label",K,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=s=>i.value=s),class:"sr-only peer"},null,512),[[_,i.value]]),e[7]||(e[7]=t("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),e[8]||(e[8]=t("span",{class:"ml-3 text-sm font-medium text-gray-700 dark:text-gray-300"},"AI Processing",-1))]),e[9]||(e[9]=t("p",{class:"text-[10px] text-gray-500 mt-1"},"Clean boilerplate & structure content.",-1))])])])]),footer:x(()=>[t("div",R,[t("button",{onClick:e[3]||(e[3]=s=>S(l).closeModal("scrapeUrl")),type:"button",class:"btn btn-secondary"},"Cancel"),t("button",{onClick:f,type:"button",class:"btn btn-primary",disabled:r.value||!a.value.trim()},[r.value?(b(),v(V,{key:0,class:"w-4 h-4 mr-2 animate-spin"})):C("",!0),d(" "+N(r.value?"Starting...":"Scrape & Import"),1)],8,q)])]),_:1}))}};export{E as default};
