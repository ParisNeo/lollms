import{q as de,d as r,l,e,aw as ze,V as Ee,K as Ne,u as Re,R as Le,aa as We,W as N,s as v,c as k,w as ne,o as Ue,L as Ge,aj as le,N as Be,n as Z,j as c,h as w,ao as R,t as g,ar as X,f as n,cR as Oe,a8 as qe,a5 as J,p as _,H as y,aq as Fe,z as C,Q as L,al as W,F as S,i as $,g as He,r as Ze,Z as Xe,a0 as re,a2 as Je,y as Ke,cS as Qe,ai as Ye,k as et,cT as tt,B as at,m as st,P as ot,a4 as it,a1 as nt,cU as lt}from"./index-BT_1XIF6.js";const rt={},dt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function ct(ce,d){return l(),r("svg",dt,d[0]||(d[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.776 48.776 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"},null,-1)]))}const ut=de(rt,[["render",ct]]),pt={class:"flex items-center gap-2"},mt=["disabled"],gt={class:"hidden xs:inline"},vt={key:0,class:"absolute inset-0 bg-blue-500/20 border-4 border-dashed border-blue-500 rounded-lg z-50 flex items-center justify-center m-4 pointer-events-none"},bt={class:"flex-grow min-h-0 flex relative overflow-hidden"},ht={class:"flex-grow p-4 space-y-6 overflow-y-auto custom-scrollbar"},ft={class:"flex items-center justify-between lg:hidden mb-4 border-b dark:border-gray-700 pb-2"},xt={class:"space-y-4"},wt={class:"flex justify-between items-center mb-1"},yt=["disabled"],kt={class:"relative"},_t=["disabled"],Ct={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/40 dark:bg-black/40 backdrop-blur-sm rounded"},St=["onClick"],jt={class:"text-[10px] font-black text-gray-400 uppercase tracking-widest"},It={class:"grid grid-cols-3 gap-1.5 animate-in fade-in slide-in-from-top-1"},Mt=["onClick","title"],$t={class:"text-lg mb-0.5"},Dt={class:"text-[8px] font-bold truncate w-full text-center leading-tight uppercase"},Tt={class:"flex justify-between items-center mb-1"},Pt=["disabled"],At={class:"pt-4 border-t dark:border-gray-700 space-y-4"},Vt={class:"space-y-2"},zt={class:"grid grid-cols-3 sm:flex sm:flex-wrap gap-2"},Et=["onClick"],Nt={class:"text-[10px] font-black uppercase"},Rt={class:"grid grid-cols-2 gap-4"},Lt={class:"p-4 border-t dark:border-gray-700 flex-shrink-0 bg-gray-50 dark:bg-gray-800/50"},Wt={class:"flex-grow flex flex-col min-w-0 h-full relative"},Ut={class:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-2 sm:p-3 flex items-center justify-between flex-shrink-0 z-10 shadow-sm overflow-x-auto no-scrollbar"},Gt={class:"flex items-center gap-3 sm:gap-4 whitespace-nowrap"},Bt={class:"flex items-center gap-2"},Ot={class:"font-bold text-gray-800 dark:text-gray-200 text-xs uppercase tracking-widest"},qt={class:"flex items-center gap-1"},Ft={class:"btn-icon text-gray-400 hover:text-blue-600 cursor-pointer p-1.5",title:"Upload"},Ht={key:0,class:"flex items-center gap-2 bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-xl border border-blue-100 dark:border-blue-800 transition-all ml-4 shadow-sm"},Zt={class:"text-[10px] font-black text-blue-800 dark:text-blue-200 uppercase"},Xt={class:"flex-grow overflow-y-auto p-4 custom-scrollbar bg-gray-50 dark:bg-gray-900"},Jt={key:0,class:"mb-8 grid grid-cols-1 xs:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4 animate-in fade-in zoom-in-95"},Kt={class:"text-[10px] font-black text-blue-600 uppercase"},Qt={class:"absolute bottom-0 left-0 right-0 h-1.5 bg-gray-100 dark:bg-gray-700"},Yt={key:1,class:"h-64 flex flex-col items-center justify-center opacity-40"},ea={key:2,class:"h-full flex flex-col items-center justify-center text-gray-400 opacity-40"},ta={key:3,class:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-6 pb-20"},aa=["onClick"],sa={class:"text-white text-[10px] font-medium line-clamp-2 drop-shadow-lg mb-2 opacity-90"},oa={class:"flex items-center justify-between pt-2 border-t border-white/20"},ia={class:"text-[9px] text-gray-400 font-black uppercase tracking-tighter"},na={class:"flex gap-1.5"},la=["onClick"],ra=["onClick"],da=["onClick"],ca={__name:"ImageStudioView",setup(ce){const d=ze(),U=Ee(),f=Ne(),K=Re(),Q=Le(),Y=We(),ee=et(),{images:h,isLoading:ue,isGenerating:G,prompt:m,negativePrompt:b,imageSize:D,nImages:T,seed:j,generationParams:pe}=N(d),{user:me}=N(K),{imageGenerationTasks:ge,imageGenerationTasksCount:B}=N(Y),{currentModelVisionSupport:ua}=N(Q);v(!0);const P=v("None"),x=v(!1),I=v(384),O=v(!1),A=v({"Art Style":!1,"Artist Style":!0,Enhancements:!0,Technical:!0}),ve=k(()=>({width:window.innerWidth>=1024?`${I.value}px`:void 0,minWidth:window.innerWidth>=1024?"320px":void 0}));function be(t){O.value=!0;const a=t.clientX,o=I.value,s=p=>{O.value&&(I.value=Math.max(320,Math.min(o+(p.clientX-a),700)))},i=()=>{O.value=!1,localStorage.setItem("lollms_image_studio_sidebar_width",I.value),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",i)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",i)}const te={"Art Style":[{name:"Photo",emoji:"ðŸ“¸",prompt:"photorealistic, RAW photo, 8k uhd, high detailed",negative:"cartoon, anime, illustration, blurred"},{name:"Cinematic",emoji:"ðŸŽ¬",prompt:"cinematic lighting, dramatic, epic scale, highly detailed",negative:"grainy, simple, low res"},{name:"Anime",emoji:"ðŸŽŒ",prompt:"anime style, vibrant colors, cell shaded, high quality 2d",negative:"3d, realistic, blurry"},{name:"Digital Art",emoji:"ðŸŽ¨",prompt:"digital art, sharp focus, intricate detail, artstation style",negative:"hand drawn, blurry"},{name:"Oil Paint",emoji:"ðŸ–¼ï¸",prompt:"oil painting, thick brushstrokes, textured canvas, classical art",negative:"photography, smooth, plastic"},{name:"Watercolor",emoji:"ðŸ–Œï¸",prompt:"watercolor painting, soft edges, paper texture, elegant",negative:"dark, heavy, photography"},{name:"Cyberpunk",emoji:"ðŸŒƒ",prompt:"cyberpunk aesthetic, neon lights, futuristic city, rainy night",negative:"nature, pastoral"},{name:"Comic",emoji:"ðŸ—¯ï¸",prompt:"comic book style, bold lines, halftone dots, vibrant",negative:"photorealistic"}],"Artist Style":[{name:"Van Gogh",emoji:"ðŸŒ»",prompt:"in the style of Vincent Van Gogh, post-impressionism, swirling colors",negative:""},{name:"Dali",emoji:"â³",prompt:"in the style of Salvador Dali, surrealism, melting objects, dreamlike",negative:""},{name:"Ghibli",emoji:"ðŸŒ³",prompt:"Studio Ghibli style, Hayao Miyazaki, lush environments, whimsical",negative:""},{name:"Picasso",emoji:"ðŸ§Š",prompt:"cubism style, Pablo Picasso, abstract geometry, fragmented",negative:""},{name:"Shinkai",emoji:"âœ¨",prompt:"Makoto Shinkai style, breathtaking sky, detailed light, emotional",negative:""}],Enhancements:[{name:"Hyperreal",emoji:"ðŸ’Ž",prompt:"hyperrealistic, insanely detailed, micro texture, masterpiece",negative:"ugly, deformed"},{name:"HDR",emoji:"ðŸŒˆ",prompt:"high dynamic range, rich colors, deep contrast",negative:"flat, dull"},{name:"Retro 8-bit",emoji:"ðŸ•¹ï¸",prompt:"8-bit style, pixel art, low resolution game aesthetic",negative:"high definition, smooth"},{name:"Macro",emoji:"ðŸ”",prompt:"macro photography, shallow depth of field, extreme close-up",negative:"wide angle"}],Thematic:[{name:"Horror",emoji:"ðŸŽƒ",prompt:"horror aesthetic, dark, eerie, macabre, halloween theme",negative:"bright, cheerful"},{name:"Minecraft",emoji:"ðŸ§±",prompt:"minecraft style, blocky, voxel art, cubic shapes",negative:"curved lines"},{name:"Steampunk",emoji:"âš™ï¸",prompt:"steampunk aesthetic, copper, brass, Victorian industrial",negative:"modern"}]};te["Art Style"];const he=[{name:"1:1",value:"1024x1024",style:{width:"16px",height:"16px"}},{name:"16:9",value:"1344x768",style:{width:"22px",height:"12px"}},{name:"9:16",value:"768x1344",style:{width:"12px",height:"22px"}},{name:"4:3",value:"1152x896",style:{width:"20px",height:"15px"}},{name:"3:2",value:"1216x832",style:{width:"21px",height:"14px"}}],M=v(!1),q=v(!1),F=k(()=>M.value||q.value),u=v([]),V=k(()=>u.value.length>0),ae=k({get:()=>h.value.length>0&&u.value.length===h.value.length,set:t=>{u.value=t?h.value.map(a=>a.id):[]}}),z=v(!1),H=k(()=>{var t;return(t=me.value)==null?void 0:t.tti_binding_model_name});k(()=>{const t=U.availableTtiModels.find(o=>o.id===H.value);return t!=null&&t.binding_params?(V.value?t.binding_params.edit_parameters||[]:t.binding_params.generation_parameters||[]).filter(o=>!["prompt","negative_prompt","image","mask","width","height","n","seed","size"].includes(o.name)):[]});function fe(t){P.value===t.name?P.value="None":(P.value=t.name,t.name!=="None"&&(m.value=m.value.trim()?`${m.value}, ${t.prompt}`:t.prompt,t.negative&&(b.value=b.value.trim()?`${b.value}, ${t.negative}`:t.negative)))}ne(B,(t,a)=>{a>0&&t===0&&setTimeout(()=>d.fetchImages(),1e3)}),Ue(()=>{const t=localStorage.getItem("lollms_image_studio_sidebar_width");t&&(I.value=parseInt(t,10)),f.setPageTitle({title:"Image Studio",icon:Ge(le)}),d.fetchImages(),U.availableTtiModels.length===0&&U.fetchAvailableTtiModels(),window.addEventListener("paste",ie)}),Be(()=>{f.setPageTitle({title:""}),window.removeEventListener("paste",ie)});function xe(t){const a=u.value.indexOf(t);a>-1?u.value.splice(a,1):u.value.push(t)}function se(t){return u.value.includes(t)}async function we(){if(!m.value.trim()||!H.value)return;x.value=!1;const t={prompt:m.value,negative_prompt:b.value,model:H.value,seed:j.value,...pe.value};if(V.value){const[a,o]=D.value.split("x").map(Number);await d.editImage({...t,image_ids:u.value,width:a,height:o})}else await d.generateImage({...t,size:D.value,n:T.value})}async function ye(t,a={}){var s;if(t!=="negative_prompt"&&!m.value.trim())return;(t==="prompt"||t==="both")&&(M.value=!0),(t==="negative_prompt"||t==="both")&&(q.value=!0);const o={prompt:m.value,negative_prompt:b.value,target:t,model:(s=K.user)==null?void 0:s.lollms_model_name,instructions:a.instructions||"",mode:a.mode||"description"};try{const i=await d.enhanceImagePrompt(o);i!=null&&i.id?ke(i.id,t):E(t)}catch{E(t)}}function ke(t,a){const o=ne(()=>Y.tasks.find(s=>s.id===t),s=>{if(s)if(s.status==="completed"){let i=typeof s.result=="string"?JSON.parse(s.result):s.result;i&&(i.prompt&&(d.prompt=i.prompt),i.negative_prompt&&(d.negativePrompt=i.negative_prompt)),E(a),o()}else["failed","cancelled"].includes(s.status)&&(E(a),o())},{deep:!0,immediate:!0})}function E(t){(t==="prompt"||t==="both")&&(M.value=!1),(t==="negative_prompt"||t==="both")&&(q.value=!1)}function oe(t){f.openModal("enhancePrompt",{onConfirm:a=>ye(t,a)})}function _e(){ee.push("/image-studio/edit/new")}function Ce(t){m.value=t.prompt,b.value=t.negative_prompt,j.value=t.seed}function Se(t){ee.push(`/image-studio/edit/${t.id}`)}function je(t,a){f.openImageViewer({imageList:h.value.map(o=>({...o,src:`/api/image-studio/${o.id}/file`})),startIndex:a})}async function Ie(t){t.target.files.length&&await d.uploadImages(Array.from(t.target.files))}async function Me(){await f.showConfirmation({title:"Delete Images?"})&&(await Promise.all(u.value.map(t=>d.deleteImage(t))),u.value=[])}async function $e(){const{confirmed:t,value:a}=await f.showConfirmation({title:"Move to Discussion",inputType:"select",inputOptions:Q.sortedDiscussions.map(o=>({text:o.title,value:o.id}))});t&&a&&(await Promise.all(u.value.map(o=>d.moveImageToDiscussion(o,a))),u.value=[])}function De(t){t.preventDefault(),z.value=!0}function Te(t){t.currentTarget.contains(t.relatedTarget)||(z.value=!1)}async function Pe(t){t.preventDefault(),z.value=!1;const a=Array.from(t.dataTransfer.files).filter(o=>o.type.startsWith("image/"));a.length&&await d.uploadImages(a)}async function ie(t){const a=(t.clipboardData||window.clipboardData).items,o=[];for(const s of a)if(s.kind==="file"&&s.type.startsWith("image/")){const i=s.getAsFile();i&&o.push(new File([i],`pasted_${Date.now()}.png`,{type:i.type}))}o.length&&(t.preventDefault(),await d.uploadImages(o))}function Ae(){f.openModal("cameraCapture")}function Ve(){d.fetchImages()}return(t,a)=>{const o=Ze("router-link");return l(),r(S,null,[(l(),Z(qe,{to:"#global-header-actions-target"},[e("div",pt,[e("button",{onClick:we,class:"btn btn-primary whitespace-nowrap",disabled:c(G)||F.value},[c(G)?(l(),Z(R,{key:0,class:"w-5 h-5 mr-1 sm:mr-2 animate-spin"})):w("",!0),e("span",gt,g(V.value?"Apply Edit":"Generate"),1),c(G)?w("",!0):(l(),Z(X,{key:1,class:"w-5 h-5 xs:hidden"}))],8,mt),e("button",{onClick:a[0]||(a[0]=s=>x.value=!x.value),class:"lg:hidden btn btn-secondary p-2",title:"Toggle Settings"},[n(Oe,{class:"w-6 h-6"})])])])),e("div",{class:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden relative",onDragover:y(De,["prevent"]),onDragleave:y(Te,["prevent"]),onDrop:y(Pe,["prevent"])},[z.value?(l(),r("div",vt,a[10]||(a[10]=[e("p",{class:"text-xl sm:text-2xl font-bold text-blue-600 text-center"},"Drop images to upload",-1)]))):w("",!0),e("div",bt,[e("aside",{class:_(["absolute inset-y-0 left-0 z-30 bg-white dark:bg-gray-800 border-r dark:border-gray-700 transform transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 flex flex-col flex-shrink-0 shadow-lg",x.value?"translate-x-0":"-translate-x-full"]),style:J(ve.value)},[e("div",{onMousedown:y(be,["prevent"]),class:"hidden lg:block absolute top-0 right-0 bottom-0 w-1.5 cursor-col-resize z-50 hover:bg-blue-500/50 transition-colors"},null,32),e("div",ht,[e("div",ft,[a[11]||(a[11]=e("span",{class:"font-black uppercase tracking-widest text-xs text-gray-500"},"Studio Tools",-1)),e("button",{onClick:a[1]||(a[1]=s=>x.value=!1),class:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded"},[n(Fe,{class:"w-6 h-6"})])]),e("div",xt,[e("div",null,[e("div",wt,[a[12]||(a[12]=e("label",{for:"prompt",class:"text-[10px] font-black uppercase text-gray-400"},"Positive Prompt",-1)),e("button",{onClick:a[2]||(a[2]=s=>oe("prompt")),class:"text-blue-500 hover:text-blue-600 p-1 rounded",disabled:F.value},[n(X,{class:"w-4 h-4"})],8,yt)]),e("div",kt,[C(e("textarea",{id:"prompt","onUpdate:modelValue":a[3]||(a[3]=s=>W(m)?m.value=s:null),rows:"4",class:"input-field w-full resize-none !text-sm",disabled:M.value,placeholder:"What do you want to see?"},null,8,_t),[[L,c(m)]]),M.value?(l(),r("div",Ct,[n(R,{class:"w-6 h-6 text-blue-500 animate-spin"})])):w("",!0)])]),(l(),r(S,null,$(te,(s,i)=>e("div",{key:i,class:"space-y-2 border-t dark:border-gray-700 pt-3"},[e("div",{class:"flex items-center justify-between cursor-pointer group",onClick:p=>A.value[i]=!A.value[i]},[e("span",jt,g(i),1),n(tt,{class:_(["w-3 h-3 text-gray-400 transition-transform",{"rotate-180":A.value[i]}])},null,8,["class"])],8,St),C(e("div",It,[(l(!0),r(S,null,$(s,p=>(l(),r("button",{key:p.name,onClick:pa=>fe(p),class:_(["flex flex-col items-center p-1.5 rounded-lg border dark:border-gray-700 transition-all hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20",P.value===p.name?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 ring-1 ring-blue-500":"bg-gray-50 dark:bg-gray-900/30"]),title:p.name},[e("span",$t,g(p.emoji),1),e("span",Dt,g(p.name),1)],10,Mt))),128))],512),[[at,!A.value[i]]])])),64)),e("div",null,[e("div",Tt,[a[13]||(a[13]=e("label",{for:"negative-prompt",class:"text-[10px] font-black uppercase text-gray-400"},"Negative Prompt",-1)),e("button",{onClick:a[4]||(a[4]=s=>oe("negative_prompt")),class:"text-red-500 hover:text-red-600 p-1",disabled:F.value},[n(X,{class:"w-4 h-4"})],8,Pt)]),C(e("textarea",{id:"negative-prompt","onUpdate:modelValue":a[5]||(a[5]=s=>W(b)?b.value=s:null),rows:"2",class:"input-field w-full resize-none !text-xs opacity-80",placeholder:"Avoid..."},null,512),[[L,c(b)]])])]),e("div",At,[e("div",Vt,[a[14]||(a[14]=e("label",{class:"text-[10px] font-black text-gray-400 uppercase tracking-widest"},"Aspect Ratio",-1)),e("div",zt,[(l(),r(S,null,$(he,s=>e("button",{key:s.name,onClick:i=>D.value=s.value,class:_(["p-2 rounded-xl border dark:border-gray-700 flex flex-col items-center transition-all hover:bg-gray-100 dark:hover:bg-gray-700 flex-1 min-w-[60px]",c(D)===s.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-50 dark:bg-gray-900/30 text-gray-500"])},[e("div",{class:"border-2 border-current rounded mb-1",style:J(s.style)},null,4),e("span",Nt,g(s.name),1)],10,Et)),64))])]),e("div",Rt,[e("div",null,[a[15]||(a[15]=e("label",{class:"label text-[10px] font-bold text-gray-400 uppercase"},"Count",-1)),C(e("input",{type:"number","onUpdate:modelValue":a[6]||(a[6]=s=>W(T)?T.value=s:null),min:"1",max:"10",class:"input-field mt-1 !text-xs"},null,512),[[L,c(T),void 0,{number:!0}]])]),e("div",null,[a[16]||(a[16]=e("label",{class:"label text-[10px] font-bold text-gray-400 uppercase"},"Seed",-1)),C(e("input",{"onUpdate:modelValue":a[7]||(a[7]=s=>W(j)?j.value=s:null),type:"number",class:"input-field mt-1 !text-xs font-mono",placeholder:"-1"},null,512),[[L,c(j),void 0,{number:!0}]])])])])]),e("div",Lt,[n(o,{to:"/",class:"flex items-center justify-center gap-3 px-4 py-3 text-xs font-black uppercase tracking-widest text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-xl transition-all"},{default:He(()=>[n(ot,{class:"w-4 h-4"}),a[17]||(a[17]=st()),a[18]||(a[18]=e("span",null,"Back to Chat",-1))]),_:1})])],6),x.value?(l(),r("div",{key:0,onClick:a[8]||(a[8]=s=>x.value=!1),class:"absolute inset-0 bg-black/40 z-20 lg:hidden backdrop-blur-sm"})):w("",!0),e("main",Wt,[e("div",Ut,[e("div",Gt,[e("div",Bt,[C(e("input",{type:"checkbox","onUpdate:modelValue":a[9]||(a[9]=s=>ae.value=s),class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer"},null,512),[[Xe,ae.value]]),e("h2",Ot,"Library ("+g(c(h).length)+")",1)]),a[19]||(a[19]=e("div",{class:"h-6 w-px bg-gray-300 dark:bg-gray-600"},null,-1)),e("div",qt,[e("button",{onClick:Ve,class:"btn-icon text-gray-400 hover:text-blue-600 p-1.5",title:"Refresh"},[n(re,{class:"w-5 h-5"})]),e("label",Ft,[n(Je,{class:"w-5 h-5"}),e("input",{type:"file",onChange:Ie,class:"hidden",accept:"image/*",multiple:""},null,32)]),e("button",{onClick:Ae,class:"btn-icon text-gray-400 hover:text-blue-600 p-1.5",title:"Camera"},[n(ut,{class:"w-5 h-5"})]),e("button",{onClick:_e,class:"btn-icon text-gray-400 hover:text-blue-600 p-1.5",title:"New Canvas"},[n(Ke,{class:"w-5 h-5"})])])]),V.value?(l(),r("div",Ht,[e("span",Zt,g(u.value.length)+" selected",1),e("button",{onClick:$e,class:"text-blue-600 dark:text-blue-400 p-1",title:"Send to Chat"},[n(Qe,{class:"w-5 h-5"})]),e("button",{onClick:Me,class:"text-red-500 p-1",title:"Delete"},[n(Ye,{class:"w-5 h-5"})])])):w("",!0)]),e("div",Xt,[c(B)>0?(l(),r("div",Jt,[(l(!0),r(S,null,$(c(ge),s=>(l(),r("div",{key:s.id,class:"relative aspect-square rounded-[2rem] bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col items-center justify-center p-6 overflow-hidden"},[a[20]||(a[20]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 animate-pulse"},null,-1)),n(R,{class:"w-8 h-8 text-blue-500 mb-4 animate-spin"}),e("p",Kt,g(s.progress)+"% Complete",1),e("div",Qt,[e("div",{class:"h-full bg-gradient-to-r from-blue-500 to-indigo-600",style:J({width:s.progress+"%"})},null,4)])]))),128))])):w("",!0),c(ue)&&c(h).length===0?(l(),r("div",Yt,[n(R,{class:"w-12 h-12 mb-4 text-blue-500 animate-spin"}),a[21]||(a[21]=e("p",{class:"text-xs font-black uppercase tracking-widest"},"Gathering images...",-1))])):c(h).length===0&&c(B)===0?(l(),r("div",ea,[n(le,{class:"w-20 h-20 mb-6"}),a[22]||(a[22]=e("p",{class:"text-xl font-black uppercase tracking-widest"},"No Creations Yet",-1))])):(l(),r("div",ta,[(l(!0),r(S,null,$(c(h),(s,i)=>(l(),r("div",{key:s.id,onClick:p=>xe(s.id),class:_(["relative aspect-square rounded-[1.5rem] overflow-hidden group cursor-pointer border-2 transition-all duration-300 bg-gray-200 dark:bg-gray-800",se(s.id)?"border-blue-500 ring-4 ring-blue-500/10 scale-[0.98]":"border-transparent hover:border-gray-300 dark:hover:border-gray-700 hover:shadow-xl"])},[n(it,{src:`/api/image-studio/${s.id}/file`,class:"w-full h-full object-cover transition-transform duration-700 sm:group-hover:scale-110"},null,8,["src"]),e("div",{class:_(["absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent flex flex-col justify-end p-3 transition-opacity duration-300 lg:opacity-0 lg:group-hover:opacity-100",{"!opacity-100":se(s.id)}])},[e("p",sa,g(s.prompt||"No prompt"),1),e("div",oa,[e("span",ia,g(s.width)+"x"+g(s.height),1),e("div",na,[e("button",{onClick:y(p=>Ce(s),["stop"]),class:"p-2 bg-white/10 hover:bg-blue-500 rounded-lg text-white backdrop-blur-md transition-all active:scale-90"},[n(re,{class:"w-4 h-4"})],8,la),e("button",{onClick:y(p=>Se(s),["stop"]),class:"p-2 bg-white/10 hover:bg-purple-500 rounded-lg text-white backdrop-blur-md transition-all active:scale-90"},[n(nt,{class:"w-4 h-4"})],8,ra),e("button",{onClick:y(p=>je(s,i),["stop"]),class:"p-2 bg-white/10 hover:bg-white/30 rounded-lg text-white backdrop-blur-md transition-all active:scale-90"},[n(lt,{class:"w-4 h-4"})],8,da)])])],2)],10,aa))),128))]))])])])],32)],64)}}},ga=de(ca,[["__scopeId","data-v-618efb35"]]);export{ga as default};
