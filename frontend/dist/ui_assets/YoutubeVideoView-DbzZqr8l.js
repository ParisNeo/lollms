import{a4 as me,Q as ke,u as he,R as we,i as _e,T as Se,c as O,L as y,m as U,W as Ce,e as o,o as l,f as n,b as t,w as L,g as c,aD as Ve,t as p,an as Ne,F as h,r as S,n as $,ad as K,K as Q,h as w,Y as q,aF as H,a0 as _,ac as A,a as T,aE as Te,a2 as X,ar as Z,Z as ee,z as W,ax as M,av as Ie,az as Oe,d as D,aa as $e,D as Ae,au as je,at as ze,ap as Re}from"./index-ujgrdJ4m.js";import{_ as We}from"./AuthenticatedVideo-CIU4_udl.js";import{I as te}from"./IconVideoCamera-CwtzARNf.js";const De={class:"h-full flex overflow-hidden bg-gray-50 dark:bg-gray-950 relative"},Je={key:0,class:"absolute inset-0 z-50 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md flex flex-col p-10"},Pe={class:"max-w-4xl mx-auto w-full flex flex-col h-full animate-in fade-in zoom-in-95 duration-500"},Ue={class:"flex items-center justify-between mb-8"},Me={class:"flex items-center gap-6"},Ye={class:"p-4 bg-blue-600 rounded-3xl shadow-xl shadow-blue-500/20"},Fe={class:"text-2xl font-black text-gray-900 dark:text-white uppercase tracking-tighter"},Ee={class:"text-sm font-bold text-blue-500 opacity-80 uppercase tracking-widest"},Be={class:"text-4xl font-black text-blue-600 font-mono"},Ge={class:"w-full bg-gray-200 dark:bg-gray-800 h-3 rounded-full overflow-hidden mb-10 shadow-inner"},Le={class:"flex-grow flex flex-col min-h-0 bg-black rounded-3xl shadow-2xl border border-gray-800 overflow-hidden"},Ke={class:"text-gray-700 shrink-0 select-none"},Qe={class:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-3xl flex flex-col overflow-hidden border dark:border-gray-800"},qe={class:"p-4 border-b dark:border-gray-800 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50"},He={class:"font-black text-sm uppercase tracking-widest flex items-center gap-2"},Xe={class:"p-8 overflow-y-auto custom-scrollbar min-h-[450px]"},Ze={key:0,class:"space-y-6"},et={class:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto p-2 border rounded-xl dark:border-gray-800"},tt=["onClick"],st={class:"truncate"},at={key:1,class:"space-y-6"},lt={class:"grid grid-cols-2 gap-6"},ot=["value"],rt=["value"],nt={class:"p-4 border-t dark:border-gray-800 flex justify-between gap-3 bg-gray-50 dark:bg-gray-900/50"},it={key:1},dt={class:"flex gap-2"},ut=["disabled"],ct={class:"w-72 border-r dark:border-gray-800 bg-white dark:bg-gray-900 flex flex-col flex-shrink-0 transition-all duration-300"},bt={class:"p-4 border-b dark:border-gray-800 font-black text-[10px] uppercase tracking-widest text-gray-500 flex justify-between items-center"},vt={class:"flex gap-2"},pt={class:"flex-grow overflow-y-auto p-3 space-y-4 custom-scrollbar"},gt={key:0,class:"bg-blue-50 dark:bg-blue-900/10 rounded-xl p-3 border border-blue-100 dark:border-blue-900/30 mb-4 animate-in slide-in-from-left duration-300"},ft={class:"flex justify-between items-center mb-3"},yt={key:0,class:"text-[10px] text-center text-gray-400 italic py-2"},xt={class:"space-y-2"},mt=["onClick"],kt={class:"min-w-0 flex-grow"},ht={class:"text-xs font-bold truncate"},wt={class:"flex gap-1"},_t=["onClick"],St=["onClick"],Ct={class:"flex items-center gap-2 mb-1 text-red-600"},Vt={class:"text-[10px] opacity-70"},Nt={key:2,class:"space-y-1"},Tt=["onClick"],It={class:"flex items-center gap-2 truncate min-w-0"},Ot={class:"w-4 h-4 flex items-center justify-center bg-gray-300 dark:bg-gray-600 rounded-full text-[8px] flex-shrink-0"},$t={class:"truncate"},At=["onClick"],jt={class:"p-4 border-t dark:border-gray-800"},zt=["disabled"],Rt={class:"flex-grow flex flex-col relative min-w-0"},Wt={key:0,class:"absolute inset-0 flex items-center justify-center p-8 text-center bg-gray-50 dark:bg-gray-900/50"},Dt={class:"max-w-md"},Jt={class:"w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6"},Pt={class:"p-3 border-b dark:border-gray-800 flex justify-between items-center bg-white dark:bg-gray-900 shadow-sm z-10"},Ut={class:"flex items-center gap-3"},Mt={class:"flex items-center gap-3"},Yt={class:"flex-grow overflow-hidden relative"},Ft={key:0,class:"absolute inset-0 flex flex-col md:flex-row overflow-hidden"},Et={class:"flex-grow overflow-y-auto p-6 md:p-10 custom-scrollbar bg-gray-50/30 dark:bg-transparent"},Bt={key:0,class:"max-w-4xl mx-auto space-y-8 animate-in fade-in duration-300"},Gt=["value"],Lt={key:0},Kt={class:"flex flex-wrap gap-2"},Qt=["onClick"],qt={class:"w-4 h-4 rounded-full bg-gray-300 overflow-hidden"},Ht={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Xt=["value"],Zt={class:"flex flex-col gap-4"},es=["value"],ts={class:"bg-black rounded-2xl overflow-hidden aspect-video relative group shadow-lg border dark:border-gray-800"},ss={key:1,class:"w-full h-full flex items-center justify-center text-gray-600"},as={class:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"},ls={key:1,class:"absolute inset-0 p-10 bg-black flex items-center justify-center"},os={class:"p-4 border-t dark:border-gray-800 bg-white dark:bg-gray-900 flex gap-4 shadow-2xl z-20"},rs={class:"relative flex-grow"},ns={class:"flex items-center gap-2 px-2 border-l dark:border-gray-700 absolute right-1 top-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 pl-2 h-8"},is=["disabled"],ds={__name:"YoutubeVideoView",props:{notebook:{type:Object,required:!0}},setup(Y){const g=Y,f=ke(),F=he(),se=we(),ae=_e(),{tasks:le}=Se(se);O(()=>ae.user);const m=y(null),u=y(0),C=y(""),j=y(null),E=y([]),z=y(!1),J=y(!1),V=y(!1),k=y(1),i=y({topic:"",num_scenes:5,target_duration:"2 minutes",style:"Documentary",platform:"YouTube (16:9)",selected_artefacts:[]}),oe=["Documentary","Vlog","Cinematic","Tutorial","News Report","Animation Script","Music Video"],re=["YouTube (16:9)","YouTube Shorts (9:16)","TikTok (9:16)","Instagram Reel (9:16)"],x=O(()=>le.value.find(a=>(a.name.includes(g.notebook.title)||a.description.includes(g.notebook.id))&&(a.status==="running"||a.status==="pending"))),d=O(()=>{var a;return(a=g.notebook.tabs)==null?void 0:a.find(e=>e.type==="youtube_script"||e.title==="Script")}),r=O(()=>{if(!d.value)return{scenes:[],metadata:{},personalities:[]};try{const a=JSON.parse(d.value.content);return a.personalities||(a.personalities=[]),a}catch{return{scenes:[],metadata:{},personalities:[]}}}),N=O(()=>{var a,e;return((a=g.notebook.tabs)==null?void 0:a.find(b=>b.id===m.value))||d.value||((e=g.notebook.tabs)==null?void 0:e[0])}),B=()=>{var a;if(((a=g.notebook.tabs)==null?void 0:a.length)>0&&(!m.value||!g.notebook.tabs.find(e=>e.id===m.value))){const e=g.notebook.tabs.find(b=>b.type==="youtube_script"||b.title==="Script");m.value=e?e.id:g.notebook.tabs[0].id}};U(()=>g.notebook.id,(a,e)=>{a!==e&&(m.value=null,B())},{immediate:!0}),U(()=>g.notebook.tabs,B,{deep:!0}),U(()=>{var a,e;return(e=(a=x.value)==null?void 0:a.logs)==null?void 0:e.length},()=>{Re(()=>{j.value&&(j.value.scrollTop=j.value.scrollHeight)})});function ne(){i.value={topic:"",num_scenes:5,target_duration:"2 minutes",style:"Documentary",platform:"YouTube (16:9)",selected_artefacts:[...E.value]},k.value=1,V.value=!0}function ie(a){const e=i.value.selected_artefacts.indexOf(a);e===-1?i.value.selected_artefacts.push(a):i.value.selected_artefacts.splice(e,1)}async function de(){V.value=!1;const a=JSON.stringify(i.value);await f.processWithAi(a,[],"generate_script",null,!1,i.value.selected_artefacts)}async function G(){if(!C.value.trim())return;let a=null;J.value&&d.value&&(a=d.value.id),await f.processWithAi(C.value,[],"generate_script",a,!1,E.value),C.value=""}async function ue(){var e;const{confirmed:a}=await F.showConfirmation({title:"Render Video",message:"Generate visuals and synthesis audio?",confirmText:"Start"});a&&await f.processWithAi("Render full video",[(e=d.value)==null?void 0:e.id],"generate_animation")}async function I(a){d.value&&(d.value.content=JSON.stringify(a),await f.saveActive())}async function ce(){const a=JSON.parse(JSON.stringify(r.value));a.scenes.push({id:Math.random().toString(36).substr(2,9),title:`Scene ${a.scenes.length+1}`,content:"",visual_description:"",audio_script:""}),await I(a),u.value=a.scenes.length-1}async function be(a){const e=JSON.parse(JSON.stringify(r.value));e.scenes.splice(a,1),await I(e),u.value>=e.scenes.length&&(u.value=Math.max(0,e.scenes.length-1))}async function P(a,e){const b=JSON.parse(JSON.stringify(r.value));b.scenes[u.value]&&(b.scenes[u.value][a]=e,await I(b))}async function ve(){await f.processWithAi("Extract and generate characters",[d.value.id],"generate_personalities",d.value.id),z.value=!0}async function pe(a){await f.processWithAi(a,[d.value.id],"regenerate_personality",d.value.id)}async function ge(a){const e=JSON.parse(JSON.stringify(r.value));e.personalities.splice(a,1),await I(e)}async function fe(a,e){const b=JSON.parse(JSON.stringify(r.value)),s=b.scenes[e];s.selected_personalities||(s.selected_personalities=[]);const v=s.selected_personalities.indexOf(a);v===-1?s.selected_personalities.push(a):s.selected_personalities.splice(v,1),await I(b)}async function ye(a){await f.processWithAi(`SCENE_INDEX:${a}`,[d.value.id],"generate_scene_image",d.value.id)}function xe(a){F.openImageViewer({imageList:[{src:a}],startIndex:0})}return Ce(()=>{recognition&&isRecording.value&&recognition.stop()}),(a,e)=>{var b;return l(),o("div",De,[n(K,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:L(()=>[x.value?(l(),o("div",Je,[t("div",Pe,[t("div",Ue,[t("div",Me,[t("div",Ye,[n(Ve,{class:"w-10 h-10 animate-spin text-white"})]),t("div",null,[t("h2",Fe,p(x.value.name),1),t("p",Ee,p(x.value.description),1)])]),t("div",Be,p(x.value.progress)+"%",1)]),t("div",Ge,[t("div",{class:"h-full bg-blue-600 transition-all duration-500 progress-bar-animated",style:Ne({width:x.value.progress+"%"})},null,4)]),t("div",Le,[e[21]||(e[21]=t("div",{class:"px-6 py-3 bg-gray-900 border-b border-gray-800 flex items-center justify-between"},[t("span",{class:"text-[10px] font-black uppercase text-gray-500 tracking-widest"},"Video Studio Terminal Output"),t("div",{class:"flex gap-1.5"},[t("div",{class:"w-2 h-2 rounded-full bg-red-500/50"}),t("div",{class:"w-2 h-2 rounded-full bg-yellow-500/50"}),t("div",{class:"w-2 h-2 rounded-full bg-green-500/50"})])],-1)),t("div",{ref_key:"logsContainerRef",ref:j,class:"flex-grow overflow-y-auto p-6 font-mono text-xs text-gray-400 space-y-1.5 custom-scrollbar"},[(l(!0),o(h,null,S(x.value.logs,(s,v)=>(l(),o("div",{key:v,class:"flex gap-4"},[t("span",Ke,"["+p(new Date(s.timestamp).toLocaleTimeString())+"]",1),t("span",{class:$({"text-red-400 font-bold":s.level==="ERROR","text-blue-400":s.level==="INFO","text-yellow-400":s.level==="WARNING"})},p(s.message),3)]))),128))],512)])])])):c("",!0)]),_:1}),n(K,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-4"},{default:L(()=>[V.value?(l(),o("div",{key:0,class:"fixed inset-0 z-[100] bg-gray-900/60 backdrop-blur-sm p-6 flex items-center justify-center",onClick:e[9]||(e[9]=Q(s=>V.value=!1,["self"]))},[t("div",Qe,[t("div",qe,[t("h3",He,[n(q,{class:"w-4 h-4"}),e[22]||(e[22]=w(" New Video Project"))]),t("button",{onClick:e[0]||(e[0]=s=>V.value=!1),class:"btn-icon-flat"},[n(H,{class:"w-5 h-5"})])]),t("div",Xe,[k.value===1?(l(),o("div",Ze,[t("div",null,[e[23]||(e[23]=t("label",{class:"text-[10px] font-black uppercase text-blue-500 mb-2 block tracking-widest"},"1. Video Concept",-1)),_(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.value.topic=s),class:"input-field w-full h-32 font-bold text-lg p-4",placeholder:"What is this video about? (e.g. A documentary about Mars colonization...)"},null,512),[[A,i.value.topic]])]),t("div",null,[e[24]||(e[24]=t("label",{class:"text-[10px] font-black uppercase text-gray-500 mb-2 block tracking-widest"},"2. Research Sources",-1)),t("div",et,[(l(!0),o(h,null,S(Y.notebook.artefacts,s=>(l(),o("button",{key:s.filename,onClick:v=>ie(s.filename),class:$(["p-2 rounded-lg text-[10px] flex items-center gap-2 text-left transition-all border",i.value.selected_artefacts.includes(s.filename)?"bg-green-50 border-green-500 text-green-700":"border-transparent hover:bg-gray-50 text-gray-500"])},[i.value.selected_artefacts.includes(s.filename)?(l(),T(Te,{key:0,class:"w-3 h-3 flex-shrink-0"})):(l(),T(X,{key:1,class:"w-3 h-3 opacity-30 flex-shrink-0"})),t("span",st,p(s.filename),1)],10,tt))),128))])])])):c("",!0),k.value===2?(l(),o("div",at,[e[29]||(e[29]=t("label",{class:"text-[10px] font-black uppercase text-blue-500 mb-4 block tracking-widest"},"3. Configuration",-1)),t("div",lt,[t("div",null,[e[25]||(e[25]=t("label",{class:"label mb-2"},"Style / Genre",-1)),_(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>i.value.style=s),class:"input-field w-full"},[(l(),o(h,null,S(oe,s=>t("option",{key:s,value:s},p(s),9,ot)),64))],512),[[Z,i.value.style]])]),t("div",null,[e[26]||(e[26]=t("label",{class:"label mb-2"},"Platform / Format",-1)),_(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>i.value.platform=s),class:"input-field w-full"},[(l(),o(h,null,S(re,s=>t("option",{key:s,value:s},p(s),9,rt)),64))],512),[[Z,i.value.platform]])]),t("div",null,[e[27]||(e[27]=t("label",{class:"label mb-2"},"Target Duration",-1)),_(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>i.value.target_duration=s),class:"input-field w-full",placeholder:"e.g. 5 minutes"},null,512),[[A,i.value.target_duration]])]),t("div",null,[e[28]||(e[28]=t("label",{class:"label mb-2"},"Approx. Scene Count",-1)),_(t("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=s=>i.value.num_scenes=s),class:"input-field w-full",min:"1",max:"50"},null,512),[[A,i.value.num_scenes,void 0,{number:!0}]])])])])):c("",!0)]),t("div",nt,[k.value>1?(l(),o("button",{key:0,onClick:e[6]||(e[6]=s=>k.value--),class:"btn btn-secondary"},"Back")):(l(),o("div",it)),t("div",dt,[t("button",{onClick:e[7]||(e[7]=s=>V.value=!1),class:"btn btn-secondary"},"Cancel"),k.value===1?(l(),o("button",{key:0,onClick:e[8]||(e[8]=s=>k.value=2),class:"btn btn-primary",disabled:!i.value.topic},"Next",8,ut)):c("",!0),k.value===2?(l(),o("button",{key:1,onClick:de,class:"btn btn-primary"},"Generate Script")):c("",!0)])])])])):c("",!0)]),_:1}),t("div",ct,[t("div",bt,[e[30]||(e[30]=t("span",null,"Video Studio",-1)),t("div",vt,[t("button",{onClick:e[10]||(e[10]=s=>z.value=!z.value),class:"text-blue-500 hover:text-blue-600",title:"Toggle Personalities"},[n(ee,{class:"w-4 h-4"})]),t("button",{onClick:ce,class:"text-blue-500 hover:text-blue-600",title:"Add Scene"},[n(q,{class:"w-4 h-4"})])])]),t("div",pt,[z.value?(l(),o("div",gt,[t("div",ft,[e[31]||(e[31]=t("span",{class:"text-xs font-bold text-blue-700 dark:text-blue-300"},"Cast & Characters",-1)),t("button",{onClick:ve,class:"p-1 bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-200 rounded hover:bg-blue-200 transition-colors",title:"Auto-generate from Script"},[n(W,{class:"w-3 h-3"})])]),r.value.personalities.length===0?(l(),o("div",yt," No characters yet. ")):c("",!0),t("div",xt,[(l(!0),o(h,null,S(r.value.personalities,(s,v)=>(l(),o("div",{key:s.id,class:"flex items-center gap-2 bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm"},[t("div",{class:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex-shrink-0 overflow-hidden cursor-pointer border border-gray-200 dark:border-gray-600",onClick:R=>xe(s.image_path)},[s.image_path?(l(),T(M,{key:0,src:s.image_path,class:"w-full h-full object-cover"},null,8,["src"])):(l(),T(ee,{key:1,class:"w-4 h-4 m-2 text-gray-400"}))],8,mt),t("div",kt,[t("p",ht,p(s.name),1)]),t("div",wt,[t("button",{onClick:R=>pe(s.id),class:"text-gray-400 hover:text-blue-500"},[n(Ie,{class:"w-3 h-3"})],8,_t),t("button",{onClick:R=>ge(v),class:"text-gray-400 hover:text-red-500"},[n(H,{class:"w-3 h-3"})],8,St)])]))),128))])])):c("",!0),d.value?(l(),o("div",{key:1,onClick:e[11]||(e[11]=s=>m.value=d.value.id),class:$(["p-3 rounded-xl border-2 cursor-pointer transition-all shadow-sm",m.value===d.value.id?"border-red-500 bg-red-50 dark:bg-red-900/10":"border-transparent bg-gray-50 dark:bg-gray-800 hover:border-gray-300"])},[t("div",Ct,[n(X,{class:"w-4 h-4"}),e[32]||(e[32]=w()),e[33]||(e[33]=t("span",{class:"font-bold text-xs uppercase"},"Master Script",-1))]),t("p",Vt,p(r.value.scenes.length)+" Scenes",1)],2)):c("",!0),m.value===((b=d.value)==null?void 0:b.id)?(l(),o("div",Nt,[(l(!0),o(h,null,S(r.value.scenes,(s,v)=>(l(),o("div",{key:v,onClick:R=>u.value=v,class:$(["group flex items-center justify-between p-2 rounded-lg cursor-pointer text-sm transition-all",u.value===v?"bg-gray-200 dark:bg-gray-700 font-bold text-gray-900 dark:text-white":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800"])},[t("div",It,[t("span",Ot,p(v+1),1),t("span",$t,p(s.title),1)]),t("button",{onClick:Q(R=>be(v),["stop"]),class:"opacity-0 group-hover:opacity-100 hover:text-red-500 p-1"},[n(Oe,{class:"w-3.5 h-3.5"})],8,At)],10,Tt))),128))])):c("",!0)]),t("div",jt,[t("button",{onClick:ue,class:"btn btn-primary w-full",disabled:x.value||!d.value},[n(te,{class:"w-4 h-4 mr-2"}),e[34]||(e[34]=w(" Render Video"))],8,zt)])]),t("div",Rt,[r.value.scenes.length===0?(l(),o("div",Wt,[t("div",Dt,[t("div",Jt,[n(te,{class:"w-10 h-10 text-gray-400"})]),e[36]||(e[36]=t("h2",{class:"text-2xl font-bold text-gray-800 dark:text-white mb-3"},"Start Your Video Production",-1)),e[37]||(e[37]=t("p",{class:"text-gray-500 dark:text-gray-400 mb-8"},"Use the wizard to generate a professional script and storyboard from your topic or documents.",-1)),t("button",{onClick:ne,class:"btn btn-primary px-8 py-3 text-lg shadow-xl hover:shadow-blue-500/20 transition-all"},[n(W,{class:"w-5 h-5 mr-2"}),e[35]||(e[35]=w(" Open Video Wizard "))])])])):N.value?(l(),o(h,{key:1},[t("div",Pt,[t("div",Ut,[_(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>N.value.title=s),onBlur:e[13]||(e[13]=(...s)=>D(f).saveActive&&D(f).saveActive(...s)),class:"font-black text-lg bg-transparent border-none focus:ring-0 text-gray-800 dark:text-white p-0"},null,544),[[A,N.value.title]])]),t("div",Mt,[t("button",{onClick:e[14]||(e[14]=(...s)=>D(f).saveActive&&D(f).saveActive(...s)),class:"btn btn-secondary btn-sm"},[n($e,{class:"w-4 h-4 mr-2"}),e[38]||(e[38]=w(" Save"))])])]),t("div",Yt,[N.value.type==="youtube_script"?(l(),o("div",Ft,[t("div",Et,[r.value.scenes[u.value]?(l(),o("div",Bt,[t("div",null,[e[39]||(e[39]=t("label",{class:"text-[10px] font-black uppercase text-gray-400 mb-2 block"},"Scene Title",-1)),t("input",{value:r.value.scenes[u.value].title,onInput:e[15]||(e[15]=s=>P("title",s.target.value)),class:"w-full bg-transparent border-b-2 border-gray-200 dark:border-gray-800 focus:border-red-500 transition-colors py-2 text-2xl font-black outline-none dark:text-white"},null,40,Gt)]),r.value.personalities.length>0?(l(),o("div",Lt,[e[40]||(e[40]=t("label",{class:"text-[10px] font-black uppercase text-gray-400 mb-2 block"},"Scene Cast",-1)),t("div",Kt,[(l(!0),o(h,null,S(r.value.personalities,s=>(l(),o("button",{key:s.id,onClick:v=>fe(s.id,u.value),class:$(["flex items-center gap-2 px-3 py-1.5 rounded-full border transition-all text-xs font-bold",(r.value.scenes[u.value].selected_personalities||[]).includes(s.id)?"bg-blue-100 border-blue-500 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 hover:border-blue-300"])},[t("div",qt,[s.image_path?(l(),T(M,{key:0,src:s.image_path,class:"w-full h-full object-cover"},null,8,["src"])):c("",!0)]),w(" "+p(s.name),1)],10,Qt))),128))])])):c("",!0),t("div",Ht,[t("div",null,[e[41]||(e[41]=t("label",{class:"text-[10px] font-black uppercase text-gray-400 mb-3 block"},"Narration",-1)),t("textarea",{value:r.value.scenes[u.value].audio_script,onInput:e[16]||(e[16]=s=>P("audio_script",s.target.value)),class:"w-full bg-white dark:bg-gray-900 border dark:border-gray-800 rounded-2xl p-5 min-h-[200px] text-lg leading-relaxed dark:text-gray-200 shadow-sm",placeholder:"Narration script..."},null,40,Xt)]),t("div",Zt,[t("div",null,[e[42]||(e[42]=t("label",{class:"text-[10px] font-black uppercase text-gray-400 mb-3 block"},"Visual Direction",-1)),t("textarea",{value:r.value.scenes[u.value].visual_description,onInput:e[17]||(e[17]=s=>P("visual_description",s.target.value)),class:"w-full bg-blue-50/50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/20 rounded-2xl p-5 text-sm italic dark:text-gray-300 min-h-[100px]",placeholder:"Visual Prompt..."},null,40,es)]),t("div",ts,[r.value.scenes[u.value].image_path?(l(),T(M,{key:0,src:r.value.scenes[u.value].image_path,class:"w-full h-full object-contain"},null,8,["src"])):(l(),o("div",ss,[n(Ae,{class:"w-12 h-12 opacity-20"})])),t("div",as,[t("button",{onClick:e[18]||(e[18]=s=>ye(u.value)),class:"btn btn-primary shadow-xl"},[n(W,{class:"w-4 h-4 mr-2"}),w(" "+p(r.value.scenes[u.value].image_path?"Regenerate":"Generate Visual"),1)])])])])])])):c("",!0)])])):N.value.type==="video"?(l(),o("div",ls,[n(We,{src:N.value.content},null,8,["src"])])):c("",!0)])],64)):c("",!0)]),t("div",os,[t("div",rs,[_(t("input",{"onUpdate:modelValue":e[19]||(e[19]=s=>C.value=s),onKeyup:je(G,["enter"]),placeholder:"Quickly modify script or scene...",class:"input-field w-full pr-32"},null,544),[[A,C.value]]),t("div",ns,[_(t("input",{type:"checkbox",id:"mod-tab","onUpdate:modelValue":e[20]||(e[20]=s=>J.value=s),class:"h-3 w-3 rounded text-blue-600 focus:ring-blue-500 cursor-pointer"},null,512),[[ze,J.value]]),e[43]||(e[43]=t("label",{for:"mod-tab",class:"text-[9px] font-black uppercase text-gray-400 cursor-pointer select-none whitespace-nowrap"},"Update Active",-1))])]),t("button",{onClick:G,class:"btn btn-primary px-8 h-12 rounded-2xl",disabled:!C.value.trim()||x.value},[n(W,{class:"w-4 h-4 mr-2"}),e[44]||(e[44]=w(" Go"))],8,is)])])}}},vs=me(ds,[["__scopeId","data-v-97533ed1"]]);export{vs as default};
