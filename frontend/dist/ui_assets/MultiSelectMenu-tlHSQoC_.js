import{a8 as M,r as h,l as O,h as V,f as $,d as a,o as l,a3 as k,e as v,F as g,A as b,t as u,a as r,n as y}from"./index-CGf9GErn.js";const B={class:"relative w-full"},L={class:"truncate"},j={key:0,class:"absolute bottom-full mb-2 w-64 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-300 dark:border-gray-600 flex flex-col max-h-80 z-10"},z={key:0,class:"overflow-y-auto p-1"},A={key:0,class:"px-3 py-1.5 text-xs font-semibold uppercase text-gray-500 dark:text-gray-400 sticky top-0 bg-gray-50 dark:bg-gray-700"},E=["onClick"],N={class:"text-sm text-gray-900 dark:text-gray-100"},D=["onClick"],F={class:"text-sm text-gray-900 dark:text-gray-100"},G={key:1,class:"px-3 py-2 text-sm text-gray-500 italic"},T={key:2,class:"mt-auto border-t border-gray-200 dark:border-gray-700"},q={__name:"MultiSelectMenu",props:{items:{type:Array,default:()=>[]},placeholder:{type:String,default:"Select items..."},modelValue:{type:Array,default:()=>[]},buttonClass:{type:String,default:""},activeClass:{type:String,default:"btn-primary"},inactiveClass:{type:String,default:"btn-secondary"}},emits:["update:modelValue"],setup(n,{emit:x}){const d=n,C=x,c=h(!1),o=h([...d.modelValue]);O(()=>d.modelValue,e=>{o.value=[...e]});const _=V(()=>o.value.length===0?d.placeholder:`${d.placeholder} (${o.value.length})`),p=e=>o.value.includes(e),m=e=>{const t=o.value.indexOf(e);t>-1?o.value.splice(t,1):o.value.push(e),C("update:modelValue",o.value)},f=()=>{c.value=!c.value},w={mounted:(e,t)=>{e.__vueClickOutside__=s=>{e===s.target||e.contains(s.target)||t.value(s)},document.body.addEventListener("click",e.__vueClickOutside__)},unmounted:e=>{document.body.removeEventListener("click",e.__vueClickOutside__)}};return(e,t)=>$((l(),a("div",B,[k(e.$slots,"button",{toggle:f,selected:o.value,activeClass:n.activeClass,inactiveClass:n.inactiveClass},()=>[r("button",{type:"button",onClick:f,class:y(["w-full btn !justify-start !text-left !font-normal",[n.buttonClass,o.value.length>0?n.activeClass:n.inactiveClass]])},[r("span",L,u(_.value),1),t[0]||(t[0]=r("svg",{class:"absolute right-2 top-1/2 -mt-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))],2)],!0),c.value?(l(),a("div",j,[n.items.length>0?(l(),a("ul",z,[(l(!0),a(g,null,b(n.items,(s,S)=>(l(),a(g,{key:S},[s.isGroup?(l(),a("li",A,u(s.label),1)):(l(),a("li",{key:1,onClick:i=>m(s.id),class:"px-3 py-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between"},[r("span",N,u(s.name),1),r("div",{class:y(["switch-toggle",{active:p(s.id)}])},t[1]||(t[1]=[r("div",{class:"switch-handle"},null,-1)]),2)],8,E)),s.isGroup?(l(!0),a(g,{key:2},b(s.items,i=>(l(),a("li",{key:i.id,onClick:H=>m(i.id),class:"px-3 py-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between pl-6"},[r("span",F,u(i.name),1),r("div",{class:y(["switch-toggle",{active:p(i.id)}])},t[2]||(t[2]=[r("div",{class:"switch-handle"},null,-1)]),2)],8,D))),128)):v("",!0)],64))),128))])):(l(),a("div",G," No items available. ")),e.$slots.footer?(l(),a("div",T,[k(e.$slots,"footer",{},void 0,!0)])):v("",!0)])):v("",!0)])),[[w,()=>c.value=!1]])}},K=M(q,[["__scopeId","data-v-75a065bc"]]);export{K as M};
