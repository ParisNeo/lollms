import{E as S,G as N,r as g,o as B,H as I,I as T,k as $,c as n,b as s,g as e,z as d,J as j,_ as D,e as E,F as b,i as y,d as G,t as m,n as L,K as V,y as A,L as z,M as F,N as O}from"./index-DE1LquNh.js";const U={class:"space-y-6"},H={class:"flex justify-between items-center"},J={class:"flex items-center gap-2"},K={key:0,class:"text-center p-4"},R={key:1,class:"text-center p-6 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},Y={key:2,class:"space-y-3"},q=["onClick"],Q={class:"font-semibold"},W={key:0,class:"border border-t-0 dark:border-gray-700/50 rounded-b-lg"},X={class:"flex items-center gap-3 flex-grow truncate"},Z=["src"],ee={class:"flex-grow truncate"},te={class:"font-medium truncate"},se={class:"text-xs text-gray-500 truncate"},ne={class:"flex items-center gap-x-2 flex-shrink-0"},oe=["onClick"],ae=["onClick"],ie={__name:"PromptsSettings",setup(re){const i=S(),a=N(),{on:h,off:k}=I(),c=g({}),u=g(null);B(()=>{i.fetchPrompts(),h("task:completed",f)}),T(()=>{k("task:completed",f)});const p=$(()=>i.userPromptsByCategory);function v(t){c.value[t]=!c.value[t]}function x(){a.openModal("editPrompt",{prompt:{},isSystemPrompt:!1})}function P(){a.openModal("generatePrompt",{isSystemPrompt:!1,onTaskSubmitted:t=>{u.value=t}})}function f(t){t&&t.id===u.value&&(u.value=null,a.isModalOpen("tasksManager")&&a.closeModal("tasksManager"),t.status==="completed"&&t.result?_(t.result):a.addNotification("Prompt generation did not complete successfully.","warning"))}function _(t){a.openModal("editPrompt",{prompt:{...t},isSystemPrompt:!1})}async function w(t){await a.showConfirmation({title:`Delete Prompt '${t.name}'?`,message:"This action cannot be undone.",confirmText:"Delete"})&&await i.deletePrompt(t.id)}return(t,r)=>(s(),n("div",U,[e("div",H,[r[1]||(r[1]=e("div",null,[e("h2",{class:"text-xl font-bold"},"My Prompts"),e("p",{class:"text-sm text-gray-500"},"Manage your personal library of reusable prompts.")],-1)),e("div",J,[e("button",{onClick:P,class:"btn btn-secondary"},[d(D,{class:"w-4 h-4 mr-2"}),r[0]||(r[0]=j(" Generate with AI "))]),e("button",{onClick:x,class:"btn btn-primary"},"Add New Prompt")])]),E(i).isLoading?(s(),n("div",K,"Loading prompts...")):Object.keys(p.value).length===0?(s(),n("div",R,r[2]||(r[2]=[e("p",null,"You haven't created any prompts yet.",-1)]))):(s(),n("div",Y,[(s(!0),n(b,null,y(p.value,(C,l)=>(s(),n("div",{key:l},[e("button",{onClick:o=>v(l),class:"w-full flex justify-between items-center p-2 bg-gray-100 dark:bg-gray-700/50 rounded-t-lg"},[e("h3",Q,m(l),1),d(V,{class:L(["w-5 h-5 transition-transform",{"rotate-90":c.value[l]}])},null,8,["class"])],8,q),c.value[l]?(s(),n("div",W,[(s(!0),n(b,null,y(C,o=>(s(),n("div",{key:o.id,class:"p-3 flex items-center justify-between border-t dark:border-gray-700/50 first:border-t-0"},[e("div",X,[o.icon?(s(),n("img",{key:0,src:o.icon,class:"h-8 w-8 rounded-md flex-shrink-0 object-cover",alt:"Icon"},null,8,Z)):(s(),A(z,{key:1,class:"h-8 w-8 flex-shrink-0 text-gray-400 p-1"})),e("div",ee,[e("p",te,m(o.name),1),e("p",se,m(o.description||"No description"),1)])]),e("div",ne,[e("button",{onClick:M=>_(o),class:"btn btn-secondary btn-sm p-2",title:"Edit"},[d(F,{class:"w-4 h-4"})],8,oe),e("button",{onClick:M=>w(o),class:"btn btn-danger btn-sm p-2",title:"Delete"},[d(O,{class:"w-4 h-4"})],8,ae)])]))),128))])):G("",!0)]))),128))]))]))}};export{ie as default};
