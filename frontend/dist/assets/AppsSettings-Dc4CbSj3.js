import{B as E,q as $,a as B,u as F,s as v,o as N,c as f,D as R,b as i,e as o,f as t,h as y,E as M,G as d,C as V,d as P,x as g,F as b,z as x,l as A}from"./index-DcKq6103.js";import{_ as h}from"./McpCard-BQYUL-X1.js";const U={class:"space-y-10"},I={class:"p-4 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 text-blue-800 dark:text-blue-200"},L={class:"flex"},Y={class:"flex-shrink-0"},j={class:"ml-3"},q={class:"text-sm"},z={class:"flex justify-between items-center mb-4 flex-wrap gap-2"},G={class:"flex items-center gap-x-2"},H={key:0,class:"empty-state-card"},J={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"},K={key:0,class:"empty-state-card"},O={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"},Q={__name:"AppsSettings",setup(W){const a=$(),l=B(),k=F(),{userApps:w,systemApps:S}=v(a),{isAdmin:c}=v(k);N(()=>{a.fetchApps()});const p=f(()=>w.value.filter(s=>!s.is_installed).sort((s,e)=>s.name.localeCompare(e.name))),m=f(()=>S.value.filter(s=>!s.is_installed).sort((s,e)=>s.name.localeCompare(e.name)));function C(){l.openModal("serviceRegistration",{itemType:"app",ownerType:"user"})}function D(){l.openModal("serviceRegistration",{itemType:"app",ownerType:"system"})}function u(s){l.openModal("serviceRegistration",{item:s,itemType:"app"})}async function _(s){await l.showConfirmation({title:`Delete '${s.name}'?`,message:"Are you sure you want to remove this registered Application?",confirmText:"Delete"})&&await a.deleteApp(s.id)}return(s,e)=>{const T=R("router-link");return o(),i("div",U,[t("div",I,[t("div",L,[t("div",Y,[y(M,{class:"h-5 w-5 text-blue-400","aria-hidden":"true"})]),t("div",j,[t("p",q,[e[1]||(e[1]=d("This section is for registering personal, external Apps by providing a URL. For locally installed services, please visit the ")),y(T,{to:"/admin",class:"font-medium underline hover:text-blue-600 dark:hover:text-blue-300"},{default:V(()=>e[0]||(e[0]=[d("Admin Panel")])),_:1,__:[0]}),e[2]||(e[2]=d("."))])])])]),t("section",null,[t("div",z,[e[3]||(e[3]=t("h3",{class:"text-xl font-bold"},"Your Personal Apps",-1)),t("div",G,[t("button",{onClick:C,class:"btn btn-primary text-sm"},"+ Add Personal App"),g(c)?(o(),i("button",{key:0,onClick:D,class:"btn btn-secondary text-sm"},"+ Add System App")):P("",!0)])]),p.value.length===0?(o(),i("div",H,e[4]||(e[4]=[t("p",null,"You haven't added any personal Apps.",-1)]))):(o(),i("div",J,[(o(!0),i(b,null,x(p.value,n=>(o(),A(h,{key:n.id,mcp:n,"is-editable":"",onEdit:r=>u(n),onDelete:r=>_(n)},null,8,["mcp","onEdit","onDelete"]))),128))]))]),t("section",null,[e[6]||(e[6]=t("h3",{class:"text-xl font-bold my-4"},"System Apps",-1)),m.value.length===0?(o(),i("div",K,e[5]||(e[5]=[t("p",null,"No system-wide Apps available.",-1)]))):(o(),i("div",O,[(o(!0),i(b,null,x(m.value,n=>(o(),A(h,{key:n.id,mcp:n,"is-editable":g(c),onEdit:r=>u(n),onDelete:r=>_(n)},null,8,["mcp","is-editable","onEdit","onDelete"]))),128))]))])])}}},ee=E(Q,[["__scopeId","data-v-d5023cce"]]);export{ee as default};
