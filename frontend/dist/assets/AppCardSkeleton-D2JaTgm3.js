import{c as j,a as e,h as u,o as a,j as d,e as n,ar as k,t as r,ad as y,as as A,at as m,a2 as w,a4 as N,b as M,au as C,av as I,aw as S,q as c,ax as p,ay as x,F as L,s as D,az as v,aA as T,a3 as E}from"./index-D3hvAyga.js";import f from"./IconArrowUpCircle-JBNdh4TE.js";import U from"./IconGlobeAlt-B4puAH82.js";import h from"./IconPlayCircle-OSpJzMuM.js";const z={key:0,class:"flex items-center gap-2 text-sm text-blue-600 dark:text-blue-400 w-full"},$={class:"flex-grow"},O={key:0,class:"font-semibold truncate"},Q={class:"text-xs truncate"},Y={class:"flex-shrink-0 flex items-center gap-1"},B={__name:"TaskProgressIndicator",props:{task:{type:Object,required:!0},showName:{type:Boolean,default:!1}},emits:["cancel","view"],setup(t,{emit:g}){const i=t,s=j(()=>i.task?i.task.name.startsWith("Installing app:")?`Installing... (${i.task.progress}%)`:i.task.name.startsWith("Start app:")?"Starting...":`${i.task.status.charAt(0).toUpperCase()+i.task.status.slice(1)} (${i.task.progress}%)`:"...");return(l,o)=>t.task?(a(),e("div",z,[d(k,{class:"w-4 h-4 flex-shrink-0"}),n("div",$,[t.showName?(a(),e("p",O,r(t.task.name),1)):u("",!0),n("p",Q,r(s.value),1)]),n("div",Y,[n("button",{onClick:o[0]||(o[0]=y(b=>l.$emit("view",t.task.id),["stop"])),class:"btn btn-secondary btn-sm !p-1",title:"View Task Details"},[d(A,{class:"w-4 h-4"})]),n("button",{onClick:o[1]||(o[1]=y(b=>l.$emit("cancel",t.task.id),["stop"])),class:"btn btn-warning btn-sm !p-1",title:"Cancel Task"},[d(m,{class:"w-4 h-4"})])])])):u("",!0)}},Z={class:"card"},V={class:"card-header"},W=["src","alt"],G={class:"flex-grow min-w-0"},F={class:"flex justify-between items-start"},P=["title"],H={class:"card-tags"},R={key:0,class:"tag installed-tag-broken"},q={key:2,class:"tag"},J={key:3,class:"tag"},X={key:4,class:"tag"},K={class:"card-body"},_=["title"],tt={class:"px-4 pb-2 text-xs text-gray-400 dark:text-gray-500 flex items-center gap-1"},st=["title"],at={class:"card-footer"},et={class:"flex-1 min-w-0"},nt={key:1,class:"flex gap-2"},it={class:"flex-shrink-0 flex gap-1"},lt=["href"],dt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0idy02IGgtNiI+CiAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMy4zNzUgMS41YTguMjc1IDguMjc1IDAgMCAwLTguMjc1IDguMjc1YzAgNC4xMjIgMi41NjEgNy42MyA2LjA3NyA4LjgzNWEuNzUuNzUgMCAwIDAgLjc2NC0uMTExYy4xMjUtLjA3OC4yNTgtLjE5LjM5OS0uMzE0bC4wMDQtLjAwNSNhLjQ5OC40OTggMCAwIDEgLjYxMy0uMDIzbDIuNDQyIDEuMTM4YTEuNSAxLjUgMCAwIDAgMS42OTktLjkxM2w0LjQxMy05LjU3N2E4LjI1IDE4LjI1IDAgMCAwLTkuOTU0LTkuOTU0bC05LjU3NyA0LjQxM2ExLjUgMS41IDAgMCAwLS45MTMgMS42OTlsMS4xMzggMi40NDJhLjQ5OC40OTggMCAwIDEgLS4wMjMuNjEzbC0uMDA1LjAwNC0uMzE0LjM5OWEuNzUuNzUgMCAwIDAtLjExMS43NjRBMTEuMjIgMTEuMjIgMCAwIDEtMy4zNzUgMTguNWMtNS4wNzIgMC05LjE4OC00LjExNi05LjE4OC05LjE4OGE5LjE4OCA5LjE4OCAwIDAgMSAxLjYxNy01LjE2MmMuMjQ2LS40Mi4wMzgtLjkxOC0uMzY4LTEuMTU3bC0xLjQyNS0uODM4YTEuNSAxLjUgMCAwIDAtMi4wODYuNDlMMy4zNzUgMS41em00LjQ4OCAxMy4wMjNhLjUuNSAwIDAgMS0uMzU0LS4xNDdsLTEuNTQyLTEuNTQxYS41LjUgMCAxIDEgLjcwOC0uNzA4bDEuNTQxIDEuNTQyYS41LjUgMCAwIDEgLS4zNTQuODU0em0yLjk0LTIuOTRhLjUuNSAwIDAgMS0uMzU0LS4xNDZsLTEuNTQxLTEuNTQyYS41LjUgMCAwIDEgLjcwNy0uNzA4bDEuNTQyIDEuNTQxYS41LjUgMCAwIDEgLS4zNTQuODU0em0tMi45NC0yLjk0YS41LjUgMCAwIDEtLjM1My0uMTQ2bC0xLjU0Mi0xLjU0MmEuNS41IDAgMCAxIC43MDctLjcwN2wxLjU0MiAxLjU0MWEuNS41IDAgMCAxLS4zNTQuODUzem0yLjk0LTIuOTRhLjUuNSAwIDAgMS0uMzU0LS4xNDZsLTEuNTQxLTEuNTQyYS41LjUgMCAwIDEgLjcwNy0uNzA4bDEuNTQyIDEuNTQxYS41LjUgMCAwIDEgLS4zNTQuODU0em00LjQ4OC0uNzU3YS41LjUgMCAwIDEtLjM1NC0uMTQ3bC0xLjU0Mi0xLjU0MWEuNS41IDAgMCAxIC43MDgtLjcwOGwxLjU0MSAxLjU0MWEuNS41IDAgMCAxLS4zNTQuODU0em0yLjk0LTIuOTRhLjUuNSAwIDAgMS0uMzU0LS4xNDZsLTEuNTQxLTEuNTQyYS41LjUgMCAwIDEgLjcwNy0uNzA4bDEuNTQyIDEuNTQxYS41LjUgMCAwIDEgLS4zNTQuODU0em0tMS40NzEtNC40N2EuNS41IDAgMCAxLS4zNTQtLjE0N2wtMS41NDItMS41NDFhLjUuNSAwIDAgMSAuNzA4LS43MDhsMS41NDEgMS41NDFhLjUuNSAwIDAgMS0uMzU0Ljg1NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgLz4KPC9zdmc+Cg==",ut={__name:"AppCard",props:{app:{type:Object,required:!0},task:{type:Object,default:null},isStarred:{type:Boolean,default:!1},itemTypeName:{type:String,default:"App"}},emits:["star","install","update","uninstall","details","help","view-task","cancel-install","start","stop","fix"],setup(t,{emit:g}){return(i,s)=>(a(),e("div",Z,[n("div",V,[n("img",{src:t.app.icon||dt,alt:t.app.name,class:"card-icon"},null,8,W),n("div",G,[n("div",F,[n("h3",{class:"card-title",title:t.app.name},r(t.app.name),9,P),n("button",{onClick:s[0]||(s[0]=y(l=>i.$emit("star",t.app.name),["stop"])),class:N(["p-1.5 rounded-full transition-colors flex-shrink-0",t.isStarred?"bg-yellow-400/20 text-yellow-500":"text-gray-400 hover:text-yellow-500"])},[t.isStarred?(a(),M(C,{key:0,class:"w-5 h-5"})):(a(),M(I,{key:1,class:"w-5 h-5"}))],2)]),n("div",H,[t.app.is_broken?(a(),e("span",R,"Broken")):t.app.is_installed?(a(),e("span",{key:1,class:N(["tag",{"installed-tag-running":t.app.status==="running","installed-tag-stopped":t.app.status!=="running"}])},r(t.app.status||"Installed"),3)):u("",!0),t.app.author?(a(),e("span",q,"by "+r(t.app.author),1)):u("",!0),t.app.category?(a(),e("span",J,r(t.app.category),1)):u("",!0),t.app.version?(a(),e("span",X,"v"+r(t.app.version),1)):u("",!0)])])]),n("div",K,[n("p",{class:"card-description",title:t.app.description},r(t.app.description),9,_)]),n("div",tt,[d(S,{class:"w-3 h-3"}),n("span",{class:"truncate",title:`From: ${t.app.repository}`},r(t.app.repository),9,st)]),n("div",at,[n("div",et,[t.task?(a(),M(B,{key:0,task:t.task,onView:s[1]||(s[1]=l=>i.$emit("view-task",t.task.id)),onCancel:s[2]||(s[2]=l=>i.$emit("cancel-install"))},null,8,["task"])):(a(),e("div",nt,[t.app.is_broken?(a(),e("button",{key:0,onClick:s[3]||(s[3]=l=>i.$emit("fix",t.app)),class:"btn btn-warning w-full"},[d(p,{class:"w-4 h-4 mr-2"}),s[11]||(s[11]=c("Fix Installation"))])):t.app.is_installed?(a(),e(L,{key:2},[t.app.update_available?(a(),e("button",{key:0,onClick:s[5]||(s[5]=l=>i.$emit("update",t.app)),class:"btn btn-warning w-full"},[d(f,{class:"w-4 h-4 mr-2"}),s[13]||(s[13]=c("Update"))])):(a(),e("button",{key:1,onClick:s[6]||(s[6]=l=>i.$emit("uninstall",t.app)),class:"btn btn-danger-outline w-full"},[d(D,{class:"w-4 h-4 mr-2"}),s[14]||(s[14]=c("Uninstall"))]))],64)):(a(),e("button",{key:1,onClick:s[4]||(s[4]=l=>i.$emit("install",t.app)),class:"btn btn-primary w-full"},[d(x,{class:"w-4 h-4 mr-2"}),s[12]||(s[12]=c("Install"))]))]))]),n("div",it,[t.app.is_installed&&!t.task&&!t.app.is_broken?(a(),e(L,{key:0},[t.app.status==="running"&&t.app.url?(a(),e("a",{key:0,href:t.app.url,target:"_blank",class:"btn btn-secondary p-2",title:"Open"},[d(U,{class:"w-4 h-4"})],8,lt)):u("",!0),t.app.status!=="running"?(a(),e("button",{key:1,onClick:s[7]||(s[7]=l=>i.$emit("start",t.app)),class:"btn btn-success p-2",title:"Start"},[d(h,{class:"w-4 h-4"})])):u("",!0),t.app.status==="running"?(a(),e("button",{key:2,onClick:s[8]||(s[8]=l=>i.$emit("stop",t.app)),class:"btn btn-warning p-2",title:"Stop"},[d(m,{class:"w-4 h-4"})])):u("",!0)],64)):u("",!0),n("button",{onClick:s[9]||(s[9]=l=>i.$emit("details",t.app)),class:"btn btn-secondary p-2",title:"Details"},[d(v,{class:"w-4 h-4"})]),t.app.has_readme?(a(),e("button",{key:1,onClick:s[10]||(s[10]=l=>i.$emit("help",t.app)),class:"btn btn-secondary p-2",title:"Help"},[d(T,{class:"w-4 h-4"})])):u("",!0)])])]))}},Lt=w(ut,[["__scopeId","data-v-f4dccef9"]]),rt={},gt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 animate-pulse"};function ot(t,g){return a(),e("div",gt,g[0]||(g[0]=[E('<div class="flex items-start gap-4 mb-3"><div class="h-16 w-16 rounded-md flex-shrink-0 bg-gray-300 dark:bg-gray-700"></div><div class="flex-grow min-w-0 mt-1"><div class="h-5 w-3/4 rounded bg-gray-300 dark:bg-gray-600"></div><div class="h-4 w-1/2 rounded bg-gray-200 dark:bg-gray-700 mt-2"></div></div></div><div class="space-y-2"><div class="h-4 rounded bg-gray-200 dark:bg-gray-700"></div><div class="h-4 rounded bg-gray-200 dark:bg-gray-700"></div><div class="h-4 w-5/6 rounded bg-gray-200 dark:bg-gray-700"></div></div><div class="mt-5"><div class="flex items-center justify-between text-xs mb-3"><div class="h-4 w-12 rounded-full bg-gray-200 dark:bg-gray-700"></div><div class="h-4 w-20 rounded-full bg-gray-200 dark:bg-gray-700"></div></div><div class="h-10 w-full rounded-md bg-gray-300 dark:bg-gray-600"></div></div>',3)]))}const mt=w(rt,[["render",ot]]);export{mt as A,Lt as a};
