import{z as k,b as a,e as l,f as t,r as y,c as I,l as D,al as ge,am as pe,t as c,d as h,h as v,an as me,D as ee,ao as fe,aj as ye,ap as he,aq as be,ak as ke,ai as we,a as xe,s as _e,o as $e,w as te,y as U,A as Ae,g as Ce,i as T,v as E,T as Ie,p as N,F as $,x as A,ar as Se,E as se,q as F}from"./index-DJvYF6EO.js";const Me={},je={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function Ue(i,o){return l(),a("svg",je,o[0]||(o[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"},null,-1)]))}const Te=k(Me,[["render",Ue]]),De={},Re={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function Le(i,o){return l(),a("svg",Re,o[0]||(o[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 9.563C9 9.252 9.252 9 9.563 9h4.874c.311 0 .563.252.563.563v4.874c0 .311-.252.563-.563.563H9.564A.562.562 0 0 1 9 14.437V9.564Z"},null,-1)]))}const Ze=k(De,[["render",Le]]),Ve={},Be={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function Ne(i,o){return l(),a("svg",Be,o[0]||(o[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-.778.099-1.533.284-2.253"},null,-1)]))}const ze=k(Ve,[["render",Ne]]),He={},Oe={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function Ee(i,o){return l(),a("svg",Oe,o[0]||(o[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 19.5v-15m0 0-6.75 6.75M12 4.5l6.75 6.75"},null,-1)]))}const Fe=k(He,[["render",Ee]]),Pe={},qe={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function Ge(i,o){return l(),a("svg",qe,o[0]||(o[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m0 0l6.75-6.75M12 19.5l-6.75-6.75"},null,-1)]))}const Je=k(Pe,[["render",Ge]]),We={},Ke={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function Qe(i,o){return l(),a("svg",Ke,o[0]||(o[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9 9 6-6m0 0-6 6m6-6v12a6 6 0 0 1-12 0v-3"},null,-1)]))}const Xe=k(We,[["render",Qe]]),Ye={},et={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function tt(i,o){return l(),a("svg",et,o[0]||(o[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"},null,-1)]))}const st=k(Ye,[["render",tt]]),nt={},lt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function at(i,o){return l(),a("svg",lt,o[0]||(o[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 11.667 0l3.181-3.183m-4.991-2.696v4.992h-4.992m0 0-3.181-3.183a8.25 8.25 0 0 1 11.667 0l3.181 3.183"},null,-1)]))}const ot=k(nt,[["render",at]]),rt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md transition-shadow hover:shadow-lg flex flex-col h-full relative"},it={class:"p-4 flex-grow"},dt={class:"flex items-start gap-4 mb-3"},ut={class:"h-16 w-16 rounded-md flex-shrink-0 bg-gray-200 dark:bg-gray-700 flex items-center justify-center overflow-hidden"},ct=["src"],vt={key:1,class:"w-9 h-9 text-gray-500 dark:text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},gt={class:"flex-grow min-w-0"},pt=["title"],mt=["title"],ft={class:"text-sm text-gray-500 dark:text-gray-400 leading-relaxed min-h-[60px]"},yt={class:"px-4 pb-4 mt-auto"},ht={class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-3"},bt={key:0,class:"flex items-center gap-1"},kt={class:"px-2 py-0.5 rounded-full bg-gray-100 dark:bg-gray-700 font-medium"},wt={class:"flex items-center gap-2 mb-2"},xt={key:0,class:"space-y-2"},_t={class:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-600"},$t={key:3,class:"w-full text-center px-4 py-2 rounded-md bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 font-semibold flex items-center justify-center gap-2"},ne={__name:"AppCard",props:{app:{type:Object,required:!0},isStarred:{type:Boolean,default:!1},task:{type:Object,default:null}},emits:["install","star","details","help","update","cancel-install"],setup(i){const o=i,f=y(!1),V=I(()=>o.task&&o.task.status==="running");function z(){f.value=!0}function S(p,r=100){return p?p.length<=r?p:p.substring(0,r)+"...":""}return(p,r)=>(l(),a("div",rt,[t("button",{onClick:r[0]||(r[0]=C=>p.$emit("star")),class:"absolute top-3 right-3 p-1 text-gray-400 hover:text-yellow-500 dark:hover:text-yellow-400 transition-colors z-10"},[i.isStarred?(l(),D(ge,{key:0,class:"w-6 h-6 text-yellow-500 dark:text-yellow-400"})):(l(),D(pe,{key:1,class:"w-6 h-6"}))]),t("div",it,[t("div",dt,[t("div",ut,[i.app.icon&&!f.value?(l(),a("img",{key:0,src:i.app.icon,onError:z,alt:"App Icon",class:"h-full w-full object-cover"},null,40,ct)):(l(),a("svg",vt,r[6]||(r[6]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"},null,-1)])))]),t("div",gt,[t("h3",{class:"font-bold text-lg text-gray-900 dark:text-white truncate pr-8",title:i.app.name},c(i.app.name),9,pt),t("p",{class:"text-sm text-gray-600 dark:text-gray-400 truncate",title:`by ${i.app.author}`},"by "+c(i.app.author||"Unknown"),9,mt)])]),t("p",ft,c(S(i.app.description)),1)]),t("div",yt,[t("div",ht,[i.app.version?(l(),a("div",bt,[v(me,{class:"w-3.5 h-3.5"}),t("span",null,"v"+c(i.app.version),1)])):h("",!0),t("div",kt,c(i.app.category||"General"),1)]),t("div",wt,[t("button",{onClick:r[1]||(r[1]=C=>p.$emit("details")),class:"btn btn-secondary flex-1 flex items-center justify-center gap-1.5 text-xs"},[v(fe,{class:"w-4 h-4"}),r[7]||(r[7]=ee(" Details "))]),i.app.has_readme?(l(),a("button",{key:0,onClick:r[2]||(r[2]=C=>p.$emit("help")),class:"btn btn-secondary flex-1 flex items-center justify-center gap-1.5 text-xs"},[v(st,{class:"w-4 h-4"}),r[8]||(r[8]=ee(" Help "))])):h("",!0)]),V.value?(l(),a("div",xt,[t("div",_t,[t("div",{class:"bg-blue-500 h-2.5 rounded-full",style:ye({width:`${i.task.progress}%`})},null,4)]),t("button",{onClick:r[3]||(r[3]=C=>p.$emit("cancel-install",i.task.id)),class:"btn btn-danger w-full text-xs"},"Cancel")])):i.app.update_available?(l(),a("button",{key:1,onClick:r[4]||(r[4]=C=>p.$emit("update")),class:"btn btn-warning w-full flex items-center justify-center gap-2"},[v(ot,{class:"w-4 h-4"}),r[9]||(r[9]=t("span",null,"Update Available",-1))])):i.app.is_installed?(l(),a("div",$t,[v(be,{class:"w-5 h-5"}),r[11]||(r[11]=t("span",null,"Installed",-1))])):(l(),a("button",{key:2,onClick:r[5]||(r[5]=C=>p.$emit("install")),class:"btn btn-primary w-full flex items-center justify-center gap-2"},[v(he,{class:"w-4 h-4"}),r[10]||(r[10]=t("span",null,"Install",-1))]))])]))}},At={},Ct={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 animate-pulse"};function It(i,o){return l(),a("div",Ct,o[0]||(o[0]=[ke('<div class="flex items-start gap-4 mb-3"><div class="h-16 w-16 rounded-md flex-shrink-0 bg-gray-300 dark:bg-gray-700"></div><div class="flex-grow min-w-0 mt-1"><div class="h-5 w-3/4 rounded bg-gray-300 dark:bg-gray-600"></div><div class="h-4 w-1/2 rounded bg-gray-200 dark:bg-gray-700 mt-2"></div></div></div><div class="space-y-2"><div class="h-4 rounded bg-gray-200 dark:bg-gray-700"></div><div class="h-4 rounded bg-gray-200 dark:bg-gray-700"></div><div class="h-4 w-5/6 rounded bg-gray-200 dark:bg-gray-700"></div></div><div class="mt-5"><div class="flex items-center justify-between text-xs mb-3"><div class="h-4 w-12 rounded-full bg-gray-200 dark:bg-gray-700"></div><div class="h-4 w-20 rounded-full bg-gray-200 dark:bg-gray-700"></div></div><div class="h-10 w-full rounded-md bg-gray-300 dark:bg-gray-600"></div></div>',3)]))}const St=k(At,[["render",It]]),Mt={class:"space-y-8"},jt={class:"border-b border-gray-200 dark:border-gray-700"},Ut={class:"-mb-px flex space-x-6","aria-label":"Tabs"},Tt={key:0},Dt={class:"flex justify-between items-center mb-4"},Rt={key:0,class:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm mb-6 overflow-hidden"},Lt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Zt={class:"md:col-span-2"},Vt={class:"flex justify-end"},Bt=["disabled"],Nt={key:0,class:"text-center p-4"},zt={key:1,class:"text-center p-6 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},Ht={key:2,class:"space-y-4"},Ot={class:"flex-grow truncate"},Et={class:"font-semibold text-gray-900 dark:text-white"},Ft=["title"],Pt={class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},qt={class:"flex items-center gap-x-2 flex-shrink-0"},Gt=["onClick","disabled"],Jt=["onClick","disabled"],Wt={key:1},Kt={class:"space-y-4"},Qt={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Xt={class:"relative lg:col-span-1"},Yt={class:"grid grid-cols-2 lg:col-span-2 gap-4"},es=["value"],ts={class:"flex items-center gap-2"},ss=["value"],ns={key:0,class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6"},ls={key:1,class:"text-center p-10 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},as={key:2,class:"text-center p-10 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},os={key:3},rs={key:0,class:"space-y-8"},is={class:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-3 border-b pb-2 dark:border-gray-700"},ds={class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6"},us={key:1,class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6"},cs={key:2},vs={key:0,class:"text-center p-10"},gs={key:1,class:"text-center p-10 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},ps={key:2,class:"space-y-4"},ms={class:"flex items-center gap-4 flex-grow truncate"},fs=["src"],ys={class:"flex-grow truncate"},hs=["title"],bs=["title"],ks={class:"flex items-center gap-x-2 flex-shrink-0"},ws=["onClick","disabled"],xs=["href"],_s=["onClick","disabled"],$s=["onClick","disabled"],As=["onClick","disabled"],Cs={__name:"AppsManagement",setup(i){const o=we(),f=xe(),{zooRepositories:V,isLoadingZooRepositories:z,zooApps:S,isLoadingZooApps:p,installedApps:r,isLoadingInstalledApps:C,tasks:le,activeTaskIds:Is}=_e(o),b=y("repositories"),R=y(!1),w=y({name:"",url:""}),d=y(null),M=y(""),B=y("All"),L=y("All"),j=y("last_update_date"),Z=y("desc"),x=y(JSON.parse(localStorage.getItem("starredApps")||"[]")),ae=[{value:"last_update_date",label:"Last Updated"},{value:"creation_date",label:"Creation Date"},{value:"name",label:"Name"},{value:"author",label:"Author"}];$e(()=>{o.fetchZooRepositories(),o.fetchZooApps(),o.fetchInstalledApps(),o.fetchTasks()}),te(b,n=>{n==="available_apps"&&(o.fetchZooApps(),o.fetchInstalledApps(),o.fetchTasks()),n==="installed_apps"&&o.fetchInstalledApps()}),te(x,n=>{localStorage.setItem("starredApps",JSON.stringify(n))},{deep:!0});const oe=I(()=>{const n=new Map;return le.value.forEach(s=>{if(s.name.startsWith("Installing app: ")){const e=s.name.replace("Installing app: ","");(!n.has(e)||new Date(s.created_at)>new Date(n.get(e).created_at))&&n.set(e,s)}}),S.value.map(s=>{const e=n.get(s.name);return{...s,task:e&&e.status==="running"?e:null}})}),P=I(()=>V.value?[...V.value].sort((n,s)=>n.name.localeCompare(s.name)):[]),re=I(()=>{const n=new Set(S.value.map(s=>s.category||"Uncategorized"));return["All",...Array.from(n).sort()]}),H=I(()=>{let n=oe.value.filter(s=>{const e=L.value==="All"||L.value==="Installed"&&s.is_installed||L.value==="Uninstalled"&&!s.is_installed&&!s.task,u=B.value==="All"||s.category===B.value,g=!M.value||s.name.toLowerCase().includes(M.value.toLowerCase())||s.description&&s.description.toLowerCase().includes(M.value.toLowerCase())||s.author&&s.author.toLowerCase().includes(M.value.toLowerCase());return e&&u&&g});return n.sort((s,e)=>{const u=x.value.includes(s.name),g=x.value.includes(e.name);if(u&&!g)return-1;if(!u&&g)return 1;if(s.is_installed&&!e.is_installed)return-1;if(!s.is_installed&&e.is_installed)return 1;let m=s[j.value]||"",_=e[j.value]||"";return j.value.includes("date")&&(m=m?new Date(m).getTime():0,_=_?new Date(_).getTime():0),typeof m=="string"&&typeof _=="string"?Z.value==="asc"?m.localeCompare(_):_.localeCompare(m):Z.value==="asc"?m-_:_-m}),n}),q=I(()=>j.value!=="author"?null:H.value.reduce((n,s)=>{const e=s.author||"Unknown Author";return n[e]||(n[e]=[]),n[e].push(s),n},{})),G=I(()=>r.value?[...r.value].sort((n,s)=>n.name.localeCompare(s.name)):[]);function J(n){const s=x.value.indexOf(n);s>-1?x.value.splice(s,1):x.value.push(n)}function ie(n){return n?new Date(n).toLocaleString():"Never"}async function de(){if(!w.value.name||!w.value.url){f.addNotification("Repository name and URL are required.","warning");return}d.value="add";try{await o.addZooRepository(w.value.name,w.value.url),w.value={name:"",url:""},R.value=!1}catch{}finally{d.value=null}}async function ue(n){d.value=n.id;try{await o.pullZooRepository(n.id)}catch{}finally{d.value=null}}async function ce(n){if(await f.showConfirmation({title:`Delete Repository '${n.name}'?`,message:"This will remove the repository from the list and delete its cached files from the server. This action cannot be undone.",confirmText:"Delete"})){d.value=n.id;try{await o.deleteZooRepository(n.id)}catch{}finally{d.value=null}}}function O(n){f.openModal("appInstall",{app:n})}function W(n){const s=S.value.find(e=>e.name===n.name);if(!s){f.addNotification(`Could not find app details for '${n.name}' in the zoo. Try refreshing repositories.`,"error");return}f.showConfirmation({title:`Update '${n.name}'?`,message:"This will reinstall the app with the latest version from the zoo. The app will be stopped during this process. Are you sure you want to continue?",confirmText:"Update"}).then(e=>{e&&O(s)})}async function K(n,s){d.value=`${s}-${n}`;try{s==="start"&&await o.startApp(n),s==="stop"&&await o.stopApp(n)}catch{}finally{d.value=null}}async function ve(n){if(await f.showConfirmation({title:`Uninstall '${n.name}'?`,message:"This will stop the app if it is running and permanently delete its files and virtual environment. This action cannot be undone.",confirmText:"Uninstall"})){d.value=`uninstall-${n.id}`;try{await o.uninstallApp(n.id)}catch{}finally{d.value=null}}}function Q(n){f.openModal("appDetails",{app:n})}async function X(n){try{const s=await o.fetchAppReadme(n.repository,n.folder_name);f.openModal("sourceViewer",{title:`README: ${n.name}`,content:s,language:"markdown"})}catch{}}async function Y(n){await o.cancelTask(n)}return(n,s)=>(l(),a("div",Mt,[s[20]||(s[20]=t("div",null,[t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Apps Management"),t("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"}," Install and manage LOLLMS Applications from various sources (Zoos). ")],-1)),t("div",jt,[t("nav",Ut,[t("button",{onClick:s[0]||(s[0]=e=>b.value="repositories"),class:U(["tab-button",b.value==="repositories"?"active":"inactive"])}," Repositories ",2),t("button",{onClick:s[1]||(s[1]=e=>b.value="available_apps"),class:U(["tab-button",b.value==="available_apps"?"active":"inactive"])}," Available Apps ",2),t("button",{onClick:s[2]||(s[2]=e=>b.value="installed_apps"),class:U(["tab-button",b.value==="installed_apps"?"active":"inactive"])}," Installed Apps ",2)])]),b.value==="repositories"?(l(),a("section",Tt,[t("div",Dt,[s[11]||(s[11]=t("h3",{class:"text-xl font-semibold"},"App Zoo Repositories",-1)),t("button",{onClick:s[3]||(s[3]=e=>R.value=!R.value),class:"btn btn-primary"},c(R.value?"Cancel":"Add Repository"),1)]),v(Ie,{name:"form-fade"},{default:Ae(()=>[R.value?(l(),a("div",Rt,[t("form",{onSubmit:Ce(de,["prevent"]),class:"space-y-4"},[t("div",Lt,[t("div",null,[s[12]||(s[12]=t("label",{for:"repo-name",class:"block text-sm font-medium"},"Name",-1)),T(t("input",{id:"repo-name","onUpdate:modelValue":s[4]||(s[4]=e=>w.value.name=e),type:"text",class:"input-field mt-1",placeholder:"e.g., Official Zoo",required:""},null,512),[[E,w.value.name]])]),t("div",Zt,[s[13]||(s[13]=t("label",{for:"repo-url",class:"block text-sm font-medium"},"Git URL",-1)),T(t("input",{id:"repo-url","onUpdate:modelValue":s[5]||(s[5]=e=>w.value.url=e),type:"url",class:"input-field mt-1",placeholder:"https://github.com/ParisNeo/lollms_apps_zoo.git",required:""},null,512),[[E,w.value.url]])])]),t("div",Vt,[t("button",{type:"submit",class:"btn btn-primary",disabled:d.value==="add"},c(d.value==="add"?"Adding...":"Add Repository"),9,Bt)])],32)])):h("",!0)]),_:1}),N(z)?(l(),a("div",Nt,"Loading repositories...")):P.value.length===0?(l(),a("div",zt,s[14]||(s[14]=[t("p",null,"No App Zoo repositories have been added yet.",-1)]))):(l(),a("div",Ht,[(l(!0),a($,null,A(P.value,e=>(l(),a("div",{key:e.id,class:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm flex flex-col md:flex-row md:items-center justify-between gap-4"},[t("div",Ot,[t("p",Et,c(e.name),1),t("p",{class:"text-sm text-gray-500 dark:text-gray-400 font-mono truncate",title:e.url},c(e.url),9,Ft),t("p",Pt,"Last updated: "+c(ie(e.last_pulled_at)),1)]),t("div",qt,[t("button",{onClick:u=>ue(e),class:"btn btn-secondary btn-sm",disabled:d.value===e.id,title:"Refresh (git pull)"},[v(Se,{class:U(["w-4 h-4",{"animate-spin":d.value===e.id}])},null,8,["class"])],8,Gt),t("button",{onClick:u=>ce(e),class:"btn btn-danger btn-sm",disabled:d.value===e.id,title:"Delete"},[v(se,{class:"w-4 h-4"})],8,Jt)])]))),128))]))])):h("",!0),b.value==="available_apps"?(l(),a("section",Wt,[t("div",Kt,[t("div",Qt,[t("div",Xt,[T(t("input",{type:"text","onUpdate:modelValue":s[6]||(s[6]=e=>M.value=e),placeholder:"Search apps...",class:"input-field w-full pl-10"},null,512),[[E,M.value]]),s[15]||(s[15]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))]),t("div",Yt,[T(t("select",{"onUpdate:modelValue":s[7]||(s[7]=e=>L.value=e),class:"input-field"},s[16]||(s[16]=[t("option",{value:"All"},"All Statuses",-1),t("option",{value:"Installed"},"Installed",-1),t("option",{value:"Uninstalled"},"Uninstalled",-1)]),512),[[F,L.value]]),T(t("select",{"onUpdate:modelValue":s[8]||(s[8]=e=>B.value=e),class:"input-field"},[(l(!0),a($,null,A(re.value,e=>(l(),a("option",{key:e,value:e},c(e),9,es))),128))],512),[[F,B.value]])])]),t("div",ts,[T(t("select",{"onUpdate:modelValue":s[9]||(s[9]=e=>j.value=e),class:"input-field w-48"},[(l(),a($,null,A(ae,e=>t("option",{key:e.value,value:e.value},"Sort by "+c(e.label),9,ss)),64))],512),[[F,j.value]]),t("button",{onClick:s[10]||(s[10]=e=>Z.value=Z.value==="asc"?"desc":"asc"),class:"btn btn-secondary p-2"},[Z.value==="asc"?(l(),D(Fe,{key:0,class:"w-5 h-5"})):(l(),D(Je,{key:1,class:"w-5 h-5"}))])]),N(p)?(l(),a("div",ns,[(l(),a($,null,A(8,e=>v(St,{key:e})),64))])):N(S).length===0?(l(),a("div",ls,s[17]||(s[17]=[t("h4",{class:"font-semibold"},"No Apps Found",-1),t("p",{class:"text-sm text-gray-500"},"Please add and pull a repository to see available apps.",-1)]))):H.value.length===0?(l(),a("div",as,s[18]||(s[18]=[t("h4",{class:"font-semibold"},"No Matching Apps",-1),t("p",{class:"text-sm text-gray-500"},"Try adjusting your search or filter.",-1)]))):(l(),a("div",os,[q.value?(l(),a("div",rs,[(l(!0),a($,null,A(q.value,(e,u)=>(l(),a("div",{key:u},[t("h3",is,c(u),1),t("div",ds,[(l(!0),a($,null,A(e,g=>(l(),D(ne,{key:`${g.repository}/${g.folder_name}`,app:g,task:g.task,"is-starred":x.value.includes(g.name),onStar:m=>J(g.name),onInstall:m=>O(g),onDetails:m=>Q(g),onHelp:m=>X(g),onCancelInstall:Y},null,8,["app","task","is-starred","onStar","onInstall","onDetails","onHelp"]))),128))])]))),128))])):(l(),a("div",us,[(l(!0),a($,null,A(H.value,e=>(l(),D(ne,{key:`${e.repository}/${e.folder_name}`,app:e,task:e.task,"is-starred":x.value.includes(e.name),onStar:u=>J(e.name),onInstall:u=>O(e),onUpdate:u=>W(e),onDetails:u=>Q(e),onHelp:u=>X(e),onCancelInstall:Y},null,8,["app","task","is-starred","onStar","onInstall","onUpdate","onDetails","onHelp"]))),128))]))]))])])):h("",!0),b.value==="installed_apps"?(l(),a("section",cs,[N(C)?(l(),a("div",vs,"Loading installed apps...")):G.value.length===0?(l(),a("div",gs,s[19]||(s[19]=[t("h4",{class:"font-semibold"},"No Apps Installed",-1),t("p",{class:"text-sm text-gray-500"},'Go to the "Available Apps" tab to install an application.',-1)]))):(l(),a("div",ps,[(l(!0),a($,null,A(G.value,e=>(l(),a("div",{key:e.id,class:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm flex flex-col md:flex-row md:items-center justify-between gap-4"},[t("div",ms,[e.icon?(l(),a("img",{key:0,src:e.icon,class:"h-10 w-10 rounded-md flex-shrink-0 object-cover",alt:"App Icon"},null,8,fs)):h("",!0),t("div",ys,[t("p",{class:"font-semibold text-gray-900 dark:text-white truncate",title:e.name},c(e.name),9,hs),t("p",{class:"text-xs text-gray-500 dark:text-gray-400 font-mono truncate",title:`Port: ${e.port}`},"Port: "+c(e.port),9,bs)])]),t("div",ks,[e.update_available?(l(),a("button",{key:0,onClick:u=>W(e),class:"btn btn-warning btn-sm p-2",disabled:d.value===`update-${e.id}`,title:"Update App"},[v(Xe,{class:U(["w-5 h-5",{"animate-spin":d.value===`update-${e.id}`}])},null,8,["class"])],8,ws)):h("",!0),t("span",{class:U(["px-2 py-1 text-xs font-semibold rounded-full",{"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":e.status==="running","bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300":e.status==="stopped","bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300":e.status==="error","bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300":e.status==="installing"}])},c(e.status),3),e.status==="running"&&e.url?(l(),a("a",{key:1,href:e.url,target:"_blank",class:"btn btn-secondary btn-sm p-2",title:"Open App"},[v(ze,{class:"w-5 h-5"})],8,xs)):h("",!0),e.status!=="running"?(l(),a("button",{key:2,onClick:u=>K(e.id,"start"),class:"btn btn-success btn-sm p-2",disabled:d.value===`start-${e.id}`,title:"Start App"},[v(Te,{class:"w-5 h-5"})],8,_s)):h("",!0),e.status==="running"?(l(),a("button",{key:3,onClick:u=>K(e.id,"stop"),class:"btn btn-warning btn-sm p-2",disabled:d.value===`stop-${e.id}`,title:"Stop App"},[v(Ze,{class:"w-5 h-5"})],8,$s)):h("",!0),t("button",{onClick:u=>ve(e),class:"btn btn-danger btn-sm p-2",disabled:d.value===`uninstall-${e.id}`,title:"Uninstall App"},[v(se,{class:"w-5 h-5"})],8,As)])]))),128))]))])):h("",!0)]))}},Ms=k(Cs,[["__scopeId","data-v-42f27d1c"]]);export{Ms as default};
