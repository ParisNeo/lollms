import{Y as R,a as $,q as E,u as F,s as _,o as B,z as g,$ as N,c as i,b as o,g as t,k as v,bF as M,A as d,m as V,d as P,e as y,F as b,i as A,B as x}from"./index-E0GzCsZZ.js";import{_ as h}from"./McpCard-C4gB2NC5.js";const U={class:"space-y-10"},Y={class:"p-4 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 text-blue-800 dark:text-blue-200"},I={class:"flex"},L={class:"flex-shrink-0"},j={class:"ml-3"},q={class:"text-sm"},z={class:"flex justify-between items-center mb-4 flex-wrap gap-2"},G={class:"flex items-center gap-x-2"},H={key:0,class:"empty-state-card"},J={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"},K={key:0,class:"empty-state-card"},O={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"},Q={__name:"AppsSettings",setup(W){const l=$(),a=E(),k=F(),{userApps:w,systemApps:S}=_(l),{isAdmin:p}=_(k);B(()=>{l.fetchApps()});const c=g(()=>w.value.filter(s=>!s.is_installed).sort((s,e)=>s.name.localeCompare(e.name))),m=g(()=>S.value.filter(s=>!s.is_installed).sort((s,e)=>s.name.localeCompare(e.name)));function T(){a.openModal("serviceRegistration",{itemType:"app",ownerType:"user",onRegistered:l.fetchApps})}function C(){a.openModal("serviceRegistration",{itemType:"app",ownerType:"system",onRegistered:l.fetchApps})}function u(s){a.openModal("serviceRegistration",{item:s,itemType:"app",onRegistered:l.fetchApps})}async function f(s){await a.showConfirmation({title:`Delete '${s.name}'?`,message:"Are you sure you want to remove this registered Application?",confirmText:"Delete"})&&await l.deleteApp(s.id)}return(s,e)=>{const D=N("router-link");return o(),i("div",U,[t("div",Y,[t("div",I,[t("div",L,[v(M,{class:"h-5 w-5 text-blue-400","aria-hidden":"true"})]),t("div",j,[t("p",q,[e[1]||(e[1]=d("This section is for registering personal, external Apps by providing a URL. For locally installed services, please visit the ")),v(D,{to:"/admin?section=apps",class:"font-medium underline hover:text-blue-600 dark:hover:text-blue-300"},{default:V(()=>e[0]||(e[0]=[d("Admin Panel")])),_:1,__:[0]}),e[2]||(e[2]=d("."))])])])]),t("section",null,[t("div",z,[e[3]||(e[3]=t("h3",{class:"text-xl font-bold"},"Your Personal Apps",-1)),t("div",G,[t("button",{onClick:T,class:"btn btn-primary text-sm"},"+ Add Personal App"),y(p)?(o(),i("button",{key:0,onClick:C,class:"btn btn-secondary text-sm"},"+ Add System App")):P("",!0)])]),c.value.length===0?(o(),i("div",H,e[4]||(e[4]=[t("p",null,"You haven't added any personal Apps.",-1)]))):(o(),i("div",J,[(o(!0),i(b,null,A(c.value,n=>(o(),x(h,{key:n.id,mcp:n,"is-editable":"",onEdit:r=>u(n),onDelete:r=>f(n)},null,8,["mcp","onEdit","onDelete"]))),128))]))]),t("section",null,[e[6]||(e[6]=t("h3",{class:"text-xl font-bold my-4"},"System Apps",-1)),m.value.length===0?(o(),i("div",K,e[5]||(e[5]=[t("p",null,"No system-wide Apps available.",-1)]))):(o(),i("div",O,[(o(!0),i(b,null,A(m.value,n=>(o(),x(h,{key:n.id,mcp:n,"is-editable":y(p),onEdit:r=>u(n),onDelete:r=>f(n)},null,8,["mcp","is-editable","onEdit","onDelete"]))),128))]))])])}}},ee=R(Q,[["__scopeId","data-v-6f2de6c1"]]);export{ee as default};
