import{u as g,a as m,c as i,o as _,v as h,a2 as c,$ as p,b as d,h as a,e as u,p as x,d as r}from"./index-BX8JWUVq.js";import{a as y,_ as k}from"./DmWindow-Cfmj4tbC.js";const b={class:"flex h-full bg-white dark:bg-gray-900 overflow-hidden"},w={class:"w-80 flex-shrink-0 border-r border-gray-200 dark:border-gray-700 h-full overflow-hidden"},S={class:"flex-1 min-w-0 h-full flex flex-col relative"},C={key:1,class:"h-full flex flex-col items-center justify-center text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800/50"},M={class:"p-6 rounded-full bg-gray-100 dark:bg-gray-700 mb-4"},I={__name:"MessagesView",setup(U){const t=g(),o=m(),s=i(()=>t.activeConversationUserId),n=i(()=>s.value?t.activeConversations[s.value]:null);function v(l){const e=t.conversations.find(f=>f.partner_user_id===l);e&&t.openConversation({id:e.partner_user_id,username:e.partner_username,icon:e.partner_icon})}return _(()=>{o.setPageTitle({title:"Messages",icon:h(c)}),t.fetchConversations()}),p(()=>{o.setPageTitle({title:""})}),(l,e)=>(r(),d("div",b,[a("div",w,[u(y,{"model-value":s.value,"onUpdate:modelValue":v},null,8,["model-value"])]),a("div",S,[n.value?(r(),x(k,{key:0,conversation:n.value,class:"h-full"},null,8,["conversation"])):(r(),d("div",C,[a("div",M,[u(c,{class:"w-12 h-12 text-gray-400 dark:text-gray-500"})]),e[0]||(e[0]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-200"},"Your Messages",-1)),e[1]||(e[1]=a("p",{class:"mt-1 text-sm"},"Select a conversation from the list to start chatting.",-1))]))])]))}};export{I as default};
