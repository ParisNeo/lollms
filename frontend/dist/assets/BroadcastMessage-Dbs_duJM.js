import{c1 as p,a as f,M as i,b as x,d as v,h as e,Q as d,c5 as n,ad as b,t as g,V as y}from"./index-BX8JWUVq.js";const k={class:"bg-white dark:bg-gray-800 shadow-md rounded-lg p-6"},B={class:"mb-4"},M={class:"flex items-center space-x-4"},S={class:"flex items-center cursor-pointer"},w={class:"flex items-center cursor-pointer"},T={class:"flex justify-end"},_=["disabled"],V={__name:"BroadcastMessage",setup(D){const u=p(),r=f(),a=i(""),l=i(!1),s=i("notification");async function c(){if(a.value.trim()){l.value=!0;try{s.value==="notification"?(await u.broadcastMessage(a.value),r.addNotification("Broadcast notification sent!","success")):(await y.post("/api/dm/broadcast",{content:a.value}),r.addNotification("DM broadcast task started. Check Tasks for progress.","success")),a.value=""}catch{r.addNotification("Failed to send broadcast.","error")}finally{l.value=!1}}}return(m,t)=>(v(),x("div",k,[t[6]||(t[6]=e("h3",{class:"text-xl font-semibold mb-4 text-gray-800 dark:text-gray-100"},"Broadcast Message",-1)),t[7]||(t[7]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-4"}," Send a message to all active users. ",-1)),e("div",B,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Broadcast Type",-1)),e("div",M,[e("label",S,[d(e("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=o=>s.value=o),value:"notification",class:"form-radio text-blue-600"},null,512),[[n,s.value]]),t[3]||(t[3]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"System Notification (Toast)",-1))]),e("label",w,[d(e("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=o=>s.value=o),value:"dm",class:"form-radio text-blue-600"},null,512),[[n,s.value]]),t[4]||(t[4]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Direct Message (DM)",-1))])])]),d(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>a.value=o),rows:"4",class:"input-field w-full mb-4",placeholder:"Type your message here..."},null,512),[[b,a.value]]),e("div",T,[e("button",{onClick:c,disabled:l.value||!a.value.trim(),class:"btn btn-primary"},g(l.value?"Sending...":"Broadcast"),9,_)])]))}};export{V as default};
