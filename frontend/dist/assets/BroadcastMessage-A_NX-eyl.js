import{W as m,G as f,r as i,c as g,b as r,g as e,h as b,j as y,y as n,J as v,X as p,Y as h,t as x,f as w}from"./index-BxvNG1MB.js";const _={class:"bg-white dark:bg-gray-800 shadow-md rounded-lg"},k={class:"space-y-4"},B={class:"mt-8 pt-5 border-t border-gray-200 dark:border-gray-700"},S={class:"flex justify-end"},M=["disabled"],A={__name:"BroadcastMessage",setup(N){const l=m(),o=f(),a=i(""),t=i(!1);async function d(){if(!(!a.value.trim()||t.value||!await o.showConfirmation({title:"Confirm Broadcast",message:"This will send a notification to all currently connected users. Are you sure?",confirmText:"Broadcast"}))){t.value=!0;try{await l.broadcastMessage(a.value),o.addNotification("Broadcast sent successfully!","success"),a.value=""}catch{}finally{t.value=!1}}}return(c,s)=>(r(),g("div",_,[s[2]||(s[2]=e("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"text-xl font-semibold leading-6 text-gray-900 dark:text-white"}," Broadcast Notification "),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Send a persistent notification message to all online users. It will remain visible until they close it. ")],-1)),e("form",{onSubmit:w(d,["prevent"]),class:"p-6"},[e("div",k,[e("div",null,[s[1]||(s[1]=e("label",{for:"broadcast-message",class:"block text-sm font-medium"},"Message",-1)),b(e("textarea",{id:"broadcast-message","onUpdate:modelValue":s[0]||(s[0]=u=>a.value=u),rows:"4",class:"input-field mt-1",placeholder:"Enter your notification message here...",required:""},null,512),[[y,a.value]])])]),e("div",B,[e("div",S,[e("button",{type:"submit",class:"btn btn-primary",disabled:t.value||!a.value.trim()},[t.value?(r(),n(p,{key:0,class:"w-5 h-5 mr-2"})):(r(),n(h,{key:1,class:"w-5 h-5 mr-2"})),v(" "+x(t.value?"Sending...":"Send Broadcast"),1)],8,M)])])],32)]))}};export{A as default};
