import{u as S,k as w,s as V,r as p,o as A,l as h,b as s,e as l,f as t,w as I,F as g,m as _,d as x,h as k,t as i,n as F,p as N}from"./index-DZGxGMYB.js";const C={class:"bg-white dark:bg-gray-800 shadow-md rounded-lg"},M={class:"border-t border-gray-200 dark:border-gray-700"},U={key:0},D=["for"],E=["id","onUpdate:modelValue"],B=["value"],J={class:"mt-2 text-sm text-gray-500 dark:text-gray-400"},O={key:1,class:"relative flex items-start"},G={class:"flex h-6 items-center"},L=["id","onUpdate:modelValue"],j={class:"ml-3 text-sm leading-6"},R=["for"],T={class:"text-gray-500 dark:text-gray-400"},z={class:"flex justify-end pt-4"},P=["disabled"],q={key:0},H={key:1},W={__name:"GeneralSettings",setup(K){const v=S();w();const{user:u}=V(v),c=[{key:"auto_title",type:"toggle",label:"Automatic Discussion Title",description:"If enabled, a title will be automatically generated for new discussions.",defaultValue:!0},{key:"fun_mode",type:"toggle",label:"Fun mode",description:"If activated, the AI will be more funny.",defaultValue:!0},{key:"chat_active",type:"toggle",label:"Activate chat",description:"If activated, the user will be able to communicate with other users via DMs.",defaultValue:!0},{key:"user_ui_level",type:"select",label:"UI Level",description:"Adjust the complexity of the user interface. More advanced levels show more options.",defaultValue:0,options:[{value:0,text:"Beginner"},{value:1,text:"Novice"},{value:2,text:"Intermediate"},{value:3,text:"Advanced"},{value:4,text:"Expert"}]},{key:"ai_response_language",type:"select",label:"AI Response language",description:"Changes the output language of the AI messages.",defaultValue:0,options:[{value:"auto",text:"Auto"},{value:"en",text:"English"},{value:"fr",text:"French"},{value:"it",text:"Italian"},{value:"es",text:"Espagnol"}]}],a=p({}),d=p(!1),y=p(!1);let f={};const m=()=>{if(u.value){const o={};console.log(c),console.log(u.value),c.forEach(n=>{o[n.key]=u.value[n.key]??n.defaultValue}),a.value=o,f=JSON.parse(JSON.stringify(a.value)),y.value=!1}};A(m),h(u,m,{deep:!0}),h(a,o=>{y.value=JSON.stringify(o)!==JSON.stringify(f)},{deep:!0});async function b(){d.value=!0;try{await v.updateUserPreferences(a.value)}catch(o){console.error("Failed to save settings:",o)}finally{d.value=!1}}return(o,n)=>(l(),s("div",C,[n[0]||(n[0]=t("div",{class:"px-4 py-5 sm:p-6"},[t("h2",{class:"text-xl font-bold leading-6 text-gray-900 dark:text-white"},"General Settings"),t("p",{class:"mt-1 max-w-2xl text-sm text-gray-500 dark:text-gray-400"}," Customize your user interface experience and general application behavior. ")],-1)),t("div",M,[t("form",{onSubmit:I(b,["prevent"]),class:"p-4 sm:p-6 space-y-8"},[(l(),s(g,null,_(c,e=>t("div",{key:e.key},[e.type==="select"?(l(),s("div",U,[t("label",{for:e.key,class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},i(e.label),9,D),k(t("select",{id:e.key,"onUpdate:modelValue":r=>a.value[e.key]=r,class:"input-field mt-1"},[(l(!0),s(g,null,_(e.options,r=>(l(),s("option",{key:r.value,value:r.value},i(r.text),9,B))),128))],8,E),[[F,a.value[e.key],void 0,{number:!0}]]),t("p",J,i(e.description),1)])):x("",!0),e.type==="toggle"?(l(),s("div",O,[t("div",G,[k(t("input",{id:e.key,"onUpdate:modelValue":r=>a.value[e.key]=r,type:"checkbox",class:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-blue-600 focus:ring-blue-600 dark:focus:ring-blue-600 dark:ring-offset-gray-800"},null,8,L),[[N,a.value[e.key]]])]),t("div",j,[t("label",{for:e.key,class:"font-medium text-gray-900 dark:text-gray-300"},i(e.label),9,R),t("p",T,i(e.description),1)])])):x("",!0)])),64)),t("div",z,[t("button",{type:"submit",class:"btn btn-primary",disabled:d.value||!y.value},[d.value?(l(),s("span",q,"Saving...")):(l(),s("span",H,"Save General Settings"))],8,P)])],32)])]))}};export{W as default};
