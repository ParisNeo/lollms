import{a0 as T,a as D,q as R,u as $,s as g,o as E,x as v,a2 as B,c as i,b as s,g as t,k as _,H as F,A as d,m as N,d as V,e as y,F as b,i as x,B as h}from"./index-CcOm1HS3.js";import{_ as M}from"./McpCard-DpvSKa_D.js";const U={class:"space-y-10"},I={class:"p-4 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 text-blue-800 dark:text-blue-200"},L={class:"flex"},Y={class:"flex-shrink-0"},j={class:"ml-3"},q={class:"text-sm"},H={class:"flex justify-between items-center mb-4 flex-wrap gap-2"},z={class:"flex items-center gap-x-2"},G={key:0,class:"empty-state-card"},J={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"},K={key:0,class:"empty-state-card"},O={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"},Q={__name:"McpsSettings",setup(W){const a=D(),l=R(),k=$(),{userMcps:C,systemMcps:w}=g(a),{isAdmin:c}=g(k);E(()=>{a.fetchMcps()});const m=v(()=>C.value.sort((o,e)=>o.name.localeCompare(e.name))),u=v(()=>w.value.sort((o,e)=>o.name.localeCompare(e.name)));function S(){l.openModal("serviceRegistration",{itemType:"mcp",ownerType:"user",onRegistered:a.fetchMcps})}function P(){l.openModal("serviceRegistration",{itemType:"mcp",ownerType:"system",onRegistered:a.fetchMcps})}function p(o){l.openModal("serviceRegistration",{item:o,itemType:"mcp",onRegistered:a.fetchMcps})}async function f(o){await l.showConfirmation({title:`Delete '${o.name}'?`,message:"Are you sure you want to remove this registered MCP?",confirmText:"Delete"})&&await a.deleteMcp(o.id)}return(o,e)=>{const A=B("router-link");return s(),i("div",U,[t("div",I,[t("div",L,[t("div",Y,[_(F,{class:"h-5 w-5 text-blue-400","aria-hidden":"true"})]),t("div",j,[t("p",q,[e[1]||(e[1]=d("This section is for registering personal, external MCPs by providing a URL. For locally installed services, please visit the ")),_(A,{to:"/admin?section=mcps",class:"font-medium underline hover:text-blue-600 dark:hover:text-blue-300"},{default:N(()=>e[0]||(e[0]=[d("Admin Panel")])),_:1,__:[0]}),e[2]||(e[2]=d("."))])])])]),t("section",null,[t("div",H,[e[3]||(e[3]=t("h3",{class:"text-xl font-bold"},"Your Personal MCPs",-1)),t("div",z,[t("button",{onClick:S,class:"btn btn-primary text-sm"},"+ Add Personal MCP"),y(c)?(s(),i("button",{key:0,onClick:P,class:"btn btn-secondary text-sm"},"+ Add System MCP")):V("",!0)])]),m.value.length===0?(s(),i("div",G,e[4]||(e[4]=[t("p",null,"You haven't added any personal MCPs.",-1)]))):(s(),i("div",J,[(s(!0),i(b,null,x(m.value,n=>(s(),h(M,{key:n.id,mcp:n,"is-editable":"",onEdit:r=>p(n),onDelete:r=>f(n)},null,8,["mcp","onEdit","onDelete"]))),128))]))]),t("section",null,[e[6]||(e[6]=t("h3",{class:"text-xl font-bold my-4"},"System MCPs",-1)),u.value.length===0?(s(),i("div",K,e[5]||(e[5]=[t("p",null,"No system-wide MCPs available.",-1)]))):(s(),i("div",O,[(s(!0),i(b,null,x(u.value,n=>(s(),h(M,{key:n.id,mcp:n,"is-editable":y(c),onEdit:r=>p(n),onDelete:r=>f(n)},null,8,["mcp","is-editable","onEdit","onDelete"]))),128))]))])])}}},ee=T(Q,[["__scopeId","data-v-738c79f1"]]);export{ee as default};
