import{b_ as S,a as $,M as _,o as B,a5 as N,$ as T,c as I,b as n,d as s,h as e,e as d,n as j,z as D,l as E,F as g,k as h,g as V,t as m,K as A,b$ as G,p as L,O,c0 as z,bZ as F}from"./index-BX8JWUVq.js";const U={class:"space-y-6"},K={class:"flex justify-between items-center"},R={class:"flex items-center gap-2"},Y={key:0,class:"text-center p-4"},Z={key:1,class:"text-center p-6 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},q={key:2,class:"space-y-3"},H=["onClick"],J={class:"font-semibold"},Q={key:0,class:"border border-t-0 dark:border-gray-700/50 rounded-b-lg"},W={class:"flex items-center gap-3 flex-grow truncate"},X=["src"],ee={class:"flex-grow truncate"},te={class:"font-medium truncate"},se={class:"text-xs text-gray-500 truncate"},ne={class:"flex items-center gap-x-2 flex-shrink-0"},oe=["onClick"],ae=["onClick"],ie={__name:"PromptsSettings",setup(re){const i=S(),a=$(),{on:y,off:k}=N(),c=_({}),u=_(null);B(()=>{i.fetchPrompts(),y("task:completed",f)}),T(()=>{k("task:completed",f)});const p=I(()=>i.userPromptsByCategory);function v(t){c.value[t]=!c.value[t]}function x(){a.openModal("editPrompt",{prompt:{},isSystemPrompt:!1})}function P(){a.openModal("generatePrompt",{isSystemPrompt:!1,onTaskSubmitted:t=>{u.value=t}})}function f(t){t&&t.id===u.value&&(u.value=null,a.isModalOpen("tasksManager")&&a.closeModal("tasksManager"),t.status==="completed"&&t.result?b(t.result):a.addNotification("Prompt generation did not complete successfully.","warning"))}function b(t){a.openModal("editPrompt",{prompt:{...t},isSystemPrompt:!1})}async function w(t){await a.showConfirmation({title:`Delete Prompt '${t.name}'?`,message:"This action cannot be undone.",confirmText:"Delete"})&&await i.deletePrompt(t.id)}return(t,r)=>(s(),n("div",U,[e("div",K,[r[1]||(r[1]=e("div",null,[e("h2",{class:"text-xl font-bold"},"My Prompts"),e("p",{class:"text-sm text-gray-500"},"Manage your personal library of reusable prompts.")],-1)),e("div",R,[e("button",{onClick:P,class:"btn btn-secondary"},[d(D,{class:"w-4 h-4 mr-2"}),r[0]||(r[0]=j(" Generate with AI "))]),e("button",{onClick:x,class:"btn btn-primary"},"Add New Prompt")])]),E(i).isLoading?(s(),n("div",Y,"Loading prompts...")):Object.keys(p.value).length===0?(s(),n("div",Z,r[2]||(r[2]=[e("p",null,"You haven't created any prompts yet.",-1)]))):(s(),n("div",q,[(s(!0),n(g,null,h(p.value,(C,l)=>(s(),n("div",{key:l},[e("button",{onClick:o=>v(l),class:"w-full flex justify-between items-center p-2 bg-gray-100 dark:bg-gray-700/50 rounded-t-lg"},[e("h3",J,m(l),1),d(G,{class:A(["w-5 h-5 transition-transform",{"rotate-90":c.value[l]}])},null,8,["class"])],8,H),c.value[l]?(s(),n("div",Q,[(s(!0),n(g,null,h(C,o=>(s(),n("div",{key:o.id,class:"p-3 flex items-center justify-between border-t dark:border-gray-700/50 first:border-t-0"},[e("div",W,[o.icon?(s(),n("img",{key:0,src:o.icon,class:"h-8 w-8 rounded-md flex-shrink-0 object-cover",alt:"Icon"},null,8,X)):(s(),L(O,{key:1,class:"h-8 w-8 flex-shrink-0 text-gray-400 p-1"})),e("div",ee,[e("p",te,m(o.name),1),e("p",se,m(o.description||"No description"),1)])]),e("div",ne,[e("button",{onClick:M=>b(o),class:"btn btn-secondary btn-sm p-2",title:"Edit"},[d(z,{class:"w-4 h-4"})],8,oe),e("button",{onClick:M=>w(o),class:"btn btn-danger btn-sm p-2",title:"Delete"},[d(F,{class:"w-4 h-4"})],8,ae)])]))),128))])):V("",!0)]))),128))]))]))}};export{ie as default};
