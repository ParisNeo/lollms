import{B as A,q as T,a as $,u as E,s as g,r as B,o as F,c as _,D as N,b as l,e as n,f as t,h as b,E as V,G as c,C as U,d as j,x,F as h,z as k,l as M,t as I}from"./index-De82z79j.js";import{_ as C}from"./McpCard-CQUL7mBo.js";const L={class:"space-y-10"},Y={class:"p-4 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 text-blue-800 dark:text-blue-200"},q={class:"flex"},z={class:"flex-shrink-0"},G={class:"ml-3"},H={class:"text-sm"},J={class:"flex justify-between items-center mb-4 flex-wrap gap-2"},K={class:"flex items-center gap-x-2"},O={key:0,class:"empty-state-card"},Q={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"},W={class:"flex justify-between items-center my-4"},X=["disabled"],Z={key:0,class:"empty-state-card"},ee={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"},te={__name:"McpsSettings",setup(se){const a=T(),i=$(),S=E(),{userMcps:u}=g(a),{isAdmin:m}=g(S),r=B(!1);F(()=>{a.fetchMcps()});const p=_(()=>u.value.filter(s=>s.type==="user").sort((s,e)=>s.name.localeCompare(e.name))),v=_(()=>u.value.filter(s=>s.type==="system").sort((s,e)=>s.name.localeCompare(e.name)));function w(){i.openModal("serviceRegistration",{itemType:"mcp",ownerType:"user"})}function D(){i.openModal("serviceRegistration",{itemType:"mcp",ownerType:"system"})}function f(s){i.openModal("serviceRegistration",{item:s,itemType:"mcp"})}async function P(){r.value=!0;try{await a.triggerMcpReload()}finally{r.value=!1}}async function y(s){await i.showConfirmation({title:`Delete '${s.name}'?`,message:"Are you sure you want to remove this registered MCP server?",confirmText:"Delete"})&&await a.deleteMcp(s.id)}return(s,e)=>{const R=N("router-link");return n(),l("div",L,[t("div",Y,[t("div",q,[t("div",z,[b(V,{class:"h-5 w-5 text-blue-400","aria-hidden":"true"})]),t("div",G,[t("p",H,[e[2]||(e[2]=c("This section is for registering personal, external MCPs by providing a URL. For locally installed MCPs, please visit the ")),b(R,{to:"/admin",class:"font-medium underline hover:text-blue-600 dark:hover:text-blue-300"},{default:U(()=>e[1]||(e[1]=[c("Admin Panel")])),_:1,__:[1]}),e[3]||(e[3]=c("."))])])])]),t("section",null,[t("div",J,[e[4]||(e[4]=t("h3",{class:"text-xl font-bold"},"Your Personal MCPs",-1)),t("div",K,[t("button",{onClick:w,class:"btn btn-primary text-sm"},"+ Add Personal Server"),x(m)?(n(),l("button",{key:0,onClick:D,class:"btn btn-secondary text-sm"},"+ Add System Server")):j("",!0)])]),p.value.length===0?(n(),l("div",O,e[5]||(e[5]=[t("p",null,"You haven't added any personal MCPs.",-1)]))):(n(),l("div",Q,[(n(!0),l(h,null,k(p.value,o=>(n(),M(C,{key:o.id,mcp:o,"is-editable":"",onEdit:d=>f(o),onDelete:d=>y(o)},null,8,["mcp","onEdit","onDelete"]))),128))]))]),t("section",null,[t("div",W,[e[6]||(e[6]=t("h3",{class:"text-xl font-bold"},"System MCPs",-1)),t("button",{onClick:e[0]||(e[0]=o=>P()),class:"btn btn-secondary text-sm",disabled:r.value},I(r.value?"Reloading...":"Reload All"),9,X)]),v.value.length===0?(n(),l("div",Z,e[7]||(e[7]=[t("p",null,"No system-wide MCPs available.",-1)]))):(n(),l("div",ee,[(n(!0),l(h,null,k(v.value,o=>(n(),M(C,{key:o.id,mcp:o,"is-editable":x(m),onEdit:d=>f(o),onDelete:d=>y(o)},null,8,["mcp","is-editable","onEdit","onDelete"]))),128))]))])])}}},le=A(te,[["__scopeId","data-v-7284ccd5"]]);export{le as default};
