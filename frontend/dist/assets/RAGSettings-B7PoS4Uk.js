import{u as b,s as y,r as p,o as h,g as d,c as g,b as _,d as a,e as t,v as u,i as x,l as c,h as k,t as S,w as G}from"./index-DdnhlLtp.js";const R={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},M={class:"space-y-4"},A={for:"useGraph",class:"flex items-center cursor-pointer"},T={key:0},U={class:"text-right pt-4"},V=["disabled"],L={__name:"RAGSettings",setup(w){const i=b(),{user:r}=y(i),s=p({rag_top_k:10,max_rag_len:8e4,rag_n_hops:0,rag_min_sim_percent:50,rag_use_graph:!1,rag_graph_response_type:"chunks_summary"}),n=p(!1),o=p(!1),m=()=>{r.value&&(s.value={rag_top_k:r.value.rag_top_k??10,max_rag_len:r.value.max_rag_len??8e4,rag_n_hops:r.value.rag_n_hops??0,rag_min_sim_percent:r.value.rag_min_sim_percent??50,rag_use_graph:r.value.rag_use_graph||!1,rag_graph_response_type:r.value.rag_graph_response_type||"chunks_summary"},o.value=!1)};h(m),d(r,m,{deep:!0}),d(s,()=>{o.value=!0},{deep:!0});async function v(){n.value=!0;try{await i.updateUserPreferences(s.value),o.value=!1}catch{}finally{n.value=!1}}return(f,e)=>(_(),g("section",null,[e[13]||(e[13]=a("h4",{class:"text-lg font-semibold mb-4 border-b dark:border-gray-600 pb-2"},"RAG Parameters",-1)),a("form",{onSubmit:G(v,["prevent"]),class:"space-y-6 max-w-2xl"},[a("div",R,[a("div",null,[e[6]||(e[6]=a("label",{for:"ragTopK",class:"block text-sm font-medium"},"RAG Top K",-1)),t(a("input",{type:"number",id:"ragTopK","onUpdate:modelValue":e[0]||(e[0]=l=>s.value.rag_top_k=l),class:"input-field mt-1",step:"1",min:"1",placeholder:"e.g., 10"},null,512),[[u,s.value.rag_top_k,void 0,{number:!0}]])]),a("div",null,[e[7]||(e[7]=a("label",{for:"ragMaxLen",class:"block text-sm font-medium"},"Maximum RAG Length (chars)",-1)),t(a("input",{type:"number",id:"ragMaxLen","onUpdate:modelValue":e[1]||(e[1]=l=>s.value.max_rag_len=l),class:"input-field mt-1",step:"1",min:"1",placeholder:"e.g., 80000"},null,512),[[u,s.value.max_rag_len,void 0,{number:!0}]])]),a("div",null,[e[8]||(e[8]=a("label",{for:"ragHops",class:"block text-sm font-medium"},"Maximum RAG Hops",-1)),t(a("input",{type:"number",id:"ragHops","onUpdate:modelValue":e[2]||(e[2]=l=>s.value.rag_n_hops=l),class:"input-field mt-1",step:"1",min:"0",placeholder:"e.g., 0"},null,512),[[u,s.value.rag_n_hops,void 0,{number:!0}]])]),a("div",null,[e[9]||(e[9]=a("label",{for:"ragMinSim",class:"block text-sm font-medium"},"RAG Min Similarity %",-1)),t(a("input",{type:"number",id:"ragMinSim","onUpdate:modelValue":e[3]||(e[3]=l=>s.value.rag_min_sim_percent=l),class:"input-field mt-1",step:"1",min:"1",max:"100",placeholder:"e.g., 50"},null,512),[[u,s.value.rag_min_sim_percent,void 0,{number:!0}]])])]),a("div",M,[a("label",A,[t(a("input",{type:"checkbox",id:"useGraph","onUpdate:modelValue":e[4]||(e[4]=l=>s.value.rag_use_graph=l),class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[c,s.value.rag_use_graph]]),e[10]||(e[10]=a("span",{class:"ml-2 text-sm"},"Use Graph for RAG (if available)",-1))]),s.value.rag_use_graph?(_(),g("div",T,[e[12]||(e[12]=a("label",{for:"graphResponseType",class:"block text-sm font-medium mb-1"},"Graph Response Type",-1)),t(a("select",{id:"graphResponseType","onUpdate:modelValue":e[5]||(e[5]=l=>s.value.rag_graph_response_type=l),class:"input-field"},e[11]||(e[11]=[a("option",{value:"chunks_summary"},"Chunks Summary",-1),a("option",{value:"graph_only"},"Graph Only",-1),a("option",{value:"full"},"Full Response",-1)]),512),[[k,s.value.rag_graph_response_type]])])):x("",!0)]),a("div",U,[a("button",{type:"submit",class:"btn btn-primary",disabled:n.value||!o.value},S(n.value?"Saving...":"Save RAG Settings"),9,V)])],32)]))}};export{L as default};
