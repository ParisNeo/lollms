import{f as b,a as x,s as h,r as m,y as M,c as l,b as d,d as e,w as _,e as v,v as p,t as u,i as A,F as k,k as w}from"./index-BkPQONPx.js";const C={class:"space-y-8"},S={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},D={class:"text-right"},P=["disabled"],N={class:"max-h-80 overflow-y-auto border dark:border-gray-600 rounded p-2 space-y-1"},T={key:0,class:"italic text-sm text-gray-500 p-2"},V={class:"font-medium text-gray-800 dark:text-gray-100"},q={class:"text-xs text-gray-500 dark:text-gray-400 font-mono"},B={class:"space-x-2"},F=["onClick"],j={__name:"MCPSettings",setup(U){const i=b(),c=x(),{userMcps:f}=h(i),t=m({alias:"",address:""}),o=m(!1),n=M(()=>[...f.value].sort((r,s)=>r.alias.localeCompare(s.alias)));async function g(){if(!t.value.alias||!t.value.address){c.addNotification("Alias and Address are required.","warning");return}o.value=!0;try{await i.addMcp(t.value),t.value.alias="",t.value.address=""}catch{}finally{o.value=!1}}async function y(r){await c.showConfirmation({title:`Delete '${r.alias}'?`,message:`Are you sure you want to remove the MCP server at ${r.address}? This cannot be undone.`,confirmText:"Delete"})&&await i.deleteMcp(r.id)}return(r,s)=>(d(),l("div",C,[e("section",null,[s[4]||(s[4]=e("h4",{class:"text-lg font-semibold mb-4 border-b dark:border-gray-600 pb-2"},"Add MCP Server",-1)),e("form",{onSubmit:_(g,["prevent"]),class:"space-y-4 max-w-xl"},[e("div",S,[e("div",null,[s[2]||(s[2]=e("label",{for:"mcpAlias",class:"block text-sm font-medium"},"Alias",-1)),v(e("input",{type:"text",id:"mcpAlias","onUpdate:modelValue":s[0]||(s[0]=a=>t.value.alias=a),class:"input-field mt-1",placeholder:"e.g., My Local Server",required:""},null,512),[[p,t.value.alias]])]),e("div",null,[s[3]||(s[3]=e("label",{for:"mcpAddress",class:"block text-sm font-medium"},"Address",-1)),v(e("input",{type:"url",id:"mcpAddress","onUpdate:modelValue":s[1]||(s[1]=a=>t.value.address=a),class:"input-field mt-1",placeholder:"http://127.0.0.1:9602",required:""},null,512),[[p,t.value.address]])])]),e("div",D,[e("button",{type:"submit",class:"btn btn-primary",disabled:o.value},u(o.value?"Adding...":"Add MCP Server"),9,P)])],32)]),e("section",null,[s[5]||(s[5]=e("h4",{class:"text-lg font-semibold mb-2"},"Configured MCP Servers",-1)),e("div",N,[!n.value||n.value.length===0?(d(),l("p",T," No MCP servers configured. Add one using the form above. ")):A("",!0),(d(!0),l(k,null,w(n.value,a=>(d(),l("div",{key:a.id,class:"flex justify-between items-center py-1.5 px-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-sm"},[e("div",null,[e("strong",V,u(a.alias),1),e("p",q,u(a.address),1)]),e("div",B,[e("button",{onClick:$=>y(a),class:"text-red-500 hover:text-red-700",title:"Delete MCP Server"},"Delete",8,F)])]))),128))])])]))}};export{j as default};
