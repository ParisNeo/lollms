import{bG as w,c as a,b as s,g as n,n as c,d as u,k as l,cj as y,t as r,f as N,B as M,cd as p,ce as j,cf as A,A as g,E as L,Y as k,ca as m,F as C,ck as b,cl as I,bQ as S,cg as D}from"./index-B5k75RbP.js";import{_ as x,I as E}from"./AppCardSkeleton-DAqyCL8_.js";const T={},f={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function v(t,d){return s(),a("svg",f,d[0]||(d[0]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-.778.099-1.533.284-2.253"},null,-1)]))}const U=w(T,[["render",v]]),z={},h={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function $(t,d){return s(),a("svg",h,d[0]||(d[0]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1),n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"},null,-1)]))}const O=w(z,[["render",$]]),Q={__name:"IconWrenchScrewdriver",props:{class:{type:String,default:"w-6 h-6"}},setup(t){return(d,i)=>(s(),a("svg",{xmlns:"http://www.w3.org/2000/svg",class:c(t.class),fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},i[0]||(i[0]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.572L16.5 21.75l-.398-1.178a3.375 3.375 0 00-2.3-2.3L12.75 18l1.178-.398a3.375 3.375 0 002.3-2.3L16.5 14.25l.398 1.178a3.375 3.375 0 002.3 2.3l1.178.398-1.178.398a3.375 3.375 0 00-2.3 2.3z"},null,-1)]),2))}},Y={key:0,class:"absolute inset-0 bg-gray-500/30 dark:bg-gray-900/50 flex items-center justify-center rounded-lg z-10",title:"This is a legacy scripted personality and is not compatible with this version of the application."},B={class:"card-header"},Z=["src","alt"],R={class:"flex-grow min-w-0"},V={class:"flex justify-between items-start"},F=["title"],G={class:"card-tags"},W={key:0,class:"tag installed-tag-broken"},P={key:2,class:"tag registered-tag"},H={key:3,class:"tag"},J={key:4,class:"tag"},X={key:5,class:"tag"},q={class:"card-body"},K=["title"],_={key:1,class:"px-4 pb-2 text-xs text-gray-400 dark:text-gray-500 flex items-center gap-1"},tt=["title"],et={class:"card-footer"},st={class:"flex-1 min-w-0"},at={key:1,class:"flex gap-2 w-full"},nt={key:0,class:"flex gap-2 w-full"},it=["disabled"],lt={key:4,class:"flex items-center gap-2"},ot=["href"],ut={class:"flex-shrink-0 flex gap-1"},rt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0idy02IGgtNiI+CiAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMy4zNzUgMS41YTguMjc1IDguMjc1IDAgMCAwLTguMjc1IDguMjc1YzAgNC4xMjIgMi41NjEgNy42MyA2LjA3NyA4LjgzNWEuNzUuNzUgMCAwIDAgLjc2NC0uMTExYy4xMjUtLjA3OC4yNTgtLjE5LjM5OS0uMzE0bC4wMDQtLjAwNSNhLjQ5OC40OTggMCAwIDEgLjYxMy0uMDIzbDIuNDQyIDEuMTM4YTEuNSAxLjUgMCAwIDAgMS42OTktLjkxM2w0LjQxMy05LjU3N2E4LjI1IDE4LjI1IDAgMCAwLTkuOTU0LTkuOTU0bC05LjU3NyA0LjQxM2ExLjUgMS41IDAgMCAwLS45MTMgMS42OTlsMS4xMzggMi40NDJhLjQ5OC40OTggMCAwIDEgLS4wMjMuNjEzbC0uMDA1LjAwNC0uMzE0LjM5OWEuNzUuNzUgMCAwIDAtLjExMS43NjRBMTEuMjIgMTEuMjIgMCAwIDEtMy4zNzUgMTguNWMtNS4wNzIgMC05LjE4OC00LjExNi05LjE4OC05LjE4OGE5LjE4OCA5LjE4OCAwIDAgMSAxLjYxNy01LjE2MmMuMjQ2LS40Mi4wMzgtLjkxOC0uMzY4LTEuMTU3bC0xLjQyNS0uODM4YTEuNSAxLjUgMCAwIDAtMi4wODYuNDlMMy4zNzUgMS41em00LjQ4OCAxMy4wMjNhLjUuNSAwIDAgMS0uMzU0LS4xNDdsLTEuNTQyLTEuNTQxYS41LjUgMCAxIDEgLjcwOC0uNzA4bDEuNTQxIDEuNTQyYS41LjUgMCAwIDEgLS4zNTQuODU0em0yLjk0LTIuOTRhLjUuNSAwIDAgMS0uMzU0LS4xNDZsLTEuNTQxLTEuNTQyYS41LjUgMCAwIDEgLjcwNy0uNzA4bDEuNTQyIDEuNTQxYS41LjUgMCAwIDEgLS4zNTQuODU0em0tMi45NC0yLjk0YS41LjUgMCAwIDEtLjM1My0uMTQ2bC0xLjU0Mi0xLjU0MmEuNS41IDAgMCAxIC43MDctLjcwN2wxLjU0MiAxLjU0MWEuNS41IDAgMCAxLS4zNTQuODUzem0yLjk0LTIuOTRhLjUuNSAwIDAgMS0uMzU0LS4xNDZsLTEuNTQxLTEuNTQyYS41LjUgMCAwIDEgLjcwNy0uNzA4bDEuNTQyIDEuNTQxYS41LjUgMCAwIDEgLS4zNTQuODU0em00LjQ4OC0uNzU3YS41LjUgMCAwIDEtLjM1NC0uMTQ3bC0xLjU0Mi0xLjU0MWEuNS41IDAgMCAxIC43MDgtLjcwOGwxLjU0MSAxLjU0MWEuNS41IDAgMCAxLS4zNTQuODU0em0yLjk0LTIuOTRhLjUuNSAwIDAgMS0uMzU0LS4xNDZsLTEuNTQxLTEuNTQyYS41LjUgMCAwIDEgLjcwNy0uNzA4bDEuNTQyIDEuNTQxYS41LjUgMCAwIDEgLS4zNTQuODU0em0tMS40NzEtNC40N2EuNS41IDAgMCAxLS4zNTQtLjE0N2wtMS41NDItMS41NDFhLjUuNSAwIDAgMSAuNzA4LS43MDhsMS41NDEgMS41NDFhLjUuNSAwIDAgMS0uMzU0Ljg1NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgLz4KPC9zdmc+Cg==",dt={__name:"AppCard",props:{app:{type:Object,required:!0},task:{type:Object,default:null},isStarred:{type:Boolean,default:!1},itemTypeName:{type:String,default:"App"}},emits:["star","install","update","uninstall","details","help","view-task","cancel-install","start","stop","fix","configure","purge","logs","delete"],setup(t,{emit:d}){return(i,e)=>(s(),a("div",{class:c(["card",{"opacity-60 pointer-events-none":t.app.is_legacy_scripted}])},[t.app.is_legacy_scripted?(s(),a("div",Y,[l(y,{class:"w-16 h-16 text-red-500"})])):u("",!0),n("div",B,[n("img",{src:t.app.icon||rt,alt:t.app.name,class:"card-icon"},null,8,Z),n("div",R,[n("div",V,[n("h3",{class:"card-title",title:t.app.name},r(t.app.name),9,F),n("button",{onClick:e[0]||(e[0]=N(o=>i.$emit("star",t.app.name),["stop"])),class:c(["p-1.5 rounded-full transition-colors flex-shrink-0",t.isStarred?"bg-yellow-400/20 text-yellow-500":"text-gray-400 hover:text-yellow-500"])},[t.isStarred?(s(),M(p,{key:0,class:"w-5 h-5"})):(s(),M(j,{key:1,class:"w-5 h-5"}))],2)]),n("div",G,[t.app.is_broken?(s(),a("span",W,"Broken")):t.app.is_installed?(s(),a("span",{key:1,class:c(["tag",{"installed-tag-running":t.app.status==="running","installed-tag-stopped":t.app.status!=="running"}])},r(t.app.status||"Installed"),3)):t.app.repository==="Registered"?(s(),a("span",P,"Registered")):u("",!0),t.app.author?(s(),a("span",H,"by "+r(t.app.author),1)):u("",!0),t.app.category?(s(),a("span",J,r(t.app.category),1)):u("",!0),t.app.version?(s(),a("span",X,"v"+r(t.app.version),1)):u("",!0)])])]),n("div",q,[n("p",{class:"card-description",title:t.app.description},r(t.app.description),9,K)]),t.app.repository?(s(),a("div",_,[l(A,{class:"w-3 h-3"}),n("span",{class:"truncate",title:`From: ${t.app.repository}`},r(t.app.repository),9,tt)])):u("",!0),n("div",et,[n("div",st,[t.task?(s(),M(x,{key:0,task:t.task,onView:e[1]||(e[1]=o=>i.$emit("view-task",t.task.id)),onCancel:e[2]||(e[2]=o=>i.$emit("cancel-install"))},null,8,["task"])):(s(),a("div",at,[t.app.is_broken?(s(),a("div",nt,[n("button",{onClick:e[3]||(e[3]=o=>i.$emit("fix",t.app)),class:"btn btn-warning w-full",title:"Fix Installation"},[l(Q,{class:"w-4 h-4 mr-2"}),e[15]||(e[15]=g("Fix"))]),n("button",{onClick:e[4]||(e[4]=o=>i.$emit("purge",t.app)),class:"btn btn-danger w-full",title:"Purge Installation"},[l(L,{class:"w-4 h-4 mr-2"}),e[16]||(e[16]=g("Purge"))])])):!t.app.is_installed&&t.app.repository!=="Registered"?(s(),a("button",{key:1,onClick:e[5]||(e[5]=o=>i.$emit("install",t.app)),class:"btn btn-primary w-full",disabled:t.app.is_legacy_scripted},[l(k,{class:"w-4 h-4 mr-2"}),e[17]||(e[17]=g("Install "))],8,it)):t.app.is_installed&&t.app.update_available?(s(),a("button",{key:2,onClick:e[6]||(e[6]=o=>i.$emit("update",t.app)),class:"btn btn-warning w-full"},[l(E,{class:"w-4 h-4 mr-2"}),g("Update to "+r(t.app.repo_version),1)])):t.app.is_installed&&t.app.status!=="running"?(s(),a("button",{key:3,onClick:e[7]||(e[7]=o=>i.$emit("start",t.app)),class:"btn btn-success p-2",title:"Start App"},[l(O,{class:"w-5 h-5"})])):t.app.is_installed&&t.app.status==="running"?(s(),a("div",lt,[t.app.url?(s(),a("a",{key:0,href:t.app.url,target:"_blank",class:"btn btn-primary p-2",title:"Open App"},[l(U,{class:"w-5 h-5"})],8,ot)):u("",!0),n("button",{onClick:e[8]||(e[8]=o=>i.$emit("stop",t.app)),class:"btn btn-warning p-2",title:"Stop App"},[l(m,{class:"w-5 h-5"})])])):u("",!0)]))]),n("div",ut,[!t.task&&!t.app.is_broken?(s(),a(C,{key:0},[t.app.is_installed?(s(),a("button",{key:0,onClick:e[9]||(e[9]=o=>i.$emit("logs",t.app)),class:"btn btn-secondary p-2",title:"View Logs"},[l(b,{class:"w-4 h-4"})])):u("",!0),t.app.is_installed||t.app.repository==="Registered"?(s(),a("button",{key:1,onClick:e[10]||(e[10]=o=>i.$emit("configure",t.app)),class:"btn btn-secondary p-2",title:"Configure"},[l(I,{class:"w-4 h-4"})])):u("",!0)],64)):u("",!0),n("button",{onClick:e[11]||(e[11]=o=>i.$emit("details",t.app)),class:"btn btn-secondary p-2",title:"Details"},[l(S,{class:"w-4 h-4"})]),t.app.has_readme?(s(),a("button",{key:1,onClick:e[12]||(e[12]=o=>i.$emit("help",t.app)),class:"btn btn-secondary p-2",title:"Help"},[l(D,{class:"w-4 h-4"})])):u("",!0),t.app.is_installed?(s(),a("button",{key:2,onClick:e[13]||(e[13]=o=>i.$emit("uninstall",t.app)),class:"btn btn-danger-outline p-2",title:"Uninstall"},[l(L,{class:"w-4 h-4"})])):u("",!0),t.app.repository==="Registered"?(s(),a("button",{key:3,onClick:e[14]||(e[14]=o=>i.$emit("delete",t.app)),class:"btn btn-danger-outline p-2",title:"Delete Registration"},[l(L,{class:"w-4 h-4"})])):u("",!0)])])],2))}},Mt=w(dt,[["__scopeId","data-v-9d41b33b"]]);export{Mt as A};
