import{p as B,c as u,r as c,B as E,C as O,D as z,E as A,G as D,o as M,b as l,e as s,f as o,l as N,t as b,h as R,A as T,i as k,d as F,H as U,q as $,v as j,F as q,y as G,z as H,T as I,I as J}from"./index-Bk1wL1nm.js";const K={class:"relative w-full"},P={class:"truncate"},Q={class:"p-2 border-b dark:border-gray-700"},W={class:"flex-grow overflow-y-auto"},X={key:0,class:"p-4 text-center text-sm text-gray-500"},Y={key:1,class:"p-4 text-center text-sm text-gray-500"},Z={key:2,class:"py-1"},ee=["onClick"],ae={__name:"LanguageSelector",props:{modelValue:{type:String,default:"auto"},includeAuto:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(g,{emit:x}){const m=g,_=x,d=B(),p=u(()=>d.languages),L=u(()=>d.isLoadingLanguages),n=c(!1),f=c(null),y=c(null),r=c(""),{floatingStyles:C}=E(f,y,{placement:"bottom-start",whileElementsMounted:O,middleware:[z(5),A(),D({padding:5})]}),S={mounted:(e,t)=>{e.clickOutsideEvent=a=>{const i=f.value;e===a.target||e.contains(a.target)||i!=null&&i.contains(a.target)||t.value()},document.addEventListener("mousedown",e.clickOutsideEvent)},unmounted:e=>{document.removeEventListener("mousedown",e.clickOutsideEvent)}},v=u(()=>{const e=[...p.value];return m.includeAuto&&e.unshift({value:"auto",label:"Auto-detect"}),e}),h=u(()=>v.value.find(e=>e.value===m.modelValue)||null),w=u(()=>{if(!r.value)return v.value;const e=r.value.toLowerCase();return v.value.filter(t=>t.label.toLowerCase().includes(e)||t.value.toLowerCase().includes(e))});function V(e){_("update:modelValue",e),n.value=!1,r.value=""}return M(()=>{p.value.length===0&&d.fetchLanguages()}),(e,t)=>(s(),l("div",K,[o("button",{ref_key:"triggerRef",ref:f,onClick:t[0]||(t[0]=a=>n.value=!n.value),type:"button",class:"input-field flex items-center justify-between"},[o("span",P,b(h.value?h.value.label:"Select Language"),1),t[2]||(t[2]=o("svg",{class:"w-4 h-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))],512),(s(),N(J,{to:"body"},[R(I,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:T(()=>[n.value?k((s(),l("div",{key:0,ref_key:"floatingRef",ref:y,style:U($(C)),class:"z-50 w-64 origin-top-left rounded-md bg-white dark:bg-gray-800 shadow-lg ring-1 ring-black ring-opacity-5 dark:ring-gray-700 focus:outline-none flex flex-col max-h-[50vh]"},[o("div",Q,[k(o("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>r.value=a),type:"text",placeholder:"Search language...",class:"input-field-sm w-full"},null,512),[[j,r.value]])]),o("div",W,[L.value?(s(),l("div",X,"Loading...")):w.value.length===0?(s(),l("div",Y,"No matches found.")):(s(),l("ul",Z,[(s(!0),l(q,null,G(w.value,a=>(s(),l("li",{key:a.value,onClick:i=>V(a.value),class:H(["px-3 py-2 text-sm cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",{"bg-blue-100 dark:bg-blue-900/50 font-semibold":g.modelValue===a.value}])},b(a.label),11,ee))),128))]))])],4)),[[S,()=>n.value=!1]]):F("",!0)]),_:1})]))]))}};export{ae as _};
