import{O as f,r as b,c as g,o as m,b as s,e as o,f as r,q as k,d as c,F as h,y as v,i as u,t as p,j as x,k as _}from"./index-Bpeizs3k.js";const S={class:"space-y-6"},w={key:0,class:"text-center"},C={key:1,class:"space-y-6 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm"},B={key:0,class:"text-center text-gray-500"},V=["for"],U={class:"text-sm text-gray-500 dark:text-gray-400 mb-2"},j={key:0,class:"relative inline-flex items-center cursor-pointer mt-1"},D=["onUpdate:modelValue"],E=["type","id","onUpdate:modelValue"],N={__name:"BuildersSettings",setup(L){const n=f(),l=b({}),d=g(()=>n.globalSettings.filter(a=>a.category==="Builders").sort((a,t)=>a.key.localeCompare(t.key)));m(async()=>{n.globalSettings.length===0&&await n.fetchGlobalSettings();const a={};n.globalSettings.forEach(t=>{a[t.key]=t.value}),l.value=a});async function y(){const a={};for(const t in l.value)d.value.some(e=>e.key===t)&&(a[t]=l.value[t]);await n.updateGlobalSettings(a)}return(a,t)=>(o(),s("div",S,[t[1]||(t[1]=r("div",null,[r("h2",{class:"text-xl font-semibold"},"Builders & Export Settings"),r("p",{class:"text-gray-500 mt-1"},"Configure executables for code compilation and enable/disable message export formats.")],-1)),k(n).isLoadingSettings?(o(),s("div",w,"Loading settings...")):(o(),s("div",C,[d.value.length===0?(o(),s("div",B," No builder settings found. This might happen if the database migration hasn't run yet. ")):c("",!0),(o(!0),s(h,null,v(d.value,e=>(o(),s("div",{key:e.key,class:"border-b dark:border-gray-700 pb-4 last:border-b-0 last:pb-0"},[r("label",{for:e.key,class:"block text-md font-medium text-gray-800 dark:text-gray-100"},p(e.key.replace(/_/g," ").replace(/\b\w/g,i=>i.toUpperCase())),9,V),r("p",U,p(e.description),1),e.type==="boolean"?(o(),s("label",j,[u(r("input",{type:"checkbox","onUpdate:modelValue":i=>l.value[e.key]=i,class:"sr-only peer"},null,8,D),[[x,l.value[e.key]]]),t[0]||(t[0]=r("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])):e.type==="string"||e.type==="integer"||e.type==="float"?u((o(),s("input",{key:1,type:e.type==="string"?"text":"number",id:e.key,"onUpdate:modelValue":i=>l.value[e.key]=i,class:"input-field w-full sm:max-w-md"},null,8,E)),[[_,l.value[e.key]]]):c("",!0)]))),128))])),r("div",{class:"flex justify-end pt-4"},[r("button",{onClick:y,class:"btn btn-primary"},"Save Changes")])]))}};export{N as default};
