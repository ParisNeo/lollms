import{c as k,a as s,k as l,b as a,f as d,d as n,bW as w,t as r,A as m,bX as j,bY as p,a1 as N,bZ as A,n as y,y as M,b_ as C,b$ as I,c0 as S,g as o,c1 as x,c2 as v,F as b,h as D,c3 as T,c4 as f,c5 as E,C as h}from"./index-DnyZSjWo.js";import U from"./IconArrowUpCircle-CD49qfiF.js";import z from"./IconGlobeAlt-CXVR0hCA.js";import $ from"./IconPlayCircle-CQyDZQps.js";const O={key:0,class:"flex items-center gap-2 text-sm text-blue-600 dark:text-blue-400 w-full"},Q={class:"flex-grow"},Y={key:0,class:"font-semibold truncate"},B={class:"text-xs truncate"},Z={class:"flex-shrink-0 flex items-center gap-1"},V={__name:"TaskProgressIndicator",props:{task:{type:Object,required:!0},showName:{type:Boolean,default:!1}},emits:["cancel","view"],setup(t,{emit:g}){const i=t,e=k(()=>i.task?i.task.name.startsWith("Installing app:")?`Installing... (${i.task.progress}%)`:i.task.name.startsWith("Start app:")?"Starting...":`${i.task.status.charAt(0).toUpperCase()+i.task.status.slice(1)} (${i.task.progress}%)`:"...");return(u,c)=>t.task?(a(),s("div",O,[d(w,{class:"w-4 h-4 flex-shrink-0"}),n("div",Q,[t.showName?(a(),s("p",Y,r(t.task.name),1)):l("",!0),n("p",B,r(e.value),1)]),n("div",Z,[n("button",{onClick:c[0]||(c[0]=m(L=>u.$emit("view",t.task.id),["stop"])),class:"btn btn-secondary btn-sm !p-1",title:"View Task Details"},[d(j,{class:"w-4 h-4"})]),n("button",{onClick:c[1]||(c[1]=m(L=>u.$emit("cancel",t.task.id),["stop"])),class:"btn btn-warning btn-sm !p-1",title:"Cancel Task"},[d(p,{class:"w-4 h-4"})])])])):l("",!0)}},W={key:0,class:"absolute inset-0 bg-gray-500/30 dark:bg-gray-900/50 flex items-center justify-center rounded-lg z-10",title:"This is a legacy scripted personality and is not compatible with this version of the application."},G={class:"card-header"},F=["src","alt"],P={class:"flex-grow min-w-0"},H={class:"flex justify-between items-start"},R=["title"],X={class:"card-tags"},J={key:0,class:"tag installed-tag-broken"},q={key:2,class:"tag"},K={key:3,class:"tag"},_={key:4,class:"tag"},tt={class:"card-body"},et=["title"],at={key:1,class:"px-4 pb-2 text-xs text-gray-400 dark:text-gray-500 flex items-center gap-1"},st=["title"],it={class:"card-footer"},nt={class:"flex-1 min-w-0"},lt={key:1,class:"flex gap-2"},dt=["disabled"],ut={class:"flex-shrink-0 flex gap-1"},rt=["href"],gt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0idy02IGgtNiI+CiAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMy4zNzUgMS41YTguMjc1IDguMjc1IDAgMCAwLTguMjc1IDguMjc1YzAgNC4xMjIgMi41NjEgNy42MyA2LjA3NyA4LjgzNWEuNzUuNzUgMCAwIDAgLjc2NC0uMTExYy4xMjUtLjA3OC4yNTgtLjE5LjM5OS0uMzE0bC4wMDQtLjAwNSNhLjQ5OC40OTggMCAwIDEgLjYxMy0uMDIzbDIuNDQyIDEuMTM4YTEuNSAxLjUgMCAwIDAgMS42OTktLjkxM2w0LjQxMy05LjU3N2E4LjI1IDE4LjI1IDAgMCAwLTkuOTU0LTkuOTU0bC05LjU3NyA0LjQxM2ExLjUgMS41IDAgMCAwLS45MTMgMS42OTlsMS4xMzggMi40NDJhLjQ5OC40OTggMCAwIDEgLS4wMjMuNjEzbC0uMDA1LjAwNC0uMzE0LjM5OWEuNzUuNzUgMCAwIDAtLjExMS43NjRBMTEuMjIgMTEuMjIgMCAwIDEtMy4zNzUgMTguNWMtNS4wNzIgMC05LjE4OC00LjExNi05LjE4OC05LjE4OGE5LjE4OCA5LjE4OCAwIDAgMSAxLjYxNy01LjE2MmMuMjQ2LS40Mi4wMzgtLjkxOC0uMzY4LTEuMTU3bC0xLjQyNS0uODM4YTEuNSAxLjUgMCAwIDAtMi4wODYuNDlMMy4zNzUgMS41em00LjQ4OCAxMy4wMjNhLjUuNSAwIDAgMS0uMzU0LS4xNDdsLTEuNTQyLTEuNTQxYS41LjUgMCAxIDEgLjcwOC0uNzA4bDEuNTQxIDEuNTQyYS41LjUgMCAwIDEgLS4zNTQuODU0em0yLjk0LTIuOTRhLjUuNSAwIDAgMS0uMzU0LS4xNDZsLTEuNTQxLTEuNTQyYS41LjUgMCAwIDEgLjcwNy0uNzA4bDEuNTQyIDEuNTQxYS41LjUgMCAwIDEgLS4zNTQuODU0em0tMi45NC0yLjk0YS41LjUgMCAwIDEtLjM1My0uMTQ2bC0xLjU0Mi0xLjU0MmEuNS41IDAgMCAxIC43MDctLjcwN2wxLjU0MiAxLjU0MWEuNS41IDAgMCAxLS4zNTQuODUzem0yLjk0LTIuOTRhLjUuNSAwIDAgMS0uMzU0LS4xNDZsLTEuNTQxLTEuNTQyYS41LjUgMCAwIDEgLjcwNy0uNzA4bDEuNTQyIDEuNTQxYS41LjUgMCAwIDEgLS4zNTQuODU0em00LjQ4OC0uNzU3YS41LjUgMCAwIDEtLjM1NC0uMTQ3bC0xLjU0Mi0xLjU0MWEuNS41IDAgMCAxIC43MDgtLjcwOGwxLjU0MSAxLjU0MWEuNS41IDAgMCAxLS4zNTQuODU0em0yLjk0LTIuOTRhLjUuNSAwIDAgMS0uMzU0LS4xNDZsLTEuNTQxLTEuNTQyYS41LjUgMCAwIDEgLjcwNy0uNzA4bDEuNTQyIDEuNTQxYS41LjUgMCAwIDEgLS4zNTQuODU0em0tMS40NzEtNC40N2EuNS41IDAgMCAxLS4zNTQtLjE0N2wtMS41NDItMS41NDFhLjUuNSAwIDAgMSAuNzA4LS43MDhsMS41NDEgMS41NDFhLjUuNSAwIDAgMS0uMzU0Ljg1NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgLz4KPC9zdmc+Cg==",ct={__name:"AppCard",props:{app:{type:Object,required:!0},task:{type:Object,default:null},isStarred:{type:Boolean,default:!1},itemTypeName:{type:String,default:"App"}},emits:["star","install","update","uninstall","details","help","view-task","cancel-install","start","stop","fix","configure"],setup(t,{emit:g}){return(i,e)=>(a(),s("div",{class:y(["card",{"opacity-60 pointer-events-none":t.app.is_legacy_scripted}])},[t.app.is_legacy_scripted?(a(),s("div",W,[d(A,{class:"w-16 h-16 text-red-500"})])):l("",!0),n("div",G,[n("img",{src:t.app.icon||gt,alt:t.app.name,class:"card-icon"},null,8,F),n("div",P,[n("div",H,[n("h3",{class:"card-title",title:t.app.name},r(t.app.name),9,R),n("button",{onClick:e[0]||(e[0]=m(u=>i.$emit("star",t.app.name),["stop"])),class:y(["p-1.5 rounded-full transition-colors flex-shrink-0",t.isStarred?"bg-yellow-400/20 text-yellow-500":"text-gray-400 hover:text-yellow-500"])},[t.isStarred?(a(),M(C,{key:0,class:"w-5 h-5"})):(a(),M(I,{key:1,class:"w-5 h-5"}))],2)]),n("div",X,[t.app.is_broken?(a(),s("span",J,"Broken")):t.app.is_installed?(a(),s("span",{key:1,class:y(["tag",{"installed-tag-running":t.app.status==="running","installed-tag-stopped":t.app.status!=="running"}])},r(t.app.status||"Installed"),3)):l("",!0),t.app.author?(a(),s("span",q,"by "+r(t.app.author),1)):l("",!0),t.app.category?(a(),s("span",K,r(t.app.category),1)):l("",!0),t.app.version?(a(),s("span",_,"v"+r(t.app.version),1)):l("",!0)])])]),n("div",tt,[n("p",{class:"card-description",title:t.app.description},r(t.app.description),9,et)]),t.app.repository?(a(),s("div",at,[d(S,{class:"w-3 h-3"}),n("span",{class:"truncate",title:`From: ${t.app.repository}`},r(t.app.repository),9,st)])):l("",!0),n("div",it,[n("div",nt,[t.task?(a(),M(V,{key:0,task:t.task,onView:e[1]||(e[1]=u=>i.$emit("view-task",t.task.id)),onCancel:e[2]||(e[2]=u=>i.$emit("cancel-install"))},null,8,["task"])):(a(),s("div",lt,[t.app.is_broken?(a(),s("button",{key:0,onClick:e[3]||(e[3]=u=>i.$emit("fix",t.app)),class:"btn btn-warning w-full"},[d(x,{class:"w-4 h-4 mr-2"}),e[12]||(e[12]=o("Fix Installation"))])):t.app.is_installed?(a(),s(b,{key:2},[t.app.update_available?(a(),s("button",{key:0,onClick:e[5]||(e[5]=u=>i.$emit("update",t.app)),class:"btn btn-warning w-full"},[d(U,{class:"w-4 h-4 mr-2"}),e[14]||(e[14]=o("Update"))])):(a(),s("button",{key:1,onClick:e[6]||(e[6]=u=>i.$emit("uninstall",t.app)),class:"btn btn-danger-outline w-full"},[d(D,{class:"w-4 h-4 mr-2"}),e[15]||(e[15]=o("Uninstall"))]))],64)):(a(),s("button",{key:1,onClick:e[4]||(e[4]=u=>i.$emit("install",t.app)),class:"btn btn-primary w-full",disabled:t.app.is_legacy_scripted},[d(v,{class:"w-4 h-4 mr-2"}),e[13]||(e[13]=o("Install"))],8,dt))]))]),n("div",ut,[t.app.is_installed&&!t.task&&!t.app.is_broken?(a(),s(b,{key:0},[t.app.item_type==="app"||t.app.item_type==="mcp"?(a(),s("button",{key:0,onClick:e[7]||(e[7]=u=>i.$emit("configure",t.app)),class:"btn btn-secondary p-2",title:"Configure"},[d(T,{class:"w-4 h-4"})])):l("",!0),(t.app.item_type==="app"||t.app.item_type==="mcp")&&t.app.status==="running"&&t.app.url?(a(),s("a",{key:1,href:t.app.url,target:"_blank",class:"btn btn-secondary p-2",title:"Open"},[d(z,{class:"w-4 h-4"})],8,rt)):l("",!0),(t.app.item_type==="app"||t.app.item_type==="mcp")&&t.app.status!=="running"?(a(),s("button",{key:2,onClick:e[8]||(e[8]=u=>i.$emit("start",t.app)),class:"btn btn-success p-2",title:"Start"},[d($,{class:"w-4 h-4"})])):l("",!0),(t.app.item_type==="app"||t.app.item_type==="mcp")&&t.app.status==="running"?(a(),s("button",{key:3,onClick:e[9]||(e[9]=u=>i.$emit("stop",t.app)),class:"btn btn-warning p-2",title:"Stop"},[d(p,{class:"w-4 h-4"})])):l("",!0)],64)):l("",!0),t.app.is_installed?l("",!0):(a(),s("button",{key:1,onClick:e[10]||(e[10]=u=>i.$emit("details",t.app)),class:"btn btn-secondary p-2",title:"Details"},[d(f,{class:"w-4 h-4"})])),t.app.has_readme?(a(),s("button",{key:2,onClick:e[11]||(e[11]=u=>i.$emit("help",t.app)),class:"btn btn-secondary p-2",title:"Help"},[d(E,{class:"w-4 h-4"})])):l("",!0)])])],2))}},Lt=N(ct,[["__scopeId","data-v-c317dc07"]]),ot={},yt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 animate-pulse"};function Mt(t,g){return a(),s("div",yt,g[0]||(g[0]=[h('<div class="flex items-start gap-4 mb-3"><div class="h-16 w-16 rounded-md flex-shrink-0 bg-gray-300 dark:bg-gray-700"></div><div class="flex-grow min-w-0 mt-1"><div class="h-5 w-3/4 rounded bg-gray-300 dark:bg-gray-600"></div><div class="h-4 w-1/2 rounded bg-gray-200 dark:bg-gray-700 mt-2"></div></div></div><div class="space-y-2"><div class="h-4 rounded bg-gray-200 dark:bg-gray-700"></div><div class="h-4 rounded bg-gray-200 dark:bg-gray-700"></div><div class="h-4 w-5/6 rounded bg-gray-200 dark:bg-gray-700"></div></div><div class="mt-5"><div class="flex items-center justify-between text-xs mb-3"><div class="h-4 w-12 rounded-full bg-gray-200 dark:bg-gray-700"></div><div class="h-4 w-20 rounded-full bg-gray-200 dark:bg-gray-700"></div></div><div class="h-10 w-full rounded-md bg-gray-300 dark:bg-gray-600"></div></div>',3)]))}const kt=N(ot,[["render",Mt]]);export{kt as A,Lt as a};
