import{c as L,a as n,k as r,b as s,f as l,d as a,bV as k,t as u,A as b,bW as j,bX as p,a6 as w,bY as A,n as y,y as M,bZ as C,b_ as I,b$ as v,g as c,h as m,c0 as x,F as S,c1 as D,c2 as f,c3 as T,c4 as E,C as h}from"./index-CZwSSSMy.js";import U from"./IconArrowUpCircle-CAO4kkbg.js";import $ from"./IconGlobeAlt-CZPGOFo7.js";import z from"./IconPlayCircle-CnVa_0Af.js";import O from"./IconWrenchScrewdriver-C0nAFkqV.js";const Q={key:0,class:"flex items-center gap-2 text-sm text-blue-600 dark:text-blue-400 w-full"},Y={class:"flex-grow"},B={key:0,class:"font-semibold truncate"},V={class:"text-xs truncate"},Z={class:"flex-shrink-0 flex items-center gap-1"},W={__name:"TaskProgressIndicator",props:{task:{type:Object,required:!0},showName:{type:Boolean,default:!1}},emits:["cancel","view"],setup(t,{emit:g}){const i=t,e=L(()=>i.task?i.task.name.startsWith("Installing app:")?`Installing... (${i.task.progress}%)`:i.task.name.startsWith("Start app:")?"Starting...":`${i.task.status.charAt(0).toUpperCase()+i.task.status.slice(1)} (${i.task.progress}%)`:"...");return(d,o)=>t.task?(s(),n("div",Q,[l(k,{class:"w-4 h-4 flex-shrink-0"}),a("div",Y,[t.showName?(s(),n("p",B,u(t.task.name),1)):r("",!0),a("p",V,u(e.value),1)]),a("div",Z,[a("button",{onClick:o[0]||(o[0]=b(N=>d.$emit("view",t.task.id),["stop"])),class:"btn btn-secondary btn-sm !p-1",title:"View Task Details"},[l(j,{class:"w-4 h-4"})]),a("button",{onClick:o[1]||(o[1]=b(N=>d.$emit("cancel",t.task.id),["stop"])),class:"btn btn-warning btn-sm !p-1",title:"Cancel Task"},[l(p,{class:"w-4 h-4"})])])])):r("",!0)}},F={key:0,class:"absolute inset-0 bg-gray-500/30 dark:bg-gray-900/50 flex items-center justify-center rounded-lg z-10",title:"This is a legacy scripted personality and is not compatible with this version of the application."},G={class:"card-header"},P=["src","alt"],R={class:"flex-grow min-w-0"},H={class:"flex justify-between items-start"},X=["title"],J={class:"card-tags"},q={key:0,class:"tag installed-tag-broken"},K={key:2,class:"tag registered-tag"},_={key:3,class:"tag"},tt={key:4,class:"tag"},et={key:5,class:"tag"},st={class:"card-body"},at=["title"],it={key:1,class:"px-4 pb-2 text-xs text-gray-400 dark:text-gray-500 flex items-center gap-1"},nt=["title"],lt={class:"card-footer"},dt={class:"flex-1 min-w-0"},rt={key:1,class:"flex gap-2 w-full"},ut={key:0,class:"flex gap-2 w-full"},gt=["disabled"],ot={key:4,class:"flex items-center gap-2"},ct=["href"],yt={class:"flex-shrink-0 flex gap-1"},Mt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0idy02IGgtNiI+CiAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMy4zNzUgMS41YTguMjc1IDguMjc1IDAgMCAwLTguMjc1IDguMjc1YzAgNC4xMjIgMi41NjEgNy42MyA2LjA3NyA4LjgzNWEuNzUuNzUgMCAwIDAgLjc2NC0uMTExYy4xMjUtLjA3OC4yNTgtLjE5LjM5OS0uMzE0bC4wMDQtLjAwNSNhLjQ5OC40OTggMCAwIDEgLjYxMy0uMDIzbDIuNDQyIDEuMTM4YTEuNSAxLjUgMCAwIDAgMS42OTktLjkxM2w0LjQxMy05LjU3N2E4LjI1IDE4LjI1IDAgMCAwLTkuOTU0LTkuOTU0bC05LjU3NyA0LjQxM2ExLjUgMS41IDAgMCAwLS45MTMgMS42OTlsMS4xMzggMi40NDJhLjQ5OC40OTggMCAwIDEgLS4wMjMuNjEzbC0uMDA1LjAwNC0uMzE0LjM5OWEuNzUuNzUgMCAwIDAtLjExMS43NjRBMTEuMjIgMTEuMjIgMCAwIDEtMy4zNzUgMTguNWMtNS4wNzIgMC05LjE4OC00LjExNi05LjE4OC05LjE4OGE5LjE4OCA5LjE4OCAwIDAgMSAxLjYxNy01LjE2MmMuMjQ2LS40Mi4wMzgtLjkxOC0uMzY4LTEuMTU3bC0xLjQyNS0uODM4YTEuNSAxLjUgMCAwIDAtMi4wODYuNDlMMy4zNzUgMS41em00LjQ4OCAxMy4wMjNhLjUuNSAwIDAgMS0uMzU0LS4xNDdsLTEuNTQyLTEuNTQxYS41LjUgMCAxIDEgLjcwOC0uNzA4bDEuNTQxIDEuNTQyYS41LjUgMCAwIDEgLS4zNTQuODU0em0yLjk0LTIuOTRhLjUuNSAwIDAgMS0uMzU0LS4xNDZsLTEuNTQxLTEuNTQyYS41LjUgMCAwIDEgLjcwNy0uNzA4bDEuNTQyIDEuNTQxYS41LjUgMCAwIDEgLS4zNTQuODU0em0tMi45NC0yLjk0YS41LjUgMCAwIDEtLjM1My0uMTQ2bC0xLjU0Mi0xLjU0MmEuNS41IDAgMCAxIC43MDctLjcwN2wxLjU0MiAxLjU0MWEuNS41IDAgMCAxLS4zNTQuODUzem0yLjk0LTIuOTRhLjUuNSAwIDAgMS0uMzU0LS4xNDZsLTEuNTQxLTEuNTQyYS41LjUgMCAwIDEgLjcwNy0uNzA4bDEuNTQyIDEuNTQxYS41LjUgMCAwIDEgLS4zNTQuODU0em00LjQ4OC0uNzU3YS41LjUgMCAwIDEtLjM1NC0uMTQ3bC0xLjU0Mi0xLjU0MWEuNS41IDAgMCAxIC43MDgtLjcwOGwxLjU0MSAxLjU0MWEuNS41IDAgMCAxLS4zNTQuODU0em0yLjk0LTIuOTRhLjUuNSAwIDAgMS0uMzU0LS4xNDZsLTEuNTQxLTEuNTQyYS41LjUgMCAwIDEgLjcwNy0uNzA4bDEuNTQyIDEuNTQxYS41LjUgMCAwIDEgLS4zNTQuODU0em0tMS40NzEtNC40N2EuNS41IDAgMCAxLS4zNTQtLjE0N2wtMS41NDItMS41NDFhLjUuNSAwIDAgMSAuNzA4LS43MDhsMS41NDEgMS41NDFhLjUuNSAwIDAgMS0uMzU0Ljg1NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIgLz4KPC9zdmc+Cg==",bt={__name:"AppCard",props:{app:{type:Object,required:!0},task:{type:Object,default:null},isStarred:{type:Boolean,default:!1},itemTypeName:{type:String,default:"App"}},emits:["star","install","update","uninstall","details","help","view-task","cancel-install","start","stop","fix","configure","purge","logs"],setup(t,{emit:g}){return(i,e)=>(s(),n("div",{class:y(["card",{"opacity-60 pointer-events-none":t.app.is_legacy_scripted}])},[t.app.is_legacy_scripted?(s(),n("div",F,[l(A,{class:"w-16 h-16 text-red-500"})])):r("",!0),a("div",G,[a("img",{src:t.app.icon||Mt,alt:t.app.name,class:"card-icon"},null,8,P),a("div",R,[a("div",H,[a("h3",{class:"card-title",title:t.app.name},u(t.app.name),9,X),a("button",{onClick:e[0]||(e[0]=b(d=>i.$emit("star",t.app.name),["stop"])),class:y(["p-1.5 rounded-full transition-colors flex-shrink-0",t.isStarred?"bg-yellow-400/20 text-yellow-500":"text-gray-400 hover:text-yellow-500"])},[t.isStarred?(s(),M(C,{key:0,class:"w-5 h-5"})):(s(),M(I,{key:1,class:"w-5 h-5"}))],2)]),a("div",J,[t.app.is_broken?(s(),n("span",q,"Broken")):t.app.is_installed?(s(),n("span",{key:1,class:y(["tag",{"installed-tag-running":t.app.status==="running","installed-tag-stopped":t.app.status!=="running"}])},u(t.app.status||"Installed"),3)):t.app.repository==="Registered"?(s(),n("span",K,"Registered")):r("",!0),t.app.author?(s(),n("span",_,"by "+u(t.app.author),1)):r("",!0),t.app.category?(s(),n("span",tt,u(t.app.category),1)):r("",!0),t.app.version?(s(),n("span",et,"v"+u(t.app.version),1)):r("",!0)])])]),a("div",st,[a("p",{class:"card-description",title:t.app.description},u(t.app.description),9,at)]),t.app.repository?(s(),n("div",it,[l(v,{class:"w-3 h-3"}),a("span",{class:"truncate",title:`From: ${t.app.repository}`},u(t.app.repository),9,nt)])):r("",!0),a("div",lt,[a("div",dt,[t.task?(s(),M(W,{key:0,task:t.task,onView:e[1]||(e[1]=d=>i.$emit("view-task",t.task.id)),onCancel:e[2]||(e[2]=d=>i.$emit("cancel-install"))},null,8,["task"])):(s(),n("div",rt,[t.app.is_broken?(s(),n("div",ut,[a("button",{onClick:e[3]||(e[3]=d=>i.$emit("fix",t.app)),class:"btn btn-warning w-full",title:"Fix Installation"},[l(O,{class:"w-4 h-4 mr-2"}),e[14]||(e[14]=c("Fix"))]),a("button",{onClick:e[4]||(e[4]=d=>i.$emit("purge",t.app)),class:"btn btn-danger w-full",title:"Purge Installation"},[l(m,{class:"w-4 h-4 mr-2"}),e[15]||(e[15]=c("Purge"))])])):!t.app.is_installed&&t.app.repository!=="Registered"?(s(),n("button",{key:1,onClick:e[5]||(e[5]=d=>i.$emit("install",t.app)),class:"btn btn-primary w-full",disabled:t.app.is_legacy_scripted},[l(x,{class:"w-4 h-4 mr-2"}),e[16]||(e[16]=c("Install "))],8,gt)):t.app.is_installed&&t.app.update_available?(s(),n("button",{key:2,onClick:e[6]||(e[6]=d=>i.$emit("update",t.app)),class:"btn btn-warning w-full"},[l(U,{class:"w-4 h-4 mr-2"}),c("Update to "+u(t.app.repo_version),1)])):t.app.is_installed&&t.app.status!=="running"?(s(),n("button",{key:3,onClick:e[7]||(e[7]=d=>i.$emit("start",t.app)),class:"btn btn-success p-2",title:"Start App"},[l(z,{class:"w-5 h-5"})])):t.app.is_installed&&t.app.status==="running"?(s(),n("div",ot,[t.app.url?(s(),n("a",{key:0,href:t.app.url,target:"_blank",class:"btn btn-primary p-2",title:"Open App"},[l($,{class:"w-5 h-5"})],8,ct)):r("",!0),a("button",{onClick:e[8]||(e[8]=d=>i.$emit("stop",t.app)),class:"btn btn-warning p-2",title:"Stop App"},[l(p,{class:"w-5 h-5"})])])):r("",!0)]))]),a("div",yt,[t.app.is_installed&&!t.task&&!t.app.is_broken?(s(),n(S,{key:0},[a("button",{onClick:e[9]||(e[9]=d=>i.$emit("logs",t.app)),class:"btn btn-secondary p-2",title:"View Logs"},[l(D,{class:"w-4 h-4"})]),a("button",{onClick:e[10]||(e[10]=d=>i.$emit("configure",t.app)),class:"btn btn-secondary p-2",title:"Configure"},[l(f,{class:"w-4 h-4"})])],64)):r("",!0),a("button",{onClick:e[11]||(e[11]=d=>i.$emit("details",t.app)),class:"btn btn-secondary p-2",title:"Details"},[l(T,{class:"w-4 h-4"})]),t.app.has_readme?(s(),n("button",{key:1,onClick:e[12]||(e[12]=d=>i.$emit("help",t.app)),class:"btn btn-secondary p-2",title:"Help"},[l(E,{class:"w-4 h-4"})])):r("",!0),t.app.is_installed?(s(),n("button",{key:2,onClick:e[13]||(e[13]=d=>i.$emit("uninstall",t.app)),class:"btn btn-danger-outline p-2",title:"Uninstall"},[l(m,{class:"w-4 h-4"})])):r("",!0)])])],2))}},Ct=w(bt,[["__scopeId","data-v-3cc7e23e"]]),mt={},pt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 animate-pulse"};function wt(t,g){return s(),n("div",pt,g[0]||(g[0]=[h('<div class="flex items-start gap-4 mb-3"><div class="h-16 w-16 rounded-md flex-shrink-0 bg-gray-300 dark:bg-gray-700"></div><div class="flex-grow min-w-0 mt-1"><div class="h-5 w-3/4 rounded bg-gray-300 dark:bg-gray-600"></div><div class="h-4 w-1/2 rounded bg-gray-200 dark:bg-gray-700 mt-2"></div></div></div><div class="space-y-2"><div class="h-4 rounded bg-gray-200 dark:bg-gray-700"></div><div class="h-4 rounded bg-gray-200 dark:bg-gray-700"></div><div class="h-4 w-5/6 rounded bg-gray-200 dark:bg-gray-700"></div></div><div class="mt-5"><div class="flex items-center justify-between text-xs mb-3"><div class="h-4 w-12 rounded-full bg-gray-200 dark:bg-gray-700"></div><div class="h-4 w-20 rounded-full bg-gray-200 dark:bg-gray-700"></div></div><div class="h-10 w-full rounded-md bg-gray-300 dark:bg-gray-600"></div></div>',3)]))}const It=w(mt,[["render",wt]]);export{It as A,Ct as a};
