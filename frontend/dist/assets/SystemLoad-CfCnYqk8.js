import{c6 as f,c as v,r as h,o as k,a1 as w,b as a,d as o,h as s,e as _,j as m,n as y,c7 as S,H as B,t as l,ak as x,F as I,m as j,g as b}from"./index-lJTri5t_.js";import{I as A}from"./AdminView-BBruvykK.js";import"./PageViewLayout-DgbUd-EP.js";import"./IconSquares2x2-DHmaB-uE.js";import"./IconGlobeAlt-DbEWhcJM.js";const F={class:"space-y-6"},L={class:"flex items-center justify-between"},N=["disabled"],R={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},T={class:"bg-white dark:bg-gray-800 p-5 rounded-xl shadow-sm border dark:border-gray-700"},U={class:"flex items-center mb-4 text-blue-600"},V={class:"space-y-4"},C={class:"flex justify-between text-sm mb-1"},D={class:"font-bold"},P={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5"},$={class:"grid grid-cols-2 gap-4 text-sm text-gray-600 dark:text-gray-400"},z={class:"font-mono"},G={class:"font-mono"},H={class:"flex items-center justify-between mb-4"},M={class:"flex items-center text-gray-700 dark:text-gray-200 min-w-0"},E=["title"],q={class:"flex gap-1 flex-shrink-0 ml-2"},J={key:0,class:"px-2 py-0.5 rounded bg-green-100 text-green-800 text-xs font-bold"},K={key:1,class:"px-2 py-0.5 rounded bg-purple-100 text-purple-800 text-xs font-bold"},O={class:"space-y-4"},Q={class:"flex justify-between text-sm mb-1"},W={class:"font-bold"},X={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5"},Y={class:"grid grid-cols-2 gap-4 text-sm text-gray-600 dark:text-gray-400"},Z={class:"font-mono"},ss={class:"font-mono"},ts={key:1,class:"text-center py-10 text-gray-500"},ds={__name:"SystemLoad",setup(es){const p=f(),n=v(()=>p.systemStatus),d=h(!1);let c=null;async function u(){d.value=!0;try{await p.fetchSystemStatus()}finally{d.value=!1}}k(()=>{u(),c=setInterval(u,5e3)}),w(()=>{c&&clearInterval(c)});const i=r=>r?`${r.toFixed(1)} GB`:"0 GB",g=r=>r?`${r.toFixed(1)}%`:"0%";return(r,t)=>(o(),a("div",F,[s("div",L,[t[1]||(t[1]=s("h3",{class:"text-xl font-bold text-gray-900 dark:text-white"},"System Resources",-1)),s("button",{onClick:u,class:"btn btn-secondary btn-sm",disabled:d.value},[_(S,{class:y(["w-4 h-4 mr-2",{"animate-spin":d.value}])},null,8,["class"]),t[0]||(t[0]=m(" Refresh "))],8,N)]),n.value?(o(),a("div",R,[s("div",T,[s("div",U,[_(B,{class:"w-6 h-6 mr-2"}),t[2]||(t[2]=m()),t[3]||(t[3]=s("span",{class:"font-semibold"},"System RAM",-1))]),s("div",V,[s("div",null,[s("div",C,[t[4]||(t[4]=s("span",null,"Usage",-1)),s("span",D,l(g(n.value.cpu_ram_usage_percent)),1)]),s("div",P,[s("div",{class:"bg-blue-600 h-2.5 rounded-full transition-all duration-500",style:x({width:n.value.cpu_ram_usage_percent+"%"})},null,4)])]),s("div",$,[s("div",null,[t[5]||(t[5]=s("span",{class:"block text-xs uppercase text-gray-500"},"Used",-1)),s("span",z,l(i(n.value.cpu_ram_used_gb)),1)]),s("div",null,[t[6]||(t[6]=s("span",{class:"block text-xs uppercase text-gray-500"},"Total",-1)),s("span",G,l(i(n.value.cpu_ram_total_gb)),1)])])])]),(o(!0),a(I,null,j(n.value.disks,e=>(o(),a("div",{key:e.mount_point,class:y(["bg-white dark:bg-gray-800 p-5 rounded-xl shadow-sm border-l-4",{"border-green-500":e.is_app_disk,"border-purple-500":e.is_data_disk,"border-gray-300 dark:border-gray-600":!e.is_app_disk&&!e.is_data_disk}])},[s("div",H,[s("div",M,[_(A,{class:"w-6 h-6 mr-2 flex-shrink-0"}),s("span",{class:"font-semibold truncate",title:e.mount_point},l(e.mount_point),9,E)]),s("div",q,[e.is_app_disk?(o(),a("span",J,"APP")):b("",!0),e.is_data_disk?(o(),a("span",K,"DATA")):b("",!0)])]),s("div",O,[s("div",null,[s("div",Q,[t[7]||(t[7]=s("span",null,"Used",-1)),s("span",W,l(g(e.usage_percent)),1)]),s("div",X,[s("div",{class:"bg-gray-600 dark:bg-gray-400 h-2.5 rounded-full transition-all duration-500",style:x({width:e.usage_percent+"%"})},null,4)])]),s("div",Y,[s("div",null,[t[8]||(t[8]=s("span",{class:"block text-xs uppercase text-gray-500"},"Free",-1)),s("span",Z,l(i(e.available_gb)),1)]),s("div",null,[t[9]||(t[9]=s("span",{class:"block text-xs uppercase text-gray-500"},"Total",-1)),s("span",ss,l(i(e.total_gb)),1)])])])],2))),128))])):(o(),a("div",ts," Loading system status... "))]))}};export{ds as default};
