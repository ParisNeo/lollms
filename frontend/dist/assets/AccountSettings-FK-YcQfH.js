import{u as _,a as P,r as l,o as C,c as d,b as u,d as e,w as c,e as n,v as f,t as b,f as y}from"./index-BrFYYvK5.js";const N={class:"space-y-10"},M={class:"bg-white dark:bg-gray-800 shadow-md rounded-lg"},S={class:"border-t border-gray-200 dark:border-gray-700"},U={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},j={class:"flex justify-end"},B=["disabled"],L={class:"bg-white dark:bg-gray-800 shadow-md rounded-lg"},V={class:"border-t border-gray-200 dark:border-gray-700"},A={class:"mt-1 relative"},D=["type"],z={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},F={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},q={class:"mt-1 relative"},E=["type"],$={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},I={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},J={class:"mt-1 relative"},T=["type"],G={class:"flex justify-end"},H=["disabled"],Q={__name:"AccountSettings",setup(K){const o=_(),g=P(),a=l({first_name:"",family_name:"",email:"",birth_date:""}),m=l(!1),r=l({current_password:"",new_password:""}),p=l(""),w=l(!1),v=l(!1),i=l(!1);C(()=>{o.user&&(a.value.first_name=o.user.first_name||"",a.value.family_name=o.user.family_name||"",a.value.email=o.user.email||"",a.value.birth_date=o.user.birth_date||"")});async function k(){m.value=!0;try{await o.updateUserProfile(a.value)}catch{}finally{m.value=!1}}async function h(){if(r.value.new_password!==p.value){g.addNotification("New passwords do not match.","error");return}if(r.value.new_password.length<8){g.addNotification("New password must be at least 8 characters long.","error");return}w.value=!0;try{await o.changePassword(r.value),r.value.current_password="",r.value.new_password="",p.value=""}catch{}finally{w.value=!1}}return(x,t)=>(u(),d("div",N,[e("div",M,[t[13]||(t[13]=e("div",{class:"px-4 py-5 sm:p-6"},[e("h2",{class:"text-xl font-bold leading-6 text-gray-900 dark:text-white"},"Profile Information"),e("p",{class:"mt-1 max-w-2xl text-sm text-gray-500 dark:text-gray-400"},"Update your account's profile information and email address.")],-1)),e("div",S,[e("form",{onSubmit:c(k,["prevent"]),class:"p-4 sm:p-6 space-y-6"},[e("div",U,[e("div",null,[t[9]||(t[9]=e("label",{for:"firstName",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"First Name",-1)),n(e("input",{type:"text",id:"firstName","onUpdate:modelValue":t[0]||(t[0]=s=>a.value.first_name=s),class:"input-field mt-1",placeholder:"Jane"},null,512),[[f,a.value.first_name]])]),e("div",null,[t[10]||(t[10]=e("label",{for:"familyName",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Family Name",-1)),n(e("input",{type:"text",id:"familyName","onUpdate:modelValue":t[1]||(t[1]=s=>a.value.family_name=s),class:"input-field mt-1",placeholder:"Doe"},null,512),[[f,a.value.family_name]])])]),e("div",null,[t[11]||(t[11]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Email Address",-1)),n(e("input",{type:"email",id:"email","onUpdate:modelValue":t[2]||(t[2]=s=>a.value.email=s),class:"input-field mt-1",placeholder:"you@example.com"},null,512),[[f,a.value.email]])]),e("div",null,[t[12]||(t[12]=e("label",{for:"birthDate",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Birth Date",-1)),n(e("input",{type:"date",id:"birthDate","onUpdate:modelValue":t[3]||(t[3]=s=>a.value.birth_date=s),class:"input-field mt-1"},null,512),[[f,a.value.birth_date]])]),e("div",j,[e("button",{type:"submit",class:"btn btn-primary",disabled:m.value},b(m.value?"Saving...":"Save Profile"),9,B)])],32)])]),e("div",L,[t[21]||(t[21]=e("div",{class:"px-4 py-5 sm:p-6"},[e("h2",{class:"text-xl font-bold leading-6 text-gray-900 dark:text-white"},"Change Password"),e("p",{class:"mt-1 max-w-2xl text-sm text-gray-500 dark:text-gray-400"},"Ensure your account is using a long, random password to stay secure.")],-1)),e("div",V,[e("form",{onSubmit:c(h,["prevent"]),class:"p-4 sm:p-6 space-y-6"},[e("div",null,[t[16]||(t[16]=e("label",{for:"currentPassword",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Current Password",-1)),e("div",A,[n(e("input",{type:v.value?"text":"password",id:"currentPassword","onUpdate:modelValue":t[4]||(t[4]=s=>r.value.current_password=s),required:"",class:"input-field pr-10",autocomplete:"current-password"},null,8,D),[[y,r.value.current_password]]),e("button",{type:"button",onClick:t[5]||(t[5]=s=>v.value=!v.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},[v.value?(u(),d("svg",F,t[15]||(t[15]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228"},null,-1)]))):(u(),d("svg",z,t[14]||(t[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)])))])])]),e("div",null,[t[19]||(t[19]=e("label",{for:"newPassword",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"New Password",-1)),e("div",q,[n(e("input",{type:i.value?"text":"password",id:"newPassword","onUpdate:modelValue":t[6]||(t[6]=s=>r.value.new_password=s),required:"",minlength:"8",class:"input-field pr-10",autocomplete:"new-password"},null,8,E),[[y,r.value.new_password]]),e("button",{type:"button",onClick:t[7]||(t[7]=s=>i.value=!i.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},[i.value?(u(),d("svg",I,t[18]||(t[18]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228"},null,-1)]))):(u(),d("svg",$,t[17]||(t[17]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)])))])])]),e("div",null,[t[20]||(t[20]=e("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Confirm New Password",-1)),e("div",J,[n(e("input",{type:i.value?"text":"password",id:"confirmPassword","onUpdate:modelValue":t[8]||(t[8]=s=>p.value=s),required:"",class:"input-field pr-10",autocomplete:"new-password"},null,8,T),[[y,p.value]])])]),e("div",G,[e("button",{type:"submit",class:"btn btn-primary",disabled:w.value},b(w.value?"Changing...":"Change Password"),9,H)])],32)])])]))}};export{Q as default};
