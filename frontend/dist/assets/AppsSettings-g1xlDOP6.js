import{B as T,q as E,a as $,u as B,s as y,o as F,c as f,D as N,b as i,e as o,f as s,h as b,E as R,G as d,C as M,d as V,x as g,F as x,z as A,l as h}from"./index-1s4UlpHJ.js";import{_ as k}from"./McpCard-BGTLU8ux.js";const P={class:"space-y-10"},U={class:"p-4 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 text-blue-800 dark:text-blue-200"},I={class:"flex"},L={class:"flex-shrink-0"},Y={class:"ml-3"},j={class:"text-sm"},q={class:"flex justify-between items-center mb-4 flex-wrap gap-2"},z={class:"flex items-center gap-x-2"},G={key:0,class:"empty-state-card"},H={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"},J={key:0,class:"empty-state-card"},K={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"},O={__name:"AppsSettings",setup(Q){const a=E(),l=$(),w=B(),{userApps:c}=y(a),{isAdmin:p}=y(w);F(()=>{a.fetchApps()});const m=f(()=>c.value.filter(t=>t.type==="user"&&!t.is_installed).sort((t,e)=>t.name.localeCompare(e.name))),u=f(()=>c.value.filter(t=>t.type==="system"&&!t.is_installed).sort((t,e)=>t.name.localeCompare(e.name)));function S(){l.openModal("serviceRegistration",{itemType:"app",ownerType:"user"})}function C(){l.openModal("serviceRegistration",{itemType:"app",ownerType:"system"})}function _(t){l.openModal("serviceRegistration",{item:t,itemType:"app"})}async function v(t){await l.showConfirmation({title:`Delete '${t.name}'?`,message:"Are you sure you want to remove this registered Application?",confirmText:"Delete"})&&await a.deleteApp(t.id)}return(t,e)=>{const D=N("router-link");return o(),i("div",P,[s("div",U,[s("div",I,[s("div",L,[b(R,{class:"h-5 w-5 text-blue-400","aria-hidden":"true"})]),s("div",Y,[s("p",j,[e[1]||(e[1]=d("This section is for registering personal, external Apps by providing a URL. For locally installed services, please visit the ")),b(D,{to:"/admin",class:"font-medium underline hover:text-blue-600 dark:hover:text-blue-300"},{default:M(()=>e[0]||(e[0]=[d("Admin Panel")])),_:1,__:[0]}),e[2]||(e[2]=d("."))])])])]),s("section",null,[s("div",q,[e[3]||(e[3]=s("h3",{class:"text-xl font-bold"},"Your Personal Apps",-1)),s("div",z,[s("button",{onClick:S,class:"btn btn-primary text-sm"},"+ Add Personal App"),g(p)?(o(),i("button",{key:0,onClick:C,class:"btn btn-secondary text-sm"},"+ Add System App")):V("",!0)])]),m.value.length===0?(o(),i("div",G,e[4]||(e[4]=[s("p",null,"You haven't added any personal Apps.",-1)]))):(o(),i("div",H,[(o(!0),i(x,null,A(m.value,n=>(o(),h(k,{key:n.id,mcp:n,"is-editable":"",onEdit:r=>_(n),onDelete:r=>v(n)},null,8,["mcp","onEdit","onDelete"]))),128))]))]),s("section",null,[e[6]||(e[6]=s("h3",{class:"text-xl font-bold my-4"},"System Apps",-1)),u.value.length===0?(o(),i("div",J,e[5]||(e[5]=[s("p",null,"No system-wide Apps available.",-1)]))):(o(),i("div",K,[(o(!0),i(x,null,A(u.value,n=>(o(),h(k,{key:n.id,mcp:n,"is-editable":g(p),onEdit:r=>_(n),onDelete:r=>v(n)},null,8,["mcp","is-editable","onEdit","onDelete"]))),128))]))])])}}},Z=T(O,[["__scopeId","data-v-8bb51185"]]);export{Z as default};
