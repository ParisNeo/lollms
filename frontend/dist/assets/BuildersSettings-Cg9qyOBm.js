import{O as f,x as b,r as g,j as m,o as k,c as r,b as o,g as a,e as h,d as c,F as v,i as x,h as u,t as p,m as _,G as S}from"./index-CYZz3Yv3.js";const w={class:"space-y-6"},C={key:0,class:"text-center"},B={key:1,class:"space-y-6 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm"},U={key:0,class:"text-center text-gray-500"},V=["for"],j={class:"text-sm text-gray-500 dark:text-gray-400 mb-2"},D={key:0,class:"relative inline-flex items-center cursor-pointer mt-1"},G=["onUpdate:modelValue"],L=["type","id","onUpdate:modelValue"],E={__name:"BuildersSettings",setup(M){const n=f();b();const l=g({}),d=m(()=>n.globalSettings.filter(s=>s.category==="Builders"));k(async()=>{await n.fetchGlobalSettings();const s={};n.globalSettings.forEach(t=>{s[t.key]=t.value}),l.value=s});async function y(){const s={};for(const t in l.value)d.value.some(e=>e.key===t)&&(s[t]=l.value[t]);await n.updateGlobalSettings(s)}return(s,t)=>(o(),r("div",w,[t[1]||(t[1]=a("div",null,[a("h2",{class:"text-xl font-semibold"},"Code Builders"),a("p",{class:"text-gray-500 mt-1"},"Configure executables for compiling code blocks within discussions.")],-1)),h(n).isLoadingSettings?(o(),r("div",C,"Loading settings...")):(o(),r("div",B,[d.value.length===0?(o(),r("div",U," No builder settings found. This might happen if the database migration hasn't run yet. ")):c("",!0),(o(!0),r(v,null,x(d.value,e=>(o(),r("div",{key:e.key,class:"border-b dark:border-gray-700 pb-4 last:border-b-0 last:pb-0"},[a("label",{for:e.key,class:"block text-md font-medium text-gray-800 dark:text-gray-100"},p(e.key.replace(/_/g," ").replace(/\b\w/g,i=>i.toUpperCase())),9,V),a("p",j,p(e.description),1),e.type==="boolean"?(o(),r("label",D,[u(a("input",{type:"checkbox","onUpdate:modelValue":i=>l.value[e.key]=i,class:"sr-only peer"},null,8,G),[[_,l.value[e.key]]]),t[0]||(t[0]=a("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])):e.type==="string"||e.type==="integer"||e.type==="float"?u((o(),r("input",{key:1,type:e.type==="string"?"text":"number",id:e.key,"onUpdate:modelValue":i=>l.value[e.key]=i,class:"input-field w-full sm:max-w-md"},null,8,L)),[[S,l.value[e.key]]]):c("",!0)]))),128))])),a("div",{class:"flex justify-end pt-4"},[a("button",{onClick:y,class:"btn btn-primary"},"Save Changes")])]))}};export{E as default};
