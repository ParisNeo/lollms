import{u as S,k as w,s as V,r as p,o as A,l as _,b as s,e as l,f as t,w as I,F as g,m as h,d as x,h as k,t as d,n as F,p as N}from"./index-Da-T4DSY.js";const C={class:"bg-white dark:bg-gray-800 shadow-md rounded-lg"},U={class:"border-t border-gray-200 dark:border-gray-700"},E={key:0},M=["for"],B=["id","onUpdate:modelValue"],D=["value"],J={class:"mt-2 text-sm text-gray-500 dark:text-gray-400"},O={key:1,class:"relative flex items-start"},G={class:"flex h-6 items-center"},L=["id","onUpdate:modelValue"],j={class:"ml-3 text-sm leading-6"},R=["for"],T={class:"text-gray-500 dark:text-gray-400"},z={class:"flex justify-end pt-4"},P=["disabled"],q={key:0},H={key:1},W={__name:"GeneralSettings",setup(K){const v=S();w();const{user:i}=V(v),c=[{key:"auto_title",type:"toggle",label:"Automatic Discussion Title",description:"If enabled, a title will be automatically generated for new discussions.",defaultValue:!0},{key:"fun_mode",type:"toggle",label:"Fun mode",description:"If activated, the AI will be more funny.",defaultValue:!0},{key:"user_ui_level",type:"select",label:"UI Level",description:"Adjust the complexity of the user interface. More advanced levels show more options.",defaultValue:0,options:[{value:0,text:"Beginner"},{value:1,text:"Novice"},{value:2,text:"Intermediate"},{value:3,text:"Advanced"},{value:4,text:"Expert"}]},{key:"ai_response_language",type:"select",label:"AI Response language",description:"Changes the output language of the AI messages.",defaultValue:0,options:[{value:"auto",text:"Auto"},{value:"en",text:"English"},{value:"fr",text:"French"},{value:"it",text:"Italian"},{value:"es",text:"Espagnol"}]}],a=p({}),u=p(!1),y=p(!1);let f={};const m=()=>{if(i.value){const o={};console.log(c),console.log(i.value),c.forEach(n=>{o[n.key]=i.value[n.key]??n.defaultValue}),a.value=o,f=JSON.parse(JSON.stringify(a.value)),y.value=!1}};A(m),_(i,m,{deep:!0}),_(a,o=>{y.value=JSON.stringify(o)!==JSON.stringify(f)},{deep:!0});async function b(){u.value=!0;try{await v.updateUserPreferences(a.value)}catch(o){console.error("Failed to save settings:",o)}finally{u.value=!1}}return(o,n)=>(l(),s("div",C,[n[0]||(n[0]=t("div",{class:"px-4 py-5 sm:p-6"},[t("h2",{class:"text-xl font-bold leading-6 text-gray-900 dark:text-white"},"General Settings"),t("p",{class:"mt-1 max-w-2xl text-sm text-gray-500 dark:text-gray-400"}," Customize your user interface experience and general application behavior. ")],-1)),t("div",U,[t("form",{onSubmit:I(b,["prevent"]),class:"p-4 sm:p-6 space-y-8"},[(l(),s(g,null,h(c,e=>t("div",{key:e.key},[e.type==="select"?(l(),s("div",E,[t("label",{for:e.key,class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},d(e.label),9,M),k(t("select",{id:e.key,"onUpdate:modelValue":r=>a.value[e.key]=r,class:"input-field mt-1"},[(l(!0),s(g,null,h(e.options,r=>(l(),s("option",{key:r.value,value:r.value},d(r.text),9,D))),128))],8,B),[[F,a.value[e.key],void 0,{number:!0}]]),t("p",J,d(e.description),1)])):x("",!0),e.type==="toggle"?(l(),s("div",O,[t("div",G,[k(t("input",{id:e.key,"onUpdate:modelValue":r=>a.value[e.key]=r,type:"checkbox",class:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-blue-600 focus:ring-blue-600 dark:focus:ring-blue-600 dark:ring-offset-gray-800"},null,8,L),[[N,a.value[e.key]]])]),t("div",j,[t("label",{for:e.key,class:"font-medium text-gray-900 dark:text-gray-300"},d(e.label),9,R),t("p",T,d(e.description),1)])])):x("",!0)])),64)),t("div",z,[t("button",{type:"submit",class:"btn btn-primary",disabled:u.value||!y.value},[u.value?(l(),s("span",q,"Saving...")):(l(),s("span",H,"Save General Settings"))],8,P)])],32)])]))}};export{W as default};
