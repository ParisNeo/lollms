import{B as w,q as S,a as P,s as R,r as D,o as T,c as p,D as $,b as n,e as o,f as t,h as v,E as A,G as d,C as B,F as f,z as g,l as y,t as E}from"./index-qLYxsC-P.js";import{_}from"./McpCard-Bb2AQhc1.js";const F={class:"space-y-10"},N={class:"p-4 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 text-blue-800 dark:text-blue-200"},U={class:"flex"},V={class:"flex-shrink-0"},j={class:"ml-3"},I={class:"text-sm"},L={key:0,class:"empty-state-card"},Y={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"},q={class:"flex justify-between items-center my-4"},z=["disabled"],G={key:0,class:"empty-state-card"},H={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"},J={__name:"McpsSettings",setup(K){const a=S(),r=P(),{userMcps:c}=R(a),i=D(!1);T(()=>{a.fetchMcps()});const u=p(()=>c.value.filter(s=>s.type==="user").sort((s,e)=>s.name.localeCompare(e.name))),m=p(()=>c.value.filter(s=>s.type==="system").sort((s,e)=>s.name.localeCompare(e.name)));function b(){r.openModal("serviceRegistration",{itemType:"mcp"})}function x(s){r.openModal("serviceRegistration",{item:s,itemType:"mcp"})}async function M(){i.value=!0;try{await a.triggerMcpReload()}finally{i.value=!1}}async function h(s){await r.showConfirmation({title:`Delete '${s.name}'?`,message:"Are you sure you want to remove this registered MCP server?",confirmText:"Delete"})&&await a.deleteMcp(s.id)}return(s,e)=>{const k=$("router-link");return o(),n("div",F,[t("div",N,[t("div",U,[t("div",V,[v(A,{class:"h-5 w-5 text-blue-400","aria-hidden":"true"})]),t("div",j,[t("p",I,[e[2]||(e[2]=d("This section is for registering personal, external MCPs by providing a URL. For locally installed MCPs, please visit the ")),v(k,{to:"/admin",class:"font-medium underline hover:text-blue-600 dark:hover:text-blue-300"},{default:B(()=>e[1]||(e[1]=[d("Admin Panel")])),_:1,__:[1]}),e[3]||(e[3]=d("."))])])])]),t("section",null,[t("div",{class:"flex justify-between items-center mb-4"},[e[4]||(e[4]=t("h3",{class:"text-xl font-bold"},"Your Personal MCPs",-1)),t("button",{onClick:b,class:"btn btn-primary text-sm"},"+ Add Personal Server")]),u.value.length===0?(o(),n("div",L,e[5]||(e[5]=[t("p",null,"You haven't added any personal MCPs.",-1)]))):(o(),n("div",Y,[(o(!0),n(f,null,g(u.value,l=>(o(),y(_,{key:l.id,mcp:l,"is-editable":"",onEdit:C=>x(l),onDelete:C=>h(l)},null,8,["mcp","onEdit","onDelete"]))),128))]))]),t("section",null,[t("div",q,[e[6]||(e[6]=t("h3",{class:"text-xl font-bold"},"System MCPs",-1)),t("button",{onClick:e[0]||(e[0]=l=>M()),class:"btn btn-secondary text-sm",disabled:i.value},E(i.value?"Reloading...":"Reload All"),9,z)]),m.value.length===0?(o(),n("div",G,e[7]||(e[7]=[t("p",null,"No system-wide MCPs available.",-1)]))):(o(),n("div",H,[(o(!0),n(f,null,g(m.value,l=>(o(),y(_,{key:l.id,mcp:l},null,8,["mcp"]))),128))]))])])}}},W=w(J,[["__scopeId","data-v-d4ab1755"]]);export{W as default};
