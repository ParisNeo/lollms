import{a0 as M,r as d,p as r,a as n,E as h}from"./index-C1c0uFKA.js";const w=M("memories",()=>{const o=d([]),s=d(!1),{emit:i}=h();async function l(){s.value=!0;try{const e=await r.get("/api/memories");o.value=e.data}catch(e){console.error("Failed to fetch memories:",e),o.value=[]}finally{s.value=!1}}async function m(e){const a=n();try{const t=await r.post("/api/memories",e);o.value.unshift(t.data),i("memories:updated"),a.addNotification("Memory created successfully.","success")}catch(t){console.error("Failed to add memory:",t)}}async function f(e,a){const t=n();try{const c=await r.put(`/api/memories/${e}`,a),u=o.value.findIndex(v=>v.id===e);u!==-1&&(o.value[u]=c.data),i("memories:updated"),t.addNotification("Memory updated successfully.","success")}catch(c){console.error("Failed to update memory:",c)}}async function p(e){const a=n();try{await r.delete(`/api/memories/${e}`),o.value=o.value.filter(t=>t.id!==e),i("memories:updated"),a.addNotification("Memory deleted.","success")}catch(t){console.error("Failed to delete memory:",t)}}function y(){o.value=[],s.value=!1}return{memories:o,isLoading:s,fetchMemories:l,addMemory:m,updateMemory:f,deleteMemory:p,$reset:y}});export{w as useMemoriesStore};
