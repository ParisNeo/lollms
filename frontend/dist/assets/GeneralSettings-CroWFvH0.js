import{u as I,a as L,s as k,r as f,o as N,w as h,c as l,b as r,d as U,e as w,f as V,g as e,h as v,v as p,F as c,i as x,t as d,n as o}from"./index-Dd3XH_0e.js";const j={class:"space-y-10"},F={class:"space-y-8"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6"},B=["value"],G=["value"],M=["value"],T={class:"space-y-6 pt-6 border-t dark:border-gray-700"},$={class:"flex items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-md"},E={class:"flex items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-md"},z={class:"flex items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-md"},J={class:"flex items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-md"},O={class:"mt-8 pt-5 border-t border-gray-200 dark:border-gray-700"},R={class:"flex justify-end"},H=["disabled"],Q={__name:"GeneralSettings",setup(q){const _=I(),b=L(),{user:n}=k(_),{languages:S}=k(b),s=f({user_ui_level:0,first_page:"feed",ai_response_language:"auto",auto_title:!1,show_token_counter:!0,fun_mode:!1,put_thoughts_in_context:!1}),u=f(!1),g=f(!1);let y="{}";const C=[{value:0,label:"Beginner"},{value:1,label:"Novice"},{value:2,label:"Intermediate"},{value:3,label:"Advanced"},{value:4,label:"Expert"}],A=[{value:"feed",label:"Social Feed"},{value:"discussions",label:"Discussions View"},{value:"new_discussion",label:"New Discussion"},{value:"last_discussion",label:"Last Used Discussion"}];function m(){n.value&&(s.value={user_ui_level:n.value.user_ui_level,first_page:n.value.first_page||"feed",ai_response_language:n.value.ai_response_language||"auto",auto_title:n.value.auto_title,show_token_counter:n.value.show_token_counter,fun_mode:n.value.fun_mode,put_thoughts_in_context:n.value.put_thoughts_in_context},y=JSON.stringify(s.value),g.value=!1)}N(()=>{m(),b.fetchLanguages()}),h(n,m,{deep:!0,immediate:!0}),h(s,i=>{g.value=JSON.stringify(i)!==y},{deep:!0});async function D(){u.value=!0;try{const i={user_ui_level:s.value.user_ui_level,first_page:s.value.first_page,ai_response_language:s.value.ai_response_language,auto_title:s.value.auto_title,show_token_counter:s.value.show_token_counter,fun_mode:s.value.fun_mode,put_thoughts_in_context:s.value.put_thoughts_in_context};await _.updateUserPreferences(i)}finally{u.value=!1}}return(i,t)=>(r(),l("div",j,[w(n)?(r(),l("form",{key:0,onSubmit:V(D,["prevent"])},[e("div",F,[t[18]||(t[18]=e("div",null,[e("h3",{class:"text-xl font-bold leading-6 text-gray-900 dark:text-white"},"General Settings"),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Customize your user experience and interface preferences.")],-1)),e("div",P,[e("div",null,[t[7]||(t[7]=e("label",{for:"uiLevel",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"UI Level",-1)),v(e("select",{id:"uiLevel","onUpdate:modelValue":t[0]||(t[0]=a=>s.value.user_ui_level=a),class:"input-field mt-1"},[(r(),l(c,null,x(C,a=>e("option",{key:a.value,value:a.value},d(a.label),9,B)),64))],512),[[p,s.value.user_ui_level,void 0,{number:!0}]]),t[8]||(t[8]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Controls the complexity and number of features shown.",-1))]),e("div",null,[t[9]||(t[9]=e("label",{for:"homePage",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Default Home Page",-1)),v(e("select",{id:"homePage","onUpdate:modelValue":t[1]||(t[1]=a=>s.value.first_page=a),class:"input-field mt-1"},[(r(),l(c,null,x(A,a=>e("option",{key:a.value,value:a.value},d(a.label),9,G)),64))],512),[[p,s.value.first_page]]),t[10]||(t[10]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Choose the first page you see after logging in.",-1))]),e("div",null,[t[12]||(t[12]=e("label",{for:"language",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"AI Response Language",-1)),v(e("select",{id:"language","onUpdate:modelValue":t[2]||(t[2]=a=>s.value.ai_response_language=a),class:"input-field mt-1"},[t[11]||(t[11]=e("option",{value:"auto"},"Auto-detect",-1)),(r(!0),l(c,null,x(w(S),a=>(r(),l("option",{key:a.value,value:a.value},d(a.label),9,M))),128))],512),[[p,s.value.ai_response_language]]),t[13]||(t[13]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Instruct the AI to respond in a specific language.",-1))])]),e("div",T,[e("div",$,[t[14]||(t[14]=e("span",{class:"flex-grow flex flex-col pr-4"},[e("span",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Auto Generate Discussion Titles"),e("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Automatically create a title for new discussions.")],-1)),e("button",{onClick:t[3]||(t[3]=a=>s.value.auto_title=!s.value.auto_title),type:"button",class:o([s.value.auto_title?"bg-blue-600":"bg-gray-200 dark:bg-gray-600","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"])},[e("span",{class:o([s.value.auto_title?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)],2)]),e("div",E,[t[15]||(t[15]=e("span",{class:"flex-grow flex flex-col pr-4"},[e("span",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Show Token Counter"),e("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Display a token counter in the chat input bar.")],-1)),e("button",{onClick:t[4]||(t[4]=a=>s.value.show_token_counter=!s.value.show_token_counter),type:"button",class:o([s.value.show_token_counter?"bg-blue-600":"bg-gray-200 dark:bg-gray-600","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"])},[e("span",{class:o([s.value.show_token_counter?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)],2)]),e("div",z,[t[16]||(t[16]=e("span",{class:"flex-grow flex flex-col pr-4"},[e("span",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Fun Mode"),e("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Enables more playful and whimsical AI responses.")],-1)),e("button",{onClick:t[5]||(t[5]=a=>s.value.fun_mode=!s.value.fun_mode),type:"button",class:o([s.value.fun_mode?"bg-blue-600":"bg-gray-200 dark:bg-gray-600","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"])},[e("span",{class:o([s.value.fun_mode?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)],2)]),e("div",J,[t[17]||(t[17]=e("span",{class:"flex-grow flex flex-col pr-4"},[e("span",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Include AI Thoughts in Context"),e("span",{class:"text-xs text-gray-500 dark:text-gray-400"},`AI's internal "thoughts" will be part of the next turn's history.`)],-1)),e("button",{onClick:t[6]||(t[6]=a=>s.value.put_thoughts_in_context=!s.value.put_thoughts_in_context),type:"button",class:o([s.value.put_thoughts_in_context?"bg-blue-600":"bg-gray-200 dark:bg-gray-600","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"])},[e("span",{class:o([s.value.put_thoughts_in_context?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)],2)])])]),e("div",O,[e("div",R,[e("button",{type:"submit",class:"btn btn-primary",disabled:u.value||!g.value},d(u.value?"Saving...":"Save General Settings"),9,H)])])],32)):U("",!0)]))}};export{Q as default};
