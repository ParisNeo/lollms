new ui:

- OK - add edit button to bubbles
- OK- fix personalities
- OK - implement MCPS
- add <think> block handling
- fix delete message
- fix branching
- when generating, remove the input and show an animation instead
- in chatinput, when we press shift+enter replace the input with a code mirror with a toolbar
